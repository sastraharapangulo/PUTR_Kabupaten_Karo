import{e as v}from"./mat3f64-q3fE-ZOt.js";import{e as A}from"./quatf64-aQ5IuZRd.js";import{dU as I,dV as z,dW as O,dX as S,dY as T,dZ as g,d_ as x,ds as W,d$ as X,e0 as Z,e1 as U,e2 as V,e3 as k,e4 as w,e5 as B,e6 as C,e7 as D,e8 as F,e9 as G}from"./index-CdyqwYB1.js";function H(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function b(a,e,r){r*=.5;const o=Math.sin(r);return a[0]=o*e[0],a[1]=o*e[1],a[2]=o*e[2],a[3]=Math.cos(r),a}function J(a,e){const r=2*Math.acos(e[3]),o=Math.sin(r/2);return o>I()?(a[0]=e[0]/o,a[1]=e[1]/o,a[2]=e[2]/o):(a[0]=1,a[1]=0,a[2]=0),r}function j(a,e,r){const o=e[0],s=e[1],c=e[2],t=e[3],i=r[0],u=r[1],n=r[2],h=r[3];return a[0]=o*h+t*i+s*n-c*u,a[1]=s*h+t*u+c*i-o*n,a[2]=c*h+t*n+o*u-s*i,a[3]=t*h-o*i-s*u-c*n,a}function K(a,e,r){r*=.5;const o=e[0],s=e[1],c=e[2],t=e[3],i=Math.sin(r),u=Math.cos(r);return a[0]=o*u+t*i,a[1]=s*u+c*i,a[2]=c*u-s*i,a[3]=t*u-o*i,a}function N(a,e,r){r*=.5;const o=e[0],s=e[1],c=e[2],t=e[3],i=Math.sin(r),u=Math.cos(r);return a[0]=o*u-c*i,a[1]=s*u+t*i,a[2]=c*u+o*i,a[3]=t*u-s*i,a}function Q(a,e,r){r*=.5;const o=e[0],s=e[1],c=e[2],t=e[3],i=Math.sin(r),u=Math.cos(r);return a[0]=o*u+s*i,a[1]=s*u-o*i,a[2]=c*u+t*i,a[3]=t*u-c*i,a}function R(a,e){const r=e[0],o=e[1],s=e[2];return a[0]=r,a[1]=o,a[2]=s,a[3]=Math.sqrt(Math.abs(1-r*r-o*o-s*s)),a}function q(a,e,r,o){const s=e[0],c=e[1],t=e[2],i=e[3];let u,n,h,f,l,d=r[0],$=r[1],m=r[2],p=r[3];return n=s*d+c*$+t*m+i*p,n<0&&(n=-n,d=-d,$=-$,m=-m,p=-p),1-n>I()?(u=Math.acos(n),h=Math.sin(u),f=Math.sin((1-o)*u)/h,l=Math.sin(o*u)/h):(f=1-o,l=o),a[0]=f*s+l*d,a[1]=f*c+l*$,a[2]=f*t+l*m,a[3]=f*i+l*p,a}function aa(a){const e=G,r=e(),o=e(),s=e(),c=Math.sqrt(1-r),t=Math.sqrt(r);return a[0]=c*Math.sin(2*Math.PI*o),a[1]=c*Math.cos(2*Math.PI*o),a[2]=t*Math.sin(2*Math.PI*s),a[3]=t*Math.cos(2*Math.PI*s),a}function ea(a,e){const r=e[0],o=e[1],s=e[2],c=e[3],t=r*r+o*o+s*s+c*c,i=t?1/t:0;return a[0]=-r*i,a[1]=-o*i,a[2]=-s*i,a[3]=c*i,a}function oa(a,e){return a[0]=-e[0],a[1]=-e[1],a[2]=-e[2],a[3]=e[3],a}function E(a,e){const r=e[0]+e[4]+e[8];let o;if(r>0)o=Math.sqrt(r+1),a[3]=.5*o,o=.5/o,a[0]=(e[5]-e[7])*o,a[1]=(e[6]-e[2])*o,a[2]=(e[1]-e[3])*o;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);const c=(s+1)%3,t=(s+2)%3;o=Math.sqrt(e[3*s+s]-e[3*c+c]-e[3*t+t]+1),a[s]=.5*o,o=.5/o,a[3]=(e[3*c+t]-e[3*t+c])*o,a[c]=(e[3*c+s]+e[3*s+c])*o,a[t]=(e[3*t+s]+e[3*s+t])*o}return a}function sa(a,e,r,o){const s=.5*Math.PI/180;e*=s,r*=s,o*=s;const c=Math.sin(e),t=Math.cos(e),i=Math.sin(r),u=Math.cos(r),n=Math.sin(o),h=Math.cos(o);return a[0]=c*u*h-t*i*n,a[1]=t*i*h+c*u*n,a[2]=t*u*n-c*i*h,a[3]=t*u*h+c*i*n,a}function ra(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}const ca=D,ta=z,ia=F,ua=j,na=V,ha=C,Ma=k,L=w,fa=L,Y=U,la=Y,P=T,da=O,$a=B;function ma(a,e,r){const o=S(e,r);return o<-.999999?(g(M,pa,e),X(M)<1e-6&&g(M,qa,e),Z(M,M),b(a,M,Math.PI),a):o>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(g(M,e,r),a[0]=M[0],a[1]=M[1],a[2]=M[2],a[3]=1+o,P(a,a))}const M=W(),pa=x(1,0,0),qa=x(0,1,0);function ga(a,e,r,o,s,c){return q(_,e,s,c),q(y,r,o,c),q(a,_,y,2*c*(1-c)),a}const _=A(),y=A();function Pa(a,e,r,o){const s=_a;return s[0]=r[0],s[3]=r[1],s[6]=r[2],s[1]=o[0],s[4]=o[1],s[7]=o[2],s[2]=-e[0],s[5]=-e[1],s[8]=-e[2],P(a,E(a,s))}const _a=v();Object.freeze(Object.defineProperty({__proto__:null,add:ia,calculateW:R,conjugate:oa,copy:ca,dot:ha,equals:$a,exactEquals:da,fromEuler:sa,fromMat3:E,getAxisAngle:J,identity:H,invert:ea,len:fa,length:L,lerp:Ma,mul:ua,multiply:j,normalize:P,random:aa,rotateX:K,rotateY:N,rotateZ:Q,rotationTo:ma,scale:na,set:ta,setAxes:Pa,setAxisAngle:b,slerp:q,sqlerp:ga,sqrLen:la,squaredLength:Y,str:ra},Symbol.toStringTag,{value:"Module"}));export{ea as L,da as N,oa as O,ma as R,sa as T,ta as X,b,J as v,j as x};

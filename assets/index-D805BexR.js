const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pe-wasm-Co3DzcyP.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/statsWorker-B-bXAHFY.js","assets/utils-B3_dgFI-.js","assets/quantizationUtils-MemaCw7r.js","assets/utils-C59AhQoz.js","assets/utils-CBpyxBAn.js","assets/ClassBreaksDefinition-CaW2HcL7.js","assets/geometryEngineWorker-CA-tZxOm.js","assets/geometryEngineJSON-Bvf5zUh7.js","assets/geometryEngineBase-B0ZyeKAX.js","assets/json-Wa8cmqdu.js","assets/CSVSourceWorker-Cq5LV784.js","assets/date-Ctp1FiBW.js","assets/OptimizedFeature-DC5t7Kx6.js","assets/executeQueryForSnapping-CjLGO7tE.js","assets/queryUtils-B40a_Ryi.js","assets/QueryEngine-C06iemne.js","assets/featureConversionUtils-LQ6scY2Y.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/WhereClauseCache-CIgru5HB.js","assets/WhereClause-CdVl-ZpH.js","assets/TimeOnly-0zCC8zIg.js","assets/timeSupport-CZnFu_Wl.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-CE4X6VC4.js","assets/FeatureStore-CHbbWy2T.js","assets/BoundsStore-BdgZTWmm.js","assets/PooledRBush-CMeD1aS7.js","assets/optimizedFeatureQueryEngineAdapter-BRMZY8Mb.js","assets/number-Dxsn17Gt.js","assets/EdgeProcessingWorker-1k-q2nvm.js","assets/workerHelper-DkPeiTI2.js","assets/InterleavedLayout-CVhvZaXk.js","assets/BufferView-jLJ9pYV0.js","assets/types-D0PSWh4d.js","assets/edgeProcessing-DfwIiyyt.js","assets/deduplicate-Dx-x07q3.js","assets/Indices-D7D0yvvJ.js","assets/VertexAttribute-Cq4MnHjR.js","assets/glUtil-BL9HLK4F.js","assets/Normals-DBlsBxrv.js","assets/ElevationSamplerWorker-DGb6pslZ.js","assets/MeshLocalVertexSpace-t9X9xoeg.js","assets/vertexSpaceConversion-DYh4m_vL.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-Dk4dwAN8.js","assets/spatialReferenceEllipsoidUtils-CgiW1lSK.js","assets/computeTranslationToOriginAndRotation-Be3doUwy.js","assets/projectPointToVector-Cltsd45V.js","assets/meshVertexSpaceUtils-Wh4dtXYr.js","assets/vec3-B4uGJXxT.js","assets/vec4-PH6sKysD.js","assets/FeatureServiceSnappingSourceWorker-jkTOANcs.js","assets/symbologySnappingCandidates-Cep14Zic.js","assets/pbfQueryUtils-DI7zXXPz.js","assets/pbf-n4fcUJTY.js","assets/query-DUWqC2og.js","assets/queryZScale-f5biojS7.js","assets/GeoJSONSourceWorker-DL96FCld.js","assets/geojson-tUqg5F-6.js","assets/sourceUtils-2YXXW3CM.js","assets/MemorySourceWorker-B2hqEcij.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-QDwsJBz2.js","assets/dehydratedFeatures-IqLu3XoB.js","assets/FeaturePipelineWorker-CsauA58j.js","assets/AttributeStore-C-_gDKcF.js","assets/Utils-CmhYdcyH.js","assets/UpdateTracking2D-CmEzRSF4.js","assets/BidiEngine-QXap_35O.js","assets/rasterizingUtils-n4jYLeku.js","assets/floatRGBA-xUiheES7.js","assets/Rect-CUzevAry.js","assets/streamLayerUtils-CKwt2uXH.js","assets/MeshWriterRegistry-DdmaLWKr.js","assets/TechniqueType-uMFRS8dR.js","assets/PieChartMeshWriter-CyPdXGXm.js","assets/TurboLine-Dj8bURwe.js","assets/utils-H1TY7RBi.js","assets/earcut-D9gy186-.js","assets/grouping-Q046j4oW.js","assets/QueueProcessor-73f-9oZT.js","assets/operatorGeodeticDensify-DDNikEF3.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-Dn3EkAyc.js","assets/ogcFeatureUtils-CwHrfIY3.js","assets/parquet-CHUmu2rm.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-BMP6aypf.js","assets/PointCloudWorker-BFyMFMzP.js","assets/quat-RTaSMq_Q.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-DRuZpIhf.js","assets/I3SBinaryReader-CVxr4IFy.js","assets/orientedBoundingBox-DstMsDhw.js","assets/plane-L6qtSBjg.js","assets/RasterWorker-BRBy82ra.js","assets/dataUtils-CakZWJW2.js","assets/RasterSymbolizer-Dfwt9dnC.js","assets/rasterFunctionHelper-DFhOgEZv.js","assets/rasterProjectionHelper-CII-9g0m.js","assets/PolynomialTransform-B1JaL_Tc.js","assets/SceneLayerSnappingSourceWorker-CdpGUFfT.js","assets/lineSegment-BHWXTQCe.js","assets/sphere-CdMHh-xJ.js","assets/Octree-CzBrd7yy.js","assets/SceneLayerWorker-Coc4p8qe.js","assets/projectVectorToVector-BoTZZlcE.js","assets/I3SUtil-5rOjmgHr.js","assets/edgeUtils-CxQeX-4F.js","assets/NormalAttribute.glsl-CxBgToaW.js","assets/glsl-BH37Aalp.js","assets/ShaderOutput-DnYY5J1_.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-CttqQAgp.js","assets/wfsUtils-C1VZqy_L.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-Dfkxip32.js","assets/config-BOD8--da.js","assets/SourceLayerData-e-1rHmWu.js","assets/Feature3DPipelineWorker-L0MD6NKE.js","assets/HUDMaterial.glsl-_JQuQlEP.js","assets/Geometry-CFCBzhi6.js","assets/renderState-D_XNN6U0.js","assets/basicInterfaces-CZwQPxTp.js","assets/boundedPlane-D4h-xIAT.js","assets/requestImageUtils-BxDbQJYe.js","assets/TextureFormat-1mYWTFa-.js","assets/triangle-CwVXOTlB.js","assets/HUDMaterial-C9JO2CDH.js","assets/VertexArrayObject-Dix4c-39.js","assets/dehydratedFeatureUtils-BTsxb-SK.js","assets/doublePrecisionUtils-B0owpBza.js","assets/hydratedFeatures-5krhTH0L.js","assets/ShaderBuilder-GHSF3cZN.js","assets/IntersectorInterfaces-CmNINbyF.js","assets/DefaultMaterial-CIHJJBXn.js","assets/LodResources-DZ7TepzH.js","assets/TextureCompressionWorker-B3lSvwEh.js","assets/Popup-eZ0Mosld.js","assets/unitFormatUtils-BPhBBsg1.js","assets/quantityUtils-Bgj6D3qT.js","assets/AttachmentInfo-CsqerpAa.js","assets/featureUtils-ZwATD8fK.js","assets/utils-dDkjv_kB.js","assets/cimSymbolUtils-Dkqf8_px.js","assets/executeQueryJSON-CfSaxG0D.js","assets/shared-DTnkMqWx.js","assets/FeatureLayer-C7suNIqd.js","assets/FeatureLayerBase-r2XOKsjK.js","assets/LayerFloorInfo-Bb0jzCDH.js","assets/Relationship-C_n-JFK5.js","assets/serviceCapabilitiesUtils-Doq4nAXp.js","assets/infoFor3D-dHKPbXlj.js","assets/editsZScale-upTKWkSl.js","assets/EditBusLayer-Zxg-2J8D.js","assets/FeatureType-CWyatfcF.js","assets/TitleCreator-CvXbdi7P.js","assets/versionUtils-DM2EnPDJ.js","assets/styleUtils-CGyLIvbc.js","assets/interfaces-CL2NbQte.js","assets/NetworkElement-FEJYa5dz.js","assets/ReactiveSet-ClJg7hgL.js","assets/ElevationLayer-Dllv2XkL.js","assets/WorkerHandle-Daf2cCxo.js","assets/layersCreator-f0Ke-bTq.js","assets/loadUtils-BUzuKdR7.js","assets/fetchService-BKW0i_U8.js","assets/associatedFeatureServiceUtils-Ddlpe6Ww.js","assets/lazyLayerLoader-DqwHwLN7.js","assets/portalLayers-OpHN6JnC.js","assets/arcgisLayers-z0Ty8Evi.js","assets/arcadeUtils-BZYsuVue.js","assets/arcade-B9G0gPVz.js","assets/unitConversion-CupdWQVB.js","assets/ImmutableArray-BPVd6ESQ.js","assets/webStyleSymbolUtils-4pj4_PRs.js","assets/devEnvironmentUtils-CnNDiFMM.js","assets/webStyleAcceptedFormats-CG7ZQ6BV.js","assets/webglDeps-C9AfL3Hw.js","assets/FramebufferObject-DWvQfw0w.js","assets/ProgramTemplate-UKKSgXUP.js","assets/NestedMap-GuqgquCN.js","assets/mapViewDeps-3iDSesSx.js","assets/FeatureCommandQueue-Bk8JkLnQ.js","assets/GraphShaderModule-CpvMkqdM.js","assets/WGLContainer-9860aEpV.js","assets/Container-WNQER5_s.js","assets/SDFHelper-ALKYtBjk.js","assets/OverrideHelper-BrVODGuW.js","assets/GridShader-CKPctkJ9.js","assets/testSVGPremultipliedAlpha-DeEDdskp.js","assets/RenderingContext-BRRTXkDR.js","assets/CIMResourceManager-CiUwcR-g.js","assets/utils-gfsFT2l_.js","assets/VertexStream-Dzqj1DSh.js","assets/utils-ehcGqGxa.js","assets/GraphicsView2D-D_5OQEf5.js","assets/GraphicContainer-C7UwevU0.js","assets/AGraphicContainer-Cx4lmX1h.js","assets/TechniqueInstance-DUICj094.js","assets/TileContainer-Bhc-6jkh.js","assets/gridUtils-B0wkU5eG.js","assets/geodesicUtils-CTNoXZAy.js","assets/TileLayerView2D-CHHzBPVt.js","assets/imageUtils-CH7ALhN6.js","assets/BitmapTechnique-BzuopmBm.js","assets/LayerView-DdTJwN4L.js","assets/HighlightGraphicContainer-BOQXBXRW.js","assets/RefreshableLayerView-DuRNCvD0.js","assets/MapServiceLayerViewHelper-CrFAR0Fe.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/drapedUtils-Dq5bnJdK.js","assets/sublayerUtils-DHda7QA7.js","assets/popupUtils-BC3knoQ9.js","assets/FeatureLayerView2D-Czh8rfNx.js","assets/timeSupport-C7yz1C6O.js","assets/AttributeBinsFeatureSet-BFQzX1Ev.js","assets/AttributeBinsQuery-BmgHofB9.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-C5enqHkp.js","assets/BitmapContainer-BPI48J08.js","assets/ExportStrategy-Ba1fcLmn.js","assets/CatalogLayerView2D-0d7bVSAa.js","assets/CatalogDynamicGroupLayerView2D--D8i1OJm.js","assets/CatalogFootprintLayerView2D-DPBaRf2b.js","assets/GeoRSSLayerView2D-Dry-xEnl.js","assets/GraphicsLayerView2D-BfDC0ROA.js","assets/GroupLayerView2D-B19c5JGO.js","assets/ImageryLayerView2D-g7DRN_Mg.js","assets/RasterVFDisplayObject-BLtJtF5F.js","assets/ImageryTileLayerView2D-sOv8cyn_.js","assets/rasterFieldUtils-e_lnca17.js","assets/rasterUtils-BEViFLRx.js","assets/RawBlockCache-BFLd-nx-.js","assets/KMLLayerView2D-DIR9dt0C.js","assets/kmlUtils-DL8RMIsH.js","assets/KnowledgeGraphLayerView2D-Ds6VUasG.js","assets/MapImageLayerView2D-46bY8GeK.js","assets/ExportImageParameters-B-jLREdR.js","assets/MapNotesLayerView2D-CdbCgJz5.js","assets/MediaLayerView2D-V_oa9PSz.js","assets/mediaLayerUtils-DBpkgLlc.js","assets/OverlayContainer-CjFTGjKX.js","assets/OGCFeatureLayerView2D-Bb9tbyTC.js","assets/RouteLayerView2D-DtN4R2QP.js","assets/Stop-21O9Bhwl.js","assets/networkEnums-BGwm4oZ9.js","assets/StreamLayerView2D-B12onB7t.js","assets/SubtypeGroupLayerView2D-EiBeeAWI.js","assets/VectorTileLayerView2D-Bw4j7lg9.js","assets/VideoLayerView2D-DC8kN_eU.js","assets/GraphicsLayer-D-lMuTGk.js","assets/TelemetryDisplay-Cn0rVSyH.js","assets/WMSLayerView2D-00szxO5j.js","assets/ExportWMSImageParameters-C48RnP9h.js","assets/WMTSLayerView2D-B9iszDcF.js","assets/apng-Cz5SpYj9.js","assets/index-qgtZKWjP.js","assets/index-Dp6nWQF4.js","assets/guid-BDWAkmkV.js","assets/useT9n-UKAZcoOt.js","assets/index-9ifTNSNj.js","assets/dom-Dh_2zorQ.js","assets/observers-CTc_kcll.js","assets/ref-CqyEdFWg.js","assets/static-C_ZGouQt.js","assets/form-zvnWRtWw.js","assets/interactive-BQdjPrk7.js","assets/label-D8nX1QtI.js","assets/component-BHDCEc4A.js","assets/editingSupport-QyuqlhDZ.js","assets/layersLoader-BmteFQWW.js","assets/index-CuBucUx5.js","assets/index-DGHIPWTv.js","assets/index-C3o4k7lb.js","assets/keyed-LbwCMrPk.js","assets/key-ak3_eHKH.js","assets/floating-ui-cv8jvKiz.js","assets/debounce-D0G5qrda.js","assets/openCloseComponent-cxktuhou.js","assets/escapeRegExp-CdNqq5mV.js","assets/index-DusT37Uz.js","assets/index-B_xyC4wQ.js","assets/dynamicClasses-Dlk4kLaw.js","assets/index-BrrDr3hY.js","assets/resources6-C-XXGpuo.js","assets/index-ml7_VU73.js","assets/index-zLbEGUdN.js","assets/index-B0dWbxzL.js","assets/index-C8uJLbMd.js","assets/index-CQ7Rlfid.js","assets/FloatingArrow-NXn3dLSk.js","assets/useFocusTrap-B8mvMb_4.js","assets/customElement-DK5qYKfV.js","assets/index-tMDN6b3n.js","assets/index-SPdgHNBD.js","assets/interact.min-iNRM8XgC.js","assets/index-CButFHXM.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();var hE={exports:{}},H0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk;function ine(){if(Fk)return H0;Fk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,n,s){var a=null;if(s!==void 0&&(a=""+s),n.key!==void 0&&(a=""+n.key),"key"in n){s={};for(var l in n)l!=="key"&&(s[l]=n[l])}else s=n;return n=s.ref,{$$typeof:e,type:r,key:a,ref:n!==void 0?n:null,props:s}}return H0.Fragment=t,H0.jsx=i,H0.jsxs=i,H0}var zk;function rne(){return zk||(zk=1,hE.exports=ine()),hE.exports}var R=rne(),dE={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function nne(){if(Uk)return vt;Uk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,M={};function T(U,he,Pe){this.props=U,this.context=he,this.refs=M,this.updater=Pe||_}T.prototype.isReactComponent={},T.prototype.setState=function(U,he){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,he,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=T.prototype;function A(U,he,Pe){this.props=U,this.context=he,this.refs=M,this.updater=Pe||_}var P=A.prototype=new E;P.constructor=A,S(P,T.prototype),P.isPureReactComponent=!0;var N=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function q(U,he,Pe,Te,Ye,St){return Pe=St.ref,{$$typeof:e,type:U,key:he,ref:Pe!==void 0?Pe:null,props:St}}function X(U,he){return q(U.type,he,void 0,void 0,void 0,U.props)}function re(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function W(U){var he={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Pe){return he[Pe]})}var be=/\/+/g;function ae(U,he){return typeof U=="object"&&U!==null&&U.key!=null?W(""+U.key):he.toString(36)}function $e(){}function Me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then($e,$e):(U.status="pending",U.then(function(he){U.status==="pending"&&(U.status="fulfilled",U.value=he)},function(he){U.status==="pending"&&(U.status="rejected",U.reason=he)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ke(U,he,Pe,Te,Ye){var St=typeof U;(St==="undefined"||St==="boolean")&&(U=null);var rt=!1;if(U===null)rt=!0;else switch(St){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(U.$$typeof){case e:case t:rt=!0;break;case m:return rt=U._init,Ke(rt(U._payload),he,Pe,Te,Ye)}}if(rt)return Ye=Ye(U),rt=Te===""?"."+ae(U,0):Te,N(Ye)?(Pe="",rt!=null&&(Pe=rt.replace(be,"$&/")+"/"),Ke(Ye,he,Pe,"",function(sa){return sa})):Ye!=null&&(re(Ye)&&(Ye=X(Ye,Pe+(Ye.key==null||U&&U.key===Ye.key?"":(""+Ye.key).replace(be,"$&/")+"/")+rt)),he.push(Ye)),1;rt=0;var Jr=Te===""?".":Te+":";if(N(U))for(var ri=0;ri<U.length;ri++)Te=U[ri],St=Jr+ae(Te,ri),rt+=Ke(Te,he,Pe,St,Ye);else if(ri=b(U),typeof ri=="function")for(U=ri.call(U),ri=0;!(Te=U.next()).done;)Te=Te.value,St=Jr+ae(Te,ri++),rt+=Ke(Te,he,Pe,St,Ye);else if(St==="object"){if(typeof U.then=="function")return Ke(Me(U),he,Pe,Te,Ye);throw he=String(U),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return rt}function ee(U,he,Pe){if(U==null)return U;var Te=[],Ye=0;return Ke(U,Te,"","",function(St){return he.call(Pe,St,Ye++)}),Te}function we(U){if(U._status===-1){var he=U._result;he=he(),he.then(function(Pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=Pe)},function(Pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=Pe)}),U._status===-1&&(U._status=0,U._result=he)}if(U._status===1)return U._result.default;throw U._result}var xe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function tt(){}return vt.Children={map:ee,forEach:function(U,he,Pe){ee(U,function(){he.apply(this,arguments)},Pe)},count:function(U){var he=0;return ee(U,function(){he++}),he},toArray:function(U){return ee(U,function(he){return he})||[]},only:function(U){if(!re(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},vt.Component=T,vt.Fragment=i,vt.Profiler=n,vt.PureComponent=A,vt.StrictMode=r,vt.Suspense=u,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},vt.cache=function(U){return function(){return U.apply(null,arguments)}},vt.cloneElement=function(U,he,Pe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Te=S({},U.props),Ye=U.key,St=void 0;if(he!=null)for(rt in he.ref!==void 0&&(St=void 0),he.key!==void 0&&(Ye=""+he.key),he)!k.call(he,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&he.ref===void 0||(Te[rt]=he[rt]);var rt=arguments.length-2;if(rt===1)Te.children=Pe;else if(1<rt){for(var Jr=Array(rt),ri=0;ri<rt;ri++)Jr[ri]=arguments[ri+2];Te.children=Jr}return q(U.type,Ye,void 0,void 0,St,Te)},vt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},vt.createElement=function(U,he,Pe){var Te,Ye={},St=null;if(he!=null)for(Te in he.key!==void 0&&(St=""+he.key),he)k.call(he,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ye[Te]=he[Te]);var rt=arguments.length-2;if(rt===1)Ye.children=Pe;else if(1<rt){for(var Jr=Array(rt),ri=0;ri<rt;ri++)Jr[ri]=arguments[ri+2];Ye.children=Jr}if(U&&U.defaultProps)for(Te in rt=U.defaultProps,rt)Ye[Te]===void 0&&(Ye[Te]=rt[Te]);return q(U,St,void 0,void 0,null,Ye)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(U){return{$$typeof:l,render:U}},vt.isValidElement=re,vt.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:we}},vt.memo=function(U,he){return{$$typeof:d,type:U,compare:he===void 0?null:he}},vt.startTransition=function(U){var he=D.T,Pe={};D.T=Pe;try{var Te=U(),Ye=D.S;Ye!==null&&Ye(Pe,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(tt,xe)}catch(St){xe(St)}finally{D.T=he}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(U){return D.H.use(U)},vt.useActionState=function(U,he,Pe){return D.H.useActionState(U,he,Pe)},vt.useCallback=function(U,he){return D.H.useCallback(U,he)},vt.useContext=function(U){return D.H.useContext(U)},vt.useDebugValue=function(){},vt.useDeferredValue=function(U,he){return D.H.useDeferredValue(U,he)},vt.useEffect=function(U,he,Pe){var Te=D.H;if(typeof Pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Te.useEffect(U,he)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(U,he,Pe){return D.H.useImperativeHandle(U,he,Pe)},vt.useInsertionEffect=function(U,he){return D.H.useInsertionEffect(U,he)},vt.useLayoutEffect=function(U,he){return D.H.useLayoutEffect(U,he)},vt.useMemo=function(U,he){return D.H.useMemo(U,he)},vt.useOptimistic=function(U,he){return D.H.useOptimistic(U,he)},vt.useReducer=function(U,he,Pe){return D.H.useReducer(U,he,Pe)},vt.useRef=function(U){return D.H.useRef(U)},vt.useState=function(U){return D.H.useState(U)},vt.useSyncExternalStore=function(U,he,Pe){return D.H.useSyncExternalStore(U,he,Pe)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.1.0",vt}var Gk;function GA(){return Gk||(Gk=1,dE.exports=nne()),dE.exports}var se=GA(),pE={exports:{}},q0={},fE={exports:{}},mE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function sne(){return Vk||(Vk=1,function(e){function t(ee,we){var xe=ee.length;ee.push(we);e:for(;0<xe;){var tt=xe-1>>>1,U=ee[tt];if(0<n(U,we))ee[tt]=we,ee[xe]=U,xe=tt;else break e}}function i(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var we=ee[0],xe=ee.pop();if(xe!==we){ee[0]=xe;e:for(var tt=0,U=ee.length,he=U>>>1;tt<he;){var Pe=2*(tt+1)-1,Te=ee[Pe],Ye=Pe+1,St=ee[Ye];if(0>n(Te,xe))Ye<U&&0>n(St,Te)?(ee[tt]=St,ee[Ye]=xe,tt=Ye):(ee[tt]=Te,ee[Pe]=xe,tt=Pe);else if(Ye<U&&0>n(St,xe))ee[tt]=St,ee[Ye]=xe,tt=Ye;else break e}}return we}function n(ee,we){var xe=ee.sortIndex-we.sortIndex;return xe!==0?xe:ee.id-we.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],d=[],m=1,v=null,b=3,_=!1,S=!1,M=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(ee){for(var we=i(d);we!==null;){if(we.callback===null)r(d);else if(we.startTime<=ee)r(d),we.sortIndex=we.expirationTime,t(u,we);else break;we=i(d)}}function D(ee){if(M=!1,N(ee),!S)if(i(u)!==null)S=!0,k||(k=!0,ae());else{var we=i(d);we!==null&&Ke(D,we.startTime-ee)}}var k=!1,q=-1,X=5,re=-1;function W(){return T?!0:!(e.unstable_now()-re<X)}function be(){if(T=!1,k){var ee=e.unstable_now();re=ee;var we=!0;try{e:{S=!1,M&&(M=!1,A(q),q=-1),_=!0;var xe=b;try{t:{for(N(ee),v=i(u);v!==null&&!(v.expirationTime>ee&&W());){var tt=v.callback;if(typeof tt=="function"){v.callback=null,b=v.priorityLevel;var U=tt(v.expirationTime<=ee);if(ee=e.unstable_now(),typeof U=="function"){v.callback=U,N(ee),we=!0;break t}v===i(u)&&r(u),N(ee)}else r(u);v=i(u)}if(v!==null)we=!0;else{var he=i(d);he!==null&&Ke(D,he.startTime-ee),we=!1}}break e}finally{v=null,b=xe,_=!1}we=void 0}}finally{we?ae():k=!1}}}var ae;if(typeof P=="function")ae=function(){P(be)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Me=$e.port2;$e.port1.onmessage=be,ae=function(){Me.postMessage(null)}}else ae=function(){E(be,0)};function Ke(ee,we){q=E(function(){ee(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var we=3;break;default:we=b}var xe=b;b=we;try{return ee()}finally{b=xe}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ee,we){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var xe=b;b=ee;try{return we()}finally{b=xe}},e.unstable_scheduleCallback=function(ee,we,xe){var tt=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?tt+xe:tt):xe=tt,ee){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=xe+U,ee={id:m++,callback:we,priorityLevel:ee,startTime:xe,expirationTime:U,sortIndex:-1},xe>tt?(ee.sortIndex=xe,t(d,ee),i(u)===null&&ee===i(d)&&(M?(A(q),q=-1):M=!0,Ke(D,xe-tt))):(ee.sortIndex=U,t(u,ee),S||_||(S=!0,k||(k=!0,ae()))),ee},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(ee){var we=b;return function(){var xe=b;b=we;try{return ee.apply(this,arguments)}finally{b=xe}}}}(mE)),mE}var Bk;function ane(){return Bk||(Bk=1,fE.exports=sne()),fE.exports}var yE={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk;function one(){if(Hk)return fn;Hk=1;var e=GA();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(u,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:v==null?null:""+v,children:u,containerInfo:d,implementation:m}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,m)},fn.flushSync=function(u){var d=a.T,m=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=m,r.d.f()}},fn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},fn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},fn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(u,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},fn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin);r.d.L(u,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fn.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},fn.requestFormReset=function(u){r.d.r(u)},fn.unstable_batchedUpdates=function(u,d){return u(d)},fn.useFormState=function(u,d,m){return a.H.useFormState(u,d,m)},fn.useFormStatus=function(){return a.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var qk;function hV(){if(qk)return yE.exports;qk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yE.exports=one(),yE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function lne(){if(Wk)return q0;Wk=1;var e=ane(),t=GA(),i=hV();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(s(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,g=c;;){var w=p.return;if(w===null)break;var x=w.alternate;if(x===null){if(g=w.return,g!==null){p=g;continue}break}if(w.child===x.child){for(x=w.child;x;){if(x===p)return l(w),o;if(x===g)return l(w),c;x=x.sibling}throw Error(r(188))}if(p.return!==g.return)p=w,g=x;else{for(var C=!1,$=w.child;$;){if($===p){C=!0,p=w,g=x;break}if($===g){C=!0,g=w,p=x;break}$=$.sibling}if(!C){for($=x.child;$;){if($===p){C=!0,p=x,g=w;break}if($===g){C=!0,g=x,p=w;break}$=$.sibling}if(!C)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=be&&o[be]||o["@@iterator"],typeof o=="function"?o:null)}var $e=Symbol.for("react.client.reference");function Me(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===$e?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case T:return"Profiler";case M:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case re:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case P:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case N:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return c=o.displayName||null,c!==null?c:Me(o.type)||"Memo";case X:c=o._payload,o=o._init;try{return Me(o(c))}catch{}}return null}var Ke=Array.isArray,ee=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},tt=[],U=-1;function he(o){return{current:o}}function Pe(o){0>U||(o.current=tt[U],tt[U]=null,U--)}function Te(o,c){U++,tt[U]=o.current,o.current=c}var Ye=he(null),St=he(null),rt=he(null),Jr=he(null);function ri(o,c){switch(Te(rt,c),Te(St,o),Te(Ye,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?pk(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=pk(c),o=fk(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Pe(Ye),Te(Ye,o)}function sa(){Pe(Ye),Pe(St),Pe(rt)}function rr(o){o.memoizedState!==null&&Te(Jr,o);var c=Ye.current,p=fk(c,o.type);c!==p&&(Te(St,o),Te(Ye,p))}function xs(o){St.current===o&&(Pe(Ye),Pe(St)),Jr.current===o&&(Pe(Jr),z0._currentValue=xe)}var nc=Object.prototype.hasOwnProperty,pd=e.unstable_scheduleCallback,Ms=e.unstable_cancelCallback,Zg=e.unstable_shouldYield,Kg=e.unstable_requestPaint,On=e.unstable_now,Jg=e.unstable_getCurrentPriorityLevel,Df=e.unstable_ImmediatePriority,jf=e.unstable_UserBlockingPriority,kl=e.unstable_NormalPriority,aa=e.unstable_LowPriority,Xr=e.unstable_IdlePriority,Ff=e.log,fd=e.unstable_setDisableYieldValue,dn=null,bi=null;function Ts(o){if(typeof Ff=="function"&&fd(o),bi&&typeof bi.setStrictMode=="function")try{bi.setStrictMode(dn,o)}catch{}}var _r=Math.clz32?Math.clz32:zf,Xg=Math.log,oa=Math.LN2;function zf(o){return o>>>=0,o===0?32:31-(Xg(o)/oa|0)|0}var Ll=256,Nl=4194304;function Ka(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Dl(o,c,p){var g=o.pendingLanes;if(g===0)return 0;var w=0,x=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var $=g&134217727;return $!==0?(g=$&~x,g!==0?w=Ka(g):(C&=$,C!==0?w=Ka(C):p||(p=$&~o,p!==0&&(w=Ka(p))))):($=g&~x,$!==0?w=Ka($):C!==0?w=Ka(C):p||(p=g&~o,p!==0&&(w=Ka(p)))),w===0?0:c!==0&&c!==w&&(c&x)===0&&(x=w&-w,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:w}function la(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Uf(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sc(){var o=Ll;return Ll<<=1,(Ll&4194048)===0&&(Ll=256),o}function Gf(){var o=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),o}function ac(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function jl(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Vf(o,c,p,g,w,x){var C=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var $=o.entanglements,F=o.expirationTimes,te=o.hiddenUpdates;for(p=C&~p;0<p;){var le=31-_r(p),ye=1<<le;$[le]=0,F[le]=-1;var ie=te[le];if(ie!==null)for(te[le]=null,le=0;le<ie.length;le++){var ne=ie[le];ne!==null&&(ne.lane&=-536870913)}p&=~ye}g!==0&&Fl(o,g,0),x!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=x&~(C&~c))}function Fl(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-_r(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|p&4194090}function zl(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var g=31-_r(p),w=1<<g;w&c|o[g]&c&&(o[g]|=c),p&=~w}}function md(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function yd(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function G(){var o=we.p;return o!==0?o:(o=window.event,o===void 0?32:Ok(o.type))}function L(o,c){var p=we.p;try{return we.p=o,c()}finally{we.p=p}}var K=Math.random().toString(36).slice(2),de="__reactFiber$"+K,_e="__reactProps$"+K,ze="__reactContainer$"+K,fe="__reactEvents$"+K,Ne="__reactListeners$"+K,ke="__reactHandles$"+K,Ze="__reactResources$"+K,st="__reactMarker$"+K;function je(o){delete o[de],delete o[_e],delete o[fe],delete o[Ne],delete o[ke]}function lt(o){var c=o[de];if(c)return c;for(var p=o.parentNode;p;){if(c=p[ze]||p[de]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=vk(o);o!==null;){if(p=o[de])return p;o=vk(o)}return c}o=p,p=o.parentNode}return null}function kt(o){if(o=o[de]||o[ze]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Le(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function wi(o){var c=o[Ze];return c||(c=o[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nt(o){o[st]=!0}var $t=new Set,Fo={};function Sr(o,c){Yn(o,c),Yn(o+"Capture",c)}function Yn(o,c){for(Fo[o]=c,o=0;o<c.length;o++)$t.add(c[o])}var Lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},zo={};function oc(o){return nc.call(zo,o)?!0:nc.call(ui,o)?!1:Lr.test(o)?zo[o]=!0:(ui[o]=!0,!1)}function Zn(o,c,p){if(oc(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Ja(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function _t(o,c,p,g){if(g===null)o.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+g)}}var Nr,Es;function Ri(o){if(Nr===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Nr=c&&c[1]||"",Es=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+o+Es}var Ul=!1;function fi(o,c){if(!o||Ul)return"";Ul=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ne){var ie=ne}Reflect.construct(o,[],ye)}else{try{ye.call()}catch(ne){ie=ne}o.call(ye.prototype)}}else{try{throw Error()}catch(ne){ie=ne}(ye=o())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ne){if(ne&&ie&&typeof ne.stack=="string")return[ne.stack,ie.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=g.DetermineComponentFrameRoot(),C=x[0],$=x[1];if(C&&$){var F=C.split(`
`),te=$.split(`
`);for(w=g=0;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;for(;w<te.length&&!te[w].includes("DetermineComponentFrameRoot");)w++;if(g===F.length||w===te.length)for(g=F.length-1,w=te.length-1;1<=g&&0<=w&&F[g]!==te[w];)w--;for(;1<=g&&0<=w;g--,w--)if(F[g]!==te[w]){if(g!==1||w!==1)do if(g--,w--,0>w||F[g]!==te[w]){var le=`
`+F[g].replace(" at new "," at ");return o.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",o.displayName)),le}while(1<=g&&0<=w);break}}}finally{Ul=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Ri(p):""}function j(o){switch(o.tag){case 26:case 27:case 5:return Ri(o.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return fi(o.type,!1);case 11:return fi(o.type.render,!1);case 1:return fi(o.type,!0);case 31:return Ri("Activity");default:return""}}function oe(o){try{var c="";do c+=j(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ge(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function nt(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Qt(o){var c=nt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,x=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(C){g=""+C,x.call(this,C)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ci(o){o._valueTracker||(o._valueTracker=Qt(o))}function Hi(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return o&&(g=nt(o)?o.checked?"true":"false":o.value),o=g,o!==p?(c.setValue(o),!0):!1}function xr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Xte=/[\n"\\]/g;function ua(o){return o.replace(Xte,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function lM(o,c,p,g,w,x,C,$){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),c!=null?C==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ge(c)):o.value!==""+ge(c)&&(o.value=""+ge(c)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),c!=null?uM(o,C,ge(c)):p!=null?uM(o,C,ge(p)):g!=null&&o.removeAttribute("value"),w==null&&x!=null&&(o.defaultChecked=!!x),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.name=""+ge($):o.removeAttribute("name")}function c9(o,c,p,g,w,x,C,$){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null))return;p=p!=null?""+ge(p):"",c=c!=null?""+ge(c):p,$||c===o.value||(o.value=c),o.defaultValue=c}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=$?o.checked:!!g,o.defaultChecked=!!g,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function uM(o,c,p){c==="number"&&xr(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Bf(o,c,p,g){if(o=o.options,c){c={};for(var w=0;w<p.length;w++)c["$"+p[w]]=!0;for(p=0;p<o.length;p++)w=c.hasOwnProperty("$"+o[p].value),o[p].selected!==w&&(o[p].selected=w),w&&g&&(o[p].defaultSelected=!0)}else{for(p=""+ge(p),c=null,w=0;w<o.length;w++){if(o[w].value===p){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function h9(o,c,p){if(c!=null&&(c=""+ge(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+ge(p):""}function d9(o,c,p,g){if(c==null){if(g!=null){if(p!=null)throw Error(r(92));if(Ke(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),c=p}p=ge(c),o.defaultValue=p,g=o.textContent,g===p&&g!==""&&g!==null&&(o.value=g)}function Hf(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Qte=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function p9(o,c,p){var g=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,p):typeof p!="number"||p===0||Qte.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function f9(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var w in c)g=c[w],c.hasOwnProperty(w)&&p[w]!==g&&p9(o,w,g)}else for(var x in c)c.hasOwnProperty(x)&&p9(o,x,c[x])}function cM(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eie=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tie=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function E2(o){return tie.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var hM=null;function dM(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qf=null,Wf=null;function m9(o){var c=kt(o);if(c&&(o=c.stateNode)){var p=o[_e]||null;e:switch(o=c.stateNode,c.type){case"input":if(lM(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ua(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==o&&g.form===o.form){var w=g[_e]||null;if(!w)throw Error(r(90));lM(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<p.length;c++)g=p[c],g.form===o.form&&Hi(g)}break e;case"textarea":h9(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Bf(o,!!p.multiple,c,!1)}}}var pM=!1;function y9(o,c,p){if(pM)return o(c,p);pM=!0;try{var g=o(c);return g}finally{if(pM=!1,(qf!==null||Wf!==null)&&(hw(),qf&&(c=qf,o=Wf,Wf=qf=null,m9(c),o)))for(c=0;c<o.length;c++)m9(o[c])}}function Qg(o,c){var p=o.stateNode;if(p===null)return null;var g=p[_e]||null;if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fM=!1;if(Gl)try{var e0={};Object.defineProperty(e0,"passive",{get:function(){fM=!0}}),window.addEventListener("test",e0,e0),window.removeEventListener("test",e0,e0)}catch{fM=!1}var lc=null,mM=null,C2=null;function g9(){if(C2)return C2;var o,c=mM,p=c.length,g,w="value"in lc?lc.value:lc.textContent,x=w.length;for(o=0;o<p&&c[o]===w[o];o++);var C=p-o;for(g=1;g<=C&&c[p-g]===w[x-g];g++);return C2=w.slice(o,1<g?1-g:void 0)}function I2(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function $2(){return!0}function v9(){return!1}function Kn(o){function c(p,g,w,x,C){this._reactName=p,this._targetInst=w,this.type=g,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var $ in o)o.hasOwnProperty($)&&(p=o[$],this[$]=p?p(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?$2:v9,this.isPropagationStopped=v9,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=$2)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=$2)},persist:function(){},isPersistent:$2}),c}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A2=Kn(gd),t0=m({},gd,{view:0,detail:0}),iie=Kn(t0),yM,gM,i0,R2=m({},t0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bM,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==i0&&(i0&&o.type==="mousemove"?(yM=o.screenX-i0.screenX,gM=o.screenY-i0.screenY):gM=yM=0,i0=o),yM)},movementY:function(o){return"movementY"in o?o.movementY:gM}}),b9=Kn(R2),rie=m({},R2,{dataTransfer:0}),nie=Kn(rie),sie=m({},t0,{relatedTarget:0}),vM=Kn(sie),aie=m({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),oie=Kn(aie),lie=m({},gd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),uie=Kn(lie),cie=m({},gd,{data:0}),w9=Kn(cie),hie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},die={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fie(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=pie[o])?!!c[o]:!1}function bM(){return fie}var mie=m({},t0,{key:function(o){if(o.key){var c=hie[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=I2(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?die[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bM,charCode:function(o){return o.type==="keypress"?I2(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?I2(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),yie=Kn(mie),gie=m({},R2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_9=Kn(gie),vie=m({},t0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bM}),bie=Kn(vie),wie=m({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),_ie=Kn(wie),Sie=m({},R2,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),xie=Kn(Sie),Mie=m({},gd,{newState:0,oldState:0}),Tie=Kn(Mie),Eie=[9,13,27,32],wM=Gl&&"CompositionEvent"in window,r0=null;Gl&&"documentMode"in document&&(r0=document.documentMode);var Cie=Gl&&"TextEvent"in window&&!r0,S9=Gl&&(!wM||r0&&8<r0&&11>=r0),x9=" ",M9=!1;function T9(o,c){switch(o){case"keyup":return Eie.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E9(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Yf=!1;function Iie(o,c){switch(o){case"compositionend":return E9(c);case"keypress":return c.which!==32?null:(M9=!0,x9);case"textInput":return o=c.data,o===x9&&M9?null:o;default:return null}}function $ie(o,c){if(Yf)return o==="compositionend"||!wM&&T9(o,c)?(o=g9(),C2=mM=lc=null,Yf=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return S9&&c.locale!=="ko"?null:c.data;default:return null}}var Aie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C9(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Aie[o.type]:c==="textarea"}function I9(o,c,p,g){qf?Wf?Wf.push(g):Wf=[g]:qf=g,c=gw(c,"onChange"),0<c.length&&(p=new A2("onChange","change",null,p,g),o.push({event:p,listeners:c}))}var n0=null,s0=null;function Rie(o){lk(o,0)}function P2(o){var c=Le(o);if(Hi(c))return o}function $9(o,c){if(o==="change")return c}var A9=!1;if(Gl){var _M;if(Gl){var SM="oninput"in document;if(!SM){var R9=document.createElement("div");R9.setAttribute("oninput","return;"),SM=typeof R9.oninput=="function"}_M=SM}else _M=!1;A9=_M&&(!document.documentMode||9<document.documentMode)}function P9(){n0&&(n0.detachEvent("onpropertychange",O9),s0=n0=null)}function O9(o){if(o.propertyName==="value"&&P2(s0)){var c=[];I9(c,s0,o,dM(o)),y9(Rie,c)}}function Pie(o,c,p){o==="focusin"?(P9(),n0=c,s0=p,n0.attachEvent("onpropertychange",O9)):o==="focusout"&&P9()}function Oie(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return P2(s0)}function kie(o,c){if(o==="click")return P2(c)}function Lie(o,c){if(o==="input"||o==="change")return P2(c)}function Nie(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Cs=typeof Object.is=="function"?Object.is:Nie;function a0(o,c){if(Cs(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var w=p[g];if(!nc.call(c,w)||!Cs(o[w],c[w]))return!1}return!0}function k9(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function L9(o,c){var p=k9(o);o=0;for(var g;p;){if(p.nodeType===3){if(g=o+p.textContent.length,o<=c&&g>=c)return{node:p,offset:c-o};o=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=k9(p)}}function N9(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?N9(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function D9(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=xr(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=xr(o.document)}return c}function xM(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Die=Gl&&"documentMode"in document&&11>=document.documentMode,Zf=null,MM=null,o0=null,TM=!1;function j9(o,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;TM||Zf==null||Zf!==xr(g)||(g=Zf,"selectionStart"in g&&xM(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),o0&&a0(o0,g)||(o0=g,g=gw(MM,"onSelect"),0<g.length&&(c=new A2("onSelect","select",null,c,p),o.push({event:c,listeners:g}),c.target=Zf)))}function vd(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Kf={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionrun:vd("Transition","TransitionRun"),transitionstart:vd("Transition","TransitionStart"),transitioncancel:vd("Transition","TransitionCancel"),transitionend:vd("Transition","TransitionEnd")},EM={},F9={};Gl&&(F9=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function bd(o){if(EM[o])return EM[o];if(!Kf[o])return o;var c=Kf[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in F9)return EM[o]=c[p];return o}var z9=bd("animationend"),U9=bd("animationiteration"),G9=bd("animationstart"),jie=bd("transitionrun"),Fie=bd("transitionstart"),zie=bd("transitioncancel"),V9=bd("transitionend"),B9=new Map,CM="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");CM.push("scrollEnd");function Xa(o,c){B9.set(o,c),Sr(c,[o])}var H9=new WeakMap;function ca(o,c){if(typeof o=="object"&&o!==null){var p=H9.get(o);return p!==void 0?p:(c={value:o,source:c,stack:oe(c)},H9.set(o,c),c)}return{value:o,source:c,stack:oe(c)}}var ha=[],Jf=0,IM=0;function O2(){for(var o=Jf,c=IM=Jf=0;c<o;){var p=ha[c];ha[c++]=null;var g=ha[c];ha[c++]=null;var w=ha[c];ha[c++]=null;var x=ha[c];if(ha[c++]=null,g!==null&&w!==null){var C=g.pending;C===null?w.next=w:(w.next=C.next,C.next=w),g.pending=w}x!==0&&q9(p,w,x)}}function k2(o,c,p,g){ha[Jf++]=o,ha[Jf++]=c,ha[Jf++]=p,ha[Jf++]=g,IM|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function $M(o,c,p,g){return k2(o,c,p,g),L2(o)}function Xf(o,c){return k2(o,null,null,c),L2(o)}function q9(o,c,p){o.lanes|=p;var g=o.alternate;g!==null&&(g.lanes|=p);for(var w=!1,x=o.return;x!==null;)x.childLanes|=p,g=x.alternate,g!==null&&(g.childLanes|=p),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(w=!0)),o=x,x=x.return;return o.tag===3?(x=o.stateNode,w&&c!==null&&(w=31-_r(p),o=x.hiddenUpdates,g=o[w],g===null?o[w]=[c]:g.push(c),c.lane=p|536870912),x):null}function L2(o){if(50<P0)throw P0=0,LT=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Qf={};function Uie(o,c,p,g){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(o,c,p,g){return new Uie(o,c,p,g)}function AM(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Vl(o,c){var p=o.alternate;return p===null?(p=Is(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function W9(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function N2(o,c,p,g,w,x){var C=0;if(g=o,typeof o=="function")AM(o)&&(C=1);else if(typeof o=="string")C=Vre(o,p,Ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case re:return o=Is(31,p,c,w),o.elementType=re,o.lanes=x,o;case S:return wd(p.children,w,x,c);case M:C=8,w|=24;break;case T:return o=Is(12,p,c,w|2),o.elementType=T,o.lanes=x,o;case D:return o=Is(13,p,c,w),o.elementType=D,o.lanes=x,o;case k:return o=Is(19,p,c,w),o.elementType=k,o.lanes=x,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:case P:C=10;break e;case A:C=9;break e;case N:C=11;break e;case q:C=14;break e;case X:C=16,g=null;break e}C=29,p=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=Is(C,p,c,w),c.elementType=o,c.type=g,c.lanes=x,c}function wd(o,c,p,g){return o=Is(7,o,g,c),o.lanes=p,o}function RM(o,c,p){return o=Is(6,o,null,c),o.lanes=p,o}function PM(o,c,p){return c=Is(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var em=[],tm=0,D2=null,j2=0,da=[],pa=0,_d=null,Bl=1,Hl="";function Sd(o,c){em[tm++]=j2,em[tm++]=D2,D2=o,j2=c}function Y9(o,c,p){da[pa++]=Bl,da[pa++]=Hl,da[pa++]=_d,_d=o;var g=Bl;o=Hl;var w=32-_r(g)-1;g&=~(1<<w),p+=1;var x=32-_r(c)+w;if(30<x){var C=w-w%5;x=(g&(1<<C)-1).toString(32),g>>=C,w-=C,Bl=1<<32-_r(c)+w|p<<w|g,Hl=x+o}else Bl=1<<x|p<<w|g,Hl=o}function OM(o){o.return!==null&&(Sd(o,1),Y9(o,1,0))}function kM(o){for(;o===D2;)D2=em[--tm],em[tm]=null,j2=em[--tm],em[tm]=null;for(;o===_d;)_d=da[--pa],da[pa]=null,Hl=da[--pa],da[pa]=null,Bl=da[--pa],da[pa]=null}var kn=null,qi=null,qt=!1,xd=null,Uo=!1,LM=Error(r(519));function Md(o){var c=Error(r(418,""));throw c0(ca(c,o)),LM}function Z9(o){var c=o.stateNode,p=o.type,g=o.memoizedProps;switch(c[de]=o,c[_e]=g,p){case"dialog":Rt("cancel",c),Rt("close",c);break;case"iframe":case"object":case"embed":Rt("load",c);break;case"video":case"audio":for(p=0;p<k0.length;p++)Rt(k0[p],c);break;case"source":Rt("error",c);break;case"img":case"image":case"link":Rt("error",c),Rt("load",c);break;case"details":Rt("toggle",c);break;case"input":Rt("invalid",c),c9(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ci(c);break;case"select":Rt("invalid",c);break;case"textarea":Rt("invalid",c),d9(c,g.value,g.defaultValue,g.children),ci(c)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||g.suppressHydrationWarning===!0||dk(c.textContent,p)?(g.popover!=null&&(Rt("beforetoggle",c),Rt("toggle",c)),g.onScroll!=null&&Rt("scroll",c),g.onScrollEnd!=null&&Rt("scrollend",c),g.onClick!=null&&(c.onclick=vw),c=!0):c=!1,c||Md(o)}function K9(o){for(kn=o.return;kn;)switch(kn.tag){case 5:case 13:Uo=!1;return;case 27:case 3:Uo=!0;return;default:kn=kn.return}}function l0(o){if(o!==kn)return!1;if(!qt)return K9(o),qt=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||JT(o.type,o.memoizedProps)),p=!p),p&&qi&&Md(o),K9(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){qi=eo(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}qi=null}}else c===27?(c=qi,Mc(o.type)?(o=tE,tE=null,qi=o):qi=c):qi=kn?eo(o.stateNode.nextSibling):null;return!0}function u0(){qi=kn=null,qt=!1}function J9(){var o=xd;return o!==null&&(Qn===null?Qn=o:Qn.push.apply(Qn,o),xd=null),o}function c0(o){xd===null?xd=[o]:xd.push(o)}var NM=he(null),Td=null,ql=null;function uc(o,c,p){Te(NM,c._currentValue),c._currentValue=p}function Wl(o){o._currentValue=NM.current,Pe(NM)}function DM(o,c,p){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===p)break;o=o.return}}function jM(o,c,p,g){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var x=w.dependencies;if(x!==null){var C=w.child;x=x.firstContext;e:for(;x!==null;){var $=x;x=w;for(var F=0;F<c.length;F++)if($.context===c[F]){x.lanes|=p,$=x.alternate,$!==null&&($.lanes|=p),DM(x.return,p,o),g||(C=null);break e}x=$.next}}else if(w.tag===18){if(C=w.return,C===null)throw Error(r(341));C.lanes|=p,x=C.alternate,x!==null&&(x.lanes|=p),DM(C,p,o),C=null}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===o){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}}function h0(o,c,p,g){o=null;for(var w=c,x=!1;w!==null;){if(!x){if((w.flags&524288)!==0)x=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var C=w.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var $=w.type;Cs(w.pendingProps.value,C.value)||(o!==null?o.push($):o=[$])}}else if(w===Jr.current){if(C=w.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(z0):o=[z0])}w=w.return}o!==null&&jM(c,o,p,g),c.flags|=262144}function F2(o){for(o=o.firstContext;o!==null;){if(!Cs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ed(o){Td=o,ql=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pn(o){return X9(Td,o)}function z2(o,c){return Td===null&&Ed(o),X9(o,c)}function X9(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},ql===null){if(o===null)throw Error(r(308));ql=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ql=ql.next=c;return p}var Gie=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},Vie=e.unstable_scheduleCallback,Bie=e.unstable_NormalPriority,Mr={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function FM(){return{controller:new Gie,data:new Map,refCount:0}}function d0(o){o.refCount--,o.refCount===0&&Vie(Bie,function(){o.controller.abort()})}var p0=null,zM=0,im=0,rm=null;function Hie(o,c){if(p0===null){var p=p0=[];zM=0,im=GT(),rm={status:"pending",value:void 0,then:function(g){p.push(g)}}}return zM++,c.then(Q9,Q9),c}function Q9(){if(--zM===0&&p0!==null){rm!==null&&(rm.status="fulfilled");var o=p0;p0=null,im=0,rm=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function qie(o,c){var p=[],g={status:"pending",value:null,reason:null,then:function(w){p.push(w)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var w=0;w<p.length;w++)(0,p[w])(c)},function(w){for(g.status="rejected",g.reason=w,w=0;w<p.length;w++)(0,p[w])(void 0)}),g}var e7=ee.S;ee.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&Hie(o,c),e7!==null&&e7(o,c)};var Cd=he(null);function UM(){var o=Cd.current;return o!==null?o:mi.pooledCache}function U2(o,c){c===null?Te(Cd,Cd.current):Te(Cd,c.pool)}function t7(){var o=UM();return o===null?null:{parent:Mr._currentValue,pool:o}}var f0=Error(r(460)),i7=Error(r(474)),G2=Error(r(542)),GM={then:function(){}};function r7(o){return o=o.status,o==="fulfilled"||o==="rejected"}function V2(){}function n7(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(V2,V2),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,a7(o),o;default:if(typeof c.status=="string")c.then(V2,V2);else{if(o=mi,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=g}},function(g){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,a7(o),o}throw m0=c,f0}}var m0=null;function s7(){if(m0===null)throw Error(r(459));var o=m0;return m0=null,o}function a7(o){if(o===f0||o===G2)throw Error(r(483))}var cc=!1;function VM(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function BM(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function hc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function dc(o,c,p){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ei&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,c=L2(o),q9(o,null,p),c}return k2(o,g,c,p),L2(o)}function y0(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,p|=g,c.lanes=p,zl(o,p)}}function HM(o,c){var p=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var w=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var C={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?w=x=C:x=x.next=C,p=p.next}while(p!==null);x===null?w=x=c:x=x.next=c}else w=x=c;p={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:x,shared:g.shared,callbacks:g.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var qM=!1;function g0(){if(qM){var o=rm;if(o!==null)throw o}}function v0(o,c,p,g){qM=!1;var w=o.updateQueue;cc=!1;var x=w.firstBaseUpdate,C=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var F=$,te=F.next;F.next=null,C===null?x=te:C.next=te,C=F;var le=o.alternate;le!==null&&(le=le.updateQueue,$=le.lastBaseUpdate,$!==C&&($===null?le.firstBaseUpdate=te:$.next=te,le.lastBaseUpdate=F))}if(x!==null){var ye=w.baseState;C=0,le=te=F=null,$=x;do{var ie=$.lane&-536870913,ne=ie!==$.lane;if(ne?(Ft&ie)===ie:(g&ie)===ie){ie!==0&&ie===im&&(qM=!0),le!==null&&(le=le.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var dt=o,at=$;ie=c;var ai=p;switch(at.tag){case 1:if(dt=at.payload,typeof dt=="function"){ye=dt.call(ai,ye,ie);break e}ye=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=at.payload,ie=typeof dt=="function"?dt.call(ai,ye,ie):dt,ie==null)break e;ye=m({},ye,ie);break e;case 2:cc=!0}}ie=$.callback,ie!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=w.callbacks,ne===null?w.callbacks=[ie]:ne.push(ie))}else ne={lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},le===null?(te=le=ne,F=ye):le=le.next=ne,C|=ie;if($=$.next,$===null){if($=w.shared.pending,$===null)break;ne=$,$=ne.next,ne.next=null,w.lastBaseUpdate=ne,w.shared.pending=null}}while(!0);le===null&&(F=ye),w.baseState=F,w.firstBaseUpdate=te,w.lastBaseUpdate=le,x===null&&(w.shared.lanes=0),wc|=C,o.lanes=C,o.memoizedState=ye}}function o7(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function l7(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)o7(p[o],c)}var nm=he(null),B2=he(0);function u7(o,c){o=eu,Te(B2,o),Te(nm,c),eu=o|c.baseLanes}function WM(){Te(B2,eu),Te(nm,nm.current)}function YM(){eu=B2.current,Pe(nm),Pe(B2)}var pc=0,xt=null,ni=null,cr=null,H2=!1,sm=!1,Id=!1,q2=0,b0=0,am=null,Wie=0;function nr(){throw Error(r(321))}function ZM(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Cs(o[p],c[p]))return!1;return!0}function KM(o,c,p,g,w,x){return pc=x,xt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ee.H=o===null||o.memoizedState===null?q7:W7,Id=!1,x=p(g,w),Id=!1,sm&&(x=h7(c,p,g,w)),c7(o),x}function c7(o){ee.H=X2;var c=ni!==null&&ni.next!==null;if(pc=0,cr=ni=xt=null,H2=!1,b0=0,am=null,c)throw Error(r(300));o===null||Dr||(o=o.dependencies,o!==null&&F2(o)&&(Dr=!0))}function h7(o,c,p,g){xt=o;var w=0;do{if(sm&&(am=null),b0=0,sm=!1,25<=w)throw Error(r(301));if(w+=1,cr=ni=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}ee.H=ere,x=c(p,g)}while(sm);return x}function Yie(){var o=ee.H,c=o.useState()[0];return c=typeof c.then=="function"?w0(c):c,o=o.useState()[0],(ni!==null?ni.memoizedState:null)!==o&&(xt.flags|=1024),c}function JM(){var o=q2!==0;return q2=0,o}function XM(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function QM(o){if(H2){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}H2=!1}pc=0,cr=ni=xt=null,sm=!1,b0=q2=0,am=null}function Jn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?xt.memoizedState=cr=o:cr=cr.next=o,cr}function hr(){if(ni===null){var o=xt.alternate;o=o!==null?o.memoizedState:null}else o=ni.next;var c=cr===null?xt.memoizedState:cr.next;if(c!==null)cr=c,ni=o;else{if(o===null)throw xt.alternate===null?Error(r(467)):Error(r(310));ni=o,o={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},cr===null?xt.memoizedState=cr=o:cr=cr.next=o}return cr}function eT(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function w0(o){var c=b0;return b0+=1,am===null&&(am=[]),o=n7(am,o,c),c=xt,(cr===null?c.memoizedState:cr.next)===null&&(c=c.alternate,ee.H=c===null||c.memoizedState===null?q7:W7),o}function W2(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return w0(o);if(o.$$typeof===P)return pn(o)}throw Error(r(438,String(o)))}function tT(o){var c=null,p=xt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=eT(),xt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),g=0;g<o;g++)p[g]=W;return c.index++,p}function Yl(o,c){return typeof c=="function"?c(o):c}function Y2(o){var c=hr();return iT(c,ni,o)}function iT(o,c,p){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var w=o.baseQueue,x=g.pending;if(x!==null){if(w!==null){var C=w.next;w.next=x.next,x.next=C}c.baseQueue=w=x,g.pending=null}if(x=o.baseState,w===null)o.memoizedState=x;else{c=w.next;var $=C=null,F=null,te=c,le=!1;do{var ye=te.lane&-536870913;if(ye!==te.lane?(Ft&ye)===ye:(pc&ye)===ye){var ie=te.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ye===im&&(le=!0);else if((pc&ie)===ie){te=te.next,ie===im&&(le=!0);continue}else ye={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?($=F=ye,C=x):F=F.next=ye,xt.lanes|=ie,wc|=ie;ye=te.action,Id&&p(x,ye),x=te.hasEagerState?te.eagerState:p(x,ye)}else ie={lane:ye,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?($=F=ie,C=x):F=F.next=ie,xt.lanes|=ye,wc|=ye;te=te.next}while(te!==null&&te!==c);if(F===null?C=x:F.next=$,!Cs(x,o.memoizedState)&&(Dr=!0,le&&(p=rm,p!==null)))throw p;o.memoizedState=x,o.baseState=C,o.baseQueue=F,g.lastRenderedState=x}return w===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function rT(o){var c=hr(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var g=p.dispatch,w=p.pending,x=c.memoizedState;if(w!==null){p.pending=null;var C=w=w.next;do x=o(x,C.action),C=C.next;while(C!==w);Cs(x,c.memoizedState)||(Dr=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,g]}function d7(o,c,p){var g=xt,w=hr(),x=qt;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var C=!Cs((ni||w).memoizedState,p);C&&(w.memoizedState=p,Dr=!0),w=w.queue;var $=m7.bind(null,g,w,o);if(_0(2048,8,$,[o]),w.getSnapshot!==c||C||cr!==null&&cr.memoizedState.tag&1){if(g.flags|=2048,om(9,Z2(),f7.bind(null,g,w,p,c),null),mi===null)throw Error(r(349));x||(pc&124)!==0||p7(g,c,p)}return p}function p7(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=xt.updateQueue,c===null?(c=eT(),xt.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function f7(o,c,p,g){c.value=p,c.getSnapshot=g,y7(c)&&g7(o)}function m7(o,c,p){return p(function(){y7(c)&&g7(o)})}function y7(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Cs(o,p)}catch{return!0}}function g7(o){var c=Xf(o,2);c!==null&&Os(c,o,2)}function nT(o){var c=Jn();if(typeof o=="function"){var p=o;if(o=p(),Id){Ts(!0);try{p()}finally{Ts(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:o},c}function v7(o,c,p,g){return o.baseState=p,iT(o,ni,typeof g=="function"?g:Yl)}function Zie(o,c,p,g,w){if(J2(o))throw Error(r(485));if(o=c.action,o!==null){var x={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};ee.T!==null?p(!0):x.isTransition=!1,g(x),p=c.pending,p===null?(x.next=c.pending=x,b7(c,x)):(x.next=p.next,c.pending=p.next=x)}}function b7(o,c){var p=c.action,g=c.payload,w=o.state;if(c.isTransition){var x=ee.T,C={};ee.T=C;try{var $=p(w,g),F=ee.S;F!==null&&F(C,$),w7(o,c,$)}catch(te){sT(o,c,te)}finally{ee.T=x}}else try{x=p(w,g),w7(o,c,x)}catch(te){sT(o,c,te)}}function w7(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){_7(o,c,g)},function(g){return sT(o,c,g)}):_7(o,c,p)}function _7(o,c,p){c.status="fulfilled",c.value=p,S7(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,b7(o,p)))}function sT(o,c,p){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=p,S7(c),c=c.next;while(c!==g)}o.action=null}function S7(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function x7(o,c){return c}function M7(o,c){if(qt){var p=mi.formState;if(p!==null){e:{var g=xt;if(qt){if(qi){t:{for(var w=qi,x=Uo;w.nodeType!==8;){if(!x){w=null;break t}if(w=eo(w.nextSibling),w===null){w=null;break t}}x=w.data,w=x==="F!"||x==="F"?w:null}if(w){qi=eo(w.nextSibling),g=w.data==="F!";break e}}Md(g)}g=!1}g&&(c=p[0])}}return p=Jn(),p.memoizedState=p.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x7,lastRenderedState:c},p.queue=g,p=V7.bind(null,xt,g),g.dispatch=p,g=nT(!1),x=cT.bind(null,xt,!1,g.queue),g=Jn(),w={state:c,dispatch:null,action:o,pending:null},g.queue=w,p=Zie.bind(null,xt,w,x,p),w.dispatch=p,g.memoizedState=o,[c,p,!1]}function T7(o){var c=hr();return E7(c,ni,o)}function E7(o,c,p){if(c=iT(o,c,x7)[0],o=Y2(Yl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=w0(c)}catch(C){throw C===f0?G2:C}else g=c;c=hr();var w=c.queue,x=w.dispatch;return p!==c.memoizedState&&(xt.flags|=2048,om(9,Z2(),Kie.bind(null,w,p),null)),[g,x,o]}function Kie(o,c){o.action=c}function C7(o){var c=hr(),p=ni;if(p!==null)return E7(c,p,o);hr(),c=c.memoizedState,p=hr();var g=p.queue.dispatch;return p.memoizedState=o,[c,g,!1]}function om(o,c,p,g){return o={tag:o,create:p,deps:g,inst:c,next:null},c=xt.updateQueue,c===null&&(c=eT(),xt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(g=p.next,p.next=o,o.next=g,c.lastEffect=o),o}function Z2(){return{destroy:void 0,resource:void 0}}function I7(){return hr().memoizedState}function K2(o,c,p,g){var w=Jn();g=g===void 0?null:g,xt.flags|=o,w.memoizedState=om(1|c,Z2(),p,g)}function _0(o,c,p,g){var w=hr();g=g===void 0?null:g;var x=w.memoizedState.inst;ni!==null&&g!==null&&ZM(g,ni.memoizedState.deps)?w.memoizedState=om(c,x,p,g):(xt.flags|=o,w.memoizedState=om(1|c,x,p,g))}function $7(o,c){K2(8390656,8,o,c)}function A7(o,c){_0(2048,8,o,c)}function R7(o,c){return _0(4,2,o,c)}function P7(o,c){return _0(4,4,o,c)}function O7(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function k7(o,c,p){p=p!=null?p.concat([o]):null,_0(4,4,O7.bind(null,c,o),p)}function aT(){}function L7(o,c){var p=hr();c=c===void 0?null:c;var g=p.memoizedState;return c!==null&&ZM(c,g[1])?g[0]:(p.memoizedState=[o,c],o)}function N7(o,c){var p=hr();c=c===void 0?null:c;var g=p.memoizedState;if(c!==null&&ZM(c,g[1]))return g[0];if(g=o(),Id){Ts(!0);try{o()}finally{Ts(!1)}}return p.memoizedState=[g,c],g}function oT(o,c,p){return p===void 0||(pc&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=FO(),xt.lanes|=o,wc|=o,p)}function D7(o,c,p,g){return Cs(p,c)?p:nm.current!==null?(o=oT(o,p,g),Cs(o,c)||(Dr=!0),o):(pc&42)===0?(Dr=!0,o.memoizedState=p):(o=FO(),xt.lanes|=o,wc|=o,c)}function j7(o,c,p,g,w){var x=we.p;we.p=x!==0&&8>x?x:8;var C=ee.T,$={};ee.T=$,cT(o,!1,c,p);try{var F=w(),te=ee.S;if(te!==null&&te($,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=qie(F,g);S0(o,c,le,Ps(o))}else S0(o,c,g,Ps(o))}catch(ye){S0(o,c,{then:function(){},status:"rejected",reason:ye},Ps())}finally{we.p=x,ee.T=C}}function Jie(){}function lT(o,c,p,g){if(o.tag!==5)throw Error(r(476));var w=F7(o).queue;j7(o,w,c,xe,p===null?Jie:function(){return z7(o),p(g)})}function F7(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:xe},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function z7(o){var c=F7(o).next.queue;S0(o,c,{},Ps())}function uT(){return pn(z0)}function U7(){return hr().memoizedState}function G7(){return hr().memoizedState}function Xie(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Ps();o=hc(p);var g=dc(c,o,p);g!==null&&(Os(g,c,p),y0(g,c,p)),c={cache:FM()},o.payload=c;return}c=c.return}}function Qie(o,c,p){var g=Ps();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},J2(o)?B7(c,p):(p=$M(o,c,p,g),p!==null&&(Os(p,o,g),H7(p,c,g)))}function V7(o,c,p){var g=Ps();S0(o,c,p,g)}function S0(o,c,p,g){var w={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(J2(o))B7(c,w);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var C=c.lastRenderedState,$=x(C,p);if(w.hasEagerState=!0,w.eagerState=$,Cs($,C))return k2(o,c,w,0),mi===null&&O2(),!1}catch{}finally{}if(p=$M(o,c,w,g),p!==null)return Os(p,o,g),H7(p,c,g),!0}return!1}function cT(o,c,p,g){if(g={lane:2,revertLane:GT(),action:g,hasEagerState:!1,eagerState:null,next:null},J2(o)){if(c)throw Error(r(479))}else c=$M(o,p,g,2),c!==null&&Os(c,o,2)}function J2(o){var c=o.alternate;return o===xt||c!==null&&c===xt}function B7(o,c){sm=H2=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function H7(o,c,p){if((p&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,p|=g,c.lanes=p,zl(o,p)}}var X2={readContext:pn,use:W2,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr},q7={readContext:pn,use:W2,useCallback:function(o,c){return Jn().memoizedState=[o,c===void 0?null:c],o},useContext:pn,useEffect:$7,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,K2(4194308,4,O7.bind(null,c,o),p)},useLayoutEffect:function(o,c){return K2(4194308,4,o,c)},useInsertionEffect:function(o,c){K2(4,2,o,c)},useMemo:function(o,c){var p=Jn();c=c===void 0?null:c;var g=o();if(Id){Ts(!0);try{o()}finally{Ts(!1)}}return p.memoizedState=[g,c],g},useReducer:function(o,c,p){var g=Jn();if(p!==void 0){var w=p(c);if(Id){Ts(!0);try{p(c)}finally{Ts(!1)}}}else w=c;return g.memoizedState=g.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},g.queue=o,o=o.dispatch=Qie.bind(null,xt,o),[g.memoizedState,o]},useRef:function(o){var c=Jn();return o={current:o},c.memoizedState=o},useState:function(o){o=nT(o);var c=o.queue,p=V7.bind(null,xt,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:aT,useDeferredValue:function(o,c){var p=Jn();return oT(p,o,c)},useTransition:function(){var o=nT(!1);return o=j7.bind(null,xt,o.queue,!0,!1),Jn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var g=xt,w=Jn();if(qt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),mi===null)throw Error(r(349));(Ft&124)!==0||p7(g,c,p)}w.memoizedState=p;var x={value:p,getSnapshot:c};return w.queue=x,$7(m7.bind(null,g,x,o),[o]),g.flags|=2048,om(9,Z2(),f7.bind(null,g,x,p,c),null),p},useId:function(){var o=Jn(),c=mi.identifierPrefix;if(qt){var p=Hl,g=Bl;p=(g&~(1<<32-_r(g)-1)).toString(32)+p,c=""+c+"R"+p,p=q2++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=Wie++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:uT,useFormState:M7,useActionState:M7,useOptimistic:function(o){var c=Jn();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=cT.bind(null,xt,!0,p),p.dispatch=c,[o,c]},useMemoCache:tT,useCacheRefresh:function(){return Jn().memoizedState=Xie.bind(null,xt)}},W7={readContext:pn,use:W2,useCallback:L7,useContext:pn,useEffect:A7,useImperativeHandle:k7,useInsertionEffect:R7,useLayoutEffect:P7,useMemo:N7,useReducer:Y2,useRef:I7,useState:function(){return Y2(Yl)},useDebugValue:aT,useDeferredValue:function(o,c){var p=hr();return D7(p,ni.memoizedState,o,c)},useTransition:function(){var o=Y2(Yl)[0],c=hr().memoizedState;return[typeof o=="boolean"?o:w0(o),c]},useSyncExternalStore:d7,useId:U7,useHostTransitionStatus:uT,useFormState:T7,useActionState:T7,useOptimistic:function(o,c){var p=hr();return v7(p,ni,o,c)},useMemoCache:tT,useCacheRefresh:G7},ere={readContext:pn,use:W2,useCallback:L7,useContext:pn,useEffect:A7,useImperativeHandle:k7,useInsertionEffect:R7,useLayoutEffect:P7,useMemo:N7,useReducer:rT,useRef:I7,useState:function(){return rT(Yl)},useDebugValue:aT,useDeferredValue:function(o,c){var p=hr();return ni===null?oT(p,o,c):D7(p,ni.memoizedState,o,c)},useTransition:function(){var o=rT(Yl)[0],c=hr().memoizedState;return[typeof o=="boolean"?o:w0(o),c]},useSyncExternalStore:d7,useId:U7,useHostTransitionStatus:uT,useFormState:C7,useActionState:C7,useOptimistic:function(o,c){var p=hr();return ni!==null?v7(p,ni,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:tT,useCacheRefresh:G7},lm=null,x0=0;function Q2(o){var c=x0;return x0+=1,lm===null&&(lm=[]),n7(lm,o,c)}function M0(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function ew(o,c){throw c.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Y7(o){var c=o._init;return c(o._payload)}function Z7(o){function c(Y,B){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[B],Y.flags|=16):Q.push(B)}}function p(Y,B){if(!o)return null;for(;B!==null;)c(Y,B),B=B.sibling;return null}function g(Y){for(var B=new Map;Y!==null;)Y.key!==null?B.set(Y.key,Y):B.set(Y.index,Y),Y=Y.sibling;return B}function w(Y,B){return Y=Vl(Y,B),Y.index=0,Y.sibling=null,Y}function x(Y,B,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<B?(Y.flags|=67108866,B):Q):(Y.flags|=67108866,B)):(Y.flags|=1048576,B)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function $(Y,B,Q,pe){return B===null||B.tag!==6?(B=RM(Q,Y.mode,pe),B.return=Y,B):(B=w(B,Q),B.return=Y,B)}function F(Y,B,Q,pe){var Be=Q.type;return Be===S?le(Y,B,Q.props.children,pe,Q.key):B!==null&&(B.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===X&&Y7(Be)===B.type)?(B=w(B,Q.props),M0(B,Q),B.return=Y,B):(B=N2(Q.type,Q.key,Q.props,null,Y.mode,pe),M0(B,Q),B.return=Y,B)}function te(Y,B,Q,pe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=PM(Q,Y.mode,pe),B.return=Y,B):(B=w(B,Q.children||[]),B.return=Y,B)}function le(Y,B,Q,pe,Be){return B===null||B.tag!==7?(B=wd(Q,Y.mode,pe,Be),B.return=Y,B):(B=w(B,Q),B.return=Y,B)}function ye(Y,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=RM(""+B,Y.mode,Q),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return Q=N2(B.type,B.key,B.props,null,Y.mode,Q),M0(Q,B),Q.return=Y,Q;case _:return B=PM(B,Y.mode,Q),B.return=Y,B;case X:var pe=B._init;return B=pe(B._payload),ye(Y,B,Q)}if(Ke(B)||ae(B))return B=wd(B,Y.mode,Q,null),B.return=Y,B;if(typeof B.then=="function")return ye(Y,Q2(B),Q);if(B.$$typeof===P)return ye(Y,z2(Y,B),Q);ew(Y,B)}return null}function ie(Y,B,Q,pe){var Be=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Be!==null?null:$(Y,B,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Be?F(Y,B,Q,pe):null;case _:return Q.key===Be?te(Y,B,Q,pe):null;case X:return Be=Q._init,Q=Be(Q._payload),ie(Y,B,Q,pe)}if(Ke(Q)||ae(Q))return Be!==null?null:le(Y,B,Q,pe,null);if(typeof Q.then=="function")return ie(Y,B,Q2(Q),pe);if(Q.$$typeof===P)return ie(Y,B,z2(Y,Q),pe);ew(Y,Q)}return null}function ne(Y,B,Q,pe,Be){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Y=Y.get(Q)||null,$(B,Y,""+pe,Be);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return Y=Y.get(pe.key===null?Q:pe.key)||null,F(B,Y,pe,Be);case _:return Y=Y.get(pe.key===null?Q:pe.key)||null,te(B,Y,pe,Be);case X:var Et=pe._init;return pe=Et(pe._payload),ne(Y,B,Q,pe,Be)}if(Ke(pe)||ae(pe))return Y=Y.get(Q)||null,le(B,Y,pe,Be,null);if(typeof pe.then=="function")return ne(Y,B,Q,Q2(pe),Be);if(pe.$$typeof===P)return ne(Y,B,Q,z2(B,pe),Be);ew(B,pe)}return null}function dt(Y,B,Q,pe){for(var Be=null,Et=null,et=B,ut=B=0,Fr=null;et!==null&&ut<Q.length;ut++){et.index>ut?(Fr=et,et=null):Fr=et.sibling;var Vt=ie(Y,et,Q[ut],pe);if(Vt===null){et===null&&(et=Fr);break}o&&et&&Vt.alternate===null&&c(Y,et),B=x(Vt,B,ut),Et===null?Be=Vt:Et.sibling=Vt,Et=Vt,et=Fr}if(ut===Q.length)return p(Y,et),qt&&Sd(Y,ut),Be;if(et===null){for(;ut<Q.length;ut++)et=ye(Y,Q[ut],pe),et!==null&&(B=x(et,B,ut),Et===null?Be=et:Et.sibling=et,Et=et);return qt&&Sd(Y,ut),Be}for(et=g(et);ut<Q.length;ut++)Fr=ne(et,Y,ut,Q[ut],pe),Fr!==null&&(o&&Fr.alternate!==null&&et.delete(Fr.key===null?ut:Fr.key),B=x(Fr,B,ut),Et===null?Be=Fr:Et.sibling=Fr,Et=Fr);return o&&et.forEach(function($c){return c(Y,$c)}),qt&&Sd(Y,ut),Be}function at(Y,B,Q,pe){if(Q==null)throw Error(r(151));for(var Be=null,Et=null,et=B,ut=B=0,Fr=null,Vt=Q.next();et!==null&&!Vt.done;ut++,Vt=Q.next()){et.index>ut?(Fr=et,et=null):Fr=et.sibling;var $c=ie(Y,et,Vt.value,pe);if($c===null){et===null&&(et=Fr);break}o&&et&&$c.alternate===null&&c(Y,et),B=x($c,B,ut),Et===null?Be=$c:Et.sibling=$c,Et=$c,et=Fr}if(Vt.done)return p(Y,et),qt&&Sd(Y,ut),Be;if(et===null){for(;!Vt.done;ut++,Vt=Q.next())Vt=ye(Y,Vt.value,pe),Vt!==null&&(B=x(Vt,B,ut),Et===null?Be=Vt:Et.sibling=Vt,Et=Vt);return qt&&Sd(Y,ut),Be}for(et=g(et);!Vt.done;ut++,Vt=Q.next())Vt=ne(et,Y,ut,Vt.value,pe),Vt!==null&&(o&&Vt.alternate!==null&&et.delete(Vt.key===null?ut:Vt.key),B=x(Vt,B,ut),Et===null?Be=Vt:Et.sibling=Vt,Et=Vt);return o&&et.forEach(function(tne){return c(Y,tne)}),qt&&Sd(Y,ut),Be}function ai(Y,B,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Be=Q.key;B!==null;){if(B.key===Be){if(Be=Q.type,Be===S){if(B.tag===7){p(Y,B.sibling),pe=w(B,Q.props.children),pe.return=Y,Y=pe;break e}}else if(B.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===X&&Y7(Be)===B.type){p(Y,B.sibling),pe=w(B,Q.props),M0(pe,Q),pe.return=Y,Y=pe;break e}p(Y,B);break}else c(Y,B);B=B.sibling}Q.type===S?(pe=wd(Q.props.children,Y.mode,pe,Q.key),pe.return=Y,Y=pe):(pe=N2(Q.type,Q.key,Q.props,null,Y.mode,pe),M0(pe,Q),pe.return=Y,Y=pe)}return C(Y);case _:e:{for(Be=Q.key;B!==null;){if(B.key===Be)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){p(Y,B.sibling),pe=w(B,Q.children||[]),pe.return=Y,Y=pe;break e}else{p(Y,B);break}else c(Y,B);B=B.sibling}pe=PM(Q,Y.mode,pe),pe.return=Y,Y=pe}return C(Y);case X:return Be=Q._init,Q=Be(Q._payload),ai(Y,B,Q,pe)}if(Ke(Q))return dt(Y,B,Q,pe);if(ae(Q)){if(Be=ae(Q),typeof Be!="function")throw Error(r(150));return Q=Be.call(Q),at(Y,B,Q,pe)}if(typeof Q.then=="function")return ai(Y,B,Q2(Q),pe);if(Q.$$typeof===P)return ai(Y,B,z2(Y,Q),pe);ew(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(p(Y,B.sibling),pe=w(B,Q),pe.return=Y,Y=pe):(p(Y,B),pe=RM(Q,Y.mode,pe),pe.return=Y,Y=pe),C(Y)):p(Y,B)}return function(Y,B,Q,pe){try{x0=0;var Be=ai(Y,B,Q,pe);return lm=null,Be}catch(et){if(et===f0||et===G2)throw et;var Et=Is(29,et,null,Y.mode);return Et.lanes=pe,Et.return=Y,Et}finally{}}}var um=Z7(!0),K7=Z7(!1),fa=he(null),Go=null;function fc(o){var c=o.alternate;Te(Tr,Tr.current&1),Te(fa,o),Go===null&&(c===null||nm.current!==null||c.memoizedState!==null)&&(Go=o)}function J7(o){if(o.tag===22){if(Te(Tr,Tr.current),Te(fa,o),Go===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Go=o)}}else mc()}function mc(){Te(Tr,Tr.current),Te(fa,fa.current)}function Zl(o){Pe(fa),Go===o&&(Go=null),Pe(Tr)}var Tr=he(0);function tw(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||eE(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function hT(o,c,p,g){c=o.memoizedState,p=p(g,c),p=p==null?c:m({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var dT={enqueueSetState:function(o,c,p){o=o._reactInternals;var g=Ps(),w=hc(g);w.payload=c,p!=null&&(w.callback=p),c=dc(o,w,g),c!==null&&(Os(c,o,g),y0(c,o,g))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var g=Ps(),w=hc(g);w.tag=1,w.payload=c,p!=null&&(w.callback=p),c=dc(o,w,g),c!==null&&(Os(c,o,g),y0(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Ps(),g=hc(p);g.tag=2,c!=null&&(g.callback=c),c=dc(o,g,p),c!==null&&(Os(c,o,p),y0(c,o,p))}};function X7(o,c,p,g,w,x,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,x,C):c.prototype&&c.prototype.isPureReactComponent?!a0(p,g)||!a0(w,x):!0}function Q7(o,c,p,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==o&&dT.enqueueReplaceState(c,c.state,null)}function $d(o,c){var p=c;if("ref"in c){p={};for(var g in c)g!=="ref"&&(p[g]=c[g])}if(o=o.defaultProps){p===c&&(p=m({},p));for(var w in o)p[w]===void 0&&(p[w]=o[w])}return p}var iw=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function eO(o){iw(o)}function tO(o){console.error(o)}function iO(o){iw(o)}function rw(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function rO(o,c,p){try{var g=o.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function pT(o,c,p){return p=hc(p),p.tag=3,p.payload={element:null},p.callback=function(){rw(o,c)},p}function nO(o){return o=hc(o),o.tag=3,o}function sO(o,c,p,g){var w=p.type.getDerivedStateFromError;if(typeof w=="function"){var x=g.value;o.payload=function(){return w(x)},o.callback=function(){rO(c,p,g)}}var C=p.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){rO(c,p,g),typeof w!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var $=g.stack;this.componentDidCatch(g.value,{componentStack:$!==null?$:""})})}function tre(o,c,p,g,w){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=p.alternate,c!==null&&h0(c,p,w,!0),p=fa.current,p!==null){switch(p.tag){case 13:return Go===null?DT():p.alternate===null&&Wi===0&&(Wi=3),p.flags&=-257,p.flags|=65536,p.lanes=w,g===GM?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([g]):c.add(g),FT(o,g,w)),!1;case 22:return p.flags|=65536,g===GM?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([g]):p.add(g)),FT(o,g,w)),!1}throw Error(r(435,p.tag))}return FT(o,g,w),DT(),!1}if(qt)return c=fa.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,g!==LM&&(o=Error(r(422),{cause:g}),c0(ca(o,p)))):(g!==LM&&(c=Error(r(423),{cause:g}),c0(ca(c,p))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,g=ca(g,p),w=pT(o.stateNode,g,w),HM(o,w),Wi!==4&&(Wi=2)),!1;var x=Error(r(520),{cause:g});if(x=ca(x,p),R0===null?R0=[x]:R0.push(x),Wi!==4&&(Wi=2),c===null)return!0;g=ca(g,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=w&-w,p.lanes|=o,o=pT(p.stateNode,g,o),HM(p,o),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_c===null||!_c.has(x))))return p.flags|=65536,w&=-w,p.lanes|=w,w=nO(w),sO(w,o,p,g),HM(p,w),!1}p=p.return}while(p!==null);return!1}var aO=Error(r(461)),Dr=!1;function Qr(o,c,p,g){c.child=o===null?K7(c,null,p,g):um(c,o.child,p,g)}function oO(o,c,p,g,w){p=p.render;var x=c.ref;if("ref"in g){var C={};for(var $ in g)$!=="ref"&&(C[$]=g[$])}else C=g;return Ed(c),g=KM(o,c,p,C,x,w),$=JM(),o!==null&&!Dr?(XM(o,c,w),Kl(o,c,w)):(qt&&$&&OM(c),c.flags|=1,Qr(o,c,g,w),c.child)}function lO(o,c,p,g,w){if(o===null){var x=p.type;return typeof x=="function"&&!AM(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,uO(o,c,x,g,w)):(o=N2(p.type,null,g,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(x=o.child,!_T(o,w)){var C=x.memoizedProps;if(p=p.compare,p=p!==null?p:a0,p(C,g)&&o.ref===c.ref)return Kl(o,c,w)}return c.flags|=1,o=Vl(x,g),o.ref=c.ref,o.return=c,c.child=o}function uO(o,c,p,g,w){if(o!==null){var x=o.memoizedProps;if(a0(x,g)&&o.ref===c.ref)if(Dr=!1,c.pendingProps=g=x,_T(o,w))(o.flags&131072)!==0&&(Dr=!0);else return c.lanes=o.lanes,Kl(o,c,w)}return fT(o,c,p,g,w)}function cO(o,c,p){var g=c.pendingProps,w=g.children,x=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=x!==null?x.baseLanes|p:p,o!==null){for(w=c.child=o.child,x=0;w!==null;)x=x|w.lanes|w.childLanes,w=w.sibling;c.childLanes=x&~g}else c.childLanes=0,c.child=null;return hO(o,c,g,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&U2(c,x!==null?x.cachePool:null),x!==null?u7(c,x):WM(),J7(c);else return c.lanes=c.childLanes=536870912,hO(o,c,x!==null?x.baseLanes|p:p,p)}else x!==null?(U2(c,x.cachePool),u7(c,x),mc(),c.memoizedState=null):(o!==null&&U2(c,null),WM(),mc());return Qr(o,c,w,p),c.child}function hO(o,c,p,g){var w=UM();return w=w===null?null:{parent:Mr._currentValue,pool:w},c.memoizedState={baseLanes:p,cachePool:w},o!==null&&U2(c,null),WM(),J7(c),o!==null&&h0(o,c,g,!0),null}function nw(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function fT(o,c,p,g,w){return Ed(c),p=KM(o,c,p,g,void 0,w),g=JM(),o!==null&&!Dr?(XM(o,c,w),Kl(o,c,w)):(qt&&g&&OM(c),c.flags|=1,Qr(o,c,p,w),c.child)}function dO(o,c,p,g,w,x){return Ed(c),c.updateQueue=null,p=h7(c,g,p,w),c7(o),g=JM(),o!==null&&!Dr?(XM(o,c,x),Kl(o,c,x)):(qt&&g&&OM(c),c.flags|=1,Qr(o,c,p,x),c.child)}function pO(o,c,p,g,w){if(Ed(c),c.stateNode===null){var x=Qf,C=p.contextType;typeof C=="object"&&C!==null&&(x=pn(C)),x=new p(g,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=dT,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=g,x.state=c.memoizedState,x.refs={},VM(c),C=p.contextType,x.context=typeof C=="object"&&C!==null?pn(C):Qf,x.state=c.memoizedState,C=p.getDerivedStateFromProps,typeof C=="function"&&(hT(c,p,C,g),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&dT.enqueueReplaceState(x,x.state,null),v0(c,g,x,w),g0(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){x=c.stateNode;var $=c.memoizedProps,F=$d(p,$);x.props=F;var te=x.context,le=p.contextType;C=Qf,typeof le=="object"&&le!==null&&(C=pn(le));var ye=p.getDerivedStateFromProps;le=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",$=c.pendingProps!==$,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||($||te!==C)&&Q7(c,x,g,C),cc=!1;var ie=c.memoizedState;x.state=ie,v0(c,g,x,w),g0(),te=c.memoizedState,$||ie!==te||cc?(typeof ye=="function"&&(hT(c,p,ye,g),te=c.memoizedState),(F=cc||X7(c,p,F,g,ie,te,C))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=te),x.props=g,x.state=te,x.context=C,g=F):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{x=c.stateNode,BM(o,c),C=c.memoizedProps,le=$d(p,C),x.props=le,ye=c.pendingProps,ie=x.context,te=p.contextType,F=Qf,typeof te=="object"&&te!==null&&(F=pn(te)),$=p.getDerivedStateFromProps,(te=typeof $=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ye||ie!==F)&&Q7(c,x,g,F),cc=!1,ie=c.memoizedState,x.state=ie,v0(c,g,x,w),g0();var ne=c.memoizedState;C!==ye||ie!==ne||cc||o!==null&&o.dependencies!==null&&F2(o.dependencies)?(typeof $=="function"&&(hT(c,p,$,g),ne=c.memoizedState),(le=cc||X7(c,p,le,g,ie,ne,F)||o!==null&&o.dependencies!==null&&F2(o.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,ne,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,ne,F)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ne),x.props=g,x.state=ne,x.context=F,g=le):(typeof x.componentDidUpdate!="function"||C===o.memoizedProps&&ie===o.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&ie===o.memoizedState||(c.flags|=1024),g=!1)}return x=g,nw(o,c),g=(c.flags&128)!==0,x||g?(x=c.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,o!==null&&g?(c.child=um(c,o.child,null,w),c.child=um(c,null,p,w)):Qr(o,c,p,w),c.memoizedState=x.state,o=c.child):o=Kl(o,c,w),o}function fO(o,c,p,g){return u0(),c.flags|=256,Qr(o,c,p,g),c.child}var mT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yT(o){return{baseLanes:o,cachePool:t7()}}function gT(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=ma),o}function mO(o,c,p){var g=c.pendingProps,w=!1,x=(c.flags&128)!==0,C;if((C=x)||(C=o!==null&&o.memoizedState===null?!1:(Tr.current&2)!==0),C&&(w=!0,c.flags&=-129),C=(c.flags&32)!==0,c.flags&=-33,o===null){if(qt){if(w?fc(c):mc(),qt){var $=qi,F;if(F=$){e:{for(F=$,$=Uo;F.nodeType!==8;){if(!$){$=null;break e}if(F=eo(F.nextSibling),F===null){$=null;break e}}$=F}$!==null?(c.memoizedState={dehydrated:$,treeContext:_d!==null?{id:Bl,overflow:Hl}:null,retryLane:536870912,hydrationErrors:null},F=Is(18,null,null,0),F.stateNode=$,F.return=c,c.child=F,kn=c,qi=null,F=!0):F=!1}F||Md(c)}if($=c.memoizedState,$!==null&&($=$.dehydrated,$!==null))return eE($)?c.lanes=32:c.lanes=536870912,null;Zl(c)}return $=g.children,g=g.fallback,w?(mc(),w=c.mode,$=sw({mode:"hidden",children:$},w),g=wd(g,w,p,null),$.return=c,g.return=c,$.sibling=g,c.child=$,w=c.child,w.memoizedState=yT(p),w.childLanes=gT(o,C,p),c.memoizedState=mT,g):(fc(c),vT(c,$))}if(F=o.memoizedState,F!==null&&($=F.dehydrated,$!==null)){if(x)c.flags&256?(fc(c),c.flags&=-257,c=bT(o,c,p)):c.memoizedState!==null?(mc(),c.child=o.child,c.flags|=128,c=null):(mc(),w=g.fallback,$=c.mode,g=sw({mode:"visible",children:g.children},$),w=wd(w,$,p,null),w.flags|=2,g.return=c,w.return=c,g.sibling=w,c.child=g,um(c,o.child,null,p),g=c.child,g.memoizedState=yT(p),g.childLanes=gT(o,C,p),c.memoizedState=mT,c=w);else if(fc(c),eE($)){if(C=$.nextSibling&&$.nextSibling.dataset,C)var te=C.dgst;C=te,g=Error(r(419)),g.stack="",g.digest=C,c0({value:g,source:null,stack:null}),c=bT(o,c,p)}else if(Dr||h0(o,c,p,!1),C=(p&o.childLanes)!==0,Dr||C){if(C=mi,C!==null&&(g=p&-p,g=(g&42)!==0?1:md(g),g=(g&(C.suspendedLanes|p))!==0?0:g,g!==0&&g!==F.retryLane))throw F.retryLane=g,Xf(o,g),Os(C,o,g),aO;$.data==="$?"||DT(),c=bT(o,c,p)}else $.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=F.treeContext,qi=eo($.nextSibling),kn=c,qt=!0,xd=null,Uo=!1,o!==null&&(da[pa++]=Bl,da[pa++]=Hl,da[pa++]=_d,Bl=o.id,Hl=o.overflow,_d=c),c=vT(c,g.children),c.flags|=4096);return c}return w?(mc(),w=g.fallback,$=c.mode,F=o.child,te=F.sibling,g=Vl(F,{mode:"hidden",children:g.children}),g.subtreeFlags=F.subtreeFlags&65011712,te!==null?w=Vl(te,w):(w=wd(w,$,p,null),w.flags|=2),w.return=c,g.return=c,g.sibling=w,c.child=g,g=w,w=c.child,$=o.child.memoizedState,$===null?$=yT(p):(F=$.cachePool,F!==null?(te=Mr._currentValue,F=F.parent!==te?{parent:te,pool:te}:F):F=t7(),$={baseLanes:$.baseLanes|p,cachePool:F}),w.memoizedState=$,w.childLanes=gT(o,C,p),c.memoizedState=mT,g):(fc(c),p=o.child,o=p.sibling,p=Vl(p,{mode:"visible",children:g.children}),p.return=c,p.sibling=null,o!==null&&(C=c.deletions,C===null?(c.deletions=[o],c.flags|=16):C.push(o)),c.child=p,c.memoizedState=null,p)}function vT(o,c){return c=sw({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function sw(o,c){return o=Is(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function bT(o,c,p){return um(c,o.child,null,p),o=vT(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function yO(o,c,p){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),DM(o.return,c,p)}function wT(o,c,p,g,w){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:w}:(x.isBackwards=c,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=p,x.tailMode=w)}function gO(o,c,p){var g=c.pendingProps,w=g.revealOrder,x=g.tail;if(Qr(o,c,g.children,p),g=Tr.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&yO(o,p,c);else if(o.tag===19)yO(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(Te(Tr,g),w){case"forwards":for(p=c.child,w=null;p!==null;)o=p.alternate,o!==null&&tw(o)===null&&(w=p),p=p.sibling;p=w,p===null?(w=c.child,c.child=null):(w=p.sibling,p.sibling=null),wT(c,!1,w,p,x);break;case"backwards":for(p=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&tw(o)===null){c.child=w;break}o=w.sibling,w.sibling=p,p=w,w=o}wT(c,!0,p,null,x);break;case"together":wT(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Kl(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),wc|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(h0(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=Vl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Vl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function _T(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&F2(o)))}function ire(o,c,p){switch(c.tag){case 3:ri(c,c.stateNode.containerInfo),uc(c,Mr,o.memoizedState.cache),u0();break;case 27:case 5:rr(c);break;case 4:ri(c,c.stateNode.containerInfo);break;case 10:uc(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(fc(c),c.flags|=128,null):(p&c.child.childLanes)!==0?mO(o,c,p):(fc(c),o=Kl(o,c,p),o!==null?o.sibling:null);fc(c);break;case 19:var w=(o.flags&128)!==0;if(g=(p&c.childLanes)!==0,g||(h0(o,c,p,!1),g=(p&c.childLanes)!==0),w){if(g)return gO(o,c,p);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Te(Tr,Tr.current),g)break;return null;case 22:case 23:return c.lanes=0,cO(o,c,p);case 24:uc(c,Mr,o.memoizedState.cache)}return Kl(o,c,p)}function vO(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)Dr=!0;else{if(!_T(o,p)&&(c.flags&128)===0)return Dr=!1,ire(o,c,p);Dr=(o.flags&131072)!==0}else Dr=!1,qt&&(c.flags&1048576)!==0&&Y9(c,j2,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,w=g._init;if(g=w(g._payload),c.type=g,typeof g=="function")AM(g)?(o=$d(g,o),c.tag=1,c=pO(null,c,g,o,p)):(c.tag=0,c=fT(null,c,g,o,p));else{if(g!=null){if(w=g.$$typeof,w===N){c.tag=11,c=oO(null,c,g,o,p);break e}else if(w===q){c.tag=14,c=lO(null,c,g,o,p);break e}}throw c=Me(g)||g,Error(r(306,c,""))}}return c;case 0:return fT(o,c,c.type,c.pendingProps,p);case 1:return g=c.type,w=$d(g,c.pendingProps),pO(o,c,g,w,p);case 3:e:{if(ri(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var x=c.memoizedState;w=x.element,BM(o,c),v0(c,g,null,p);var C=c.memoizedState;if(g=C.cache,uc(c,Mr,g),g!==x.cache&&jM(c,[Mr],p,!0),g0(),g=C.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:C.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=fO(o,c,g,p);break e}else if(g!==w){w=ca(Error(r(424)),c),c0(w),c=fO(o,c,g,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(qi=eo(o.firstChild),kn=c,qt=!0,xd=null,Uo=!0,p=K7(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(u0(),g===w){c=Kl(o,c,p);break e}Qr(o,c,g,p)}c=c.child}return c;case 26:return nw(o,c),o===null?(p=Sk(c.type,null,c.pendingProps,null))?c.memoizedState=p:qt||(p=c.type,o=c.pendingProps,g=bw(rt.current).createElement(p),g[de]=c,g[_e]=o,tn(g,p,o),Nt(g),c.stateNode=g):c.memoizedState=Sk(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return rr(c),o===null&&qt&&(g=c.stateNode=bk(c.type,c.pendingProps,rt.current),kn=c,Uo=!0,w=qi,Mc(c.type)?(tE=w,qi=eo(g.firstChild)):qi=w),Qr(o,c,c.pendingProps.children,p),nw(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&qt&&((w=g=qi)&&(g=Are(g,c.type,c.pendingProps,Uo),g!==null?(c.stateNode=g,kn=c,qi=eo(g.firstChild),Uo=!1,w=!0):w=!1),w||Md(c)),rr(c),w=c.type,x=c.pendingProps,C=o!==null?o.memoizedProps:null,g=x.children,JT(w,x)?g=null:C!==null&&JT(w,C)&&(c.flags|=32),c.memoizedState!==null&&(w=KM(o,c,Yie,null,null,p),z0._currentValue=w),nw(o,c),Qr(o,c,g,p),c.child;case 6:return o===null&&qt&&((o=p=qi)&&(p=Rre(p,c.pendingProps,Uo),p!==null?(c.stateNode=p,kn=c,qi=null,o=!0):o=!1),o||Md(c)),null;case 13:return mO(o,c,p);case 4:return ri(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=um(c,null,g,p):Qr(o,c,g,p),c.child;case 11:return oO(o,c,c.type,c.pendingProps,p);case 7:return Qr(o,c,c.pendingProps,p),c.child;case 8:return Qr(o,c,c.pendingProps.children,p),c.child;case 12:return Qr(o,c,c.pendingProps.children,p),c.child;case 10:return g=c.pendingProps,uc(c,c.type,g.value),Qr(o,c,g.children,p),c.child;case 9:return w=c.type._context,g=c.pendingProps.children,Ed(c),w=pn(w),g=g(w),c.flags|=1,Qr(o,c,g,p),c.child;case 14:return lO(o,c,c.type,c.pendingProps,p);case 15:return uO(o,c,c.type,c.pendingProps,p);case 19:return gO(o,c,p);case 31:return g=c.pendingProps,p=c.mode,g={mode:g.mode,children:g.children},o===null?(p=sw(g,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=Vl(o.child,g),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return cO(o,c,p);case 24:return Ed(c),g=pn(Mr),o===null?(w=UM(),w===null&&(w=mi,x=FM(),w.pooledCache=x,x.refCount++,x!==null&&(w.pooledCacheLanes|=p),w=x),c.memoizedState={parent:g,cache:w},VM(c),uc(c,Mr,w)):((o.lanes&p)!==0&&(BM(o,c),v0(c,null,null,p),g0()),w=o.memoizedState,x=c.memoizedState,w.parent!==g?(w={parent:g,cache:g},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),uc(c,Mr,g)):(g=x.cache,uc(c,Mr,g),g!==w.cache&&jM(c,[Mr],p,!0))),Qr(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Jl(o){o.flags|=4}function bO(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Ck(c)){if(c=fa.current,c!==null&&((Ft&4194048)===Ft?Go!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||c!==Go))throw m0=GM,i7;o.flags|=8192}}function aw(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Gf():536870912,o.lanes|=c,pm|=c)}function T0(o,c){if(!qt)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Di(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,g=0;if(c)for(var w=o.child;w!==null;)p|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)p|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=p,c}function rre(o,c,p){var g=c.pendingProps;switch(kM(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(c),null;case 1:return Di(c),null;case 3:return p=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Wl(Mr),sa(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(l0(c)?Jl(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,J9())),Di(c),null;case 26:return p=c.memoizedState,o===null?(Jl(c),p!==null?(Di(c),bO(c,p)):(Di(c),c.flags&=-16777217)):p?p!==o.memoizedState?(Jl(c),Di(c),bO(c,p)):(Di(c),c.flags&=-16777217):(o.memoizedProps!==g&&Jl(c),Di(c),c.flags&=-16777217),null;case 27:xs(c),p=rt.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Jl(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Di(c),null}o=Ye.current,l0(c)?Z9(c):(o=bk(w,g,p),c.stateNode=o,Jl(c))}return Di(c),null;case 5:if(xs(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Jl(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Di(c),null}if(o=Ye.current,l0(c))Z9(c);else{switch(w=bw(rt.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?w.createElement(p,{is:g.is}):w.createElement(p)}}o[de]=c,o[_e]=g;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(tn(o,p,g),p){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Jl(c)}}return Di(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Jl(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=rt.current,l0(c)){if(o=c.stateNode,p=c.memoizedProps,g=null,w=kn,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}o[de]=c,o=!!(o.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||dk(o.nodeValue,p)),o||Md(c)}else o=bw(o).createTextNode(g),o[de]=c,c.stateNode=o}return Di(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=l0(c),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[de]=c}else u0(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Di(c),w=!1}else w=J9(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Zl(c),c):(Zl(c),null)}if(Zl(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=g!==null,o=o!==null&&o.memoizedState!==null,p){g=c.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var x=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==w&&(g.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),aw(c,c.updateQueue),Di(c),null;case 4:return sa(),o===null&&qT(c.stateNode.containerInfo),Di(c),null;case 10:return Wl(c.type),Di(c),null;case 19:if(Pe(Tr),w=c.memoizedState,w===null)return Di(c),null;if(g=(c.flags&128)!==0,x=w.rendering,x===null)if(g)T0(w,!1);else{if(Wi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(x=tw(o),x!==null){for(c.flags|=128,T0(w,!1),o=x.updateQueue,c.updateQueue=o,aw(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)W9(p,o),p=p.sibling;return Te(Tr,Tr.current&1|2),c.child}o=o.sibling}w.tail!==null&&On()>uw&&(c.flags|=128,g=!0,T0(w,!1),c.lanes=4194304)}else{if(!g)if(o=tw(x),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,aw(c,o),T0(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!qt)return Di(c),null}else 2*On()-w.renderingStartTime>uw&&p!==536870912&&(c.flags|=128,g=!0,T0(w,!1),c.lanes=4194304);w.isBackwards?(x.sibling=c.child,c.child=x):(o=w.last,o!==null?o.sibling=x:c.child=x,w.last=x)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=On(),c.sibling=null,o=Tr.current,Te(Tr,g?o&1|2:o&1),c):(Di(c),null);case 22:case 23:return Zl(c),YM(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(p&536870912)!==0&&(c.flags&128)===0&&(Di(c),c.subtreeFlags&6&&(c.flags|=8192)):Di(c),p=c.updateQueue,p!==null&&aw(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048),o!==null&&Pe(Cd),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Wl(Mr),Di(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function nre(o,c){switch(kM(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Wl(Mr),sa(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return xs(c),null;case 13:if(Zl(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));u0()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Pe(Tr),null;case 4:return sa(),null;case 10:return Wl(c.type),null;case 22:case 23:return Zl(c),YM(),o!==null&&Pe(Cd),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Wl(Mr),null;case 25:return null;default:return null}}function wO(o,c){switch(kM(c),c.tag){case 3:Wl(Mr),sa();break;case 26:case 27:case 5:xs(c);break;case 4:sa();break;case 13:Zl(c);break;case 19:Pe(Tr);break;case 10:Wl(c.type);break;case 22:case 23:Zl(c),YM(),o!==null&&Pe(Cd);break;case 24:Wl(Mr)}}function E0(o,c){try{var p=c.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var w=g.next;p=w;do{if((p.tag&o)===o){g=void 0;var x=p.create,C=p.inst;g=x(),C.destroy=g}p=p.next}while(p!==w)}}catch($){hi(c,c.return,$)}}function yc(o,c,p){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var x=w.next;g=x;do{if((g.tag&o)===o){var C=g.inst,$=C.destroy;if($!==void 0){C.destroy=void 0,w=c;var F=p,te=$;try{te()}catch(le){hi(w,F,le)}}}g=g.next}while(g!==x)}}catch(le){hi(c,c.return,le)}}function _O(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{l7(c,p)}catch(g){hi(o,o.return,g)}}}function SO(o,c,p){p.props=$d(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(g){hi(o,c,g)}}function C0(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof p=="function"?o.refCleanup=p(g):p.current=g}}catch(w){hi(o,c,w)}}function Vo(o,c){var p=o.ref,g=o.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(w){hi(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(w){hi(o,c,w)}else p.current=null}function xO(o){var c=o.type,p=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(w){hi(o,o.return,w)}}function ST(o,c,p){try{var g=o.stateNode;Tre(g,o.type,p,c),g[_e]=c}catch(w){hi(o,o.return,w)}}function MO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Mc(o.type)||o.tag===4}function xT(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||MO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Mc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function MT(o,c,p){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=vw));else if(g!==4&&(g===27&&Mc(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(MT(o,c,p),o=o.sibling;o!==null;)MT(o,c,p),o=o.sibling}function ow(o,c,p){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(g!==4&&(g===27&&Mc(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(ow(o,c,p),o=o.sibling;o!==null;)ow(o,c,p),o=o.sibling}function TO(o){var c=o.stateNode,p=o.memoizedProps;try{for(var g=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);tn(c,g,p),c[de]=o,c[_e]=p}catch(x){hi(o,o.return,x)}}var Xl=!1,sr=!1,TT=!1,EO=typeof WeakSet=="function"?WeakSet:Set,jr=null;function sre(o,c){if(o=o.containerInfo,ZT=Tw,o=D9(o),xM(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var w=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var C=0,$=-1,F=-1,te=0,le=0,ye=o,ie=null;t:for(;;){for(var ne;ye!==p||w!==0&&ye.nodeType!==3||($=C+w),ye!==x||g!==0&&ye.nodeType!==3||(F=C+g),ye.nodeType===3&&(C+=ye.nodeValue.length),(ne=ye.firstChild)!==null;)ie=ye,ye=ne;for(;;){if(ye===o)break t;if(ie===p&&++te===w&&($=C),ie===x&&++le===g&&(F=C),(ne=ye.nextSibling)!==null)break;ye=ie,ie=ye.parentNode}ye=ne}p=$===-1||F===-1?null:{start:$,end:F}}else p=null}p=p||{start:0,end:0}}else p=null;for(KT={focusedElem:o,selectionRange:p},Tw=!1,jr=c;jr!==null;)if(c=jr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,jr=o;else for(;jr!==null;){switch(c=jr,x=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&x!==null){o=void 0,p=c,w=x.memoizedProps,x=x.memoizedState,g=p.stateNode;try{var dt=$d(p.type,w,p.elementType===p.type);o=g.getSnapshotBeforeUpdate(dt,x),g.__reactInternalSnapshotBeforeUpdate=o}catch(at){hi(p,p.return,at)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)QT(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":QT(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,jr=o;break}jr=c.return}}function CO(o,c,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:gc(o,p),g&4&&E0(5,p);break;case 1:if(gc(o,p),g&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(C){hi(p,p.return,C)}else{var w=$d(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(C){hi(p,p.return,C)}}g&64&&_O(p),g&512&&C0(p,p.return);break;case 3:if(gc(o,p),g&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{l7(o,c)}catch(C){hi(p,p.return,C)}}break;case 27:c===null&&g&4&&TO(p);case 26:case 5:gc(o,p),c===null&&g&4&&xO(p),g&512&&C0(p,p.return);break;case 12:gc(o,p);break;case 13:gc(o,p),g&4&&AO(o,p),g&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=fre.bind(null,p),Pre(o,p))));break;case 22:if(g=p.memoizedState!==null||Xl,!g){c=c!==null&&c.memoizedState!==null||sr,w=Xl;var x=sr;Xl=g,(sr=c)&&!x?vc(o,p,(p.subtreeFlags&8772)!==0):gc(o,p),Xl=w,sr=x}break;case 30:break;default:gc(o,p)}}function IO(o){var c=o.alternate;c!==null&&(o.alternate=null,IO(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&je(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Pi=null,Xn=!1;function Ql(o,c,p){for(p=p.child;p!==null;)$O(o,c,p),p=p.sibling}function $O(o,c,p){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(dn,p)}catch{}switch(p.tag){case 26:sr||Vo(p,c),Ql(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:sr||Vo(p,c);var g=Pi,w=Xn;Mc(p.type)&&(Pi=p.stateNode,Xn=!1),Ql(o,c,p),N0(p.stateNode),Pi=g,Xn=w;break;case 5:sr||Vo(p,c);case 6:if(g=Pi,w=Xn,Pi=null,Ql(o,c,p),Pi=g,Xn=w,Pi!==null)if(Xn)try{(Pi.nodeType===9?Pi.body:Pi.nodeName==="HTML"?Pi.ownerDocument.body:Pi).removeChild(p.stateNode)}catch(x){hi(p,c,x)}else try{Pi.removeChild(p.stateNode)}catch(x){hi(p,c,x)}break;case 18:Pi!==null&&(Xn?(o=Pi,gk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),B0(o)):gk(Pi,p.stateNode));break;case 4:g=Pi,w=Xn,Pi=p.stateNode.containerInfo,Xn=!0,Ql(o,c,p),Pi=g,Xn=w;break;case 0:case 11:case 14:case 15:sr||yc(2,p,c),sr||yc(4,p,c),Ql(o,c,p);break;case 1:sr||(Vo(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"&&SO(p,c,g)),Ql(o,c,p);break;case 21:Ql(o,c,p);break;case 22:sr=(g=sr)||p.memoizedState!==null,Ql(o,c,p),sr=g;break;default:Ql(o,c,p)}}function AO(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{B0(o)}catch(p){hi(c,c.return,p)}}function are(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new EO),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new EO),c;default:throw Error(r(435,o.tag))}}function ET(o,c){var p=are(o);c.forEach(function(g){var w=mre.bind(null,o,g);p.has(g)||(p.add(g),g.then(w,w))})}function $s(o,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var w=p[g],x=o,C=c,$=C;e:for(;$!==null;){switch($.tag){case 27:if(Mc($.type)){Pi=$.stateNode,Xn=!1;break e}break;case 5:Pi=$.stateNode,Xn=!1;break e;case 3:case 4:Pi=$.stateNode.containerInfo,Xn=!0;break e}$=$.return}if(Pi===null)throw Error(r(160));$O(x,C,w),Pi=null,Xn=!1,x=w.alternate,x!==null&&(x.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)RO(c,o),c=c.sibling}var Qa=null;function RO(o,c){var p=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$s(c,o),As(o),g&4&&(yc(3,o,o.return),E0(3,o),yc(5,o,o.return));break;case 1:$s(c,o),As(o),g&512&&(sr||p===null||Vo(p,p.return)),g&64&&Xl&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var w=Qa;if($s(c,o),As(o),g&512&&(sr||p===null||Vo(p,p.return)),g&4){var x=p!==null?p.memoizedState:null;if(g=o.memoizedState,p===null)if(g===null)if(o.stateNode===null){e:{g=o.type,p=o.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":x=w.getElementsByTagName("title")[0],(!x||x[st]||x[de]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=w.createElement(g),w.head.insertBefore(x,w.querySelector("head > title"))),tn(x,g,p),x[de]=o,Nt(x),g=x;break e;case"link":var C=Tk("link","href",w).get(g+(p.href||""));if(C){for(var $=0;$<C.length;$++)if(x=C[$],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){C.splice($,1);break t}}x=w.createElement(g),tn(x,g,p),w.head.appendChild(x);break;case"meta":if(C=Tk("meta","content",w).get(g+(p.content||""))){for($=0;$<C.length;$++)if(x=C[$],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){C.splice($,1);break t}}x=w.createElement(g),tn(x,g,p),w.head.appendChild(x);break;default:throw Error(r(468,g))}x[de]=o,Nt(x),g=x}o.stateNode=g}else Ek(w,o.type,o.stateNode);else o.stateNode=Mk(w,g,o.memoizedProps);else x!==g?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,g===null?Ek(w,o.type,o.stateNode):Mk(w,g,o.memoizedProps)):g===null&&o.stateNode!==null&&ST(o,o.memoizedProps,p.memoizedProps)}break;case 27:$s(c,o),As(o),g&512&&(sr||p===null||Vo(p,p.return)),p!==null&&g&4&&ST(o,o.memoizedProps,p.memoizedProps);break;case 5:if($s(c,o),As(o),g&512&&(sr||p===null||Vo(p,p.return)),o.flags&32){w=o.stateNode;try{Hf(w,"")}catch(ne){hi(o,o.return,ne)}}g&4&&o.stateNode!=null&&(w=o.memoizedProps,ST(o,w,p!==null?p.memoizedProps:w)),g&1024&&(TT=!0);break;case 6:if($s(c,o),As(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,p=o.stateNode;try{p.nodeValue=g}catch(ne){hi(o,o.return,ne)}}break;case 3:if(Sw=null,w=Qa,Qa=ww(c.containerInfo),$s(c,o),Qa=w,As(o),g&4&&p!==null&&p.memoizedState.isDehydrated)try{B0(c.containerInfo)}catch(ne){hi(o,o.return,ne)}TT&&(TT=!1,PO(o));break;case 4:g=Qa,Qa=ww(o.stateNode.containerInfo),$s(c,o),As(o),Qa=g;break;case 12:$s(c,o),As(o);break;case 13:$s(c,o),As(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(PT=On()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,ET(o,g)));break;case 22:w=o.memoizedState!==null;var F=p!==null&&p.memoizedState!==null,te=Xl,le=sr;if(Xl=te||w,sr=le||F,$s(c,o),sr=le,Xl=te,As(o),g&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(p===null||F||Xl||sr||Ad(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){F=p=c;try{if(x=F.stateNode,w)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{$=F.stateNode;var ye=F.memoizedProps.style,ie=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;$.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(ne){hi(F,F.return,ne)}}}else if(c.tag===6){if(p===null){F=c;try{F.stateNode.nodeValue=w?"":F.memoizedProps}catch(ne){hi(F,F.return,ne)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,ET(o,p))));break;case 19:$s(c,o),As(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,ET(o,g)));break;case 30:break;case 21:break;default:$s(c,o),As(o)}}function As(o){var c=o.flags;if(c&2){try{for(var p,g=o.return;g!==null;){if(MO(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var w=p.stateNode,x=xT(o);ow(o,x,w);break;case 5:var C=p.stateNode;p.flags&32&&(Hf(C,""),p.flags&=-33);var $=xT(o);ow(o,$,C);break;case 3:case 4:var F=p.stateNode.containerInfo,te=xT(o);MT(o,te,F);break;default:throw Error(r(161))}}catch(le){hi(o,o.return,le)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function PO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;PO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function gc(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)CO(o,c.alternate,c),c=c.sibling}function Ad(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:yc(4,c,c.return),Ad(c);break;case 1:Vo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&SO(c,c.return,p),Ad(c);break;case 27:N0(c.stateNode);case 26:case 5:Vo(c,c.return),Ad(c);break;case 22:c.memoizedState===null&&Ad(c);break;case 30:Ad(c);break;default:Ad(c)}o=o.sibling}}function vc(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,w=o,x=c,C=x.flags;switch(x.tag){case 0:case 11:case 15:vc(w,x,p),E0(4,x);break;case 1:if(vc(w,x,p),g=x,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(te){hi(g,g.return,te)}if(g=x,w=g.updateQueue,w!==null){var $=g.stateNode;try{var F=w.shared.hiddenCallbacks;if(F!==null)for(w.shared.hiddenCallbacks=null,w=0;w<F.length;w++)o7(F[w],$)}catch(te){hi(g,g.return,te)}}p&&C&64&&_O(x),C0(x,x.return);break;case 27:TO(x);case 26:case 5:vc(w,x,p),p&&g===null&&C&4&&xO(x),C0(x,x.return);break;case 12:vc(w,x,p);break;case 13:vc(w,x,p),p&&C&4&&AO(w,x);break;case 22:x.memoizedState===null&&vc(w,x,p),C0(x,x.return);break;case 30:break;default:vc(w,x,p)}c=c.sibling}}function CT(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&d0(p))}function IT(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&d0(o))}function Bo(o,c,p,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)OO(o,c,p,g),c=c.sibling}function OO(o,c,p,g){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Bo(o,c,p,g),w&2048&&E0(9,c);break;case 1:Bo(o,c,p,g);break;case 3:Bo(o,c,p,g),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&d0(o)));break;case 12:if(w&2048){Bo(o,c,p,g),o=c.stateNode;try{var x=c.memoizedProps,C=x.id,$=x.onPostCommit;typeof $=="function"&&$(C,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(F){hi(c,c.return,F)}}else Bo(o,c,p,g);break;case 13:Bo(o,c,p,g);break;case 23:break;case 22:x=c.stateNode,C=c.alternate,c.memoizedState!==null?x._visibility&2?Bo(o,c,p,g):I0(o,c):x._visibility&2?Bo(o,c,p,g):(x._visibility|=2,cm(o,c,p,g,(c.subtreeFlags&10256)!==0)),w&2048&&CT(C,c);break;case 24:Bo(o,c,p,g),w&2048&&IT(c.alternate,c);break;default:Bo(o,c,p,g)}}function cm(o,c,p,g,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var x=o,C=c,$=p,F=g,te=C.flags;switch(C.tag){case 0:case 11:case 15:cm(x,C,$,F,w),E0(8,C);break;case 23:break;case 22:var le=C.stateNode;C.memoizedState!==null?le._visibility&2?cm(x,C,$,F,w):I0(x,C):(le._visibility|=2,cm(x,C,$,F,w)),w&&te&2048&&CT(C.alternate,C);break;case 24:cm(x,C,$,F,w),w&&te&2048&&IT(C.alternate,C);break;default:cm(x,C,$,F,w)}c=c.sibling}}function I0(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,g=c,w=g.flags;switch(g.tag){case 22:I0(p,g),w&2048&&CT(g.alternate,g);break;case 24:I0(p,g),w&2048&&IT(g.alternate,g);break;default:I0(p,g)}c=c.sibling}}var $0=8192;function hm(o){if(o.subtreeFlags&$0)for(o=o.child;o!==null;)kO(o),o=o.sibling}function kO(o){switch(o.tag){case 26:hm(o),o.flags&$0&&o.memoizedState!==null&&Hre(Qa,o.memoizedState,o.memoizedProps);break;case 5:hm(o);break;case 3:case 4:var c=Qa;Qa=ww(o.stateNode.containerInfo),hm(o),Qa=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=$0,$0=16777216,hm(o),$0=c):hm(o));break;default:hm(o)}}function LO(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function A0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];jr=g,DO(g,o)}LO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)NO(o),o=o.sibling}function NO(o){switch(o.tag){case 0:case 11:case 15:A0(o),o.flags&2048&&yc(9,o,o.return);break;case 3:A0(o);break;case 12:A0(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,lw(o)):A0(o);break;default:A0(o)}}function lw(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];jr=g,DO(g,o)}LO(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:yc(8,c,c.return),lw(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,lw(c));break;default:lw(c)}o=o.sibling}}function DO(o,c){for(;jr!==null;){var p=jr;switch(p.tag){case 0:case 11:case 15:yc(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:d0(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,jr=g;else e:for(p=o;jr!==null;){g=jr;var w=g.sibling,x=g.return;if(IO(g),g===p){jr=null;break e}if(w!==null){w.return=x,jr=w;break e}jr=x}}}var ore={getCacheForType:function(o){var c=pn(Mr),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},lre=typeof WeakMap=="function"?WeakMap:Map,ei=0,mi=null,At=null,Ft=0,ti=0,Rs=null,bc=!1,dm=!1,$T=!1,eu=0,Wi=0,wc=0,Rd=0,AT=0,ma=0,pm=0,R0=null,Qn=null,RT=!1,PT=0,uw=1/0,cw=null,_c=null,en=0,Sc=null,fm=null,mm=0,OT=0,kT=null,jO=null,P0=0,LT=null;function Ps(){if((ei&2)!==0&&Ft!==0)return Ft&-Ft;if(ee.T!==null){var o=im;return o!==0?o:GT()}return G()}function FO(){ma===0&&(ma=(Ft&536870912)===0||qt?sc():536870912);var o=fa.current;return o!==null&&(o.flags|=32),ma}function Os(o,c,p){(o===mi&&(ti===2||ti===9)||o.cancelPendingCommit!==null)&&(ym(o,0),xc(o,Ft,ma,!1)),jl(o,p),((ei&2)===0||o!==mi)&&(o===mi&&((ei&2)===0&&(Rd|=p),Wi===4&&xc(o,Ft,ma,!1)),Ho(o))}function zO(o,c,p){if((ei&6)!==0)throw Error(r(327));var g=!p&&(c&124)===0&&(c&o.expiredLanes)===0||la(o,c),w=g?hre(o,c):jT(o,c,!0),x=g;do{if(w===0){dm&&!g&&xc(o,c,0,!1);break}else{if(p=o.current.alternate,x&&!ure(p)){w=jT(o,c,!1),x=!1;continue}if(w===2){if(x=c,o.errorRecoveryDisabledLanes&x)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){c=C;e:{var $=o;w=R0;var F=$.current.memoizedState.isDehydrated;if(F&&(ym($,C).flags|=256),C=jT($,C,!1),C!==2){if($T&&!F){$.errorRecoveryDisabledLanes|=x,Rd|=x,w=4;break e}x=Qn,Qn=w,x!==null&&(Qn===null?Qn=x:Qn.push.apply(Qn,x))}w=C}if(x=!1,w!==2)continue}}if(w===1){ym(o,0),xc(o,c,0,!0);break}e:{switch(g=o,x=w,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:xc(g,c,ma,!bc);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=PT+300-On(),10<w)){if(xc(g,c,ma,!bc),Dl(g,0,!0)!==0)break e;g.timeoutHandle=mk(UO.bind(null,g,p,Qn,cw,RT,c,ma,Rd,pm,bc,x,2,-0,0),w);break e}UO(g,p,Qn,cw,RT,c,ma,Rd,pm,bc,x,0,-0,0)}}break}while(!0);Ho(o)}function UO(o,c,p,g,w,x,C,$,F,te,le,ye,ie,ne){if(o.timeoutHandle=-1,ye=c.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(F0={stylesheets:null,count:0,unsuspend:Bre},kO(c),ye=qre(),ye!==null)){o.cancelPendingCommit=ye(YO.bind(null,o,c,x,p,g,w,C,$,F,le,1,ie,ne)),xc(o,x,C,!te);return}YO(o,c,x,p,g,w,C,$,F)}function ure(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var w=p[g],x=w.getSnapshot;w=w.value;try{if(!Cs(x(),w))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function xc(o,c,p,g){c&=~AT,c&=~Rd,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var w=c;0<w;){var x=31-_r(w),C=1<<x;g[x]=-1,w&=~C}p!==0&&Fl(o,p,c)}function hw(){return(ei&6)===0?(O0(0),!1):!0}function NT(){if(At!==null){if(ti===0)var o=At.return;else o=At,ql=Td=null,QM(o),lm=null,x0=0,o=At;for(;o!==null;)wO(o.alternate,o),o=o.return;At=null}}function ym(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,Cre(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),NT(),mi=o,At=p=Vl(o.current,null),Ft=c,ti=0,Rs=null,bc=!1,dm=la(o,c),$T=!1,pm=ma=AT=Rd=wc=Wi=0,Qn=R0=null,RT=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var w=31-_r(g),x=1<<w;c|=o[w],g&=~x}return eu=c,O2(),p}function GO(o,c){xt=null,ee.H=X2,c===f0||c===G2?(c=s7(),ti=3):c===i7?(c=s7(),ti=4):ti=c===aO?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Rs=c,At===null&&(Wi=1,rw(o,ca(c,o.current)))}function VO(){var o=ee.H;return ee.H=X2,o===null?X2:o}function BO(){var o=ee.A;return ee.A=ore,o}function DT(){Wi=4,bc||(Ft&4194048)!==Ft&&fa.current!==null||(dm=!0),(wc&134217727)===0&&(Rd&134217727)===0||mi===null||xc(mi,Ft,ma,!1)}function jT(o,c,p){var g=ei;ei|=2;var w=VO(),x=BO();(mi!==o||Ft!==c)&&(cw=null,ym(o,c)),c=!1;var C=Wi;e:do try{if(ti!==0&&At!==null){var $=At,F=Rs;switch(ti){case 8:NT(),C=6;break e;case 3:case 2:case 9:case 6:fa.current===null&&(c=!0);var te=ti;if(ti=0,Rs=null,gm(o,$,F,te),p&&dm){C=0;break e}break;default:te=ti,ti=0,Rs=null,gm(o,$,F,te)}}cre(),C=Wi;break}catch(le){GO(o,le)}while(!0);return c&&o.shellSuspendCounter++,ql=Td=null,ei=g,ee.H=w,ee.A=x,At===null&&(mi=null,Ft=0,O2()),C}function cre(){for(;At!==null;)HO(At)}function hre(o,c){var p=ei;ei|=2;var g=VO(),w=BO();mi!==o||Ft!==c?(cw=null,uw=On()+500,ym(o,c)):dm=la(o,c);e:do try{if(ti!==0&&At!==null){c=At;var x=Rs;t:switch(ti){case 1:ti=0,Rs=null,gm(o,c,x,1);break;case 2:case 9:if(r7(x)){ti=0,Rs=null,qO(c);break}c=function(){ti!==2&&ti!==9||mi!==o||(ti=7),Ho(o)},x.then(c,c);break e;case 3:ti=7;break e;case 4:ti=5;break e;case 7:r7(x)?(ti=0,Rs=null,qO(c)):(ti=0,Rs=null,gm(o,c,x,7));break;case 5:var C=null;switch(At.tag){case 26:C=At.memoizedState;case 5:case 27:var $=At;if(!C||Ck(C)){ti=0,Rs=null;var F=$.sibling;if(F!==null)At=F;else{var te=$.return;te!==null?(At=te,dw(te)):At=null}break t}}ti=0,Rs=null,gm(o,c,x,5);break;case 6:ti=0,Rs=null,gm(o,c,x,6);break;case 8:NT(),Wi=6;break e;default:throw Error(r(462))}}dre();break}catch(le){GO(o,le)}while(!0);return ql=Td=null,ee.H=g,ee.A=w,ei=p,At!==null?0:(mi=null,Ft=0,O2(),Wi)}function dre(){for(;At!==null&&!Zg();)HO(At)}function HO(o){var c=vO(o.alternate,o,eu);o.memoizedProps=o.pendingProps,c===null?dw(o):At=c}function qO(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=dO(p,c,c.pendingProps,c.type,void 0,Ft);break;case 11:c=dO(p,c,c.pendingProps,c.type.render,c.ref,Ft);break;case 5:QM(c);default:wO(p,c),c=At=W9(c,eu),c=vO(p,c,eu)}o.memoizedProps=o.pendingProps,c===null?dw(o):At=c}function gm(o,c,p,g){ql=Td=null,QM(c),lm=null,x0=0;var w=c.return;try{if(tre(o,w,c,p,Ft)){Wi=1,rw(o,ca(p,o.current)),At=null;return}}catch(x){if(w!==null)throw At=w,x;Wi=1,rw(o,ca(p,o.current)),At=null;return}c.flags&32768?(qt||g===1?o=!0:dm||(Ft&536870912)!==0?o=!1:(bc=o=!0,(g===2||g===9||g===3||g===6)&&(g=fa.current,g!==null&&g.tag===13&&(g.flags|=16384))),WO(c,o)):dw(c)}function dw(o){var c=o;do{if((c.flags&32768)!==0){WO(c,bc);return}o=c.return;var p=rre(c.alternate,c,eu);if(p!==null){At=p;return}if(c=c.sibling,c!==null){At=c;return}At=c=o}while(c!==null);Wi===0&&(Wi=5)}function WO(o,c){do{var p=nre(o.alternate,o);if(p!==null){p.flags&=32767,At=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){At=o;return}At=o=p}while(o!==null);Wi=6,At=null}function YO(o,c,p,g,w,x,C,$,F){o.cancelPendingCommit=null;do pw();while(en!==0);if((ei&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=IM,Vf(o,p,x,C,$,F),o===mi&&(At=mi=null,Ft=0),fm=c,Sc=o,mm=p,OT=x,kT=w,jO=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,yre(kl,function(){return QO(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=ee.T,ee.T=null,w=we.p,we.p=2,C=ei,ei|=4;try{sre(o,c,p)}finally{ei=C,we.p=w,ee.T=g}}en=1,ZO(),KO(),JO()}}function ZO(){if(en===1){en=0;var o=Sc,c=fm,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=ee.T,ee.T=null;var g=we.p;we.p=2;var w=ei;ei|=4;try{RO(c,o);var x=KT,C=D9(o.containerInfo),$=x.focusedElem,F=x.selectionRange;if(C!==$&&$&&$.ownerDocument&&N9($.ownerDocument.documentElement,$)){if(F!==null&&xM($)){var te=F.start,le=F.end;if(le===void 0&&(le=te),"selectionStart"in $)$.selectionStart=te,$.selectionEnd=Math.min(le,$.value.length);else{var ye=$.ownerDocument||document,ie=ye&&ye.defaultView||window;if(ie.getSelection){var ne=ie.getSelection(),dt=$.textContent.length,at=Math.min(F.start,dt),ai=F.end===void 0?at:Math.min(F.end,dt);!ne.extend&&at>ai&&(C=ai,ai=at,at=C);var Y=L9($,at),B=L9($,ai);if(Y&&B&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==B.node||ne.focusOffset!==B.offset)){var Q=ye.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),at>ai?(ne.addRange(Q),ne.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),ne.addRange(Q))}}}}for(ye=[],ne=$;ne=ne.parentNode;)ne.nodeType===1&&ye.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<ye.length;$++){var pe=ye[$];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Tw=!!ZT,KT=ZT=null}finally{ei=w,we.p=g,ee.T=p}}o.current=c,en=2}}function KO(){if(en===2){en=0;var o=Sc,c=fm,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=ee.T,ee.T=null;var g=we.p;we.p=2;var w=ei;ei|=4;try{CO(o,c.alternate,c)}finally{ei=w,we.p=g,ee.T=p}}en=3}}function JO(){if(en===4||en===3){en=0,Kg();var o=Sc,c=fm,p=mm,g=jO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?en=5:(en=0,fm=Sc=null,XO(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(_c=null),yd(p),c=c.stateNode,bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(dn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=ee.T,w=we.p,we.p=2,ee.T=null;try{for(var x=o.onRecoverableError,C=0;C<g.length;C++){var $=g[C];x($.value,{componentStack:$.stack})}}finally{ee.T=c,we.p=w}}(mm&3)!==0&&pw(),Ho(o),w=o.pendingLanes,(p&4194090)!==0&&(w&42)!==0?o===LT?P0++:(P0=0,LT=o):P0=0,O0(0)}}function XO(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,d0(c)))}function pw(o){return ZO(),KO(),JO(),QO()}function QO(){if(en!==5)return!1;var o=Sc,c=OT;OT=0;var p=yd(mm),g=ee.T,w=we.p;try{we.p=32>p?32:p,ee.T=null,p=kT,kT=null;var x=Sc,C=mm;if(en=0,fm=Sc=null,mm=0,(ei&6)!==0)throw Error(r(331));var $=ei;if(ei|=4,NO(x.current),OO(x,x.current,C,p),ei=$,O0(0,!1),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(dn,x)}catch{}return!0}finally{we.p=w,ee.T=g,XO(o,c)}}function ek(o,c,p){c=ca(p,c),c=pT(o.stateNode,c,2),o=dc(o,c,2),o!==null&&(jl(o,2),Ho(o))}function hi(o,c,p){if(o.tag===3)ek(o,o,p);else for(;c!==null;){if(c.tag===3){ek(c,o,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_c===null||!_c.has(g))){o=ca(p,o),p=nO(2),g=dc(c,p,2),g!==null&&(sO(p,g,c,o),jl(g,2),Ho(g));break}}c=c.return}}function FT(o,c,p){var g=o.pingCache;if(g===null){g=o.pingCache=new lre;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(p)||($T=!0,w.add(p),o=pre.bind(null,o,c,p),c.then(o,o))}function pre(o,c,p){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,mi===o&&(Ft&p)===p&&(Wi===4||Wi===3&&(Ft&62914560)===Ft&&300>On()-PT?(ei&2)===0&&ym(o,0):AT|=p,pm===Ft&&(pm=0)),Ho(o)}function tk(o,c){c===0&&(c=Gf()),o=Xf(o,c),o!==null&&(jl(o,c),Ho(o))}function fre(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),tk(o,p)}function mre(o,c){var p=0;switch(o.tag){case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(p=w.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),tk(o,p)}function yre(o,c){return pd(o,c)}var fw=null,vm=null,zT=!1,mw=!1,UT=!1,Pd=0;function Ho(o){o!==vm&&o.next===null&&(vm===null?fw=vm=o:vm=vm.next=o),mw=!0,zT||(zT=!0,vre())}function O0(o,c){if(!UT&&mw){UT=!0;do for(var p=!1,g=fw;g!==null;){if(o!==0){var w=g.pendingLanes;if(w===0)var x=0;else{var C=g.suspendedLanes,$=g.pingedLanes;x=(1<<31-_r(42|o)+1)-1,x&=w&~(C&~$),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,sk(g,x))}else x=Ft,x=Dl(g,g===mi?x:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(x&3)===0||la(g,x)||(p=!0,sk(g,x));g=g.next}while(p);UT=!1}}function gre(){ik()}function ik(){mw=zT=!1;var o=0;Pd!==0&&(Ere()&&(o=Pd),Pd=0);for(var c=On(),p=null,g=fw;g!==null;){var w=g.next,x=rk(g,c);x===0?(g.next=null,p===null?fw=w:p.next=w,w===null&&(vm=p)):(p=g,(o!==0||(x&3)!==0)&&(mw=!0)),g=w}O0(o)}function rk(o,c){for(var p=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var C=31-_r(x),$=1<<C,F=w[C];F===-1?(($&p)===0||($&g)!==0)&&(w[C]=Uf($,c)):F<=c&&(o.expiredLanes|=$),x&=~$}if(c=mi,p=Ft,p=Dl(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,p===0||o===c&&(ti===2||ti===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Ms(g),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||la(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(g!==null&&Ms(g),yd(p)){case 2:case 8:p=jf;break;case 32:p=kl;break;case 268435456:p=Xr;break;default:p=kl}return g=nk.bind(null,o),p=pd(p,g),o.callbackPriority=c,o.callbackNode=p,c}return g!==null&&g!==null&&Ms(g),o.callbackPriority=2,o.callbackNode=null,2}function nk(o,c){if(en!==0&&en!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(pw()&&o.callbackNode!==p)return null;var g=Ft;return g=Dl(o,o===mi?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(zO(o,g,c),rk(o,On()),o.callbackNode!=null&&o.callbackNode===p?nk.bind(null,o):null)}function sk(o,c){if(pw())return null;zO(o,c,!0)}function vre(){Ire(function(){(ei&6)!==0?pd(Df,gre):ik()})}function GT(){return Pd===0&&(Pd=sc()),Pd}function ak(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:E2(""+o)}function ok(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function bre(o,c,p,g,w){if(c==="submit"&&p&&p.stateNode===w){var x=ak((w[_e]||null).action),C=g.submitter;C&&(c=(c=C[_e]||null)?ak(c.formAction):C.getAttribute("formAction"),c!==null&&(x=c,C=null));var $=new A2("action","action",null,g,w);o.push({event:$,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Pd!==0){var F=C?ok(w,C):new FormData(w);lT(p,{pending:!0,data:F,method:w.method,action:x},null,F)}}else typeof x=="function"&&($.preventDefault(),F=C?ok(w,C):new FormData(w),lT(p,{pending:!0,data:F,method:w.method,action:x},x,F))},currentTarget:w}]})}}for(var VT=0;VT<CM.length;VT++){var BT=CM[VT],wre=BT.toLowerCase(),_re=BT[0].toUpperCase()+BT.slice(1);Xa(wre,"on"+_re)}Xa(z9,"onAnimationEnd"),Xa(U9,"onAnimationIteration"),Xa(G9,"onAnimationStart"),Xa("dblclick","onDoubleClick"),Xa("focusin","onFocus"),Xa("focusout","onBlur"),Xa(jie,"onTransitionRun"),Xa(Fie,"onTransitionStart"),Xa(zie,"onTransitionCancel"),Xa(V9,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sre=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(k0));function lk(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var g=o[p],w=g.event;g=g.listeners;e:{var x=void 0;if(c)for(var C=g.length-1;0<=C;C--){var $=g[C],F=$.instance,te=$.currentTarget;if($=$.listener,F!==x&&w.isPropagationStopped())break e;x=$,w.currentTarget=te;try{x(w)}catch(le){iw(le)}w.currentTarget=null,x=F}else for(C=0;C<g.length;C++){if($=g[C],F=$.instance,te=$.currentTarget,$=$.listener,F!==x&&w.isPropagationStopped())break e;x=$,w.currentTarget=te;try{x(w)}catch(le){iw(le)}w.currentTarget=null,x=F}}}}function Rt(o,c){var p=c[fe];p===void 0&&(p=c[fe]=new Set);var g=o+"__bubble";p.has(g)||(uk(c,o,2,!1),p.add(g))}function HT(o,c,p){var g=0;c&&(g|=4),uk(p,o,g,c)}var yw="_reactListening"+Math.random().toString(36).slice(2);function qT(o){if(!o[yw]){o[yw]=!0,$t.forEach(function(p){p!=="selectionchange"&&(Sre.has(p)||HT(p,!1,o),HT(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[yw]||(c[yw]=!0,HT("selectionchange",!1,c))}}function uk(o,c,p,g){switch(Ok(c)){case 2:var w=Zre;break;case 8:w=Kre;break;default:w=aE}p=w.bind(null,c,p,o),w=void 0,!fM||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(c,p,{capture:!0,passive:w}):o.addEventListener(c,p,!0):w!==void 0?o.addEventListener(c,p,{passive:w}):o.addEventListener(c,p,!1)}function WT(o,c,p,g,w){var x=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var $=g.stateNode.containerInfo;if($===w)break;if(C===4)for(C=g.return;C!==null;){var F=C.tag;if((F===3||F===4)&&C.stateNode.containerInfo===w)return;C=C.return}for(;$!==null;){if(C=lt($),C===null)return;if(F=C.tag,F===5||F===6||F===26||F===27){g=x=C;continue e}$=$.parentNode}}g=g.return}y9(function(){var te=x,le=dM(p),ye=[];e:{var ie=B9.get(o);if(ie!==void 0){var ne=A2,dt=o;switch(o){case"keypress":if(I2(p)===0)break e;case"keydown":case"keyup":ne=yie;break;case"focusin":dt="focus",ne=vM;break;case"focusout":dt="blur",ne=vM;break;case"beforeblur":case"afterblur":ne=vM;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=b9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=nie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=bie;break;case z9:case U9:case G9:ne=oie;break;case V9:ne=_ie;break;case"scroll":case"scrollend":ne=iie;break;case"wheel":ne=xie;break;case"copy":case"cut":case"paste":ne=uie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=_9;break;case"toggle":case"beforetoggle":ne=Tie}var at=(c&4)!==0,ai=!at&&(o==="scroll"||o==="scrollend"),Y=at?ie!==null?ie+"Capture":null:ie;at=[];for(var B=te,Q;B!==null;){var pe=B;if(Q=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||Q===null||Y===null||(pe=Qg(B,Y),pe!=null&&at.push(L0(B,pe,Q))),ai)break;B=B.return}0<at.length&&(ie=new ne(ie,dt,null,p,le),ye.push({event:ie,listeners:at}))}}if((c&7)===0){e:{if(ie=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",ie&&p!==hM&&(dt=p.relatedTarget||p.fromElement)&&(lt(dt)||dt[ze]))break e;if((ne||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,ne?(dt=p.relatedTarget||p.toElement,ne=te,dt=dt?lt(dt):null,dt!==null&&(ai=s(dt),at=dt.tag,dt!==ai||at!==5&&at!==27&&at!==6)&&(dt=null)):(ne=null,dt=te),ne!==dt)){if(at=b9,pe="onMouseLeave",Y="onMouseEnter",B="mouse",(o==="pointerout"||o==="pointerover")&&(at=_9,pe="onPointerLeave",Y="onPointerEnter",B="pointer"),ai=ne==null?ie:Le(ne),Q=dt==null?ie:Le(dt),ie=new at(pe,B+"leave",ne,p,le),ie.target=ai,ie.relatedTarget=Q,pe=null,lt(le)===te&&(at=new at(Y,B+"enter",dt,p,le),at.target=Q,at.relatedTarget=ai,pe=at),ai=pe,ne&&dt)t:{for(at=ne,Y=dt,B=0,Q=at;Q;Q=bm(Q))B++;for(Q=0,pe=Y;pe;pe=bm(pe))Q++;for(;0<B-Q;)at=bm(at),B--;for(;0<Q-B;)Y=bm(Y),Q--;for(;B--;){if(at===Y||Y!==null&&at===Y.alternate)break t;at=bm(at),Y=bm(Y)}at=null}else at=null;ne!==null&&ck(ye,ie,ne,at,!1),dt!==null&&ai!==null&&ck(ye,ai,dt,at,!0)}}e:{if(ie=te?Le(te):window,ne=ie.nodeName&&ie.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ie.type==="file")var Be=$9;else if(C9(ie))if(A9)Be=Lie;else{Be=Oie;var Et=Pie}else ne=ie.nodeName,!ne||ne.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&cM(te.elementType)&&(Be=$9):Be=kie;if(Be&&(Be=Be(o,te))){I9(ye,Be,p,le);break e}Et&&Et(o,ie,te),o==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&uM(ie,"number",ie.value)}switch(Et=te?Le(te):window,o){case"focusin":(C9(Et)||Et.contentEditable==="true")&&(Zf=Et,MM=te,o0=null);break;case"focusout":o0=MM=Zf=null;break;case"mousedown":TM=!0;break;case"contextmenu":case"mouseup":case"dragend":TM=!1,j9(ye,p,le);break;case"selectionchange":if(Die)break;case"keydown":case"keyup":j9(ye,p,le)}var et;if(wM)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Yf?T9(o,p)&&(ut="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(ut="onCompositionStart");ut&&(S9&&p.locale!=="ko"&&(Yf||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Yf&&(et=g9()):(lc=le,mM="value"in lc?lc.value:lc.textContent,Yf=!0)),Et=gw(te,ut),0<Et.length&&(ut=new w9(ut,o,null,p,le),ye.push({event:ut,listeners:Et}),et?ut.data=et:(et=E9(p),et!==null&&(ut.data=et)))),(et=Cie?Iie(o,p):$ie(o,p))&&(ut=gw(te,"onBeforeInput"),0<ut.length&&(Et=new w9("onBeforeInput","beforeinput",null,p,le),ye.push({event:Et,listeners:ut}),Et.data=et)),bre(ye,o,te,p,le)}lk(ye,c)})}function L0(o,c,p){return{instance:o,listener:c,currentTarget:p}}function gw(o,c){for(var p=c+"Capture",g=[];o!==null;){var w=o,x=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||x===null||(w=Qg(o,p),w!=null&&g.unshift(L0(o,w,x)),w=Qg(o,c),w!=null&&g.push(L0(o,w,x))),o.tag===3)return g;o=o.return}return[]}function bm(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ck(o,c,p,g,w){for(var x=c._reactName,C=[];p!==null&&p!==g;){var $=p,F=$.alternate,te=$.stateNode;if($=$.tag,F!==null&&F===g)break;$!==5&&$!==26&&$!==27||te===null||(F=te,w?(te=Qg(p,x),te!=null&&C.unshift(L0(p,te,F))):w||(te=Qg(p,x),te!=null&&C.push(L0(p,te,F)))),p=p.return}C.length!==0&&o.push({event:c,listeners:C})}var xre=/\r\n?/g,Mre=/\u0000|\uFFFD/g;function hk(o){return(typeof o=="string"?o:""+o).replace(xre,`
`).replace(Mre,"")}function dk(o,c){return c=hk(c),hk(o)===c}function vw(){}function si(o,c,p,g,w,x){switch(p){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Hf(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Hf(o,""+g);break;case"className":Ja(o,"class",g);break;case"tabIndex":Ja(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ja(o,p,g);break;case"style":f9(o,g,x);break;case"data":if(c!=="object"){Ja(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(p);break}g=E2(""+g),o.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&si(o,c,"name",w.name,w,null),si(o,c,"formEncType",w.formEncType,w,null),si(o,c,"formMethod",w.formMethod,w,null),si(o,c,"formTarget",w.formTarget,w,null)):(si(o,c,"encType",w.encType,w,null),si(o,c,"method",w.method,w,null),si(o,c,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(p);break}g=E2(""+g),o.setAttribute(p,g);break;case"onClick":g!=null&&(o.onclick=vw);break;case"onScroll":g!=null&&Rt("scroll",o);break;case"onScrollEnd":g!=null&&Rt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}p=E2(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(p,""+g):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":g===!0?o.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(p,g):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(p,g):o.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(p):o.setAttribute(p,g);break;case"popover":Rt("beforetoggle",o),Rt("toggle",o),Zn(o,"popover",g);break;case"xlinkActuate":_t(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":_t(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":_t(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":_t(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":_t(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":_t(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":_t(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":_t(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":_t(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Zn(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=eie.get(p)||p,Zn(o,p,g))}}function YT(o,c,p,g,w,x){switch(p){case"style":f9(o,g,x);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof g=="string"?Hf(o,g):(typeof g=="number"||typeof g=="bigint")&&Hf(o,""+g);break;case"onScroll":g!=null&&Rt("scroll",o);break;case"onScrollEnd":g!=null&&Rt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=vw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(w=p.endsWith("Capture"),c=p.slice(2,w?p.length-7:void 0),x=o[_e]||null,x=x!=null?x[p]:null,typeof x=="function"&&o.removeEventListener(c,x,w),typeof g=="function")){typeof x!="function"&&x!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,g,w);break e}p in o?o[p]=g:g===!0?o.setAttribute(p,""):Zn(o,p,g)}}}function tn(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",o),Rt("load",o);var g=!1,w=!1,x;for(x in p)if(p.hasOwnProperty(x)){var C=p[x];if(C!=null)switch(x){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:si(o,c,x,C,p,null)}}w&&si(o,c,"srcSet",p.srcSet,p,null),g&&si(o,c,"src",p.src,p,null);return;case"input":Rt("invalid",o);var $=x=C=w=null,F=null,te=null;for(g in p)if(p.hasOwnProperty(g)){var le=p[g];if(le!=null)switch(g){case"name":w=le;break;case"type":C=le;break;case"checked":F=le;break;case"defaultChecked":te=le;break;case"value":x=le;break;case"defaultValue":$=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,c));break;default:si(o,c,g,le,p,null)}}c9(o,x,$,F,te,C,w,!1),ci(o);return;case"select":Rt("invalid",o),g=C=x=null;for(w in p)if(p.hasOwnProperty(w)&&($=p[w],$!=null))switch(w){case"value":x=$;break;case"defaultValue":C=$;break;case"multiple":g=$;default:si(o,c,w,$,p,null)}c=x,p=C,o.multiple=!!g,c!=null?Bf(o,!!g,c,!1):p!=null&&Bf(o,!!g,p,!0);return;case"textarea":Rt("invalid",o),x=w=g=null;for(C in p)if(p.hasOwnProperty(C)&&($=p[C],$!=null))switch(C){case"value":g=$;break;case"defaultValue":w=$;break;case"children":x=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:si(o,c,C,$,p,null)}d9(o,g,w,x),ci(o);return;case"option":for(F in p)if(p.hasOwnProperty(F)&&(g=p[F],g!=null))switch(F){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:si(o,c,F,g,p,null)}return;case"dialog":Rt("beforetoggle",o),Rt("toggle",o),Rt("cancel",o),Rt("close",o);break;case"iframe":case"object":Rt("load",o);break;case"video":case"audio":for(g=0;g<k0.length;g++)Rt(k0[g],o);break;case"image":Rt("error",o),Rt("load",o);break;case"details":Rt("toggle",o);break;case"embed":case"source":case"link":Rt("error",o),Rt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in p)if(p.hasOwnProperty(te)&&(g=p[te],g!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:si(o,c,te,g,p,null)}return;default:if(cM(c)){for(le in p)p.hasOwnProperty(le)&&(g=p[le],g!==void 0&&YT(o,c,le,g,p,void 0));return}}for($ in p)p.hasOwnProperty($)&&(g=p[$],g!=null&&si(o,c,$,g,p,null))}function Tre(o,c,p,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,x=null,C=null,$=null,F=null,te=null,le=null;for(ne in p){var ye=p[ne];if(p.hasOwnProperty(ne)&&ye!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=ye;default:g.hasOwnProperty(ne)||si(o,c,ne,null,g,ye)}}for(var ie in g){var ne=g[ie];if(ye=p[ie],g.hasOwnProperty(ie)&&(ne!=null||ye!=null))switch(ie){case"type":x=ne;break;case"name":w=ne;break;case"checked":te=ne;break;case"defaultChecked":le=ne;break;case"value":C=ne;break;case"defaultValue":$=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,c));break;default:ne!==ye&&si(o,c,ie,ne,g,ye)}}lM(o,C,$,F,te,le,x,w);return;case"select":ne=C=$=ie=null;for(x in p)if(F=p[x],p.hasOwnProperty(x)&&F!=null)switch(x){case"value":break;case"multiple":ne=F;default:g.hasOwnProperty(x)||si(o,c,x,null,g,F)}for(w in g)if(x=g[w],F=p[w],g.hasOwnProperty(w)&&(x!=null||F!=null))switch(w){case"value":ie=x;break;case"defaultValue":$=x;break;case"multiple":C=x;default:x!==F&&si(o,c,w,x,g,F)}c=$,p=C,g=ne,ie!=null?Bf(o,!!p,ie,!1):!!g!=!!p&&(c!=null?Bf(o,!!p,c,!0):Bf(o,!!p,p?[]:"",!1));return;case"textarea":ne=ie=null;for($ in p)if(w=p[$],p.hasOwnProperty($)&&w!=null&&!g.hasOwnProperty($))switch($){case"value":break;case"children":break;default:si(o,c,$,null,g,w)}for(C in g)if(w=g[C],x=p[C],g.hasOwnProperty(C)&&(w!=null||x!=null))switch(C){case"value":ie=w;break;case"defaultValue":ne=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==x&&si(o,c,C,w,g,x)}h9(o,ie,ne);return;case"option":for(var dt in p)if(ie=p[dt],p.hasOwnProperty(dt)&&ie!=null&&!g.hasOwnProperty(dt))switch(dt){case"selected":o.selected=!1;break;default:si(o,c,dt,null,g,ie)}for(F in g)if(ie=g[F],ne=p[F],g.hasOwnProperty(F)&&ie!==ne&&(ie!=null||ne!=null))switch(F){case"selected":o.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:si(o,c,F,ie,g,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in p)ie=p[at],p.hasOwnProperty(at)&&ie!=null&&!g.hasOwnProperty(at)&&si(o,c,at,null,g,ie);for(te in g)if(ie=g[te],ne=p[te],g.hasOwnProperty(te)&&ie!==ne&&(ie!=null||ne!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,c));break;default:si(o,c,te,ie,g,ne)}return;default:if(cM(c)){for(var ai in p)ie=p[ai],p.hasOwnProperty(ai)&&ie!==void 0&&!g.hasOwnProperty(ai)&&YT(o,c,ai,void 0,g,ie);for(le in g)ie=g[le],ne=p[le],!g.hasOwnProperty(le)||ie===ne||ie===void 0&&ne===void 0||YT(o,c,le,ie,g,ne);return}}for(var Y in p)ie=p[Y],p.hasOwnProperty(Y)&&ie!=null&&!g.hasOwnProperty(Y)&&si(o,c,Y,null,g,ie);for(ye in g)ie=g[ye],ne=p[ye],!g.hasOwnProperty(ye)||ie===ne||ie==null&&ne==null||si(o,c,ye,ie,g,ne)}var ZT=null,KT=null;function bw(o){return o.nodeType===9?o:o.ownerDocument}function pk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fk(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function JT(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var XT=null;function Ere(){var o=window.event;return o&&o.type==="popstate"?o===XT?!1:(XT=o,!0):(XT=null,!1)}var mk=typeof setTimeout=="function"?setTimeout:void 0,Cre=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,Ire=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(o){return yk.resolve(null).then(o).catch($re)}:mk;function $re(o){setTimeout(function(){throw o})}function Mc(o){return o==="head"}function gk(o,c){var p=c,g=0,w=0;do{var x=p.nextSibling;if(o.removeChild(p),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(0<g&&8>g){p=g;var C=o.ownerDocument;if(p&1&&N0(C.documentElement),p&2&&N0(C.body),p&4)for(p=C.head,N0(p),C=p.firstChild;C;){var $=C.nextSibling,F=C.nodeName;C[st]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=$}}if(w===0){o.removeChild(x),B0(c);return}w--}else p==="$"||p==="$?"||p==="$!"?w++:g=p.charCodeAt(0)-48;else g=0;p=x}while(p);B0(c)}function QT(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":QT(p),je(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function Are(o,c,p,g){for(;o.nodeType===1;){var w=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[st])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var x=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=eo(o.nextSibling),o===null)break}return null}function Rre(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=eo(o.nextSibling),o===null))return null;return o}function eE(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Pre(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var g=function(){c(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function eo(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var tE=null;function vk(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function bk(o,c,p){switch(c=bw(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function N0(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);je(o)}var ya=new Map,wk=new Set;function ww(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var tu=we.d;we.d={f:Ore,r:kre,D:Lre,C:Nre,L:Dre,m:jre,X:zre,S:Fre,M:Ure};function Ore(){var o=tu.f(),c=hw();return o||c}function kre(o){var c=kt(o);c!==null&&c.tag===5&&c.type==="form"?z7(c):tu.r(o)}var wm=typeof document>"u"?null:document;function _k(o,c,p){var g=wm;if(g&&typeof c=="string"&&c){var w=ua(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof p=="string"&&(w+='[crossorigin="'+p+'"]'),wk.has(w)||(wk.add(w),o={rel:o,crossOrigin:p,href:c},g.querySelector(w)===null&&(c=g.createElement("link"),tn(c,"link",o),Nt(c),g.head.appendChild(c)))}}function Lre(o){tu.D(o),_k("dns-prefetch",o,null)}function Nre(o,c){tu.C(o,c),_k("preconnect",o,c)}function Dre(o,c,p){tu.L(o,c,p);var g=wm;if(g&&o&&c){var w='link[rel="preload"][as="'+ua(c)+'"]';c==="image"&&p&&p.imageSrcSet?(w+='[imagesrcset="'+ua(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(w+='[imagesizes="'+ua(p.imageSizes)+'"]')):w+='[href="'+ua(o)+'"]';var x=w;switch(c){case"style":x=_m(o);break;case"script":x=Sm(o)}ya.has(x)||(o=m({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),ya.set(x,o),g.querySelector(w)!==null||c==="style"&&g.querySelector(D0(x))||c==="script"&&g.querySelector(j0(x))||(c=g.createElement("link"),tn(c,"link",o),Nt(c),g.head.appendChild(c)))}}function jre(o,c){tu.m(o,c);var p=wm;if(p&&o){var g=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+ua(g)+'"][href="'+ua(o)+'"]',x=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Sm(o)}if(!ya.has(x)&&(o=m({rel:"modulepreload",href:o},c),ya.set(x,o),p.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(j0(x)))return}g=p.createElement("link"),tn(g,"link",o),Nt(g),p.head.appendChild(g)}}}function Fre(o,c,p){tu.S(o,c,p);var g=wm;if(g&&o){var w=wi(g).hoistableStyles,x=_m(o);c=c||"default";var C=w.get(x);if(!C){var $={loading:0,preload:null};if(C=g.querySelector(D0(x)))$.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},p),(p=ya.get(x))&&iE(o,p);var F=C=g.createElement("link");Nt(F),tn(F,"link",o),F._p=new Promise(function(te,le){F.onload=te,F.onerror=le}),F.addEventListener("load",function(){$.loading|=1}),F.addEventListener("error",function(){$.loading|=2}),$.loading|=4,_w(C,c,g)}C={type:"stylesheet",instance:C,count:1,state:$},w.set(x,C)}}}function zre(o,c){tu.X(o,c);var p=wm;if(p&&o){var g=wi(p).hoistableScripts,w=Sm(o),x=g.get(w);x||(x=p.querySelector(j0(w)),x||(o=m({src:o,async:!0},c),(c=ya.get(w))&&rE(o,c),x=p.createElement("script"),Nt(x),tn(x,"link",o),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(w,x))}}function Ure(o,c){tu.M(o,c);var p=wm;if(p&&o){var g=wi(p).hoistableScripts,w=Sm(o),x=g.get(w);x||(x=p.querySelector(j0(w)),x||(o=m({src:o,async:!0,type:"module"},c),(c=ya.get(w))&&rE(o,c),x=p.createElement("script"),Nt(x),tn(x,"link",o),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(w,x))}}function Sk(o,c,p,g){var w=(w=rt.current)?ww(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=_m(p.href),p=wi(w).hoistableStyles,g=p.get(c),g||(g={type:"style",instance:null,count:0,state:null},p.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=_m(p.href);var x=wi(w).hoistableStyles,C=x.get(o);if(C||(w=w.ownerDocument||w,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,C),(x=w.querySelector(D0(o)))&&!x._p&&(C.instance=x,C.state.loading=5),ya.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ya.set(o,p),x||Gre(w,o,p,C.state))),c&&g===null)throw Error(r(528,""));return C}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Sm(p),p=wi(w).hoistableScripts,g=p.get(c),g||(g={type:"script",instance:null,count:0,state:null},p.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function _m(o){return'href="'+ua(o)+'"'}function D0(o){return'link[rel="stylesheet"]['+o+"]"}function xk(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function Gre(o,c,p,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),tn(c,"link",p),Nt(c),o.head.appendChild(c))}function Sm(o){return'[src="'+ua(o)+'"]'}function j0(o){return"script[async]"+o}function Mk(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ua(p.href)+'"]');if(g)return c.instance=g,Nt(g),g;var w=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Nt(g),tn(g,"style",w),_w(g,p.precedence,o),c.instance=g;case"stylesheet":w=_m(p.href);var x=o.querySelector(D0(w));if(x)return c.state.loading|=4,c.instance=x,Nt(x),x;g=xk(p),(w=ya.get(w))&&iE(g,w),x=(o.ownerDocument||o).createElement("link"),Nt(x);var C=x;return C._p=new Promise(function($,F){C.onload=$,C.onerror=F}),tn(x,"link",g),c.state.loading|=4,_w(x,p.precedence,o),c.instance=x;case"script":return x=Sm(p.src),(w=o.querySelector(j0(x)))?(c.instance=w,Nt(w),w):(g=p,(w=ya.get(x))&&(g=m({},p),rE(g,w)),o=o.ownerDocument||o,w=o.createElement("script"),Nt(w),tn(w,"link",g),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,_w(g,p.precedence,o));return c.instance}function _w(o,c,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,x=w,C=0;C<g.length;C++){var $=g[C];if($.dataset.precedence===c)x=$;else if(x!==w)break}x?x.parentNode.insertBefore(o,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function iE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function rE(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Sw=null;function Tk(o,c,p){if(Sw===null){var g=new Map,w=Sw=new Map;w.set(p,g)}else w=Sw,g=w.get(p),g||(g=new Map,w.set(p,g));if(g.has(o))return g;for(g.set(o,null),p=p.getElementsByTagName(o),w=0;w<p.length;w++){var x=p[w];if(!(x[st]||x[de]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(c)||"";C=o+C;var $=g.get(C);$?$.push(x):g.set(C,[x])}}return g}function Ek(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function Vre(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Ck(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var F0=null;function Bre(){}function Hre(o,c,p){if(F0===null)throw Error(r(475));var g=F0;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=_m(p.href),x=o.querySelector(D0(w));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=xw.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=x,Nt(x);return}x=o.ownerDocument||o,p=xk(p),(w=ya.get(w))&&iE(p,w),x=x.createElement("link"),Nt(x);var C=x;C._p=new Promise(function($,F){C.onload=$,C.onerror=F}),tn(x,"link",p),c.instance=x}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=xw.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function qre(){if(F0===null)throw Error(r(475));var o=F0;return o.stylesheets&&o.count===0&&nE(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&nE(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function xw(){if(this.count--,this.count===0){if(this.stylesheets)nE(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Mw=null;function nE(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Mw=new Map,c.forEach(Wre,o),Mw=null,xw.call(o))}function Wre(o,c){if(!(c.state.loading&4)){var p=Mw.get(o);if(p)var g=p.get(null);else{p=new Map,Mw.set(o,p);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<w.length;x++){var C=w[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(p.set(C.dataset.precedence,C),g=C)}g&&p.set(null,g)}w=c.instance,C=w.getAttribute("data-precedence"),x=p.get(C)||g,x===g&&p.set(null,w),p.set(C,w),this.count++,g=xw.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),x?x.parentNode.insertBefore(w,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var z0={$$typeof:P,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Yre(o,c,p,g,w,x,C,$){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ac(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.hiddenUpdates=ac(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Ik(o,c,p,g,w,x,C,$,F,te,le,ye){return o=new Yre(o,c,p,C,$,F,te,ye),c=1,x===!0&&(c|=24),x=Is(3,null,null,c),o.current=x,x.stateNode=o,c=FM(),c.refCount++,o.pooledCache=c,c.refCount++,x.memoizedState={element:g,isDehydrated:p,cache:c},VM(x),o}function $k(o){return o?(o=Qf,o):Qf}function Ak(o,c,p,g,w,x){w=$k(w),g.context===null?g.context=w:g.pendingContext=w,g=hc(c),g.payload={element:p},x=x===void 0?null:x,x!==null&&(g.callback=x),p=dc(o,g,c),p!==null&&(Os(p,o,c),y0(p,o,c))}function Rk(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function sE(o,c){Rk(o,c),(o=o.alternate)&&Rk(o,c)}function Pk(o){if(o.tag===13){var c=Xf(o,67108864);c!==null&&Os(c,o,67108864),sE(o,67108864)}}var Tw=!0;function Zre(o,c,p,g){var w=ee.T;ee.T=null;var x=we.p;try{we.p=2,aE(o,c,p,g)}finally{we.p=x,ee.T=w}}function Kre(o,c,p,g){var w=ee.T;ee.T=null;var x=we.p;try{we.p=8,aE(o,c,p,g)}finally{we.p=x,ee.T=w}}function aE(o,c,p,g){if(Tw){var w=oE(g);if(w===null)WT(o,c,g,Ew,p),kk(o,g);else if(Xre(w,o,c,p,g))g.stopPropagation();else if(kk(o,g),c&4&&-1<Jre.indexOf(o)){for(;w!==null;){var x=kt(w);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Ka(x.pendingLanes);if(C!==0){var $=x;for($.pendingLanes|=2,$.entangledLanes|=2;C;){var F=1<<31-_r(C);$.entanglements[1]|=F,C&=~F}Ho(x),(ei&6)===0&&(uw=On()+500,O0(0))}}break;case 13:$=Xf(x,2),$!==null&&Os($,x,2),hw(),sE(x,2)}if(x=oE(g),x===null&&WT(o,c,g,Ew,p),x===w)break;w=x}w!==null&&g.stopPropagation()}else WT(o,c,g,null,p)}}function oE(o){return o=dM(o),lE(o)}var Ew=null;function lE(o){if(Ew=null,o=lt(o),o!==null){var c=s(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Ew=o,null}function Ok(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jg()){case Df:return 2;case jf:return 8;case kl:case aa:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var uE=!1,Tc=null,Ec=null,Cc=null,U0=new Map,G0=new Map,Ic=[],Jre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kk(o,c){switch(o){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":U0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":G0.delete(c.pointerId)}}function V0(o,c,p,g,w,x){return o===null||o.nativeEvent!==x?(o={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:x,targetContainers:[w]},c!==null&&(c=kt(c),c!==null&&Pk(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function Xre(o,c,p,g,w){switch(c){case"focusin":return Tc=V0(Tc,o,c,p,g,w),!0;case"dragenter":return Ec=V0(Ec,o,c,p,g,w),!0;case"mouseover":return Cc=V0(Cc,o,c,p,g,w),!0;case"pointerover":var x=w.pointerId;return U0.set(x,V0(U0.get(x)||null,o,c,p,g,w)),!0;case"gotpointercapture":return x=w.pointerId,G0.set(x,V0(G0.get(x)||null,o,c,p,g,w)),!0}return!1}function Lk(o){var c=lt(o.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,L(o.priority,function(){if(p.tag===13){var g=Ps();g=md(g);var w=Xf(p,g);w!==null&&Os(w,p,g),sE(p,g)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Cw(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=oE(o.nativeEvent);if(p===null){p=o.nativeEvent;var g=new p.constructor(p.type,p);hM=g,p.target.dispatchEvent(g),hM=null}else return c=kt(p),c!==null&&Pk(c),o.blockedOn=p,!1;c.shift()}return!0}function Nk(o,c,p){Cw(o)&&p.delete(c)}function Qre(){uE=!1,Tc!==null&&Cw(Tc)&&(Tc=null),Ec!==null&&Cw(Ec)&&(Ec=null),Cc!==null&&Cw(Cc)&&(Cc=null),U0.forEach(Nk),G0.forEach(Nk)}function Iw(o,c){o.blockedOn===c&&(o.blockedOn=null,uE||(uE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qre)))}var $w=null;function Dk(o){$w!==o&&($w=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$w===o&&($w=null);for(var c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],w=o[c+2];if(typeof g!="function"){if(lE(g||p)===null)continue;break}var x=kt(p);x!==null&&(o.splice(c,3),c-=3,lT(x,{pending:!0,data:w,method:p.method,action:g},g,w))}}))}function B0(o){function c(F){return Iw(F,o)}Tc!==null&&Iw(Tc,o),Ec!==null&&Iw(Ec,o),Cc!==null&&Iw(Cc,o),U0.forEach(c),G0.forEach(c);for(var p=0;p<Ic.length;p++){var g=Ic[p];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Ic.length&&(p=Ic[0],p.blockedOn===null);)Lk(p),p.blockedOn===null&&Ic.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var w=p[g],x=p[g+1],C=w[_e]||null;if(typeof x=="function")C||Dk(p);else if(C){var $=null;if(x&&x.hasAttribute("formAction")){if(w=x,C=x[_e]||null)$=C.formAction;else if(lE(w)!==null)continue}else $=C.action;typeof $=="function"?p[g+1]=$:(p.splice(g,3),g-=3),Dk(p)}}}function cE(o){this._internalRoot=o}Aw.prototype.render=cE.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,g=Ps();Ak(p,g,o,c,null,null)},Aw.prototype.unmount=cE.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ak(o.current,2,null,o,null,null),hw(),c[ze]=null}};function Aw(o){this._internalRoot=o}Aw.prototype.unstable_scheduleHydration=function(o){if(o){var c=G();o={blockedOn:null,target:o,priority:c};for(var p=0;p<Ic.length&&c!==0&&c<Ic[p].priority;p++);Ic.splice(p,0,o),p===0&&Lk(o)}};var jk=t.version;if(jk!=="19.1.0")throw Error(r(527,jk,"19.1.0"));we.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var ene={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rw.isDisabled&&Rw.supportsFiber)try{dn=Rw.inject(ene),bi=Rw}catch{}}return q0.createRoot=function(o,c){if(!n(o))throw Error(r(299));var p=!1,g="",w=eO,x=tO,C=iO,$=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&($=c.unstable_transitionCallbacks)),c=Ik(o,1,!1,null,null,p,g,w,x,C,$,null),o[ze]=c.current,qT(o),new cE(c)},q0.hydrateRoot=function(o,c,p){if(!n(o))throw Error(r(299));var g=!1,w="",x=eO,C=tO,$=iO,F=null,te=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(C=p.onCaughtError),p.onRecoverableError!==void 0&&($=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(F=p.unstable_transitionCallbacks),p.formState!==void 0&&(te=p.formState)),c=Ik(o,1,!0,c,p??null,g,w,x,C,$,F,te),c.context=$k(null),p=c.current,g=Ps(),g=md(g),w=hc(g),w.callback=null,dc(p,w,g),p=g,c.current.lanes=p,jl(c,p),Ho(c),o[ze]=c.current,qT(o),new Aw(c)},q0.version="19.1.0",q0}var Yk;function une(){if(Yk)return pE.exports;Yk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pE.exports=lne(),pE.exports}var cne=une(),W0={},Zk;function hne(){if(Zk)return W0;Zk=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.parse=a,W0.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,n=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function a(b,_){const S=new s,M=b.length;if(M<2)return S;const T=(_==null?void 0:_.decode)||m;let E=0;do{const A=b.indexOf("=",E);if(A===-1)break;const P=b.indexOf(";",E),N=P===-1?M:P;if(A>N){E=b.lastIndexOf(";",A-1)+1;continue}const D=l(b,E,A),k=u(b,A,D),q=b.slice(D,k);if(S[q]===void 0){let X=l(b,A+1,N),re=u(b,N,X);const W=T(b.slice(X,re));S[q]=W}E=N+1}while(E<M);return S}function l(b,_,S){do{const M=b.charCodeAt(_);if(M!==32&&M!==9)return _}while(++_<S);return S}function u(b,_,S){for(;_>S;){const M=b.charCodeAt(--_);if(M!==32&&M!==9)return _+1}return S}function d(b,_,S){const M=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=M(_);if(!t.test(T))throw new TypeError(`argument val is invalid: ${_}`);let E=b+"="+T;if(!S)return E;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);E+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);E+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);E+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);E+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(E+="; HttpOnly"),S.secure&&(E+="; Secure"),S.partitioned&&(E+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return E}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return n.call(b)==="[object Date]"}return W0}hne();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dV=e=>{throw TypeError(e)},dne=(e,t,i)=>t.has(e)||dV("Cannot "+i),gE=(e,t,i)=>(dne(e,t,"read from private field"),i?i.call(e):t.get(e)),pne=(e,t,i)=>t.has(e)?dV("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),Kk="popstate";function fne(e={}){function t(r,n){let{pathname:s,search:a,hash:l}=r.location;return ub("",{pathname:s,search:a,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(r,n){return typeof n=="string"?n:Wh(n)}return yne(t,i,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mne(){return Math.random().toString(36).substring(2,10)}function Jk(e,t){return{usr:e.state,key:e.key,idx:t}}function ub(e,t,i=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?nd(t):t,state:i,key:t&&t.key||r||mne()}}function Wh({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function nd(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function yne(e,t,i,r={}){let{window:n=document.defaultView,v5Compat:s=!1}=r,a=n.history,l="POP",u=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function v(){l="POP";let T=m(),E=T==null?null:T-d;d=T,u&&u({action:l,location:M.location,delta:E})}function b(T,E){l="PUSH";let A=ub(M.location,T,E);d=m()+1;let P=Jk(A,d),N=M.createHref(A);try{a.pushState(P,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;n.location.assign(N)}s&&u&&u({action:l,location:M.location,delta:1})}function _(T,E){l="REPLACE";let A=ub(M.location,T,E);d=m();let P=Jk(A,d),N=M.createHref(A);a.replaceState(P,"",N),s&&u&&u({action:l,location:M.location,delta:0})}function S(T){let E=n.location.origin!=="null"?n.location.origin:n.location.href,A=typeof T=="string"?T:Wh(T);return A=A.replace(/ $/,"%20"),Pt(E,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,E)}let M={get action(){return l},get location(){return e(n,a)},listen(T){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(Kk,v),u=T,()=>{n.removeEventListener(Kk,v),u=null}},createHref(T){return t(n,T)},createURL:S,encodeLocation(T){let E=S(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:_,go(T){return a.go(T)}};return M}var M1,Xk=class{constructor(e){if(pne(this,M1,new Map),e)for(let[t,i]of e)this.set(t,i)}get(e){if(gE(this,M1).has(e))return gE(this,M1).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){gE(this,M1).set(e,t)}};M1=new WeakMap;var gne=new Set(["lazy","caseSensitive","path","id","index","children"]);function vne(e){return gne.has(e)}var bne=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function wne(e){return bne.has(e)}function _ne(e){return e.index===!0}function h3(e,t,i=[],r={}){return e.map((n,s)=>{let a=[...i,String(s)],l=typeof n.id=="string"?n.id:a.join("-");if(Pt(n.index!==!0||!n.children,"Cannot specify children on an index route"),Pt(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),_ne(n)){let u={...n,...t(n),id:l};return r[l]=u,u}else{let u={...n,...t(n),id:l,children:void 0};return r[l]=u,n.children&&(u.children=h3(n.children,t,a,r)),u}})}function Ch(e,t,i="/"){return z_(e,t,i,!1)}function z_(e,t,i,r){let n=typeof t=="string"?nd(t):t,s=za(n.pathname||"/",i);if(s==null)return null;let a=pV(e);xne(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=kne(s);l=Pne(a[u],d,r)}return l}function Sne(e,t){let{route:i,pathname:r,params:n}=e;return{id:i.id,pathname:r,params:n,data:t[i.id],handle:i.handle}}function pV(e,t=[],i=[],r=""){let n=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Pt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=gl([r,u.relativePath]),m=i.concat(u);s.children&&s.children.length>0&&(Pt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),pV(s.children,t,m,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Ane(d,s.index),routesMeta:m})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))n(s,a);else for(let u of fV(s.path))n(s,a,u)}),t}function fV(e){let t=e.split("/");if(t.length===0)return[];let[i,...r]=t,n=i.endsWith("?"),s=i.replace(/\?$/,"");if(r.length===0)return n?[s,""]:[s];let a=fV(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),n&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function xne(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Rne(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Mne=/^:[\w-]+$/,Tne=3,Ene=2,Cne=1,Ine=10,$ne=-2,Qk=e=>e==="*";function Ane(e,t){let i=e.split("/"),r=i.length;return i.some(Qk)&&(r+=$ne),t&&(r+=Ene),i.filter(n=>!Qk(n)).reduce((n,s)=>n+(Mne.test(s)?Tne:s===""?Cne:Ine),r)}function Rne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Pne(e,t,i=!1){let{routesMeta:r}=e,n={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",v=d3({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),b=u.route;if(!v&&d&&i&&!r[r.length-1].route.index&&(v=d3({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!v)return null;Object.assign(n,v.params),a.push({params:n,pathname:gl([s,v.pathname]),pathnameBase:Dne(gl([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=gl([s,v.pathnameBase]))}return a}function d3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,r]=One(e.path,e.caseSensitive,e.end),n=t.match(i);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:v},b)=>{if(m==="*"){let S=l[b]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=l[b];return v&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function One(e,t=!1,i=!0){vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function kne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function za(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=e.charAt(i);return r&&r!=="/"?null:e.slice(i)||"/"}function Lne(e,t="/"){let{pathname:i,search:r="",hash:n=""}=typeof e=="string"?nd(e):e;return{pathname:i?i.startsWith("/")?i:Nne(i,t):t,search:jne(r),hash:Fne(n)}}function Nne(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function vE(e,t,i,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mV(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function VA(e){let t=mV(e);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function BA(e,t,i,r=!1){let n;typeof e=="string"?n=nd(e):(n={...e},Pt(!n.pathname||!n.pathname.includes("?"),vE("?","pathname","search",n)),Pt(!n.pathname||!n.pathname.includes("#"),vE("#","pathname","hash",n)),Pt(!n.search||!n.search.includes("#"),vE("#","search","hash",n)));let s=e===""||n.pathname==="",a=s?"/":n.pathname,l;if(a==null)l=i;else{let v=t.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),v-=1;n.pathname=b.join("/")}l=v>=0?t[v]:"/"}let u=Lne(n,l),d=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&i.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var gl=e=>e.join("/").replace(/\/\/+/g,"/"),Dne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,p3=class{constructor(e,t,i,r=!1){this.status=e,this.statusText=t||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function cb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var yV=["POST","PUT","PATCH","DELETE"],zne=new Set(yV),Une=["GET",...yV],Gne=new Set(Une),Vne=new Set([301,302,303,307,308]),Bne=new Set([307,308]),bE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qne=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),gV="remix-router-transitions",vV=Symbol("ResetLoaderData");function Wne(e){const t=e.window?e.window:typeof window<"u"?window:void 0,i=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Pt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],n=e.mapRouteProperties||qne,s={},a=h3(e.routes,n,void 0,s),l,u=e.basename||"/",d=e.dataStrategy||Xne,m={unstable_middleware:!1,...e.future},v=null,b=new Set,_=null,S=null,M=null,T=e.hydrationData!=null,E=Ch(a,e.history.location,u),A=!1,P=null;if(E==null&&!e.patchRoutesOnNavigation){let G=$a(404,{pathname:e.history.location.pathname}),{matches:L,route:K}=hL(a);E=L,P={[K.id]:G}}E&&!e.hydrationData&&Fl(E,a,e.history.location.pathname).active&&(E=null);let N;if(E)if(E.some(G=>G.route.lazy))N=!1;else if(!E.some(G=>G.route.loader))N=!0;else{let G=e.hydrationData?e.hydrationData.loaderData:null,L=e.hydrationData?e.hydrationData.errors:null;if(L){let K=E.findIndex(de=>L[de.route.id]!==void 0);N=E.slice(0,K+1).every(de=>!iI(de.route,G,L))}else N=E.every(K=>!iI(K.route,G,L))}else{N=!1,E=[];let G=Fl(null,a,e.history.location.pathname);G.active&&G.matches&&(A=!0,E=G.matches)}let D,k={historyAction:e.history.action,location:e.history.location,matches:E,initialized:N,navigation:bE,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},q="POP",X=!1,re,W=!1,be=new Map,ae=null,$e=!1,Me=!1,Ke=new Set,ee=new Map,we=0,xe=-1,tt=new Map,U=new Set,he=new Map,Pe=new Map,Te=new Set,Ye=new Map,St,rt=null;function Jr(){if(v=e.history.listen(({action:G,location:L,delta:K})=>{if(St){St(),St=void 0;return}vr(Ye.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Uf({currentLocation:k.location,nextLocation:L,historyAction:G});if(de&&K!=null){let _e=new Promise(ze=>{St=ze});e.history.go(K*-1),la(de,{state:"blocked",location:L,proceed(){la(de,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),_e.then(()=>e.history.go(K))},reset(){let ze=new Map(k.blockers);ze.set(de,Y0),rr({blockers:ze})}});return}return Ms(G,L)}),i){use(t,be);let G=()=>cse(t,be);t.addEventListener("pagehide",G),ae=()=>t.removeEventListener("pagehide",G)}return k.initialized||Ms("POP",k.location,{initialHydration:!0}),D}function ri(){v&&v(),ae&&ae(),b.clear(),re&&re.abort(),k.fetchers.forEach((G,L)=>_r(L)),k.blockers.forEach((G,L)=>Dl(L))}function sa(G){return b.add(G),()=>b.delete(G)}function rr(G,L={}){k={...k,...G};let K=[],de=[];k.fetchers.forEach((_e,ze)=>{_e.state==="idle"&&(Te.has(ze)?K.push(ze):de.push(ze))}),Te.forEach(_e=>{!k.fetchers.has(_e)&&!ee.has(_e)&&K.push(_e)}),[...b].forEach(_e=>_e(k,{deletedFetchers:K,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),K.forEach(_e=>_r(_e)),de.forEach(_e=>k.fetchers.delete(_e))}function xs(G,L,{flushSync:K}={}){var Ze,st;let de=k.actionData!=null&&k.navigation.formMethod!=null&&Ws(k.navigation.formMethod)&&k.navigation.state==="loading"&&((Ze=G.state)==null?void 0:Ze._isRedirect)!==!0,_e;L.actionData?Object.keys(L.actionData).length>0?_e=L.actionData:_e=null:de?_e=k.actionData:_e=null;let ze=L.loaderData?uL(k.loaderData,L.loaderData,L.matches||[],L.errors):k.loaderData,fe=k.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((je,lt)=>fe.set(lt,Y0)));let Ne=X===!0||k.navigation.formMethod!=null&&Ws(k.navigation.formMethod)&&((st=G.state)==null?void 0:st._isRedirect)!==!0;l&&(a=l,l=void 0),$e||q==="POP"||(q==="PUSH"?e.history.push(G,G.state):q==="REPLACE"&&e.history.replace(G,G.state));let ke;if(q==="POP"){let je=be.get(k.location.pathname);je&&je.has(G.pathname)?ke={currentLocation:k.location,nextLocation:G}:be.has(G.pathname)&&(ke={currentLocation:G,nextLocation:k.location})}else if(W){let je=be.get(k.location.pathname);je?je.add(G.pathname):(je=new Set([G.pathname]),be.set(k.location.pathname,je)),ke={currentLocation:k.location,nextLocation:G}}rr({...L,actionData:_e,loaderData:ze,historyAction:q,location:G,initialized:!0,navigation:bE,revalidation:"idle",restoreScrollPosition:Vf(G,L.matches||k.matches),preventScrollReset:Ne,blockers:fe},{viewTransitionOpts:ke,flushSync:K===!0}),q="POP",X=!1,W=!1,$e=!1,Me=!1,rt==null||rt.resolve(),rt=null}async function nc(G,L){if(typeof G=="number"){e.history.go(G);return}let K=tI(k.location,k.matches,u,G,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:de,submission:_e,error:ze}=eL(!1,K,L),fe=k.location,Ne=ub(k.location,de,L&&L.state);Ne={...Ne,...e.history.encodeLocation(Ne)};let ke=L&&L.replace!=null?L.replace:void 0,Ze="PUSH";ke===!0?Ze="REPLACE":ke===!1||_e!=null&&Ws(_e.formMethod)&&_e.formAction===k.location.pathname+k.location.search&&(Ze="REPLACE");let st=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,je=(L&&L.flushSync)===!0,lt=Uf({currentLocation:fe,nextLocation:Ne,historyAction:Ze});if(lt){la(lt,{state:"blocked",location:Ne,proceed(){la(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),nc(G,L)},reset(){let kt=new Map(k.blockers);kt.set(lt,Y0),rr({blockers:kt})}});return}await Ms(Ze,Ne,{submission:_e,pendingError:ze,preventScrollReset:st,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:je})}function pd(){rt||(rt=hse()),fd(),rr({revalidation:"loading"});let G=rt.promise;return k.navigation.state==="submitting"?G:k.navigation.state==="idle"?(Ms(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),G):(Ms(q||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:W===!0}),G)}async function Ms(G,L,K){re&&re.abort(),re=null,q=G,$e=(K&&K.startUninterruptedRevalidation)===!0,jl(k.location,k.matches),X=(K&&K.preventScrollReset)===!0,W=(K&&K.enableViewTransition)===!0;let de=l||a,_e=K&&K.overrideNavigation,ze=K!=null&&K.initialHydration&&k.matches&&k.matches.length>0&&!A?k.matches:Ch(de,L,u),fe=(K&&K.flushSync)===!0;if(ze&&k.initialized&&!Me&&nse(k.location,L)&&!(K&&K.submission&&Ws(K.submission.formMethod))){xs(L,{matches:ze},{flushSync:fe});return}let Ne=Fl(ze,de,L.pathname);if(Ne.active&&Ne.matches&&(ze=Ne.matches),!ze){let{error:wi,notFoundMatches:Nt,route:$t}=sc(L.pathname);xs(L,{matches:Nt,loaderData:{},errors:{[$t.id]:wi}},{flushSync:fe});return}re=new AbortController;let ke=Bm(e.history,L,re.signal,K&&K.submission),Ze=new Xk(e.unstable_getContext?await e.unstable_getContext():void 0),st;if(K&&K.pendingError)st=[Rp(ze).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&Ws(K.submission.formMethod)){let wi=await Zg(ke,L,K.submission,ze,Ze,Ne.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:fe});if(wi.shortCircuited)return;if(wi.pendingActionResult){let[Nt,$t]=wi.pendingActionResult;if(qs($t)&&cb($t.error)&&$t.error.status===404){re=null,xs(L,{matches:wi.matches,loaderData:{},errors:{[Nt]:$t.error}});return}}ze=wi.matches||ze,st=wi.pendingActionResult,_e=wE(L,K.submission),fe=!1,Ne.active=!1,ke=Bm(e.history,ke.url,ke.signal)}let{shortCircuited:je,matches:lt,loaderData:kt,errors:Le}=await Kg(ke,L,ze,Ze,Ne.active,_e,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,fe,st);je||(re=null,xs(L,{matches:lt||ze,...cL(st),loaderData:kt,errors:Le}))}async function Zg(G,L,K,de,_e,ze,fe,Ne={}){fd();let ke=ose(L,K);if(rr({navigation:ke},{flushSync:Ne.flushSync===!0}),ze){let je=await zl(de,L.pathname,G.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let lt=Rp(je.partialMatches).route.id;return{matches:je.partialMatches,pendingActionResult:[lt,{type:"error",error:je.error}]}}else if(je.matches)de=je.matches;else{let{notFoundMatches:lt,error:kt,route:Le}=sc(L.pathname);return{matches:lt,pendingActionResult:[Le.id,{type:"error",error:kt}]}}}let Ze,st=T1(de,L);if(!st.route.action&&!st.route.lazy)Ze={type:"error",error:$a(405,{method:G.method,pathname:L.pathname,routeId:st.route.id})};else{let je=Ny(n,s,G,de,st,fe?[]:r,_e),lt=await Xr(G,je,_e,null);if(Ze=lt[st.route.id],!Ze){for(let kt of de)if(lt[kt.route.id]){Ze=lt[kt.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(Gp(Ze)){let je;return Ne&&Ne.replace!=null?je=Ne.replace:je=aL(Ze.response.headers.get("Location"),new URL(G.url),u)===k.location.pathname+k.location.search,await aa(G,Ze,!0,{submission:K,replace:je}),{shortCircuited:!0}}if(qs(Ze)){let je=Rp(de,st.route.id);return(Ne&&Ne.replace)!==!0&&(q="PUSH"),{matches:de,pendingActionResult:[je.route.id,Ze,st.route.id]}}return{matches:de,pendingActionResult:[st.route.id,Ze]}}async function Kg(G,L,K,de,_e,ze,fe,Ne,ke,Ze,st,je){let lt=ze||wE(L,fe),kt=fe||Ne||pL(lt),Le=!$e&&!Ze;if(_e){if(Le){let Nr=On(je);rr({navigation:lt,...Nr!==void 0?{actionData:Nr}:{}},{flushSync:st})}let _t=await zl(K,L.pathname,G.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){let Nr=Rp(_t.partialMatches).route.id;return{matches:_t.partialMatches,loaderData:{},errors:{[Nr]:_t.error}}}else if(_t.matches)K=_t.matches;else{let{error:Nr,notFoundMatches:Es,route:Ri}=sc(L.pathname);return{matches:Es,loaderData:{},errors:{[Ri.id]:Nr}}}}let wi=l||a,{dsMatches:Nt,revalidatingFetchers:$t}=tL(G,de,n,s,e.history,k,K,kt,L,Ze?[]:r,Ze===!0,Me,Ke,Te,he,U,wi,u,je);if(xe=++we,!e.dataStrategy&&!Nt.some(_t=>_t.shouldLoad)&&$t.length===0){let _t=Ll();return xs(L,{matches:K,loaderData:{},errors:je&&qs(je[1])?{[je[0]]:je[1].error}:null,...cL(je),..._t?{fetchers:new Map(k.fetchers)}:{}},{flushSync:st}),{shortCircuited:!0}}if(Le){let _t={};if(!_e){_t.navigation=lt;let Nr=On(je);Nr!==void 0&&(_t.actionData=Nr)}$t.length>0&&(_t.fetchers=Jg($t)),rr(_t,{flushSync:st})}$t.forEach(_t=>{oa(_t.key),_t.controller&&ee.set(_t.key,_t.controller)});let Fo=()=>$t.forEach(_t=>oa(_t.key));re&&re.signal.addEventListener("abort",Fo);let{loaderResults:Sr,fetcherResults:Yn}=await Ff(Nt,$t,G,de);if(G.signal.aborted)return{shortCircuited:!0};re&&re.signal.removeEventListener("abort",Fo),$t.forEach(_t=>ee.delete(_t.key));let Lr=Pw(Sr);if(Lr)return await aa(G,Lr.result,!0,{replace:ke}),{shortCircuited:!0};if(Lr=Pw(Yn),Lr)return U.add(Lr.key),await aa(G,Lr.result,!0,{replace:ke}),{shortCircuited:!0};let{loaderData:ui,errors:zo}=lL(k,K,Sr,je,$t,Yn);Ze&&k.errors&&(zo={...k.errors,...zo});let oc=Ll(),Zn=Nl(xe),Ja=oc||Zn||$t.length>0;return{matches:K,loaderData:ui,errors:zo,...Ja?{fetchers:new Map(k.fetchers)}:{}}}function On(G){if(G&&!qs(G[1]))return{[G[0]]:G[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Jg(G){return G.forEach(L=>{let K=k.fetchers.get(L.key),de=Z0(void 0,K?K.data:void 0);k.fetchers.set(L.key,de)}),new Map(k.fetchers)}async function Df(G,L,K,de){oa(G);let _e=(de&&de.flushSync)===!0,ze=l||a,fe=tI(k.location,k.matches,u,K,L,de==null?void 0:de.relative),Ne=Ch(ze,fe,u),ke=Fl(Ne,ze,fe);if(ke.active&&ke.matches&&(Ne=ke.matches),!Ne){bi(G,L,$a(404,{pathname:fe}),{flushSync:_e});return}let{path:Ze,submission:st,error:je}=eL(!0,fe,de);if(je){bi(G,L,je,{flushSync:_e});return}let lt=T1(Ne,Ze),kt=new Xk(e.unstable_getContext?await e.unstable_getContext():void 0),Le=(de&&de.preventScrollReset)===!0;if(st&&Ws(st.formMethod)){await jf(G,L,Ze,lt,Ne,kt,ke.active,_e,Le,st);return}he.set(G,{routeId:L,path:Ze}),await kl(G,L,Ze,lt,Ne,kt,ke.active,_e,Le,st)}async function jf(G,L,K,de,_e,ze,fe,Ne,ke,Ze){fd(),he.delete(G);function st(fi){if(!fi.route.action&&!fi.route.lazy){let j=$a(405,{method:Ze.formMethod,pathname:K,routeId:L});return bi(G,L,j,{flushSync:Ne}),!0}return!1}if(!fe&&st(de))return;let je=k.fetchers.get(G);dn(G,lse(Ze,je),{flushSync:Ne});let lt=new AbortController,kt=Bm(e.history,K,lt.signal,Ze);if(fe){let fi=await zl(_e,K,kt.signal,G);if(fi.type==="aborted")return;if(fi.type==="error"){bi(G,L,fi.error,{flushSync:Ne});return}else if(fi.matches){if(_e=fi.matches,de=T1(_e,K),st(de))return}else{bi(G,L,$a(404,{pathname:K}),{flushSync:Ne});return}}ee.set(G,lt);let Le=we,wi=Ny(n,s,kt,_e,de,r,ze),$t=(await Xr(kt,wi,ze,G))[de.route.id];if(kt.signal.aborted){ee.get(G)===lt&&ee.delete(G);return}if(Te.has(G)){if(Gp($t)||qs($t)){dn(G,Gc(void 0));return}}else{if(Gp($t))if(ee.delete(G),xe>Le){dn(G,Gc(void 0));return}else return U.add(G),dn(G,Z0(Ze)),aa(kt,$t,!1,{fetcherSubmission:Ze,preventScrollReset:ke});if(qs($t)){bi(G,L,$t.error);return}}let Fo=k.navigation.location||k.location,Sr=Bm(e.history,Fo,lt.signal),Yn=l||a,Lr=k.navigation.state!=="idle"?Ch(Yn,k.navigation.location,u):k.matches;Pt(Lr,"Didn't find any matches after fetcher action");let ui=++we;tt.set(G,ui);let zo=Z0(Ze,$t.data);k.fetchers.set(G,zo);let{dsMatches:oc,revalidatingFetchers:Zn}=tL(Sr,ze,n,s,e.history,k,Lr,Ze,Fo,r,!1,Me,Ke,Te,he,U,Yn,u,[de.route.id,$t]);Zn.filter(fi=>fi.key!==G).forEach(fi=>{let j=fi.key,oe=k.fetchers.get(j),ge=Z0(void 0,oe?oe.data:void 0);k.fetchers.set(j,ge),oa(j),fi.controller&&ee.set(j,fi.controller)}),rr({fetchers:new Map(k.fetchers)});let Ja=()=>Zn.forEach(fi=>oa(fi.key));lt.signal.addEventListener("abort",Ja);let{loaderResults:_t,fetcherResults:Nr}=await Ff(oc,Zn,Sr,ze);if(lt.signal.aborted)return;lt.signal.removeEventListener("abort",Ja),tt.delete(G),ee.delete(G),Zn.forEach(fi=>ee.delete(fi.key));let Es=Pw(_t);if(Es)return aa(Sr,Es.result,!1,{preventScrollReset:ke});if(Es=Pw(Nr),Es)return U.add(Es.key),aa(Sr,Es.result,!1,{preventScrollReset:ke});let{loaderData:Ri,errors:Ul}=lL(k,Lr,_t,void 0,Zn,Nr);if(k.fetchers.has(G)){let fi=Gc($t.data);k.fetchers.set(G,fi)}Nl(ui),k.navigation.state==="loading"&&ui>xe?(Pt(q,"Expected pending action"),re&&re.abort(),xs(k.navigation.location,{matches:Lr,loaderData:Ri,errors:Ul,fetchers:new Map(k.fetchers)})):(rr({errors:Ul,loaderData:uL(k.loaderData,Ri,Lr,Ul),fetchers:new Map(k.fetchers)}),Me=!1)}async function kl(G,L,K,de,_e,ze,fe,Ne,ke,Ze){let st=k.fetchers.get(G);dn(G,Z0(Ze,st?st.data:void 0),{flushSync:Ne});let je=new AbortController,lt=Bm(e.history,K,je.signal);if(fe){let $t=await zl(_e,K,lt.signal,G);if($t.type==="aborted")return;if($t.type==="error"){bi(G,L,$t.error,{flushSync:Ne});return}else if($t.matches)_e=$t.matches,de=T1(_e,K);else{bi(G,L,$a(404,{pathname:K}),{flushSync:Ne});return}}ee.set(G,je);let kt=we,Le=Ny(n,s,lt,_e,de,r,ze),Nt=(await Xr(lt,Le,ze,G))[de.route.id];if(ee.get(G)===je&&ee.delete(G),!lt.signal.aborted){if(Te.has(G)){dn(G,Gc(void 0));return}if(Gp(Nt))if(xe>kt){dn(G,Gc(void 0));return}else{U.add(G),await aa(lt,Nt,!1,{preventScrollReset:ke});return}if(qs(Nt)){bi(G,L,Nt.error);return}dn(G,Gc(Nt.data))}}async function aa(G,L,K,{submission:de,fetcherSubmission:_e,preventScrollReset:ze,replace:fe}={}){L.response.headers.has("X-Remix-Revalidate")&&(Me=!0);let Ne=L.response.headers.get("Location");Pt(Ne,"Expected a Location header on the redirect Response"),Ne=aL(Ne,new URL(G.url),u);let ke=ub(k.location,Ne,{_isRedirect:!0});if(i){let Le=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Le=!0;else if(HA.test(Ne)){const wi=e.history.createURL(Ne);Le=wi.origin!==t.location.origin||za(wi.pathname,u)==null}if(Le){fe?t.location.replace(Ne):t.location.assign(Ne);return}}re=null;let Ze=fe===!0||L.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:st,formAction:je,formEncType:lt}=k.navigation;!de&&!_e&&st&&je&&lt&&(de=pL(k.navigation));let kt=de||_e;if(Bne.has(L.response.status)&&kt&&Ws(kt.formMethod))await Ms(Ze,ke,{submission:{...kt,formAction:Ne},preventScrollReset:ze||X,enableViewTransition:K?W:void 0});else{let Le=wE(ke,de);await Ms(Ze,ke,{overrideNavigation:Le,fetcherSubmission:_e,preventScrollReset:ze||X,enableViewTransition:K?W:void 0})}}async function Xr(G,L,K,de){let _e,ze={};try{_e=await Qne(d,G,L,de,K,!1)}catch(fe){return L.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{ze[Ne.route.id]={type:"error",error:fe}}),ze}for(let[fe,Ne]of Object.entries(_e))if(sse(Ne)){let ke=Ne.result;ze[fe]={type:"redirect",response:ise(ke,G,fe,L,u)}}else ze[fe]=await tse(Ne);return ze}async function Ff(G,L,K,de){let _e=Xr(K,G,de,null),ze=Promise.all(L.map(async ke=>{if(ke.matches&&ke.match&&ke.request&&ke.controller){let st=(await Xr(ke.request,ke.matches,de,ke.key))[ke.match.route.id];return{[ke.key]:st}}else return Promise.resolve({[ke.key]:{type:"error",error:$a(404,{pathname:ke.path})}})})),fe=await _e,Ne=(await ze).reduce((ke,Ze)=>Object.assign(ke,Ze),{});return{loaderResults:fe,fetcherResults:Ne}}function fd(){Me=!0,he.forEach((G,L)=>{ee.has(L)&&Ke.add(L),oa(L)})}function dn(G,L,K={}){k.fetchers.set(G,L),rr({fetchers:new Map(k.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function bi(G,L,K,de={}){let _e=Rp(k.matches,L);_r(G),rr({errors:{[_e.route.id]:K},fetchers:new Map(k.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function Ts(G){return Pe.set(G,(Pe.get(G)||0)+1),Te.has(G)&&Te.delete(G),k.fetchers.get(G)||Hne}function _r(G){let L=k.fetchers.get(G);ee.has(G)&&!(L&&L.state==="loading"&&tt.has(G))&&oa(G),he.delete(G),tt.delete(G),U.delete(G),Te.delete(G),Ke.delete(G),k.fetchers.delete(G)}function Xg(G){let L=(Pe.get(G)||0)-1;L<=0?(Pe.delete(G),Te.add(G)):Pe.set(G,L),rr({fetchers:new Map(k.fetchers)})}function oa(G){let L=ee.get(G);L&&(L.abort(),ee.delete(G))}function zf(G){for(let L of G){let K=Ts(L),de=Gc(K.data);k.fetchers.set(L,de)}}function Ll(){let G=[],L=!1;for(let K of U){let de=k.fetchers.get(K);Pt(de,`Expected fetcher: ${K}`),de.state==="loading"&&(U.delete(K),G.push(K),L=!0)}return zf(G),L}function Nl(G){let L=[];for(let[K,de]of tt)if(de<G){let _e=k.fetchers.get(K);Pt(_e,`Expected fetcher: ${K}`),_e.state==="loading"&&(oa(K),tt.delete(K),L.push(K))}return zf(L),L.length>0}function Ka(G,L){let K=k.blockers.get(G)||Y0;return Ye.get(G)!==L&&Ye.set(G,L),K}function Dl(G){k.blockers.delete(G),Ye.delete(G)}function la(G,L){let K=k.blockers.get(G)||Y0;Pt(K.state==="unblocked"&&L.state==="blocked"||K.state==="blocked"&&L.state==="blocked"||K.state==="blocked"&&L.state==="proceeding"||K.state==="blocked"&&L.state==="unblocked"||K.state==="proceeding"&&L.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${L.state}`);let de=new Map(k.blockers);de.set(G,L),rr({blockers:de})}function Uf({currentLocation:G,nextLocation:L,historyAction:K}){if(Ye.size===0)return;Ye.size>1&&vr(!1,"A router only supports one blocker at a time");let de=Array.from(Ye.entries()),[_e,ze]=de[de.length-1],fe=k.blockers.get(_e);if(!(fe&&fe.state==="proceeding")&&ze({currentLocation:G,nextLocation:L,historyAction:K}))return _e}function sc(G){let L=$a(404,{pathname:G}),K=l||a,{matches:de,route:_e}=hL(K);return{notFoundMatches:de,route:_e,error:L}}function Gf(G,L,K){if(_=G,M=L,S=K||null,!T&&k.navigation===bE){T=!0;let de=Vf(k.location,k.matches);de!=null&&rr({restoreScrollPosition:de})}return()=>{_=null,M=null,S=null}}function ac(G,L){return S&&S(G,L.map(de=>Sne(de,k.loaderData)))||G.key}function jl(G,L){if(_&&M){let K=ac(G,L);_[K]=M()}}function Vf(G,L){if(_){let K=ac(G,L),de=_[K];if(typeof de=="number")return de}return null}function Fl(G,L,K){if(e.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:z_(L,K,u,!0)}}else return{active:!0,matches:z_(L,K,u,!0)||[]};return{active:!1,matches:null}}async function zl(G,L,K,de){if(!e.patchRoutesOnNavigation)return{type:"success",matches:G};let _e=G;for(;;){let ze=l==null,fe=l||a,Ne=s;try{await e.patchRoutesOnNavigation({signal:K,path:L,matches:_e,fetcherKey:de,patch:(st,je)=>{K.aborted||iL(st,je,fe,Ne,n)}})}catch(st){return{type:"error",error:st,partialMatches:_e}}finally{ze&&!K.aborted&&(a=[...a])}if(K.aborted)return{type:"aborted"};let ke=Ch(fe,L,u);if(ke)return{type:"success",matches:ke};let Ze=z_(fe,L,u,!0);if(!Ze||_e.length===Ze.length&&_e.every((st,je)=>st.route.id===Ze[je].route.id))return{type:"success",matches:null};_e=Ze}}function md(G){s={},l=h3(G,n,void 0,s)}function yd(G,L){let K=l==null;iL(G,L,l||a,s,n),K&&(a=[...a],rr({}))}return D={get basename(){return u},get future(){return m},get state(){return k},get routes(){return a},get window(){return t},initialize:Jr,subscribe:sa,enableScrollRestoration:Gf,navigate:nc,fetch:Df,revalidate:pd,createHref:G=>e.history.createHref(G),encodeLocation:G=>e.history.encodeLocation(G),getFetcher:Ts,deleteFetcher:Xg,dispose:ri,getBlocker:Ka,deleteBlocker:Dl,patchRoutes:yd,_internalFetchControllers:ee,_internalSetRoutes:md},D}function Yne(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function tI(e,t,i,r,n,s){let a,l;if(n){a=[];for(let d of t)if(a.push(d),d.route.id===n){l=d;break}}else a=t,l=t[t.length-1];let u=BA(r||".",VA(a),za(e.pathname,i)||e.pathname,s==="path");if(r==null&&(u.search=e.search,u.hash=e.hash),(r==null||r===""||r===".")&&l){let d=qA(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let m=new URLSearchParams(u.search),v=m.getAll("index");m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();u.search=b?`?${b}`:""}}return i!=="/"&&(u.pathname=u.pathname==="/"?i:gl([i,u.pathname])),Wh(u)}function eL(e,t,i){if(!i||!Yne(i))return{path:t};if(i.formMethod&&!ase(i.formMethod))return{path:t,error:$a(405,{method:i.formMethod})};let r=()=>({path:t,error:$a(400,{type:"invalid-body"})}),s=(i.formMethod||"get").toUpperCase(),a=MV(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ws(s))return r();let v=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((b,[_,S])=>`${b}${_}=${S}
`,""):String(i.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:v}}}else if(i.formEncType==="application/json"){if(!Ws(s))return r();try{let v=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:i.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Pt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(i.formData)l=nI(i.formData),u=i.formData;else if(i.body instanceof FormData)l=nI(i.body),u=i.body;else if(i.body instanceof URLSearchParams)l=i.body,u=oL(l);else if(i.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(i.body),u=oL(l)}catch{return r()}let d={formMethod:s,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ws(d.formMethod))return{path:t,submission:d};let m=nd(t);return e&&m.search&&qA(m.search)&&l.append("index",""),m.search=`?${l}`,{path:Wh(m),submission:d}}function tL(e,t,i,r,n,s,a,l,u,d,m,v,b,_,S,M,T,E,A){var ae;let P=A?qs(A[1])?A[1].error:A[1].data:void 0,N=n.createURL(s.location),D=n.createURL(u),k;if(m&&s.errors){let $e=Object.keys(s.errors)[0];k=a.findIndex(Me=>Me.route.id===$e)}else if(A&&qs(A[1])){let $e=A[0];k=a.findIndex(Me=>Me.route.id===$e)-1}let q=A?A[1].statusCode:void 0,X=q&&q>=400,re={currentUrl:N,currentParams:((ae=s.matches[0])==null?void 0:ae.params)||{},nextUrl:D,nextParams:a[0].params,...l,actionResult:P,actionStatus:q},W=a.map(($e,Me)=>{let{route:Ke}=$e,ee=null;if(k!=null&&Me>k?ee=!1:Ke.lazy?ee=!0:Ke.loader==null?ee=!1:m?ee=iI(Ke,s.loaderData,s.errors):Zne(s.loaderData,s.matches[Me],$e)&&(ee=!0),ee!==null)return rI(i,r,e,$e,d,t,ee);let we=X?!1:v||N.pathname+N.search===D.pathname+D.search||N.search!==D.search||Kne(s.matches[Me],$e),xe={...re,defaultShouldRevalidate:we},tt=f3($e,xe);return rI(i,r,e,$e,d,t,tt,xe)}),be=[];return S.forEach(($e,Me)=>{if(m||!a.some(he=>he.route.id===$e.routeId)||_.has(Me))return;let Ke=Ch(T,$e.path,E);if(!Ke){be.push({key:Me,routeId:$e.routeId,path:$e.path,matches:null,match:null,request:null,controller:null});return}if(M.has(Me))return;let ee=s.fetchers.get(Me),we=T1(Ke,$e.path),xe=new AbortController,tt=Bm(n,$e.path,xe.signal),U=null;if(b.has(Me))b.delete(Me),U=Ny(i,r,tt,Ke,we,d,t);else if(ee&&ee.state!=="idle"&&ee.data===void 0)v&&(U=Ny(i,r,tt,Ke,we,d,t));else{let he={...re,defaultShouldRevalidate:X?!1:v};f3(we,he)&&(U=Ny(i,r,tt,Ke,we,d,t,he))}U&&be.push({key:Me,routeId:$e.routeId,path:$e.path,matches:U,match:we,request:tt,controller:xe})}),{dsMatches:W,revalidatingFetchers:be}}function iI(e,t,i){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,n=i!=null&&i[e.id]!==void 0;return!r&&n?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!n}function Zne(e,t,i){let r=!t||i.route.id!==t.route.id,n=!e.hasOwnProperty(i.route.id);return r||n}function Kne(e,t){let i=e.route.path;return e.pathname!==t.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==t.params["*"]}function f3(e,t){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(t);if(typeof i=="boolean")return i}return t.defaultShouldRevalidate}function iL(e,t,i,r,n){let s;if(e){let u=r[e];Pt(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=i;let a=t.filter(u=>!s.some(d=>bV(u,d))),l=h3(a,n,[e||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...l)}function bV(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((i,r)=>{var n;return(n=t.children)==null?void 0:n.some(s=>bV(i,s))}):!1}var rL=new WeakMap,wV=({key:e,route:t,manifest:i,mapRouteProperties:r})=>{let n=i[t.id];if(Pt(n,"No route found in manifest"),!n.lazy||typeof n.lazy!="object")return;let s=n.lazy[e];if(!s)return;let a=rL.get(n);a||(a={},rL.set(n,a));let l=a[e];if(l)return l;let u=(async()=>{let d=vne(e),v=n[e]!==void 0&&e!=="hasErrorBoundary";if(d)vr(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(v)vr(!1,`Route "${n.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let b=await s();b!=null&&(Object.assign(n,{[e]:b}),Object.assign(n,r(n)))}typeof n.lazy=="object"&&(n.lazy[e]=void 0,Object.values(n.lazy).every(b=>b===void 0)&&(n.lazy=void 0))})();return a[e]=u,u},nL=new WeakMap;function Jne(e,t,i,r,n){let s=i[e.id];if(Pt(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let m=nL.get(s);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let v=(async()=>{Pt(typeof e.lazy=="function","No lazy route function found");let b=await e.lazy(),_={};for(let S in b){let M=b[S];if(M===void 0)continue;let T=wne(S),A=s[S]!==void 0&&S!=="hasErrorBoundary";T?vr(!T,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?vr(!A,`Route "${s.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):_[S]=M}Object.assign(s,_),Object.assign(s,{...r(s),lazy:void 0})})();return nL.set(s,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let a=Object.keys(e.lazy),l=[],u;for(let m of a){if(n&&n.includes(m))continue;let v=wV({key:m,route:e,manifest:i,mapRouteProperties:r});v&&(l.push(v),m===t&&(u=v))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d==null||d.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function sL(e){let t=e.matches.filter(n=>n.shouldLoad),i={};return(await Promise.all(t.map(n=>n.resolve()))).forEach((n,s)=>{i[t[s].route.id]=n}),i}async function Xne(e){return e.matches.some(t=>t.route.unstable_middleware)?_V(e,!1,()=>sL(e),(t,i)=>({[i]:{type:"error",result:t}})):sL(e)}async function _V(e,t,i,r){let{matches:n,request:s,params:a,context:l}=e,u={handlerResult:void 0};try{let d=n.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(b=>[v.route.id,b]):[]),m=await SV({request:s,params:a,context:l},d,t,u,i);return t?m:u.handlerResult}catch(d){if(!u.middlewareError)throw d;let m=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,m):m}}async function SV(e,t,i,r,n,s=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=t[s];if(!l)return r.handlerResult=await n(),r.handlerResult;let[u,d]=l,m=!1,v,b=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0,await SV(e,t,i,r,n,s+1)};try{let _=await d({request:e.request,params:e.params,context:e.context},b);return m?_===void 0?v:_:b()}catch(_){throw r.middlewareError?r.middlewareError.error!==_&&(r.middlewareError={routeId:u,error:_}):r.middlewareError={routeId:u,error:_},_}}function xV(e,t,i,r,n){let s=wV({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=Jne(r.route,Ws(i.method)?"action":"loader",t,e,n);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function rI(e,t,i,r,n,s,a,l=null){let u=!1,d=xV(e,t,i,r,n);return{...r,_lazyPromises:d,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(m){return u=!0,l?typeof m=="boolean"?f3(r,{...l,defaultShouldRevalidate:m}):f3(r,l):a},resolve(m){return u||a||m&&i.method==="GET"&&(r.route.lazy||r.route.loader)?ese({request:i,match:r,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:m,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ny(e,t,i,r,n,s,a,l=null){return r.map(u=>u.route.id!==n.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:xV(e,t,i,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rI(e,t,i,u,s,a,!0,l))}async function Qne(e,t,i,r,n,s){i.some(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(i.map(d=>{var m;return(m=d._lazyPromises)==null?void 0:m.middleware}));let a={request:t,params:i[0].params,context:n,matches:i},u=await e({...a,fetcherKey:r,unstable_runClientMiddleware:d=>{let m=a;return _V(m,!1,()=>d({...m,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,b)=>({[b]:{type:"error",result:v}}))}});try{await Promise.all(i.flatMap(d=>{var m,v;return[(m=d._lazyPromises)==null?void 0:m.handler,(v=d._lazyPromises)==null?void 0:v.route]}))}catch{}return u}async function ese({request:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:r,handlerOverride:n,scopedContext:s}){let a,l,u=Ws(e.method),d=u?"action":"loader",m=v=>{let b,_=new Promise((T,E)=>b=E);l=()=>b(),e.signal.addEventListener("abort",l);let S=T=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:s},...T!==void 0?[T]:[]),M=(async()=>{try{return{type:"data",result:await(n?n(E=>S(E)):S())}}catch(T){return{type:"error",result:T}}})();return Promise.race([M,_])};try{let v=u?t.route.action:t.route.loader;if(i||r)if(v){let b,[_]=await Promise.all([m(v).catch(S=>{b=S}),i,r]);if(b!==void 0)throw b;a=_}else{await i;let b=u?t.route.action:t.route.loader;if(b)[a]=await Promise.all([m(b),r]);else if(d==="action"){let _=new URL(e.url),S=_.pathname+_.search;throw $a(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(v)a=await m(v);else{let b=new URL(e.url),_=b.pathname+b.search;throw $a(404,{pathname:_})}}catch(v){return{type:"error",result:v}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function tse(e){var r,n,s,a,l,u;let{result:t,type:i}=e;if(TV(t)){let d;try{let m=t.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(m){return{type:"error",error:m}}return i==="error"?{type:"error",error:new p3(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return i==="error"?dL(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(n=t.init)!=null&&n.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new p3(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:cb(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:cb(t)?t.status:void 0}:dL(t)?{type:"data",data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function ise(e,t,i,r,n){let s=e.headers.get("Location");if(Pt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!HA.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===i)+1);s=tI(new URL(t.url),a,n,s),e.headers.set("Location",s)}return e}function aL(e,t,i){if(HA.test(e)){let r=e,n=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=za(n.pathname,i)!=null;if(n.origin===t.origin&&s)return n.pathname+n.search+n.hash}return e}function Bm(e,t,i,r){let n=e.createURL(MV(t)).toString(),s={signal:i};if(r&&Ws(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=nI(r.formData):s.body=r.formData}return new Request(n,s)}function nI(e){let t=new URLSearchParams;for(let[i,r]of e.entries())t.append(i,typeof r=="string"?r:r.name);return t}function oL(e){let t=new FormData;for(let[i,r]of e.entries())t.append(i,r);return t}function rse(e,t,i,r=!1,n=!1){let s={},a=null,l,u=!1,d={},m=i&&qs(i[1])?i[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in t))return;let b=v.route.id,_=t[b];if(Pt(!Gp(_),"Cannot handle redirect results in processLoaderData"),qs(_)){let S=_.error;if(m!==void 0&&(S=m,m=void 0),a=a||{},n)a[b]=S;else{let M=Rp(e,b);a[M.route.id]==null&&(a[M.route.id]=S)}r||(s[b]=vV),u||(u=!0,l=cb(_.error)?_.error.status:500),_.headers&&(d[b]=_.headers)}else s[b]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(d[b]=_.headers)}),m!==void 0&&i&&(a={[i[0]]:m},i[2]&&(s[i[2]]=void 0)),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:d}}function lL(e,t,i,r,n,s){let{loaderData:a,errors:l}=rse(t,i,r);return n.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:m,controller:v}=u,b=s[d];if(Pt(b,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(qs(b)){let _=Rp(e.matches,m==null?void 0:m.route.id);l&&l[_.route.id]||(l={...l,[_.route.id]:b.error}),e.fetchers.delete(d)}else if(Gp(b))Pt(!1,"Unhandled fetcher revalidation redirect");else{let _=Gc(b.data);e.fetchers.set(d,_)}}),{loaderData:a,errors:l}}function uL(e,t,i,r){let n=Object.entries(t).filter(([,s])=>s!==vV).reduce((s,[a,l])=>(s[a]=l,s),{});for(let s of i){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(n[a]=e[a]),r&&r.hasOwnProperty(a))break}return n}function cL(e){return e?qs(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Rp(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function hL(e){let t=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function $a(e,{pathname:t,routeId:i,method:r,type:n,message:s}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&i?l=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:n==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l=`Route "${i}" does not match URL "${t}"`):e===404?(a="Not Found",l=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&i?l=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new p3(e||500,a,new Error(l),!0)}function Pw(e){let t=Object.entries(e);for(let i=t.length-1;i>=0;i--){let[r,n]=t[i];if(Gp(n))return{key:r,result:n}}}function MV(e){let t=typeof e=="string"?nd(e):e;return Wh({...t,hash:""})}function nse(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function sse(e){return TV(e.result)&&Vne.has(e.result.status)}function qs(e){return e.type==="error"}function Gp(e){return(e&&e.type)==="redirect"}function dL(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function TV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ase(e){return Gne.has(e.toUpperCase())}function Ws(e){return zne.has(e.toUpperCase())}function qA(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function T1(e,t){let i=typeof t=="string"?nd(t).search:t.search;if(e[e.length-1].route.index&&qA(i||""))return e[e.length-1];let r=mV(e);return r[r.length-1]}function pL(e){let{formMethod:t,formAction:i,formEncType:r,text:n,formData:s,json:a}=e;if(!(!t||!i||!r)){if(n!=null)return{formMethod:t,formAction:i,formEncType:r,formData:void 0,json:void 0,text:n};if(s!=null)return{formMethod:t,formAction:i,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:i,formEncType:r,formData:void 0,json:a,text:void 0}}}function wE(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ose(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Z0(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lse(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Gc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function use(e,t){try{let i=e.sessionStorage.getItem(gV);if(i){let r=JSON.parse(i);for(let[n,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(n,new Set(s||[]))}}catch{}}function cse(e,t){if(t.size>0){let i={};for(let[r,n]of t)i[r]=[...n];try{e.sessionStorage.setItem(gV,JSON.stringify(i))}catch(r){vr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function hse(){let e,t,i=new Promise((r,n)=>{e=async s=>{r(s);try{await i}catch{}},t=async s=>{n(s);try{await i}catch{}}});return{promise:i,resolve:e,reject:t}}var Sf=se.createContext(null);Sf.displayName="DataRouter";var zb=se.createContext(null);zb.displayName="DataRouterState";var WA=se.createContext({isTransitioning:!1});WA.displayName="ViewTransition";var EV=se.createContext(new Map);EV.displayName="Fetchers";var dse=se.createContext(null);dse.displayName="Await";var Rl=se.createContext(null);Rl.displayName="Navigation";var Gx=se.createContext(null);Gx.displayName="Location";var jo=se.createContext({outlet:null,matches:[],isDataRoute:!1});jo.displayName="Route";var YA=se.createContext(null);YA.displayName="RouteError";function pse(e,{relative:t}={}){Pt(Ub(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=se.useContext(Rl),{hash:n,pathname:s,search:a}=Gb(e,{relative:t}),l=s;return i!=="/"&&(l=s==="/"?i:gl([i,s])),r.createHref({pathname:l,search:a,hash:n})}function Ub(){return se.useContext(Gx)!=null}function xf(){return Pt(Ub(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(Gx).location}var CV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IV(e){se.useContext(Rl).static||se.useLayoutEffect(e)}function fse(){let{isDataRoute:e}=se.useContext(jo);return e?Ase():mse()}function mse(){Pt(Ub(),"useNavigate() may be used only in the context of a <Router> component.");let e=se.useContext(Sf),{basename:t,navigator:i}=se.useContext(Rl),{matches:r}=se.useContext(jo),{pathname:n}=xf(),s=JSON.stringify(VA(r)),a=se.useRef(!1);return IV(()=>{a.current=!0}),se.useCallback((u,d={})=>{if(vr(a.current,CV),!a.current)return;if(typeof u=="number"){i.go(u);return}let m=BA(u,JSON.parse(s),n,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:gl([t,m.pathname])),(d.replace?i.replace:i.push)(m,d.state,d)},[t,i,s,n,e])}var yse=se.createContext(null);function gse(e){let t=se.useContext(jo).outlet;return t&&se.createElement(yse.Provider,{value:e},t)}function vse(){let{matches:e}=se.useContext(jo),t=e[e.length-1];return t?t.params:{}}function Gb(e,{relative:t}={}){let{matches:i}=se.useContext(jo),{pathname:r}=xf(),n=JSON.stringify(VA(i));return se.useMemo(()=>BA(e,JSON.parse(n),r,t==="path"),[e,n,r,t])}function bse(e,t,i,r){Pt(Ub(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n,static:s}=se.useContext(Rl),{matches:a}=se.useContext(jo),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",v=l&&l.route;{let A=v&&v.path||"";$V(d,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let b=xf(),_;_=b;let S=_.pathname||"/",M=S;if(m!=="/"){let A=m.replace(/^\//,"").split("/");M="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=!s&&i&&i.matches&&i.matches.length>0?i.matches:Ch(e,{pathname:M});return vr(v||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),vr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Mse(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:gl([m,n.encodeLocation?n.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:gl([m,n.encodeLocation?n.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,i,r)}function wse(){let e=$se(),t=cb(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=se.createElement(se.Fragment,null,se.createElement("p",null," Hey developer "),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:s},"ErrorBoundary")," or"," ",se.createElement("code",{style:s},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},t),i?se.createElement("pre",{style:n},i):null,a)}var _se=se.createElement(wse,null),Sse=class extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?se.createElement(jo.Provider,{value:this.props.routeContext},se.createElement(YA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xse({routeContext:e,match:t,children:i}){let r=se.useContext(Sf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),se.createElement(jo.Provider,{value:e},i)}function Mse(e,t=[],i=null,r=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let n=e,s=i==null?void 0:i.errors;if(s!=null){let u=n.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Pt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),n=n.slice(0,Math.min(n.length,u+1))}let a=!1,l=-1;if(i)for(let u=0;u<n.length;u++){let d=n[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:m,errors:v}=i,b=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){a=!0,l>=0?n=n.slice(0,l+1):n=[n[0]];break}}}return n.reduceRight((u,d,m)=>{let v,b=!1,_=null,S=null;i&&(v=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||_se,a&&(l<0&&m===0?($V("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):l===m&&(b=!0,S=d.route.hydrateFallbackElement||null)));let M=t.concat(n.slice(0,m+1)),T=()=>{let E;return v?E=_:b?E=S:d.route.Component?E=se.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,se.createElement(xse,{match:d,routeContext:{outlet:u,matches:M,isDataRoute:i!=null},children:E})};return i&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?se.createElement(Sse,{location:i.location,revalidation:i.revalidation,component:_,error:v,children:T(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):T()},null)}function ZA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tse(e){let t=se.useContext(Sf);return Pt(t,ZA(e)),t}function Ese(e){let t=se.useContext(zb);return Pt(t,ZA(e)),t}function Cse(e){let t=se.useContext(jo);return Pt(t,ZA(e)),t}function KA(e){let t=Cse(e),i=t.matches[t.matches.length-1];return Pt(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function Ise(){return KA("useRouteId")}function $se(){var r;let e=se.useContext(YA),t=Ese("useRouteError"),i=KA("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function Ase(){let{router:e}=Tse("useNavigate"),t=KA("useNavigate"),i=se.useRef(!1);return IV(()=>{i.current=!0}),se.useCallback(async(n,s={})=>{vr(i.current,CV),i.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...s}))},[e,t])}var fL={};function $V(e,t,i){!t&&!fL[e]&&(fL[e]=!0,vr(!1,i))}var mL={};function yL(e,t){!e&&!mL[t]&&(mL[t]=!0,console.warn(t))}function Rse(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&vr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:se.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&vr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:se.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&vr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:se.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Pse=["HydrateFallback","hydrateFallbackElement"],Ose=class{constructor(){this.status="pending",this.promise=new Promise((t,i)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",i(r))}})}};function kse({router:e,flushSync:t}){let[i,r]=se.useState(e.state),[n,s]=se.useState(),[a,l]=se.useState({isTransitioning:!1}),[u,d]=se.useState(),[m,v]=se.useState(),[b,_]=se.useState(),S=se.useRef(new Map),M=se.useCallback((P,{deletedFetchers:N,flushSync:D,viewTransitionOpts:k})=>{P.fetchers.forEach((X,re)=>{X.data!==void 0&&S.current.set(re,X.data)}),N.forEach(X=>S.current.delete(X)),yL(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(yL(k==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!q){t&&D?t(()=>r(P)):se.startTransition(()=>r(P));return}if(t&&D){t(()=>{m&&(u&&u.resolve(),m.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let X=e.window.document.startViewTransition(()=>{t(()=>r(P))});X.finished.finally(()=>{t(()=>{d(void 0),v(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>v(X));return}m?(u&&u.resolve(),m.skipTransition(),_({state:P,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(s(P),l({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[e.window,t,m,u]);se.useLayoutEffect(()=>e.subscribe(M),[e,M]),se.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new Ose)},[a]),se.useEffect(()=>{if(u&&n&&e.window){let P=n,N=u.promise,D=e.window.document.startViewTransition(async()=>{se.startTransition(()=>r(P)),await N});D.finished.finally(()=>{d(void 0),v(void 0),s(void 0),l({isTransitioning:!1})}),v(D)}},[n,u,e.window]),se.useEffect(()=>{u&&n&&i.location.key===n.location.key&&u.resolve()},[u,m,i.location,n]),se.useEffect(()=>{!a.isTransitioning&&b&&(s(b.state),l({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[a.isTransitioning,b]);let T=se.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:P=>e.navigate(P),push:(P,N,D)=>e.navigate(P,{state:N,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(P,N,D)=>e.navigate(P,{replace:!0,state:N,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),E=e.basename||"/",A=se.useMemo(()=>({router:e,navigator:T,static:!1,basename:E}),[e,T,E]);return se.createElement(se.Fragment,null,se.createElement(Sf.Provider,{value:A},se.createElement(zb.Provider,{value:i},se.createElement(EV.Provider,{value:S.current},se.createElement(WA.Provider,{value:a},se.createElement(jse,{basename:E,location:i.location,navigationType:i.historyAction,navigator:T},se.createElement(Lse,{routes:e.routes,future:e.future,state:i})))))),null)}var Lse=se.memo(Nse);function Nse({routes:e,future:t,state:i}){return bse(e,void 0,i,t)}function Dse(e){return gse(e.context)}function jse({basename:e="/",children:t=null,location:i,navigationType:r="POP",navigator:n,static:s=!1}){Pt(!Ub(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=se.useMemo(()=>({basename:a,navigator:n,static:s,future:{}}),[a,n,s]);typeof i=="string"&&(i=nd(i));let{pathname:u="/",search:d="",hash:m="",state:v=null,key:b="default"}=i,_=se.useMemo(()=>{let S=za(u,a);return S==null?null:{location:{pathname:S,search:d,hash:m,state:v,key:b},navigationType:r}},[a,u,d,m,v,b,r]);return vr(_!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:se.createElement(Rl.Provider,{value:l},se.createElement(Gx.Provider,{children:t,value:_}))}var U_="get",G_="application/x-www-form-urlencoded";function Vx(e){return e!=null&&typeof e.tagName=="string"}function Fse(e){return Vx(e)&&e.tagName.toLowerCase()==="button"}function zse(e){return Vx(e)&&e.tagName.toLowerCase()==="form"}function Use(e){return Vx(e)&&e.tagName.toLowerCase()==="input"}function Gse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vse(e,t){return e.button===0&&(!t||t==="_self")&&!Gse(e)}var Ow=null;function Bse(){if(Ow===null)try{new FormData(document.createElement("form"),0),Ow=!1}catch{Ow=!0}return Ow}var Hse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _E(e){return e!=null&&!Hse.has(e)?(vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${G_}"`),null):e}function qse(e,t){let i,r,n,s,a;if(zse(e)){let l=e.getAttribute("action");r=l?za(l,t):null,i=e.getAttribute("method")||U_,n=_E(e.getAttribute("enctype"))||G_,s=new FormData(e)}else if(Fse(e)||Use(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?za(u,t):null,i=e.getAttribute("formmethod")||l.getAttribute("method")||U_,n=_E(e.getAttribute("formenctype"))||_E(l.getAttribute("enctype"))||G_,s=new FormData(l,e),!Bse()){let{name:d,type:m,value:v}=e;if(m==="image"){let b=d?`${d}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else d&&s.append(d,v)}}else{if(Vx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=U_,r=null,n=G_,a=e}return s&&n==="text/plain"&&(a=s,s=void 0),{action:r,method:i.toLowerCase(),encType:n,formData:s,body:a}}function JA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Wse(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yse(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Zse(e,t,i){let r=await Promise.all(e.map(async n=>{let s=t.routes[n.route.id];if(s){let a=await Wse(s,i);return a.links?a.links():[]}return[]}));return Qse(r.flat(1).filter(Yse).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function gL(e,t,i,r,n,s){let a=(u,d)=>i[d]?u.route.id!==i[d].route.id:!0,l=(u,d)=>{var m;return i[d].pathname!==u.pathname||((m=i[d].route.path)==null?void 0:m.endsWith("*"))&&i[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?t.filter((u,d)=>{var v;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Kse(e,t,{includeHydrateFallback:i}={}){return Jse(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let s=[n.module];return n.clientActionModule&&(s=s.concat(n.clientActionModule)),n.clientLoaderModule&&(s=s.concat(n.clientLoaderModule)),i&&n.hydrateFallbackModule&&(s=s.concat(n.hydrateFallbackModule)),n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function Jse(e){return[...new Set(e)]}function Xse(e){let t={},i=Object.keys(e).sort();for(let r of i)t[r]=e[r];return t}function Qse(e,t){let i=new Set;return new Set(t),e.reduce((r,n)=>{let s=JSON.stringify(Xse(n));return i.has(s)||(i.add(s),r.push({key:s,link:n})),r},[])}var eae=new Set([100,101,204,205]);function tae(e,t){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname="_root.data":t&&za(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function AV(){let e=se.useContext(Sf);return JA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iae(){let e=se.useContext(zb);return JA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var XA=se.createContext(void 0);XA.displayName="FrameworkContext";function RV(){let e=se.useContext(XA);return JA(e,"You must render this element inside a <HydratedRouter> element"),e}function rae(e,t){let i=se.useContext(XA),[r,n]=se.useState(!1),[s,a]=se.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:v}=t,b=se.useRef(null);se.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let M=E=>{E.forEach(A=>{a(A.isIntersecting)})},T=new IntersectionObserver(M,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[e]),se.useEffect(()=>{if(r){let M=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(M)}}},[r]);let _=()=>{n(!0)},S=()=>{n(!1),a(!1)};return i?e!=="intent"?[s,b,{}]:[s,b,{onFocus:K0(l,_),onBlur:K0(u,S),onMouseEnter:K0(d,_),onMouseLeave:K0(m,S),onTouchStart:K0(v,_)}]:[!1,b,{}]}function K0(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function nae({page:e,...t}){let{router:i}=AV(),r=se.useMemo(()=>Ch(i.routes,e,i.basename),[i.routes,e,i.basename]);return r?se.createElement(aae,{page:e,matches:r,...t}):null}function sae(e){let{manifest:t,routeModules:i}=RV(),[r,n]=se.useState([]);return se.useEffect(()=>{let s=!1;return Zse(e,t,i).then(a=>{s||n(a)}),()=>{s=!0}},[e,t,i]),r}function aae({page:e,matches:t,...i}){let r=xf(),{manifest:n,routeModules:s}=RV(),{basename:a}=AV(),{loaderData:l,matches:u}=iae(),d=se.useMemo(()=>gL(e,t,u,n,r,"data"),[e,t,u,n,r]),m=se.useMemo(()=>gL(e,t,u,n,r,"assets"),[e,t,u,n,r]),v=se.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,M=!1;if(t.forEach(E=>{var P;let A=n.routes[E.route.id];!A||!A.hasLoader||(!d.some(N=>N.route.id===E.route.id)&&E.route.id in l&&((P=s[E.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?M=!0:S.add(E.route.id))}),S.size===0)return[];let T=tae(e,a);return M&&S.size>0&&T.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[a,l,r,n,d,t,e,s]),b=se.useMemo(()=>Kse(m,n),[m,n]),_=sae(m);return se.createElement(se.Fragment,null,v.map(S=>se.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),b.map(S=>se.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),_.map(({key:S,link:M})=>se.createElement("link",{key:S,...M})))}function oae(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var PV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PV&&(window.__reactRouterVersion="7.5.3")}catch{}function lae(e,t){return Wne({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:fne({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||uae(),routes:e,mapRouteProperties:Rse,hydrationRouteProperties:Pse,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function uae(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:cae(e.errors)}),e}function cae(e){if(!e)return null;let t=Object.entries(e),i={};for(let[r,n]of t)if(n&&n.__type==="RouteErrorResponse")i[r]=new p3(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let s=window[n.__subType];if(typeof s=="function")try{let a=new s(n.message);a.stack="",i[r]=a}catch{}}if(i[r]==null){let s=new Error(n.message);s.stack="",i[r]=s}}else i[r]=n;return i}var OV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fh=se.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:n,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:m,viewTransition:v,...b},_){let{basename:S}=se.useContext(Rl),M=typeof d=="string"&&OV.test(d),T,E=!1;if(typeof d=="string"&&M&&(T=d,PV))try{let re=new URL(window.location.href),W=d.startsWith("//")?new URL(re.protocol+d):new URL(d),be=za(W.pathname,S);W.origin===re.origin&&be!=null?d=be+W.search+W.hash:E=!0}catch{vr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=pse(d,{relative:n}),[P,N,D]=rae(r,b),k=fae(d,{replace:a,state:l,target:u,preventScrollReset:m,relative:n,viewTransition:v});function q(re){t&&t(re),re.defaultPrevented||k(re)}let X=se.createElement("a",{...b,...D,href:T||A,onClick:E||s?t:q,ref:oae(_,N),target:u,"data-discover":!M&&i==="render"?"true":void 0});return P&&!M?se.createElement(se.Fragment,null,X,se.createElement(nae,{page:A})):X});Fh.displayName="Link";var hae=se.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:n=!1,style:s,to:a,viewTransition:l,children:u,...d},m){let v=Gb(a,{relative:d.relative}),b=xf(),_=se.useContext(zb),{navigator:S,basename:M}=se.useContext(Rl),T=_!=null&&bae(v)&&l===!0,E=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,A=b.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(A=A.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&M&&(P=za(P,M)||P);const N=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=A===E||!n&&A.startsWith(E)&&A.charAt(N)==="/",k=P!=null&&(P===E||!n&&P.startsWith(E)&&P.charAt(E.length)==="/"),q={isActive:D,isPending:k,isTransitioning:T},X=D?t:void 0,re;typeof r=="function"?re=r(q):re=[r,D?"active":null,k?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(q):s;return se.createElement(Fh,{...d,"aria-current":X,className:re,ref:m,style:W,to:a,viewTransition:l},typeof u=="function"?u(q):u)});hae.displayName="NavLink";var dae=se.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:n,state:s,method:a=U_,action:l,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:v,...b},_)=>{let S=gae(),M=vae(l,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&OV.test(l),A=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let N=P.nativeEvent.submitter,D=(N==null?void 0:N.getAttribute("formmethod"))||a;S(N||P.currentTarget,{fetcherKey:t,method:D,navigate:i,replace:n,state:s,relative:d,preventScrollReset:m,viewTransition:v})};return se.createElement("form",{ref:_,method:T,action:M,onSubmit:r?u:A,...b,"data-discover":!E&&e==="render"?"true":void 0})});dae.displayName="Form";function pae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kV(e){let t=se.useContext(Sf);return Pt(t,pae(e)),t}function fae(e,{target:t,replace:i,state:r,preventScrollReset:n,relative:s,viewTransition:a}={}){let l=fse(),u=xf(),d=Gb(e,{relative:s});return se.useCallback(m=>{if(Vse(m,t)){m.preventDefault();let v=i!==void 0?i:Wh(u)===Wh(d);l(e,{replace:v,state:r,preventScrollReset:n,relative:s,viewTransition:a})}},[u,l,d,i,r,t,e,n,s,a])}var mae=0,yae=()=>`__${String(++mae)}__`;function gae(){let{router:e}=kV("useSubmit"),{basename:t}=se.useContext(Rl),i=Ise();return se.useCallback(async(r,n={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=qse(r,t);if(n.navigate===!1){let m=n.fetcherKey||yae();await e.fetch(m,i,n.action||s,{preventScrollReset:n.preventScrollReset,formData:u,body:d,formMethod:n.method||a,formEncType:n.encType||l,flushSync:n.flushSync})}else await e.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:u,body:d,formMethod:n.method||a,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:i,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,i])}function vae(e,{relative:t}={}){let{basename:i}=se.useContext(Rl),r=se.useContext(jo);Pt(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),s={...Gb(e||".",{relative:t})},a=xf();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(m=>m==="")){l.delete("index"),u.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&n.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(s.pathname=s.pathname==="/"?i:gl([i,s.pathname])),Wh(s)}function bae(e,t={}){let i=se.useContext(WA);Pt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kV("useViewTransitionState"),n=Gb(e,{relative:t.relative});if(!i.isTransitioning)return!1;let s=za(i.currentLocation.pathname,r)||i.currentLocation.pathname,a=za(i.nextLocation.pathname,r)||i.nextLocation.pathname;return d3(n.pathname,a)!=null||d3(n.pathname,s)!=null}new TextEncoder;[...eae];var wae=hV();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _ae(e){return se.createElement(kse,{flushSync:wae.flushSync,...e})}function Sae(){return R.jsx("div",{className:"footer",children:R.jsx("div",{className:"container",children:R.jsxs("div",{className:"row gap-2",children:[R.jsxs("div",{className:"col-12 col-md-12 col-lg-5",children:[R.jsx("img",{src:"/img/logo2.png",width:"100px",alt:"logo"}),R.jsxs("h1",{className:"fw-bold",children:["Pemerintahan ",R.jsx("br",{}),"Kabupaten Karo"]})]}),R.jsxs("div",{className:"col-12 col-md-5 col-lg-3",children:[R.jsx("h2",{className:"fw-bold",children:"Ikuti Kami"}),R.jsxs("p",{children:[R.jsx("img",{src:"/img/logo/facebook.png",width:"25px",alt:""}),"Dinas PUTR Kabupaten Karo"]}),R.jsxs("p",{children:[R.jsx("img",{src:"/img/logo/social.png",width:"25px",alt:""}),"Dinas PUTR Kabupaten Karo"]}),R.jsxs("p",{children:[R.jsx("img",{src:"/img/logo/youtube.png",width:"25px",alt:""}),"Dinas PUTR Kabupaten Karo"]})]}),R.jsxs("div",{className:"col-12 col-md-5 col-lg-3",children:[R.jsx("h2",{className:"fw-bold",children:"Hubungi Kami"}),R.jsxs("p",{children:[R.jsx("img",{src:"/img/logo/email.png",width:"25px",alt:""}),R.jsx("a",{href:"mailto:dinasputrkabkaro@gmail.com",className:"text-decoration-none",children:"dinasputrkabkaro@gmail.com"})]}),R.jsxs("p",{children:[R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:25,viewBox:"0 0 256 367",children:[R.jsx("path",{fill:"#34a853",d:"M70.585 271.865a371 371 0 0 1 28.911 42.642c7.374 13.982 10.448 23.463 15.837 40.31c3.305 9.308 6.292 12.086 12.714 12.086c6.998 0 10.173-4.726 12.626-12.035c5.094-15.91 9.091-28.052 15.397-39.525c12.374-22.15 27.75-41.833 42.858-60.75c4.09-5.354 30.534-36.545 42.439-61.156c0 0 14.632-27.035 14.632-64.792c0-35.318-14.43-59.813-14.43-59.813l-41.545 11.126l-25.23 66.451l-6.242 9.163l-1.248 1.66l-1.66 2.078l-2.914 3.319l-4.164 4.163l-22.467 18.304l-56.17 32.432z"}),R.jsx("path",{fill:"#fbbc04",d:"M12.612 188.892c13.709 31.313 40.145 58.839 58.031 82.995l95.001-112.534s-13.384 17.504-37.662 17.504c-27.043 0-48.89-21.595-48.89-48.825c0-18.673 11.234-31.501 11.234-31.501l-64.489 17.28z"}),R.jsx("path",{fill:"#4285f4",d:"M166.705 5.787c31.552 10.173 58.558 31.53 74.893 63.023l-75.925 90.478s11.234-13.06 11.234-31.617c0-27.864-23.463-48.68-48.81-48.68c-23.969 0-37.735 17.475-37.735 17.475v-57z"}),R.jsx("path",{fill:"#1a73e8",d:"M30.015 45.765C48.86 23.218 82.02 0 127.736 0c22.18 0 38.89 5.823 38.89 5.823L90.29 96.516H36.205z"}),R.jsx("path",{fill:"#ea4335",d:"M12.612 188.892S0 164.194 0 128.414c0-33.817 13.146-63.377 30.015-82.649l60.318 50.759z"})]}),R.jsx("a",{href:"https://maps.app.goo.gl/NGoVHLxXgJxNyniH8",className:"text-decoration-none",children:"Jl. Jamin ginting no.72 kabanjahe"})]})]})]})})})}function xae(){const[e,t]=se.useState(0);se.useEffect(()=>{fetch("https://api1.drnguesthouse.com/hit").then(r=>r.json()).then(r=>t(r.value))},[]);function i(r){return r>=1e12?(r/1e12).toFixed(1).replace(/\.0$/,"")+"T":r>=1e9?(r/1e9).toFixed(1).replace(/\.0$/,"")+"B":r>=1e6?(r/1e6).toFixed(1).replace(/\.0$/,"")+"M":r>=1e3?(r/1e3).toFixed(1).replace(/\.0$/,"")+"K":r.toString()}return R.jsxs("div",{children:[R.jsxs("div",{className:"fixed-top",children:[R.jsxs("nav",{className:"navbar navbar-expand-lg fixed-top",children:[R.jsxs("div",{className:"menu",children:[R.jsx("div",{className:"line"}),R.jsx("div",{className:"line2"}),R.jsx("div",{className:"line2"})]}),R.jsxs("div",{className:"container",children:[R.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasWithBothOptions","aria-controls":"offcanvasWithBothOptions","aria-expanded":"false","aria-label":"Toggle navigation",children:R.jsx("span",{className:"navbar-toggler-icon"})}),R.jsx("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:R.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link active","aria-current":"page",href:"/",children:"Beranda"})}),R.jsxs("li",{className:"nav-item dropdown",children:[R.jsx("a",{className:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Layanan Kami"}),R.jsxs("ul",{className:"dropdown-menu",children:[R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"/bina-marga",children:"Bina Marga"})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"/tata-ruang",children:"Tata Ruang"})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"#",children:"Cipta Karya"})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"#",children:"Bangunan Gedung dan Bina Kontruksi"})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"#",children:"Sumber Daya Air"})}),R.jsx("li",{children:R.jsx("hr",{className:"dropdown-divider"})}),R.jsx("li",{children:R.jsx("a",{className:"dropdown-item",href:"#",children:"UPT Workshop"})})]})]}),R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link",href:"/galeri-kegiatan",children:"Galeri Kegiatan"})}),R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link",href:"/pengaduan",children:"Pengaduan"})})]})}),R.jsx("a",{className:"navbar-brand",href:"/",children:R.jsx("img",{src:"/img/Logo.png",alt:"logo",width:"200px"})})]})]}),R.jsx("div",{className:"divider"})]}),R.jsxs("div",{className:"offcanvas offcanvas-start","data-bs-scroll":"true",tabIndex:-1,id:"offcanvasWithBothOptions","aria-labelledby":"offcanvasWithBothOptionsLabel",style:{maxWidth:"75vw"},children:[R.jsxs("div",{className:"offcanvas-header",children:[R.jsx("h5",{className:"offcanvas-title",id:"offcanvasWithBothOptionsLabel",children:R.jsx("a",{className:"navbar-brand",href:"#",children:R.jsx("img",{src:"/img/Logo.png",alt:"logo",width:"200px"})})}),R.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),R.jsx("div",{className:"offcanvas-body",children:R.jsxs("ul",{className:"navbar-nav",children:[R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link active","aria-current":"page",href:"/",children:"Beranda"})}),R.jsxs("li",{className:"nav-item dropdown",children:[R.jsx("a",{className:"nav-link dropdown-toggle",href:"#","aria-expanded":"true",children:"Layanan Kami"}),R.jsxs("ul",{className:"list-group list-group-flush",children:[R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"/bina-marga",children:"Bina Marga"})}),R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"/tata-ruang",children:"Tata Ruang"})}),R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"#",children:"Cipta Karya"})}),R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"#",children:"Bangunan Gedung dan Bina Kontruksi"})}),R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"#",children:"Sumber Daya Air"})}),R.jsx("li",{className:"list-group-item",children:R.jsx("a",{className:"nav-link",href:"#",children:"UPT Workshop"})})]})]}),R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link",href:"/galeri-kegiatan",children:"Galeri Kegiatan"})}),R.jsx("li",{className:"nav-item",children:R.jsx("a",{className:"nav-link",href:"/pengaduan",children:"Pengaduan"})})]})})]}),R.jsx("br",{}),R.jsx("br",{}),R.jsx("br",{}),R.jsxs("div",{style:{position:"fixed",bottom:10,right:10,background:"#000",color:"#fff",padding:"6px 12px",borderRadius:"8px",fontSize:"14px",zIndex:1e3},children:[" ",i(e)]})]})}function Mae(){return R.jsxs(R.Fragment,{children:[R.jsx(xae,{}),R.jsx(Dse,{}),R.jsx(Sae,{})]})}function Bx({title:e}){return R.jsxs("div",{children:[R.jsx("div",{className:"hero",children:R.jsx("div",{className:"container",children:R.jsxs("div",{className:"row",children:[R.jsxs("div",{className:"col col-12 col-md-6",children:[R.jsx("img",{src:"/img/layar3.png",className:"layar",width:"100%",alt:""}),R.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[R.jsxs("div",{className:"carousel-inner",children:[R.jsx("div",{className:"carousel-item active",children:R.jsx("img",{src:"/img/slide/Slide1.JPG",className:"d-block w-100",alt:"..."})}),R.jsx("div",{className:"carousel-item",children:R.jsx("img",{src:"/img/slide/Slide2.JPG",className:"d-block w-100",alt:"..."})}),R.jsx("div",{className:"carousel-item",children:R.jsx("img",{src:"/img/slide/Slide3.JPG",className:"d-block w-100",alt:"..."})})]}),R.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[R.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),R.jsx("span",{className:"visually-hidden",children:"Previous"})]}),R.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[R.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),R.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]}),R.jsxs("div",{className:"col col-12 col-md-6 d-flex align-items-center justify-content-center flex-wrap",children:[R.jsx("h1",{className:"hero-text text-center",children:"Portal Dinas Pekerjaan Umum dan Tata Ruang Kabupaten Karo"}),e&&R.jsx("h1",{className:"hero-text text-center",style:{fontSize:"calc(1.375rem + 3vw)"},children:e})]})]})})}),R.jsx("div",{className:"divider"})]})}const QA=[{id:1,title:"Dokumentasi Tembok Penahan Kantor Camat Merdeka Berastagi",media:[{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar1.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar2.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar3.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar4.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar5.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar6.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar7.png"},{type:"image",src:"/kegiatan/Tembok_Penahan_Kantor_Camat_Merdeka_Berastagi/Gambar8.png"}]},{id:2,title:"Dokumentasi Pembangunan Saluran Drainase Jalan Irian Kec. Kabanjahe(lanjutan)",media:[{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar1.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar2.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar3.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar4.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar5.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar6.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar7.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar8.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar9.png"},{type:"image",src:"/kegiatan/Pembangunan_Saluran_Drainase_Irian/Gambar10.png"}]},{id:3,title:"REHABILITASI JARINGAN IRIGASI DI.KUTARAYA KEC.TIGABINANGA",media:[{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar1.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar2.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar3.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar4.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar5.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar6.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar7.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar8.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar9.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar10.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar11.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar12.jpg"},{type:"image",src:"/kegiatan/REHABILITASI_JARINGAN_IRIGASI_KUTARAYA/Gambar13.jpg"}]},{id:4,title:"Pembangunan Tembok Penahan Tanah Pada Ruas Jalan Cinta Rayat - Ujung Teran Kec. Merdeka",media:[{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Cinta_Rayat/Gambar1.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Cinta_Rayat/Gambar2.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Cinta_Rayat/Gambar3.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Cinta_Rayat/Gambar4.jpg"}]},{id:5,title:"Pembangunan Tembok Penahan Tanah Pada Ruas Jalan Ujung Teran - Sukandebi Kec. Merdeka/Kec.Namanteran",media:[{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Ujung_Teran/Gambar1.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Ujung_Teran/Gambar2.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Ujung_Teran/Gambar3.jpg"},{type:"image",src:"/kegiatan/Pembangunan_Tembok_Penahan_Tanah_Pada_Ruas_Jalan_Ujung_Teran/Gambar4.jpg"}]},{id:6,title:"Pemeliharaan Berkala Jalan Jamin Ginting Komplek Tropis Perumahan Veteran Desa Ketaren Kec. Kabanjahe",media:[{type:"image",src:"/kegiatan/Pemeliharaan_Berkala_Jalan_Desa_Ketaren/Gambar1.jpg"},{type:"image",src:"/kegiatan/Pemeliharaan_Berkala_Jalan_Desa_Ketaren/Gambar2.jpg"},{type:"image",src:"/kegiatan/Pemeliharaan_Berkala_Jalan_Desa_Ketaren/Gambar3.jpg"},{type:"image",src:"/kegiatan/Pemeliharaan_Berkala_Jalan_Desa_Ketaren/Gambar4.jpg"}]},{id:7,title:"Peningkatan Jalan Regaji - Suka Kec. Merek / Kec.Tigapanah",media:[{type:"image",src:"/kegiatan/Peningkatan_Jalan_Regaji_Suka/Gambar1.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Regaji_Suka/Gambar2.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Regaji_Suka/Gambar3.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Regaji_Suka/Gambar4.jpg"}]},{id:8,title:"Peningkatan Jalan Sp Buah Raya - Buah Raya Kec Kutabuluh (Lanjutan)",media:[{type:"image",src:"/kegiatan/Peningkatan_Jalan_Sp_Buah_Raya_Buah_Raya/Gambar1.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Sp_Buah_Raya_Buah_Raya/Gambar2.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Sp_Buah_Raya_Buah_Raya/Gambar3.jpg"},{type:"image",src:"/kegiatan/Peningkatan_Jalan_Sp_Buah_Raya_Buah_Raya/Gambar4.jpg"}]},{id:9,title:"Koordinasi Longsor jalan di Desa Serdang Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Koordinasi_Longsor_Serdang/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Koordinasi_Longsor_Serdang/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Koordinasi_Longsor_Serdang/Gambar3.jpeg"},{type:"video",src:"/kegiatan/video/Koordinasi_Longsor_Serdang/Video1.mp4"}]},{id:10,title:"Normalisasi Daerah Irigasi Laubaleng Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Daerah_Irigasi_Laubaleng/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Daerah_Irigasi_Laubaleng/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Daerah_Irigasi_Laubaleng/Gambar3.jpeg"},{type:"video",src:"/kegiatan/video/Normalisasi_Daerah_Irigasi_Laubaleng/Video1.mp4"}]},{id:11,title:"Normalisasi Drainase gang murai laudah kec. kabanjahe Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar5.jpeg"},{type:"video",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Video1.mp4"}]},{id:12,title:"Normalisasi Drainase Jalan pala Bangun Kec. Kabanjahe Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar7.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Jalan_Pala_Bangun_kec_kabanjahe/Gambar8.jpeg"}]},{id:13,title:"Normalisasi Drainase samping  IYO Lau Cimba Kec. Kabanjahe Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Gambar7.jpeg"},{type:"video",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Video1.mp4"},{type:"video",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Video2.mp4"},{type:"video",src:"/kegiatan/video/Normalisasi_Drainase_Samping_IYO_Lau_Cimba_kec_kabanjahe/Video3.mp4"}]},{id:14,title:"Normalisasi Drainase Tigabinanga",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar7.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar8.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar9.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar10.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar11.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar12.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar13.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar14.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_Tigabinanga/Gambar15.jpeg"}]},{id:15,title:"Normalisasi Saluran irigasi Munte",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar7.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Saluran_Irigasi_Munte/Gambar8.jpeg"}]},{id:16,title:"Paya Lah-Lah",media:[{type:"image",src:"/kegiatan/video/Paya_Lah_Lah/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Paya_Lah_Lah/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Paya_Lah_Lah/Gambar3.jpeg"}]},{id:17,title:"Pelayanan Izin Usaha Menggunakan Aplikasi OSS dan Penertipan PBG",media:[{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar7.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar8.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar9.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar10.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar11.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar12.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar13.jpeg"},{type:"image",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Gambar14.jpeg"},{type:"video",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Video1.mp4"},{type:"video",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Video2.mp4"},{type:"video",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Video3.mp4"},{type:"video",src:"/kegiatan/video/Pelayanan_Izin_Usaha_Menggunakan_Aplikasi_OSS_dan_Penertipan_PBG/Video4.mp4"}]},{id:18,title:"Normalisasi Drainase gang murai laudah kec. kabanjahe Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Gambar5.jpeg"},{type:"video",src:"/kegiatan/video/Normalisasi_Drainase_gang_murai_laudah_kec_kabanjahe/Video1.mp4"}]},{id:19,title:"Pemeliharaan Rutin sp. Penampen Penampen Kec. Tiganderket Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Pemeliharaan_Rutin_sp_Penampen_Penampen_Kec_Tiganderket_Kab_Karo/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Pemeliharaan_Rutin_sp_Penampen_Penampen_Kec_Tiganderket_Kab_Karo/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Pemeliharaan_Rutin_sp_Penampen_Penampen_Kec_Tiganderket_Kab_Karo/Gambar3.jpeg"},{type:"video",src:"/kegiatan/video/Pemeliharaan_Rutin_sp_Penampen_Penampen_Kec_Tiganderket_Kab_Karo/Video1.mp4"}]},{id:20,title:"Penanaman Bunga",media:[{type:"video",src:"/kegiatan/video/Penanaman_Bunga/Video1.mp4"},{type:"video",src:"/kegiatan/video/Penanaman_Bunga/Video2.mp4"},{type:"video",src:"/kegiatan/video/Penanaman_Bunga/Video3.mp4"}]},{id:21,title:"Penangan Pencucian Wortel di Jalan Udara",media:[{type:"image",src:"/kegiatan/video/Penangan_Pencucian_Wortel_di_Jalan_Udara/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Penangan_Pencucian_Wortel_di_Jalan_Udara/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Penangan_Pencucian_Wortel_di_Jalan_Udara/Gambar3.jpeg"}]},{id:22,title:"Penanganan Banjir Kabanjahe - Berastagi",media:[{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Berastagi/Gambar6.jpeg"}]},{id:23,title:"Penanganan Banjir Kabanjahe - Tigapanah",media:[{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Banjir_Kabanjahe_Tigapanah/Gambar7.jpeg"}]},{id:24,title:"Penanganan Genangan Banjir Jalan Kabupaten di Desa Siabang Abang Kec. Kutabuluh Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Penanganan_Genangan_Banjir_Siabang_Abang/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Genangan_Banjir_Siabang_Abang/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Penanganan_Genangan_Banjir_Siabang_Abang/Gambar3.jpeg"},{type:"video",src:"/kegiatan/video/Penanganan_Genangan_Banjir_Siabang_Abang/Video1.mp4"},{type:"video",src:"/kegiatan/video/Penanganan_Genangan_Banjir_Siabang_Abang/Video2.mp4"}]},{id:25,title:"Perbaikan Jalan Negri Jahe Kab. Karo",media:[{type:"image",src:"/kegiatan/video/Perbaikan_Jalan_Negri_Jahe/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Perbaikan_Jalan_Negri_Jahe/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Perbaikan_Jalan_Negri_Jahe/Gambar3.jpeg"}]},{id:26,title:"Rapat KRK",media:[{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Rapat_KRK/Gambar7.jpeg"}]},{id:27,title:"Sosialisasi Peraturan Daerah Tentang Rencana Tata Ruang Wilayah (RTRW) Kabupaten Karo Tahun 2022-2042",media:[{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar1.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar2.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar3.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar4.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar5.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar6.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar7.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar8.jpeg"},{type:"image",src:"/kegiatan/video/Sosialisasi_rtrw_dan_PBG/Gambar9.jpeg"}]}];function Tae(){const e=QA.slice(0,2);return R.jsxs("div",{children:[R.jsx(Bx,{}),R.jsxs("div",{className:"layanan container",children:[R.jsx("h3",{className:"text-center fw-bold m-4",children:"Layanan Kami"}),R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"./bina-marga",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/bina_marga.png",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsx("h4",{className:"fw-bold mb-0",children:"Bina Marga"})})]})})}),R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"#",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/cipta_karya.jpg",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsx("h4",{className:"fw-bold mb-0",children:"Cipta Karya"})})]})})}),R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"#",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/bangunan.png",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsxs("h5",{className:"fw-bold mb-0",children:["Bangunan Gedung dan ",R.jsx("br",{}),"Bina Konstruksi"]})})]})})}),R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"#",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/sda.png",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsx("h4",{className:"fw-bold mb-0",children:"Sumber Daya Air"})})]})})}),R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"./tata-ruang",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/tata_ruang.png",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsx("h4",{className:"fw-bold mb-0",children:"Tata Ruang"})})]})})}),R.jsx("div",{className:"card-layanan position-relative col-12 col-md-6 col-xl-4 d-flex justify-content-center",children:R.jsx("a",{href:"#",className:"text-decoration-none",children:R.jsxs("div",{className:"card position-relative shadow mb-5 rounded",style:{width:"22rem",maxWidth:"90vw"},children:[R.jsx("img",{src:"./img/card/upt.png",className:"card-img-top",alt:"..."}),R.jsx("div",{className:"card-body p-1 text-center d-flex align-items-end justify-content-center",children:R.jsx("h4",{className:"fw-bold mb-0",children:"UPT Workshop"})})]})})})]})]}),R.jsxs("div",{className:"container mt-5",children:[R.jsx("div",{className:"text-center mb-5",children:R.jsx("h2",{className:"fw-bold",children:"Dokumentasi Kegiatan"})}),R.jsxs("div",{className:"row g-4",children:[R.jsx("div",{className:"col-md-4",children:R.jsxs("div",{className:"card h-100 shadow-lg border-0",style:{borderRadius:"15px",overflow:"hidden"},children:[R.jsx("div",{className:"position-relative",children:R.jsx("img",{src:"/img/galeri/image1.png",className:"card-img-top",alt:"DOKUMENTASI KEGIATAN TA.2023",style:{height:"220px",objectFit:"cover",transition:"transform 0.3s ease"}})}),R.jsxs("div",{className:"card-body d-flex flex-column",children:[R.jsx("h5",{className:"card-title fw-bold",children:"Penggantian Jembatan pada Ruas Jalan Bintang Meriah - Perbesi Kec. Kutabuluh (DAU SG)"}),R.jsx(Fh,{to:"/kegiatan",className:"btn btn-outline-primary mt-auto",children:"Lihat Detail"})]})]})}),e.map(t=>R.jsx("div",{className:"col-md-4",children:R.jsxs("div",{className:"card h-100 shadow-lg border-0",style:{borderRadius:"15px",overflow:"hidden"},children:[R.jsx("div",{className:"position-relative",children:R.jsx("img",{src:t.media[0].src,className:"card-img-top",alt:t.title,style:{height:"220px",objectFit:"cover",transition:"transform 0.3s ease"}})}),R.jsxs("div",{className:"card-body d-flex flex-column",children:[R.jsx("h5",{className:"card-title fw-bold",children:t.title}),R.jsx(Fh,{to:`/galeri-kegiatan/${t.id}`,className:"btn btn-outline-primary mt-auto",children:"Lihat Detail"})]})]})},t.id))]}),R.jsx("div",{className:"text-center mt-5",children:R.jsx(Fh,{to:"/galeri-kegiatan",className:"btn btn-primary btn-lg px-5",children:"Lihat Semua Kegiatan"})})]}),R.jsx("br",{}),R.jsx("br",{}),R.jsxs("ol",{className:"container list-group-numbered",children:[R.jsx("h4",{className:"fw-bold",children:"Petunjuk"}),R.jsxs("li",{className:"list-group-item",children:["Akses Halaman"," ",R.jsx("a",{href:"https://dinasputrkabupatenkaro.com/",children:"https://dinasputrkabupatenkaro.com/"})]}),R.jsx("li",{className:"list-group-item",children:"Pilih Beranda"}),R.jsx("li",{className:"list-group-item",children:"Pilih Layanan Kami Yang Anda Inginkan"})]})]})}function Eae(){const[e,t]=se.useState(!0),i=()=>{t(!1)};return R.jsxs("div",{children:[R.jsx(Bx,{title:"BINA MARGA"}),R.jsxs("div",{className:"layanan container position-relative",children:[R.jsx("h2",{className:"text-center fw-bold m-4",children:"Peta Jalan Kabupaten Karo"}),R.jsxs("ol",{className:"container list-group-numbered",children:[R.jsx("h4",{className:"fw-bold",children:"Petunjuk"}),R.jsx("li",{className:"list-group-item",children:"Pilih Beranda"}),R.jsx("li",{className:"list-group-item",children:"Pilih Bina Marga"}),R.jsx("li",{className:"list-group-item",children:"Pilih Ruas Jalan Yang Ingin Dilihat Informasinya"})]}),e&&R.jsxs("div",{className:"position-absolute top-50 start-50 translate-middle d-flex flex-wrap align-items-center",style:{zIndex:10},children:[R.jsx("span",{children:"Loading..."}),R.jsx("div",{className:"spinner-border text-primary",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})]}),R.jsx("iframe",{src:"https://www.arcgis.com/apps/instant/basic/index.html?appid=a2b913cbc2f3423c97d6658e090cca7e",width:"100%",height:"600",frameBorder:"0",style:{border:0},allowFullScreen:!0,onLoad:i,title:"Peta Jalan Kabupaten Karo",children:"iFrames are not supported on this page."})]})]})}function Cae(){return R.jsxs(R.Fragment,{children:[R.jsx(Bx,{title:"GALERI KEGIATAN"}),R.jsxs("div",{className:"layanan container",children:[R.jsx("h2",{className:"text-center fw-bold m-4",children:"DOKUMENTASI KEGIATAN TA.2023"}),R.jsxs("div",{className:"mb-5",children:[R.jsx("h3",{children:"Penggantian Jembatan pada Ruas Jalan Bintang Meriah - Perbesi Kec. Kutabuluh (DAU SG)"}),R.jsx("img",{src:"/img/galeri/image1.png",style:{maxWidth:"90vw"},alt:""})]}),R.jsxs("div",{className:"mb-5",children:[R.jsx("h3",{children:"Pembangunan jembatan Pada Ruas Jalan Kuta rayat - Kebayaken Kec. Namanteran (DAU SG)"}),R.jsx("img",{src:"/img/galeri/image2.png",style:{maxWidth:"90vw"},alt:""})]}),R.jsxs("div",{className:"mb-5",children:[R.jsx("h3",{children:"Penanganan Long Segment Sp.Empat - Sp. Gurukinayan Kec. Simpang Empat/Kec. Payung (DAK Penugasan Tematik Penguatan Destinasi Pariwisata Prioritas)"}),R.jsx("img",{src:"/img/galeri/image3.png",style:{maxWidth:"90vw"},alt:""}),R.jsx("img",{src:"/img/galeri/image4.png",style:{maxWidth:"90vw"},alt:""})]})]})]})}function h(e,t,i,r){var n,s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,i,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(a=(s<3?n(a):s>3?n(t,i,a):n(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function gPe(e,t){return function(i,r){t(i,r,e)}}function vPe(e,t,i,r){function n(s){return s instanceof i?s:new i(function(a){a(s)})}return new(i||(i=Promise))(function(s,a){function l(m){try{d(r.next(m))}catch(v){a(v)}}function u(m){try{d(r.throw(m))}catch(v){a(v)}}function d(m){m.done?s(m.value):n(m.value).then(l,u)}d((r=r.apply(e,[])).next())})}function bPe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,n;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var Iae=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function wPe(e){function t(s){e.error=e.hasError?new Iae(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var i,r=0;function n(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(n);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(s).then(n,function(a){return t(a),n()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}let Rh;function J(e){return typeof Rh[e]=="function"?Rh[e]=Rh[e](globalThis):Rh[e]}var tV,iV,rV,nV;Rh=(tV=globalThis.dojoConfig)!=null&&tV.has||(iV=globalThis.esriConfig)!=null&&iV.has?{...(rV=globalThis.dojoConfig)==null?void 0:rV.has,...(nV=globalThis.esriConfig)==null?void 0:nV.has}:{},J.add=(e,t,i,r)=>{(r||Rh[e]===void 0)&&(Rh[e]=t),i&&J(e)},J.cache=Rh,J.add("big-integer-warning-enabled",!0),J.add("esri-deprecation-warnings",!0),J.add("esri-tests-disable-screenshots",!1),J.add("esri-tests-use-full-window",!1),J.add("esri-tests-post-to-influx",!0),J.add("esri-cim-animations-enable-status","enabled"),J.add("esri-cim-animations-spotlight",!1),J.add("esri-cim-animations-freeze-time",!1),J.add("enable-feature:multiple-highlights",!0),(()=>{var t;J.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(J.add("host-browser",e),J.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),J.add("dom",e),J("host-browser")){const i=navigator,r=i.userAgent,n=i.appVersion,s=parseFloat(n);if(J.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),J.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),J.add("khtml",n.includes("Konqueror")?s:void 0),J.add("edge",parseFloat(r.split("Edge/")[1])||void 0),J.add("opr",parseFloat(r.split("OPR/")[1])||void 0),J.add("webkit",!J("wp")&&!J("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),J.add("chrome",!J("edge")&&!J("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),J.add("android",!J("wp")&&parseFloat(r.split("Android ")[1])||void 0),J.add("safari",!n.includes("Safari")||J("wp")||J("chrome")||J("android")||J("edge")||J("opr")?void 0:parseFloat(n.split("Version/")[1])),J.add("mac",n.includes("Macintosh")),!J("wp")&&/(iPhone|iPod|iPad)/.test(r)){const a=RegExp.$1.replace(/P/,"p"),l=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",u=parseFloat(l.replace(/_/,".").replaceAll("_",""));J.add(a,u),J.add("ios",u)}J("webkit")||(!r.includes("Gecko")||J("wp")||J("khtml")||J("edge")||J.add("mozilla",s),J("mozilla")&&J.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&J.add("esri-mobile",t),i&&J.add("esri-iPhone",i),J.add("esri-geolocation",!!navigator.geolocation)}J.add("esri-wasm","WebAssembly"in globalThis),J.add("esri-performance-mode-frames-between-render",20),J.add("esri-force-performance-mode",!1),J.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),J.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),J.add("esri-atomics","Atomics"in globalThis),J.add("esri-workers","Worker"in globalThis),J.add("web-feat:cache","caches"in globalThis),J.add("esri-workers-arraybuffer-transfer",!J("safari")||Number(J("safari"))>=12),J.add("workers-pool-size",8),J.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),J.add("featurelayer-simplify-payload-size-factors",[1,1,4]),J.add("featurelayer-fast-triangulation-enabled",!0),J.add("featurelayer-animation-enabled",!0),J.add("featurelayer-snapshot-enabled",!0),J.add("featurelayer-snapshot-point-min-threshold",8e4),J.add("featurelayer-snapshot-point-max-threshold",4e5),J.add("featurelayer-snapshot-point-coverage",.1),J.add("featurelayer-query-max-depth",4),J.add("featurelayer-query-pausing-enabled",!1),J.add("featurelayer-advanced-symbols",!1),J.add("featurelayer-pbf",!0),J.add("featurelayer-pbf-statistics",!1),J.add("feature-layers-workers",!0),J.add("feature-polyline-generalization-factor",1),J.add("mapview-transitions-duration",200),J.add("mapview-essential-goto-duration",200),J.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),J.add("mapserver-pbf-version-support",10.81),J.add("mapservice-popup-identify-max-tolerance",20),J.add("request-queue-concurrency-hosted",16),J.add("request-queue-concurrency-non-hosted",4),J.add("curve-densification-coarse-segments",128),J.add("curve-densification-max-segments",2e3),J.add("curve-densification-min-segments",3),J.add("curve-densification-pixels-per-segment",16),J.add("view-readyState-waiting-delay",1e3),J.add("gradient-depth-bias",.01),J.add("gradient-depth-epsilon",1e-8),J("host-webworker")||J("host-browser")&&(J.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),J.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{J.add("esri-image-decode",!0,!0,!0)}).catch(()=>{J.add("esri-image-decode",!1,!0,!0)})}return!1}),J.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function _Pe(e){}function $ae(e){return()=>e}function SPe(e){return e}let V_=class Hd{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Hd._m}getInt(){return this._seed=(Hd._a*this._seed+Hd._c)%Hd._m,this._seed}getFloat(){return this.getInt()/(Hd._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Hd._m*r}};V_._m=2147483647,V_._a=48271,V_._c=0;const Aae=1.5,xPe=1/Aae,MPe=.5;function TPe(e,t){return t?e.filter((i,r,n)=>n.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function Hx(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function vL(e,t,i){let r,n;return i?(r=t.filter(s=>!e.some(a=>i(a,s))),n=e.filter(s=>!t.some(a=>i(a,s)))):(r=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:r,removed:n}}function EPe(e){return e&&typeof e.length=="number"}let LV=class{constructor(){this.last=0}};const NV=new LV;function sI(e,t,i,r){r=r||NV;const n=Math.max(0,r.last-10);for(let a=n;a<i;++a)if(e[a]===t)return r.last=a,a;const s=Math.min(n,i);for(let a=0;a<s;++a)if(e[a]===t)return r.last=a,a;return-1}function Rae(e,t,i,r){const n=e.length,s=sI(e,t,n,r);if(s!==-1)return e[s]=e[n-1],e.pop(),t}const to=new Set;function Pae(e,t,i=e.length,r=t.length,n,s){if(r===0||i===0)return i;to.clear();for(let l=0;l<r;++l)to.add(t[l]);n=n||NV;const a=Math.max(0,n.last-10);for(let l=a;l<i;++l)if(to.has(e[l])&&(s==null||s.push(e[l]),to.delete(e[l]),e[l]=e[i-1],--i,--l,to.size===0||i===0))return to.clear(),i;for(let l=0;l<a;++l)if(to.has(e[l])&&(s==null||s.push(e[l]),to.delete(e[l]),e[l]=e[i-1],--i,--l,to.size===0||i===0))return to.clear(),i;return to.clear(),i}function IPe(e,t,i){const r=e.length;if(t>=r)return e.slice();const n=eR(i),s=new Set,a=[];for(;a.length<t;){const l=Math.floor(n()*r);s.has(l)||(s.add(l),a.push(e[l]))}return a}function eR(e){return e?(bL.seed=e,()=>bL.getFloat()):Math.random}const bL=new V_;function DV(e,t){const i=eR(t);for(let r=e.length-1;r>0;r--){const n=Math.floor(i()*(r+1)),s=e[r];e[r]=e[n],e[n]=s}return e}function jV(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function Fa(e,t){return e!=null}const $Pe=[];function Oae(e){return e instanceof ArrayBuffer}function tR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function FV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function iR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function rR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function zV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function nR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function UV(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function qx(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function Wx(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function GV(e){return"buffer"in e}const sR=1024;function APe(e){return Wx(e)||qx(e)||nR(e)||rR(e)||tR(e)}function RPe(e){return Wx(e)||qx(e)}function PPe(e){return Wx(e)?179769e303:qx(e)?3402823e32:UV(e)?4294967295:zV(e)?65535:FV(e)||iR(e)?255:nR(e)?2147483647:rR(e)?32767:tR(e)?127:256}function kae(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function H(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=HV(e);if(t!=null)return t;if(m3(e))return e.clone();if(VV(e))return e.map(H);if(BV(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=H(e[r]);return i}function aI(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=HV(e);if(t!=null)return t;if(VV(e)){let r=!0;const n=e.map(s=>{const a=aI(s);return s!=null&&a==null&&(r=!1),a});return r?n:null}if(m3(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(BV(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const n=e[r],s=aI(n);if(n!=null&&s==null)return null;i[r]=s}return i}function m3(e){return typeof e.clone=="function"}function VV(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function BV(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function wL(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function HV(e){if(tR(e)||FV(e)||iR(e)||rR(e)||zV(e)||nR(e)||UV(e)||qx(e)||Wx(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,H(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(H(i));return t}return null}function aR(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function qV(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&Hx(e,t):e instanceof Set?t instanceof Set&&Nae(e,t):e instanceof Map?t instanceof Map&&Dae(e,t):!!wL(e)&&wL(t)&&Lae(e,t))}function Lae(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function Nae(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function Dae(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const n=t.get(i);if(n!==r||n===void 0&&!t.has(i))return!1}return!0}function oR(e,t,i=!1){return YV(e,t,i)}function Vb(e,t){if(t!=null)return t[e]||WV(e.split("."),!1,t)}function bs(e,t,i){const r=e.split("."),n=r.pop(),s=WV(r,!0,i);s&&n&&(s[n]=t)}function _L(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(_L(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(_L(e[i],t[i]))return!0;return!1}return e!==t}function WV(e,t,i){let r=i;for(const n of e){if(r==null)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function YV(e,t,i){return t?Object.keys(t).reduce((r,n)=>{let s=r[n],a=t[n];return s===a?r:s===void 0?(r[n]=H(a),r):(Array.isArray(a)||Array.isArray(r)?(s=s?Array.isArray(s)?r[n]=s.slice():r[n]=[s]:r[n]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(l=>{s.includes(l)||s.push(l)}):r[n]=a.slice())):a&&typeof a=="object"?r[n]=YV(s,a,i):r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[n]=a),r)},e||{}):e}var sV;const Dt={apiKey:void 0,applicationName:"",applicationUrl:(sV=globalThis.location)==null?void 0:sV.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(oR(Dt,globalThis.esriConfig,!0),delete Dt.has),!Dt.assetsPath){{const e="4.32";Dt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Dt.defaultAssetsPath=Dt.assetsPath}const jae=/\{([^}]+)\}/g;function SL(e){return e??""}function Bb(e,t){return t?e.replaceAll(jae,typeof t=="object"?(i,r)=>SL(Vb(r,t)):(i,r)=>SL(t(r))):e}function OPe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t!=null&&t.includes(i)?i:`\\${i}`)}function ZV(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let xL;function kPe(e){return xL??(xL=new DOMParser),xL.parseFromString(e||"","text/html").body.innerText||""}function LPe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function NPe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const ML={info:0,warn:1,error:2,none:3};let ce=class Ns{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Ns._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Ns.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Ns._loggers.get(t)||new Ns({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!Ns._throttlingDisabled){const n=zae(r),s=this._loggedMessages[t].get(n);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=Ns._tickCounter)return;this._loggedMessages[t].set(n,Ns._tickCounter),Ns._scheduleTickCounterIncrement()}for(const n of Dt.log.interceptors)if(n(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const n=r[t];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",Fae)}_matchLevel(t){const i=Dt.log.level||"warn";return ML[this._parentWithMember("level",i)]<=ML[t]}static _scheduleTickCounterIncrement(){Ns._tickCounterScheduled||(Ns._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ns._tickCounter++,Ns._tickCounterScheduled=!1}))}};function Fae(e,t,...i){console[e](`[${t}]`,...i)}function zae(...e){return ZV(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}ce._loggers=new Map,ce._tickCounter=0,ce._tickCounterScheduled=!1,ce._throttlingDisabled=!1;function Uae(e,t){for(const i of e.values())if(t(i))return!0;return!1}function DPe(e,t){for(const i of e.values())if(t(i))return i;return null}function Pg(e,t,i){const r=e.get(t);if(r!==void 0)return r;const n=i();return e.set(t,n),n}function jPe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Dy=()=>ce.getLogger("esri.core.accessorSupport.ensureTypes");function Gae(e){return e==null?e:new Date(e)}function Vae(e){return e==null?e:!!e}function Hb(e){return e==null?e:e.toString()}function Un(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function lR(e){return e==null?e:Math.round(parseFloat(e))}function Bae(e){return null}function Hae(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function KV(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function y3(e,t){return t!=null&&e&&!(t instanceof e)}function JV(e){return e&&"isCollection"in e}function TL(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function qae(e,t){if(!(t!=null&&t.constructor)||!JV(t.constructor))return oI(e,t)?t:new e(t);const i=TL(e.prototype.itemType),r=TL(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(oI(e,t),t):new e(t):t}function oI(e,t){return!!KV(t)&&(Dy().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Yx(e)+"'"),!0)}function qb(e,t){return t==null?t:JV(e)?qae(e,t):y3(e,t)?oI(e,t)?t:new e(t):t}function Yx(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Wae=new WeakMap;function Yae(e){switch(e){case Number:return t=>Un(t);case zt:return lR;case Boolean:return Vae;case String:return Hb;case Date:return Gae;case Zx:return Bae;default:return Pg(Wae,e,()=>qb.bind(null,e))}}function Gi(e,t){const i=Yae(e);return arguments.length===1?i:i(t)}function hb(e,t,i){return arguments.length===1?hb.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function Zae(e,t){return arguments.length===1?hb(i=>Gi(e,i)):hb(i=>Gi(e,i),t)}function XV(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>XV(e,t-1,r)):e(i)}function g3(e,t,i){if(arguments.length===2)return s=>g3(e,t,s);if(!i)return i;i=XV(e,t,i);let r=t,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let s=0;s<r;s++)i=[i];return i}function Kae(e,t,i){return arguments.length===2?g3(r=>Gi(e,r),t):g3(r=>Gi(e,r),t,i)}function QV(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function lI(e,t){if(arguments.length===2)return lI(e).call(null,t);const i=new Set,r=e.filter(l=>typeof l!="function"),n=e.filter(l=>typeof l=="function");for(const l of e)typeof l!="string"&&typeof l!="number"||i.add(l);let s=null,a=null;return(l,u)=>{if(l==null)return l;const d=typeof l,m=d==="string"||d==="number";return m&&(i.has(l)||n.some(v=>d==="string"&&v===String||d==="number"&&v===Number))||d==="object"&&n.some(v=>!y3(l,v))?l:(m&&r.length?(s||(s=r.map(v=>typeof v=="string"?`'${v}'`:`${v}`).join(", ")),Dy().error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof l=="object"&&n.length?(a||(a=n.map(v=>Yx(v)).join(", ")),Dy().error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${a}`)):Dy().error("Accessor#set",`'${l}' is not a valid value for this property`),u&&(u.valid=!1),null)}}function Bu(e,t){if(arguments.length===2)return Bu(e).call(null,t);const i={},r=[],n=[];for(const u in e.typeMap){const d=e.typeMap[u];i[u]=Gi(d),r.push(Yx(d)),n.push(u)}const s=()=>`'${r.join("', '")}'`,a=()=>`'${n.join("', '")}'`,l=typeof e.key=="string"?u=>u[e.key]:e.key;return u=>{if(e.base&&!y3(e.base,u)||u==null)return u;const d=l(u)||e.defaultKeyValue,m=i[d];if(!m)return Dy().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!y3(e.typeMap[d],u))return u;if(typeof e.key=="string"&&!KV(u)){const v={};for(const b in u)b!==e.key&&(v[b]=u[b]);return m(v)}return m(u)}}let zt=class{},Zx=class{};const UPe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Jae(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function eB(e){switch(e.type){case"native":return Gi(e.value);case"array":return hb(eB(e.value));case"one-of":return Xae(e);default:return null}}function Xae(e){let t=null;return(i,r)=>cI(i,e)?i:(t==null&&(t=uI(e)),Dy().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function uI(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case zt:return"integer";case Date:return"date";case Zx:return"null";default:return Yx(e.value)}case"array":return`array of ${uI(e.value)}`;case"one-of":{const t=e.values.map(i=>uI(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function cI(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case zt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Zx:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!cI(i,t.value));case"one-of":return t.values.some(i=>cI(e,i))}}const Qae={remove:()=>{}};function jt(e){return e?{remove(){e&&(e(),e=void 0)}}:Qae}function tB(e){e.forEach(t=>t==null?void 0:t.remove())}function GPe(e){tB(e),e.length=0}function Wb(e){return jt(()=>tB(e))}function VPe(e){return jt(()=>{var t;return(t=e())==null?void 0:t.remove()})}function BPe(e){return jt(()=>e==null?void 0:e.abort())}function eoe(e){return jt(e!=null?()=>e.destroy():void 0)}function ws(e){return e.__accessor__??null}function toe(e,t){var i;return((i=e==null?void 0:e.metadata)==null?void 0:i[t])!=null}function B_(e,t,i){return i?v3(e,t,{policy:i,path:""}):v3(e,t,null)}function v3(e,t,i){return t?Object.keys(t).reduce((r,n)=>{const s=n;let a=null,l="merge";if(i&&(a=i.path?`${i.path}.${n}`:n,l=i.policy(a)),l==="replace"||l==="replace-arrays"&&Array.isArray(r[s]))return r[s]=t[s],r;if(r[s]===void 0)return r[s]=H(t[s]),r;let u=r[s],d=t[s];if(u===d)return r;if(Array.isArray(d)||Array.isArray(r))u=u?Array.isArray(u)?r[s]=u.slice():r[s]=[u]:r[s]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(m=>{u.includes(m)||u.push(m)}));else if(d&&typeof d=="object")if(i){const m=i.path;i.path=a,r[s]=v3(u,d,i),i.path=m}else r[s]=v3(u,d,null);else r.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(r[s]=d);return r},e||{}):e}function iB(e){return Array.isArray(e)?e:e.split(".")}function EL(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function ioe(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...EL(i));return t}return EL(e)}function rB(e,t,i,r){const n=ioe(t);if(n.length!==1){const s=n.map(a=>r(e,a,i));return Wb(s)}return r(e,n[0],i)}function nB(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const r=ws(t);return toe(r,i)?r.get(i):t[i]}function sB(e,t,i){if(e==null)return e;const r=nB(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:sB(r,t,i+1)}function Yb(e,t,i=0){return typeof t!="string"||t.includes(".")?sB(e,iB(t),i):nB(t,e)}function vl(e,t){return Yb(e,t)}function CL(e,t){return Yb(t,e)!==void 0}function Zb(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=H(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Kx(e,t){const i=Zb(e);let r=i[t];return r||(r=i[t]={}),r}function roe(e,t){return B_(e,t,soe)}const noe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function soe(e){return noe.test(e)?"replace":"merge"}function aoe(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(Vb(r,t)??"").toString())}let aB=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&aoe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},z=class oB extends aB{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return H(i)}catch{return"[object]"}}))}}catch(t){throw ce.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new oB(t.name,t.message,t.details)}};z.prototype.type="error";function b3(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))b3(e,r,t[r]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(-1,1)[0];return void b3(vl(e,n),s,i)}const r=e.__accessor__;r!=null&&ooe(t,r),e[t]=i}}function ooe(e,t){if(J("esri-unknown-property-errors")&&!loe(e,t))throw new z("set:unknown-property",uoe(e,t))}function loe(e,t){return t.metadata[e]!=null}function uoe(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function f(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),n=Kx(t,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in e&&ce.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=r.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const u=typeof s=="string"?s:s.source,d=typeof s=="string"?null:s.overridable===!0;let m;n.dependsOn=[u],n.get=function(){let v=vl(this,u);if(typeof v=="function"){m||(m=u.split(".").slice(0,-1).join("."));const b=vl(this,m);b&&(v=v.bind(b))}return v},n.readOnly||(n.set=d?function(v){this._override(i,v)}:function(v){b3(this,u,v)})}const a=e.type,l=e.types;if(!n.cast){let u;a?u=coe(a):l&&(u=Array.isArray(l)?hb(Bu(l[0])):Bu(l)),e.cast=hoe(e.cast,u)}roe(n,e),e.range&&(n.cast=Hae(n.cast,e.range))}}function lB(e,t,i){const r=Kx(e,i);r.json||(r.json={});let n=r.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function coe(e){let t=0,i=e;if(Jae(e))return eB(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(QV(r))return t===0?lI(r):g3(lI(r),t);if(t===1)return Zae(r);if(t>1)return Kae(r,t);const n=e;return n.from?n.from:Gi(n)}function hoe(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}const uB=Symbol("Accessor-beforeDestroy");var ds;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(ds||(ds={}));var Yt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(Yt||(Yt={}));let Jx=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){var t;(t=this.accessed)==null||t.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const w3=new Jx,E1=[];let kv=w3;function Xe(e){kv.onAccessed(e)}let H_=!1,q_=!1;function Hu(e,t,i){if(H_)return uR(e,t,i);let r=null;return cB(e),r=t.call(i),hB(),r}function doe(e,t){return Hu(w3,e,t)}function uR(e,t,i){const r=H_;H_=!0,cB(e);let n=null;try{n=t.call(i)}catch(s){q_&&ce.getLogger("esri.core.accessorSupport.tracking").error(s)}return hB(),H_=r,n}function cB(e){kv=e,E1.push(e)}function hB(){const e=E1.length;if(e>1){const t=E1.pop();kv=E1[e-2],t.onTrackingEnd()}else if(e===1){const t=E1.pop();kv=w3,t.onTrackingEnd()}else kv=w3}function dB(e,t){if(t.flags&Yt.DepTrackingInitialized)return;t.flags|=Yt.DepTrackingInitialized;const i=q_;q_=!1,t.flags&Yt.AutoTracked?uR(t.trackingTarget,t.metadata.get,e):pB(e,t),q_=i}const poe=[];function pB(e,t){t.flags&Yt.ExplicitlyTracking||(t.flags|=Yt.ExplicitlyTracking,uR(t.trackingTarget,()=>{const i=t.metadata.dependsOn||poe;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=iB(r);for(let s=0,a=e;s<n.length&&a!=null&&typeof a=="object";++s)a=IL(a,n[s],s!==n.length-1)}else IL(e,r,!1)}),t.flags&=~Yt.ExplicitlyTracking)}function IL(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const n=ws(e);if(n){const s=n.propertiesByName.get(r);s&&(Xe(s),dB(e,s))}return i?e[r]:void 0}function foe(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const n=t[r];i[r].forEach(s=>{t[s]=n}),delete t[r]}}}let Lo=class extends aB{constructor(t,i,r){super(t,i,r)}};Lo.prototype.type="warning";function fB(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const hI=()=>ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function $L(e,t,i){var r,n;e&&(!i&&!t.read||(r=t.read)!=null&&r.reader||((n=t.read)==null?void 0:n.enabled)===!1||goe(e)&&bs("read.reader",Og(e),t))}function Og(e){var i,r;const t=e.ndimArray??0;if(t>1)return yoe(e);if(t===1)return AL(e);if("type"in e&&yB(e.type)){const n=(r=(i=e.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,s=AL(typeof n=="function"?{type:n}:{types:n});return(a,l,u)=>{const d=s(a,l,u);return d&&new e.type(d)}}return cR(e)}function cR(e){return"type"in e?moe(e.type):voe(e.types)}function moe(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void hI().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,r),s}:e.fromJSON}function mB(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(n=>mB(e,n,i,r-1)):e(t,void 0,i)}function yoe(e){const t=cR(e),i=mB.bind(null,t),r=e.ndimArray??0;return(n,s,a)=>{if(n==null)return n;n=i(n,a,r);let l=r,u=n;for(;l>0&&Array.isArray(u);)l--,u=u[0];if(u!==void 0)for(let d=0;d<l;d++)n=[n];return n}}function AL(e){const t=cR(e);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const a=[];for(const l of i){const u=t(l,void 0,n);u!==void 0&&a.push(u)}return a}const s=t(i,void 0,n);return s!==void 0?[s]:void 0}}function yB(e){if(!fB(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?hR(t.Type):gB(t.Type))}function goe(e){return"types"in e?gB(e.types):hR(e.type)}function hR(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||yB(e))}function gB(e){for(const t in e.typeMap)if(!hR(e.typeMap[t]))return!1;return!0}function voe(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(n,s,a)=>{if(n==null)return n;const l=typeof n;if(l!=="object")return void hI().error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);t||(t=boe(e));const u=e.key;if(typeof u!="string")return;const d=n[u],m=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!m){const b=`Type '${d||"unknown"}' is not supported`;return a!=null&&a.messages&&n&&a.messages.push(new Lo(`${i}:unsupported`,b,{definition:n,context:a})),void hI().error(b)}const v=new m;return v.read(n,a),r?r(v):v}}function boe(e){var i,r;const t={};for(const n in e.typeMap){const s=e.typeMap[n],a=Zb(s.prototype);if(typeof e.key=="function")continue;const l=a[e.key];if(!l)continue;if((i=l.json)!=null&&i.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"){t[l.json.type[0]]=s;continue}const u=(r=l.json)==null?void 0:r.write;if(!(u!=null&&u.writer)){t[n]=s;continue}const d=u.target,m=typeof d=="string"?d:e.key,v={};u.writer(n,v,m),v[m]&&(t[v[m]]=s)}return t}function woe(e){if(e.json||(e.json={}),PL(e.json),OL(e.json),RL(e.json),e.json.origins)for(const t in e.json.origins)PL(e.json.origins[t]),OL(e.json.origins[t]),RL(e.json.origins[t]);return!0}function RL(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function PL(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function OL(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function kL(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=(e==null?void 0:e.ndimArray)??0;e&&(i===1||"type"in e&&fB(e.type))?t.write.writer=xoe:i>1?t.write.writer=Moe(i):t.types?Array.isArray(t.types)?t.write.writer=Soe(t.types[0]):t.write.writer=_oe(t.types):t.write.writer=db}function _oe(e){return(t,i,r,n)=>t?vB(t,e,n)?db(t,i,r,n):void 0:db(t,i,r,n)}function vB(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i!=null&&i.messages){const r=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new z(`${r}:unsupported`,n,{definition:e,context:i})),ce.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function Soe(e){return(t,i,r,n)=>!t||!Array.isArray(t)?db(t,i,r,n):db(t.filter(s=>vB(s,e,n)),i,r,n)}function db(e,t,i,r){bs(i,_3(e,r),t)}function _3(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?S3(e):e}function S3(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function xoe(e,t,i,r){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>_3(s,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[_3(e,r)],bs(i,n,t)}function bB(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>bB(r,t,i-1)):_3(e,t)}function Moe(e){return(t,i,r,n)=>{let s;if(t===null)s=null;else{s=bB(t,n,e);let a=e,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let u=0;u<a;u++)s=[s]}bs(r,s,i)}}function Toe(e,t){return dR(e,"any",t==null?void 0:t.origin)}function dI(e,t){return dR(e,"read",t==null?void 0:t.origin)}function wB(e,t){return dR(e,"write",t==null?void 0:t.origin)}function dR(e,t,i){let r=e==null?void 0:e.json;if(r!=null&&r.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(t==="any"||t in n)&&(r=n)}return r}function Eoe(e){var i;const t=Coe(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],s=n.types?Ioe(n):t;$L(s,n,!1),n.types&&!n.write&&((i=e.json.write)!=null&&i.enabled)&&(n.write={...e.json.write}),kL(s,n)}$L(t,e.json,!0),kL(t,e.json)}function Coe(e){return e.json.types?pI(e.json):e.type?_B(e):pI(e)}function Ioe(e){return e.type?_B(e):pI(e)}function _B(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!QV(i);)i=i[0],t++;return{type:i,ndimArray:t}}function pI(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function $oe(e){woe(e)&&(foe(e),Eoe(e))}const SE=new Set,xE=new Set;function O(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,Roe(t);const i=[],r=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!SE.has(n.initialize)&&(SE.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!xE.has(n.destroy)&&(xE.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);SE.clear(),xE.clear();const s=class extends t{constructor(...l){if(super(...l),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let u=i.length-1;u>=0;u--)i[u].call(this)}}),r.length){let u=!1;const d=this[uB];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!u){u=!0,d.call(this);for(let m=0;m<r.length;m++)r[m].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Zb(t.prototype),s.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:a,configurable:!0}),s}}function Aoe(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Xe(r);const n=i.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function Roe(e){const t=e.prototype,i=Zb(t),r={};for(const n of Object.getOwnPropertyNames(i)){const s=i[n];$oe(s),r[n]={enumerable:!0,configurable:!0,get:Aoe(n,s),set(a){const l=this.__accessor__;if(l!==void 0){if(l.mutable)return l.initialized&&s.readOnly?LL("read-only",n):l.lifecycle===ds.CONSTRUCTED&&s.constructOnly?LL("construct-only",n):void l.set(n,a)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,r)}const LL=(e,t)=>{ce.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},Poe="modulepreload",Ooe=function(e){return"/PUTR_Kabupaten_Karo/"+e},NL={},ve=function(t,i,r){let n=Promise.resolve();if(i&&i.length>0){let a=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=a(i.map(d=>{if(d=Ooe(d),d in NL)return;NL[d]=!0;const m=d.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":Poe,m||(b.as="script"),b.crossOrigin="",b.href=d,u&&b.setAttribute("nonce",u),document.head.appendChild(b),m)return new Promise((_,S)=>{b.addEventListener("load",_),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},DL=new WeakMap;function koe(e,t,i=!1){const r=` DEPRECATED - ${t}`;if(!i)return void e.warn(r);let n=DL.get(e);n||(n=new Set,DL.set(e,n)),n.has(t)||(n.add(t),e.warn(r))}const jL="https://www.esriurl.com/";function SB(e,t,i,r={}){J("esri-deprecation-warnings")&&of(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${jL}${i}/`,`Esri's move to web components: ${jL}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Loe(e,t,i={}){if(J("esri-deprecation-warnings")){const{moduleName:r}=i;of(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function Noe(e,t,i={}){if(J("esri-deprecation-warnings")){const{moduleName:r}=i;of(e,`Property: ${(r?r+"::":"")+t}`,i)}}function Doe(e,t,i,r={}){if(J("esri-deprecation-warnings")){const{moduleName:n}=r;of(e,`'${(n?n+"::":"")+t}' value: ${i}`,r)}}function joe(e,t,i={}){J("esri-deprecation-warnings")&&of(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function of(e,t,i={}){if(J("esri-deprecation-warnings")){const{replacement:r,version:n,see:s,warnOnce:a}=i;let l=t;if(r&&(l+=`
	 Replacement: ${r}`),n&&(l+=`
	 Version: ${n}`),s)if(Array.isArray(s)){l+=`
	 See for more details:`;for(const u of s)l+=`
		${u}`}else l+=`
	 See ${s} for more details.`;koe(e,l,a)}}function YPe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Foe(e,t){for(const i of e)if(i!=null&&t(i))return i}function x3(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let kg=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(x3(t)){const r=this._getOrCreateGroup(i);for(const n of t)zL(n)&&r.push(n)}else zL(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(kw(t))}remove(t){if(typeof t!="string"&&x3(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(FL(this._getGroup(t)),this._groups.delete(kw(t)),this):this}removeAll(){return this._groups.forEach(FL),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(kw(t),i),i}_getGroup(t){return this._groups.get(kw(t))}};function kw(e){return e||"_default_"}function FL(e){for(const t of e)t instanceof kg?t.removeAll():t.remove()}function zL(e){return e!=null&&(!!e.remove||e instanceof kg)}function xB(e,t){if(e==null)throw new Error(t??"value is None")}function vi(e){return e==null||e.destroy(),null}function KPe(e){return e==null||e.dispose(),null}function $i(e){return e==null||e.remove(),null}function Yh(e){return e==null||e.abort(),null}function JPe(e){return e==null||e.release(),null}function zoe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function pb(e,t){let i;return e.some((r,n)=>(i=t(r,n),i!=null)),i??void 0}function Uoe(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function Goe(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let Mf=class fI{constructor(t,i,r,n=1,s=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let a=0;a<s;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let i;if(fI.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):Goe(i)&&i.acquire(...t),i}release(t){t&&!fI.test.disabled&&(this._releaseFunction?this._releaseFunction(t):Uoe(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Mf.test={disabled:!1};let Voe=class{constructor(t,i){this._observers=t,this._observer=i}remove(){jV(this._observers,this._observer)}},MB=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Boe;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const s=i.length;for(let a=0;a<s;++a){const l=i[a];if(l.destroyed)n=!0;else if(l===t){r=!0;break}}return r||(i.push(t),n&&this._removeDestroyedObservers()),new Voe(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&t[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;t[n]=t[n+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const Boe=jt();var wt;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(wt||(wt={}));const mI=wt.USER+1;function Ph(e){switch(e){case"defaults":return wt.DEFAULTS;case"service":return wt.SERVICE;case"portal-item":return wt.PORTAL_ITEM;case"web-scene":return wt.WEB_SCENE;case"web-map":return wt.WEB_MAP;case"link-chart":return wt.LINK_CHART;case"user":return wt.USER;default:return null}}function M3(e){switch(e){case wt.DEFAULTS:return"defaults";case wt.SERVICE:return"service";case wt.PORTAL_ITEM:return"portal-item";case wt.WEB_SCENE:return"web-scene";case wt.WEB_MAP:return"web-map";case wt.LINK_CHART:return"link-chart";case wt.USER:return"user"}}function Hoe(e){return M3(e)}let UL=class extends MB{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new Jx(this),this.flags=0,this.flags=Yt.Dirty|(i.nonNullable?Yt.NonNullable:0)|(i.hasOwnProperty("value")?Yt.HasDefaultValue:0)|(i.get===void 0?Yt.DepTrackingInitialized:0)|(i.dependsOn===void 0?Yt.AutoTracked:0)}destroy(){this.flags&Yt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Xe(this);const i=t.store,r=this.propertyName,n=this.flags,s=i.get(r);if(n&Yt.Computing||~n&Yt.Dirty&&i.has(r))return s;this.flags|=Yt.Computing;const a=t.host;let l;n&Yt.AutoTracked?l=Hu(this.trackingTarget,this.metadata.get,a):(pB(a,this),l=this.metadata.get.call(a)),this.flags|=Yt.DepTrackingInitialized,i.set(r,l,wt.COMPUTED);const u=i.get(r);return u===s?this.flags&=~Yt.Dirty:doe(this.commit,this),this.flags&=~Yt.Computing,u}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Yt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&Yt.Overridden&&(this.flags|=Yt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},qoe=class TB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new TB;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,H(r))}),i}get(t){return this._values.get(t)}originOf(){return wt.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function Lw(e,t,i){return e!==void 0}function GL(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&Yt.NonNullable)||(r.lifecycle,ds.INITIALIZING,!1))}let Woe=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ds.INITIALIZING,this.store=new qoe,this.mutable=!0,this._origin=wt.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new UL(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=ds.CONSTRUCTING}constructed(){this.lifecycle=ds.CONSTRUCTED}destroy(){this.lifecycle=ds.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==ds.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Xe(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&Yt.HasDefaultValue)return"defaults"}return M3(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(Lw(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);Lw(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const n=this.propertiesByName.get(i);if(!Lw(n))return"";const s=new Jx,a=Hu(s,()=>{var d;return(d=n.metadata.get)==null?void 0:d.call(t)});let l=`${r}${t.declaredClass.split(".").pop()}.${i}: ${a}
`;const u=s.accessed??new Set;if(u.size===0)return l;r+="  ";for(const d of u)d instanceof UL&&(l+=`${r}${d.propertyName}: undefined
`);return l}setAtOrigin(t,i,r){const n=this.propertiesByName.get(t);if(Lw(n))return this._setAtOrigin(n,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&Yt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&Yt.Overridden&&(i.flags&=~Yt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!GL(r,t,i,this))return;const n=r.metadata.cast;if(n){const s=this._cast(n,i),{valid:a,value:l}=s;if(ME.release(s),!a)return;i=l}r.flags|=Yt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!GL(r,t,i,this))return;const n=r.metadata.cast;if(n){const a=this._cast(n,i),{valid:l,value:u}=a;if(ME.release(a),!l)return;i=u}const s=r.metadata.set;s?s.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=Ph(t)}getDefaultOrigin(){return M3(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==ds.INITIALIZING?this._origin:wt.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const n=this.store,s=t.propertyName;n.has(s,r)&&aR(i,n.get(s))&&~t.flags&Yt.Overridden&&r===n.originOf(s)||(t.invalidate(),n.set(s,i,r),t.commit(),dB(this.host,t))}_cast(t,i){const r=ME.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},Yoe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const ME=new Mf(Yoe);let Zoe;function Koe(){return Zoe}var VL;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(VL||(VL={}));function Joe(e){e.length=0}let Gn=class{constructor(t=50,i=50){this._pool=new Mf(Array,void 0,Joe,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return TE.acquire()}static release(t){return TE.release(t)}static prune(){TE.prune()}};const TE=new Gn(100);let EB=class extends Mf{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Nw=[];function T3(e){Nw.push(e),Nw.length===1&&queueMicrotask(()=>{const t=Nw.slice();Nw.length=0;for(const i of t)i()})}let Lv=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var yI;(function(e){const t=(s,a,l,u)=>{let d=a,m=a;const v=l>>>1,b=s[d-1];for(;m<=v;){m=d<<1,m<l&&u(s[m-1],s[m])<0&&++m;const _=s[m-1];if(u(_,b)<=0)break;s[d-1]=_,d=m}s[d-1]=b},i=(s,a)=>s<a?-1:s>a?1:0;function r(s,a,l,u){a===void 0&&(a=0),l===void 0&&(l=s.length),u===void 0&&(u=i);for(let m=l>>>1;m>a;m--)t(s,m,l,u);const d=a+1;for(let m=l-1;m>a;m--){const v=s[a];s[a]=s[m],s[m]=v,t(s,d,m,u)}}function*n(s,a,l,u){a===void 0&&(a=0),l===void 0&&(l=s.length),u===void 0&&(u=i);for(let m=l>>>1;m>a;m--)t(s,m,l,u),yield;const d=a+1;for(let m=l-1;m>a;m--){const v=s[a];s[a]=s[m],s[m]=v,t(s,d,m,u),yield}}e.sort=r,e.iterableSort=n})(yI||(yI={}));const BL=yI,Xoe=1.5,Qoe=1.1;let zh=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new LV,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>HL(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];t(n)&&i.push(n)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,HL(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=sI(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(sI(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=Pae(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){BL.sort(this.data,0,this.length,t)}iterableSort(t){return BL.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)if(t.call(i,r[s]))return r[s]}filterInPlace(t,i){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(i,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)t.call(i,r[s],s,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=t.call(i,this.data[n],n,this.data);return r}reduce(t,i){let r=i;for(let n=0;n<this.length;++n)r=t(r,this.data[n],n,this.data);return r}has(t){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function HL(e){e.data.length>Xoe*e.length&&(e.data.length=Math.floor(e.length*Qoe))}function ele(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return jt(()=>e.clearTimeout(r))}}}const Lg=ele(globalThis);function Xx(e){return tle(e)||CB(e)}function tle(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function CB(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function Kb(e,t,i){if(!Xx(e))throw new TypeError("target is not a Evented or EventTarget object");return CB(e)?ile(e,t,i):e.on(t,i)}function ile(e,t,i,r){if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,i,r);return jt(()=>{for(const s of n)e.removeEventListener(s,i,r)})}return e.addEventListener(t,i,r),jt(()=>e.removeEventListener(t,i,r))}function IB(e,t,i){if(!Xx(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=Kb(e,t,n=>{r.remove(),i.call(e,n)});return r}function li(e="Aborted"){return new z("AbortError",e)}function ii(e,t="Aborted"){if(Rn(e))throw li(t)}function Jb(e){return e instanceof AbortSignal?e:(e==null?void 0:e.signal)??void 0}function Rn(e){const t=Jb(e);return t!=null&&t.aborted}function Ys(e){if(Vi(e))throw e}function qL(e){if(!Vi(e))throw e}function ps(e,t){const i=Jb(e);if(i!=null){if(!i.aborted)return IB(i,"abort",()=>t());t()}}function pR(e,t){const i=Jb(e);if(i!=null)return ii(i),IB(i,"abort",()=>t(li()))}function rle(e,t){return Jb(t)==null?e:new Promise((i,r)=>{let n=ps(t,()=>r(li()));const s=()=>{n=$i(n)};e.then(s,s),e.then(i,r)})}function Vi(e){return(e==null?void 0:e.name)==="AbortError"}async function og(e){try{return await e}catch(t){if(!Vi(t))throw t;return}}async function Vp(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(a=>e[a]),n=await Vp(r),s={};return i.map((a,l)=>s[a]=n[l]),s}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,n)=>{const s=i[n];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function nle(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function o9e(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function fR(e,t=void 0,i){const r=new AbortController;return ps(i,()=>r.abort()),new Promise((n,s)=>{let a=setTimeout(()=>{a=0,n(t)},e);ps(r,()=>{a&&(clearTimeout(a),s(li()))})})}function l9e(e,t,i,r){const n=i&&"abort"in i?i:null;r!=null||n||(r=i);let s=setTimeout(()=>{s=0,n==null||n.abort()},t);const a=()=>r||new z("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(l=>{if(s===0)throw a();return clearTimeout(s),l},l=>{throw clearTimeout(s),s===0?a():l})}function sle(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return ps(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function Pl(e){return e&&typeof e.then=="function"}function gI(e){return Pl(e)?e:Promise.resolve(e)}function mR(e,t=-1){let i,r,n,s,a=null;const l=(...u)=>{if(i){r=u,s&&s.reject(li()),s=Ua();const b=s.promise;if(a){const _=a;a=null,_.abort()}return b}if(n=s||Ua(),s=null,t>0){const b=new AbortController;i=gI(e(...u,b.signal));const _=i;fR(t).then(()=>{i===_&&(s?b.abort():a=b)})}else i=1,i=gI(e(...u));const d=()=>{const b=r;r=n=i=a=null,b!=null&&l(...b)},m=i,v=n;return m.then(d,d),m.then(v.resolve,v.reject),v.promise};return l}function Ua(){let e,t;const i=new Promise((n,s)=>{e=n,t=s}),r=n=>{e(n)};return r.resolve=n=>e(n),r.reject=n=>t(n),r.timeout=(n,s)=>Lg.setTimeout(()=>r.reject(s),n),r.promise=i,r}async function E3(e){await Promise.resolve(),ii(e)}function u9e(e){return e}function ale(e){return 1e3*e}function c9e(e){return e}function h9e(e){return .001*e}let ole=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},lle=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},vI=0;const J0={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},bI=["prepare","preRender","render","postRender","update","finish"],wI=[],lf=new zh;let ule=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,$B()}};function cle(){Xp!=null&&(cancelAnimationFrame(Xp),Xp=requestAnimationFrame(yR))}function $B(){Xp==null&&(vI=performance.now(),Xp=requestAnimationFrame(yR))}const C3={frameTasks:lf,willDispatch:!1,clearFrameTasks:hle,dispatch:RB,executeFrameTasks:dle,reschedule:cle};function Xb(e){const t=new lle(e);return wI.push(t),C3.willDispatch||(C3.willDispatch=!0,T3(RB)),t}function lg(e){const t=new ole(e);return lf.push(t),$B(),new ule(t)}let Xp=null;function hle(e=!1){lf.forAll(t=>{t.removed=!0}),e&&AB()}function yR(){const e=performance.now();Xp=null,Xp=lf.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(yR):null,C3.executeFrameTasks(e)}function dle(e){const t=e-vI;vI=e;const i=1e3/60,r=Math.max(0,t-i);J0.time=e,J0.frameDuration=i-r;for(let n=0;n<bI.length;n++){const s=performance.now(),a=bI[n];lf.forAll(l=>{var u;l.paused||l.removed||(n===0&&l.ticks++,l.phases[a]&&(J0.elapsedFrameTime=performance.now()-e,J0.deltaTime=l.ticks===0?0:t,(u=l.phases[a])==null||u.call(l,J0)))}),fle[n].push(performance.now()-s)}AB(),mle.push(performance.now()-e)}const Dw=new zh;function AB(){lf.forAll(e=>{e.removed&&Dw.push(e)}),lf.removeUnorderedMany(Dw.data,Dw.length),Dw.clear()}function RB(){for(;wI.length;){const e=wI.shift();e.isActive&&e.callback()}C3.willDispatch=!1}function PB(e=1,t){const i=Ua(),r=()=>{Rn(t)?i.reject(li()):e===0?i():(--e,T3(()=>r()))};return r(),i.promise}function ple(e){return PB(1,e)}async function OB(e){await ple(e),await new Promise(t=>requestAnimationFrame(()=>{e!=null&&e.aborted||t()}))}const fle=bI.map(e=>new Lv(e)),mle=new Lv("total");function kB(e,t){for(const i of e.values())if(t(i))return!0;return!1}function WL(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function m9e(e,t){return t!=null&&e.add(t),e}function gR(e,t){const i=new Set;return WL(i,e),WL(i,t),i}function yle(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function y9e(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function g9e(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function gle(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function vle(e,t){return gle(gR(e,t),yle(e,t))}let ble=0;function W_(){return++ble}let Qx=class extends Jx{constructor(t){super(new wle(t)),this._observer&&YL.register(this,new WeakRef(this._observer),this)}destroy(){var t,i;this._observer&&YL.unregister(this._observer),(t=this.accessed)==null||t.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},wle=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=_le}};const YL=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function _le(){}let jy=!1;const I3=[];function LB(e,t){let i=new Qx(s),r=null,n=!1;function s(){if(!i||n)return;if(jy)return void jB(s);const l=r;i.clear(),jy=!0,n=!0,r=Hu(i,e),n=!1,jy=!1,t(r,l),FB()}function a(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=Hu(i,e),n=!1,jt(a)}function NB(e,t){let i=new Qx(n),r=null;function n(){t(r,a)}function s(){i&&(i.destroy(),i=null),r=null}function a(){return i?(i.clear(),r=Hu(i,e),r):null}return a(),jt(s)}function DB(e,t){let i=!1,r=!1;const n=!!(t!=null&&t.sync);let s=new Qx(()=>{i||r||(r=!0,n?a():queueMicrotask(a))});function a(){r=!1,s&&!i&&(jy?jB(a):(s.clear(),jy=!0,i=!0,Hu(s,e),i=!1,jy=!1,FB()))}function l(){s&&(s.destroy(),s=null)}return i=!0,Hu(s,e),i=!1,jt(l)}function jB(e){I3.includes(e)||I3.unshift(e)}function FB(){for(;I3.length;)I3.pop()()}var Nv;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Nv||(Nv={}));let fb=class{constructor(){this.uid=W_(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,n,s){return this.pool.acquire(Nv.Untracked,t,i,r,n,s,aR)}static acquireTracked(t,i,r,n){return this.pool.acquire(Nv.Tracked,t,i,r,null,null,n)}notify(t,i){this.type===Nv.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,n,s,a,l){this.uid=W_(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=n,this.target=s,this.path=a,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=W_(),this.removed=!0}};fb.pool=new EB(fb);const Y_=new Gn,Du=new Set;let $3;function A3(e){Du.delete(e),Du.add(e),$3||($3=Xb(Mle))}function Sle(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function xle(e){for(const t of Du.values())t.target===e&&(t.removed=!0)}function Mle(){let e=10;for(;$3&&e--;){$3=null;const t=Tle(),i=Y_.acquire();for(const r of t){const n=r.uid;Sle(r),n===r.uid&&r.removed&&i.push(r)}for(const r of Du)r.removed&&(i.push(r),Du.delete(r));for(const r of i)fb.pool.release(r);Y_.release(i),Y_.release(t),_I.forEach(r=>r())}}function Tle(){const e=Y_.acquire();e.length=Du.size;let t=0;for(const i of Du)e[t]=i,++t;return Du.clear(),e}const _I=new Set;function Ele(e){return _I.add(e),jt(()=>_I.delete(e))}function Cle(e,t,i){let r=rB(e,t,i,(n,s,a)=>{let l,u,d=NB(()=>Yb(n,s),(m,v)=>{var b;((b=n.__accessor__)==null?void 0:b.lifecycle)===ds.DESTROYED||l&&l.uid!==u?r.remove():(l||(l=fb.acquireUntracked(m,a,v,n,s),u=l.uid),A3(l))});return jt(()=>{d.remove(),l&&(l.uid!==u||l.removed||(l.removed=!0,A3(l)),l=null),r=d=null})});return r}function Ile(e,t,i){const r=rB(e,t,i,(n,s,a)=>{let l=!1;return LB(()=>Yb(n,s),(u,d)=>{n.__accessor__.lifecycle!==ds.DESTROYED?l||(l=!0,aR(d,u)||a.call(n,u,d,s,n),l=!1):r.remove()})});return r}function $le(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==ds.DESTROYED?r?Ile(e,t,i):Cle(e,t,i):jt()}function Ale(e,t,i){let r,n,s=NB(e,(a,l)=>{r&&r.uid!==n?s.remove():(r||(r=fb.acquireTracked(a,t,l,i),n=r.uid),A3(r))});return jt(()=>{s.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,A3(r)),r=null),s=null})}function Rle(e,t,i){let r=!1;return LB(e,(n,s)=>{r||(r=!0,i(s,n)||t(n,s),r=!1)})}function Ple(e,t,i=!1,r=qV){return i?Rle(e,t,r):Ale(e,t,r)}function ZL(e){return kB(Du,t=>t.oldValue===e)}var zB,UB;function Ole(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Zo=Symbol("Accessor-Handles"),SI=Symbol("Accessor-Initialized");let De=class Z_{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class a extends s{constructor(...u){super(...u),this.inherited=null,n&&n.apply(this,u)}}Zb(a.prototype);for(const l in t){const u=t[l];a.prototype[l]=typeof u=="function"?function(...d){const m=this.inherited;let v;this.inherited=function(...b){if(s.prototype[l])return s.prototype[l].apply(this,b)};try{v=u.apply(this,d)}catch(b){throw this.inherited=m,b}return this.inherited=m,v}:t[l]}for(const l in i){const u=Ole(i[l]);f(u)(a.prototype,l)}return O(r)(a)}static freeze(t){return t instanceof Z_?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof Z_?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){var r;if(this[zB]=null,this[UB]=!1,this.constructor===Z_)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Woe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[SI]=!0}initialize(){}[uB](){this[Zo]=vi(this[Zo])}destroy(){var t;this.destroyed||(xle(this),this.__accessor__.destroy(),(t=Koe())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[SI]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===ds.DESTROYED||!1}commitProperty(t){vl(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return b3(this,t,i),this}watch(t,i,r){return Loe(ce.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),$le(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const n of r)n.remove();return}(this[Zo]??(this[Zo]=new kg)).add(t,i)}removeHandles(t){var i;(i=this[Zo])==null||i.remove(t)}removeAllHandles(){var t;(t=this[Zo])==null||t.removeAll()}removeHandlesReference(t){var i;(i=this[Zo])==null||i.removeReference(t)}hasHandles(t){var i;return((i=this[Zo])==null?void 0:i.has(t))===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};zB=Zo,UB=SI;const GB=e=>{let t=class extends e{clone(){var u;const i=ws(this);xB(i,"unable to clone instance of non-accessor class");const r=i.metadata,n=i.store,s={},a=new Map;for(const d in r){const m=r[d],v=n==null?void 0:n.originOf(d),b=m.clonable;if(m.readOnly||b===!1||v!==wt.USER&&v!==wt.DEFAULTS&&v!==wt.WEB_MAP&&v!==wt.WEB_SCENE)continue;const _=this[d];let S=null;S=typeof b=="function"?b(_):b==="reference"?_:aI(_),_!=null&&S==null||(v===wt.DEFAULTS?a.set(d,S):s[d]=S)}const l=new(Object.getPrototypeOf(this)).constructor(s);if(a.size){const d=(u=ws(l))==null?void 0:u.store;if(d)for(const[m,v]of a)d.set(m,v,wt.DEFAULTS)}return l}};return t=h([O("esri.core.Clonable")],t),t};let C1=class extends GB(De){};C1=h([O("esri.core.Clonable")],C1),function(e){e.ClonableMixin=GB}(C1||(C1={}));const Xt=C1;let qd=class extends Xt{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],qd.prototype,"row",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],qd.prototype,"column",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],qd.prototype,"rows",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],qd.prototype,"columns",void 0),qd=h([O("esri.CameraLayout")],qd);const VB=qd,KL=new Float32Array(1);function x9e(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ia(e,t,i){return Math.min(Math.max(e,t),i)}function M9e(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function I1(e,t,i){return e+(t-e)*i}function T9e(e,t,i,r,n){return I1(r,n,(e-t)/(i-t))}function Oh(e){return e*Math.PI/180}function BB(e){return 180*e/Math.PI}function E9e(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function C9e(e){return Math.acos(ia(e,-1,1))}function kle(e){return Math.asin(ia(e,-1,1))}function fs(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function HB(e,t,i=1e-6){return!fs(e,t,i)&&e>t}function xI(e,t,i=1e-6){return!fs(e,t,i)&&e<t}function Lle(e,t,i=1e-6){return fs(e,t,i)||e>t}const R3=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function MI(e){return R3.setFloat64(0,e),R3.getBigInt64(0)}function Nle(e){return R3.setBigInt64(0,e),R3.getFloat64(0)}const K_=BigInt("1000000"),Dle=qB(1);function qB(e){const t=MI(e=Math.abs(e)),i=Nle(t<=K_?K_:t-K_);return Math.abs(e-i)}function I9e(e,t,i=Dle){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&qB(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=MI(e),n=MI(t);return r<0!=n<0?!1:!((r<n?n-r:r-n)>K_)}function jle(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),n=Math.abs(e),s=Math.abs(t);if(e===0||t===0||n<1e-12&&s<1e-12){if(r>.01*i)return!1}else if(r/(n+s)>i)return!1;return!0}function Fle(e){return WB(Math.max(-TI,Math.min(e,TI)))}function WB(e){return KL[0]=e,KL[0]}function $9e(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(fs(t,1)&&fs(i,1)&&fs(r,1))}const TI=WB(34028234663852886e22);function A9e(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let vR=class{constructor(t,i){this.min=t,this.max=i,this.range=i-t}normalize(t,i=0,r=!1){return JL(this.range,this.min,this.max,t,i,r)}clamp(t,i=0){return ia(t-i,this.min,this.max)+i}monotonic(t,i,r){return t<i?i:i+EI(this.range,t-i,r)}minimalMonotonic(t,i,r){return JL(this.range,t,t+this.range,i,r)}center(t,i,r){return i=this.monotonic(t,i,r),this.normalize((t+i)/2,r)}diff(t,i,r){return this.monotonic(t,i,r)-t}shortestSignedDiff(t,i){t=this.normalize(t);const r=(i=this.normalize(i))-t,n=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(r)<Math.abs(n)?r:n}contains(t,i,r){return i=this.minimalMonotonic(t,i),(r=this.minimalMonotonic(t,r))>t&&r<i}};function JL(e,t,i,r,n=0,s=!1){return(r-=n)<t?r+=EI(e,t-r):r>i&&(r-=EI(e,r-i)),s&&r===i&&(r=t),r+n}function EI(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const P9e=new vR(0,2*Math.PI),O9e=new vR(-Math.PI,Math.PI),zle=new vR(0,360);let Ule=class YB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new YB;return this._values.forEach((r,n)=>{t&&t.has(n)||i.set(n,H(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(t){var i;return((i=this._values.get(t))==null?void 0:i.origin)??wt.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>{var n;return((n=this._values.get(r))==null?void 0:n.origin)===t})}set(t,i,r){if((r=this._normalizeOrigin(r))===wt.DEFAULTS){const n=this._values.get(t);if((n==null?void 0:n.origin)!=null&&n.origin>r)return}this._values.set(t,new Gle(i,r))}delete(t,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(t))==null?void 0:r.origin)!==i||this._values.delete(t)}has(t,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(t))==null?void 0:r.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===wt.DEFAULTS?t:wt.USER}},Gle=class{constructor(t,i){this.value=t,this.origin=i}};function ZB(e,t,i){t.keys().forEach(n=>{i.set(n,t.get(n),wt.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(n=>{e.internalGet(n)&&i.set(n,e.internalGet(n),wt.DEFAULTS)})}function Vle(e,t,i){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&CL(r,i))return!0}else for(const n of r)if(n===t||n.includes(".")&&n.indexOf(t)===0&&CL(n,i))return!0;return!1}function Ble(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Hle(e,t,i,r,n){let s=dI(t[i],n);Ble(s)&&(e[i]=!0);for(const a of Object.getOwnPropertyNames(t))s=dI(t[a],n),Vle(s,i,r)&&(e[a]=!0)}function qle(e,t,i,r){const n=i.metadata,s=Toe(n[t],r),a=s==null?void 0:s.default;if(a===void 0)return;const l=typeof a=="function"?a.call(e,t,r):a;l!==void 0&&i.set(t,l)}const KB={origin:"service"};function JB(e,t,i=KB){if(!t||typeof t!="object")return;const r=ws(e),n=r.metadata,s={};for(const a of Object.getOwnPropertyNames(t))Hle(s,n,a,t,i);r.setDefaultOrigin(i.origin);for(const a of Object.getOwnPropertyNames(s)){const l=dI(n[a],i).read,u=l==null?void 0:l.source;let d;d=u&&typeof u=="string"?Yb(t,u):t[a],l!=null&&l.reader&&(d=l.reader.call(e,d,t,i)),d!==void 0&&r.set(a,d)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(n))s[a]||qle(e,a,r,i)}r.setDefaultOrigin("user")}function Wle(e,t,i,r=KB){var s;const n={...r,messages:[]};i(n),(s=n.messages)==null||s.forEach(a=>{a.type!=="warning"||e.loaded?r!=null&&r.messages&&r.messages.push(a):e.loadWarnings.push(a)})}function Yle(e,t,i,r,n){var a,l;const s={};return(l=(a=t.write)==null?void 0:a.writer)==null||l.call(e,r,s,i,n),s}function XB(e,t,i,r,n,s){if(!(r!=null&&r.write))return!1;const a=vl(e,i);if(!n&&r.write.overridePolicy){const l=r.write.overridePolicy.call(e,a,i,s??void 0);l!==void 0&&(n=l)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&(s!=null&&s.layerContainerType)&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((a===null&&!n.allowNull&&!n.writerEnsuresNonNull||a===void 0)&&n.isRequired){const l=new z("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return l&&(s!=null&&s.messages)?s.messages.push(l):l&&!s&&ce.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(a===void 0||a===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===wt.DEFAULTS)&&Zle(e,i,s,r,a)||!n.ignoreOrigin&&(s!=null&&s.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(i)<Ph(s.origin))}function Zle(e,t,i,r,n){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const a=s.call(e,t,i??void 0);return Hx(a,n)}return!1}return s===n}function Kle(e,t,i,r){const n=ws(e),s=n.metadata,a=wB(s[t],r);return!!a&&XB(e,n,t,a,i,r)}function QB(e,t,i){var s,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return B_(t,e.toJSON(i));const r=ws(e),n=r.metadata;for(const l in n){const u=wB(n[l],i);if(!XB(e,r,l,u,void 0,i))continue;const d=vl(e,l),m=Yle(e,u,u.write&&typeof u.write.target=="string"?u.write.target:l,d,i);Object.keys(m).length>0&&(t=B_(t,m),(a=(s=i==null?void 0:i.resources)==null?void 0:s.pendingOperations)!=null&&a.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>B_(t,m,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:l,oldOrigin:Hoe(r.store.originOf(l)),newOrigin:i.origin}))}return t}const eH=e=>{let t=class extends e{constructor(...i){super(...i);const r=ws(this),n=r.store,s=new Ule;r.store=s,ZB(r,n,s)}read(i,r){JB(this,i,r)}write(i,r){return QB(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return Jle.call(this,i,r)}};return t=h([O("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Jle(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let $1=class extends eH(De){};$1=h([O("esri.core.JSONSupport")],$1),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=eH,e.isSerializable=t}($1||($1={}));const ue=$1,Xle=Object.prototype.toString;function Qle(e){const t="__accessorMetadata__"in e?Gi(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return eue.apply(this,i)}}function eue(e,t,i,r){Kx(e,t).cast=r}function tue(e){return(t,i)=>{Kx(t,e).cast=t[i]}}function Gt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Xle.call(e[0])==="[object Function]"?Qle(e[0]):e.length===1&&typeof e[0]=="string"?tue(e[0]):void 0}function He(e,t,i){let r,n;return t===void 0||Array.isArray(t)?(n=e,i=t,r=[void 0]):(n=t,r=Array.isArray(e)?e:[e]),(s,a)=>{const l=s.constructor.prototype;r.forEach(u=>{const d=lB(s,u,n);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[a],i&&(d.read.source=(d.read.source||[]).concat(i))})}}function Re(e,t,i){let r,n;return t===void 0?(n=e,r=[void 0]):typeof t!="string"?(n=e,r=[void 0],i=t):(n=t,r=Array.isArray(e)?e:[e]),(s,a)=>{const l=s.constructor.prototype;for(const u of r){const d=lB(s,u,n);d.write&&typeof d.write=="object"||(d.write={}),i&&(d.write.target=i),d.write.writer=l[a]}}}let It=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=iue(t),this.apiValues=XL(this._apiToJSON),this.jsonValues=XL(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,s)=>{const a=this.toJSON(r);a!==void 0&&bs(s,a,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function iue(e){const t={};for(const i in e)t[e[i]]=i;return t}function XL(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Kr(){return function(e,t){return new It(e,{ignoreUnknown:!0,...t})}}let bR=class{constructor(t,i,r,n,s,a){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=s;const l=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*l,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Ni=new bR(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),bl=new bR(3396190,1/169.8944472236118,23e4,6e4,.111),Zh=new bR(1737400,0,0,0,0),rue=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,nue={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function CI(e){const t=e==null?void 0:e.match(rue);if(!t)return null;const[,i,r,n]=t;if(!i)return null;let s=null,a=null,l=null;const{devext:u,qaext:d,www:m}=nue;if(r)if(s=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=u);break;case"qa":({customBaseUrl:a,portalHostname:l}=d);break;default:return null}else({customBaseUrl:a,portalHostname:l}=m);else switch(i.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=u);break;case"qaext":({customBaseUrl:a,portalHostname:l}=d);break;case"www":({customBaseUrl:a,portalHostname:l}=m);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:l,urlKey:s}}function sue(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function tH(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function iH(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function aue(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const oue=()=>ce.getLogger("esri.core.urlUtils"),Ng=Dt.request,QL="esri/config: esriConfig.request.proxyUrl is not set.",rH=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,nH=/^\s*http:/i,lue=/^\s*https:/i,uue=/^\s*file:/i,cue=/:\d+$/,hue=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,due=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),pue=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Fy=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(due);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(pue),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const jw={},fue=new Fy(Dt.applicationUrl);let Cn=fue;const mue=yue();let wR=mue;const _R=()=>Cn,sH=()=>wR;function yue(){const e=Cn.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Cn.scheme}://${Cn.host}${Cn.port!=null?`:${Cn.port}`:""}`}${t}`}function Ai(e){if(!e)return null;const t={path:null,query:null},i=new Fy(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=SR(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function SR(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const n=r.indexOf("=");let s,a;n<0?(s=decodeURIComponent(r),a=""):(s=decodeURIComponent(r.slice(0,n)),a=decodeURIComponent(r.slice(n+1)));let l=i[s];typeof l=="string"&&(l=i[s]=[l]),Array.isArray(l)?l.push(a):i[s]=a}return i}function uf(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",s=t==null?void 0:t[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map(a=>ue.isSerializable(a)?n+encodeURIComponent(JSON.stringify(a)):n+encodeURIComponent(a)).join("&"):ue.isSerializable(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function aH(e=!1){let t,i=Ng.proxyUrl;if(typeof e=="string"){t=Sue(e);const r=e5(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw oue().warn(QL),new z("urlUtils:proxy-not-set",QL);return t&&$I()&&(i=CR(i)),Ai(i)}function F9e(e,t=!1){const i=e5(e);let r,n;if(i){const s=xR(i.proxyUrl);r=s.path,n=s.query?SR(s.query):null}else if(t){const s=aH(e);r=s.path,n=s.query}if(r){const s=Ai(e);e=r+"?"+s.path;const a=uf({...n,...s.query});a&&(e=`${e}?${a}`)}return e}const X0={path:"",query:""};function xR(e){const t=e.indexOf("?");return t!==-1?(X0.path=e.slice(0,t),X0.query=e.slice(t+1)):(X0.path=e,X0.query=null),X0}function oH(e){return e=(e=O3(e=Cue(e=xR(e).path),!0)).toLowerCase()}function gue(e){const t={proxyUrl:e.proxyUrl,urlPrefix:oH(e.urlPrefix)},i=Ng.proxyRules,r=t.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const a=i[s].urlPrefix;if(r.indexOf(a)===0){if(r.length===a.length)return-1;n=s;break}a.indexOf(r)===0&&(n=s+1)}return i.splice(n,0,t),n}function e5(e){const t=Ng.proxyRules,i=oH(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function vue(e,t){if(!e||!t)return!1;e=P3(e),t=P3(t);const i=CI(e),r=CI(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&ug(e,t,!0)}function lH(e,t){return e=P3(e),t=P3(t),O3(e)===O3(t)}function P3(e){const t=(e=ms(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function II(e,t=Ng.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function ug(e,t,i=!1){if(!e||!t)return!1;const r=RI(e),n=RI(t);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function MR(e){if(typeof e=="string"){if(!Vn(e))return!0;e=RI(e)}if(ug(e,Cn))return!0;const t=Ng.trustedServers||[];for(let i=0;i<t.length;i++){const r=bue(t[i]);for(let n=0;n<r.length;n++)if(ug(e,r[n]))return!0}return!1}function bue(e){return jw[e]||(ER(e)||Ga(e)?jw[e]=[new Fy(Oa(e))]:jw[e]=[new Fy(`http://${e}`),new Fy(`https://${e}`)]),jw[e]}function Oa(e,t=wR,i){return Ga(e)?i!=null&&i.preserveProtocolRelative?e:Cn.scheme==="http"&&Cn.authority===Qs(e).slice(2)?`http:${e}`:`https:${e}`:ER(e)?e:cf(e[0]==="/"?Eue(t):t,e)}function TR(e,t=wR,i){if(e==null||!Vn(e))return e;const r=ms(e),n=r.toLowerCase(),s=ms(t).toLowerCase().replace(/\/+$/,""),a=i?ms(i).toLowerCase().replace(/\/+$/,""):null;if(a&&s.indexOf(a)!==0)return e;const l=(v,b,_)=>(_=v.indexOf(b,_))===-1?v.length:_;let u=l(n,"/",n.indexOf("//")+2),d=-1;for(;n.slice(0,u+1)===s.slice(0,u)+"/"&&(d=u+1,u!==n.length);)u=l(n,"/",u+1);if(d===-1||a&&d<a.length)return e;e=r.slice(d);const m=s.slice(d-1).replaceAll(/[^/]+/g,"").length;if(m>0)for(let v=0;v<m;v++)e=`../${e}`;else e=`./${e}`;return e}function ms(e){return e=Aue(e=$ue(e=Iue(e=Oa(e=e.trim()))))}function cf(...e){const t=e.filter(Fa);if(!(t!=null&&t.length))return;const i=[];if(Vn(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(i.push(n.slice(0,s+1)),Mue(t[0])&&(i[0]+="/"),t[0]=n.slice(s+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<r.length;n++){const s=r[n];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&n===r.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function Qs(e,t=!1){if(e==null||t5(e)||Tf(e))return null;let i=e.indexOf("://");if(i===-1&&Ga(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=O3(e,!0)),e}function Vn(e){return Ga(e)||ER(e)}function t5(e){return e!=null&&e.slice(0,5)==="blob:"}function Tf(e){return e!=null&&e.slice(0,5)==="data:"}function wue(e){const t=cg(e);return t!=null&&t.isBase64?iH(t.data):null}function z9e(e){return aue(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const _ue=/^data:(.*?)(;base64)?,(.*)$/;function cg(e){const t=e.match(_ue);if(!t)return null;const[,i,r,n]=t;return{mediaType:i,isBase64:!!r,data:n}}function uH(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function U9e(e){return(await fetch(e)).blob()}function G9e(e){const t=wue(e);if(!t)return null;const i=cg(e);return new Blob([t],{type:i.mediaType})}function Ga(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function ER(e){return e!=null&&rH.test(e)}function Sue(e){return e!=null&&lue.test(e)||Cn.scheme==="https"&&Ga(e)}function xue(e){return e!=null&&nH.test(e)||Cn.scheme==="http"&&Ga(e)}function Mue(e){return e!=null&&uue.test(e)}function CR(e){return Ga(e)?`https:${e}`:e.replace(nH,"https:")}function Tue(){return Cn.scheme==="http"}function $I(){return Cn.scheme==="https"}function O3(e,t=!1){return Ga(e)?e.slice(2):(e=e.replace(rH,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Eue(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function cH(e){let t=0;if(Vn(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function V9e(e,t){if(!e)return"";const i=Ai(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(t!=null&&t.length))return r;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(n,"")}function Cue(e){return e.endsWith("/")?e:`${e}/`}function i5(e){return e.replace(/\/+$/,"")}function Iue(e){if(/^https?:\/\//i.test(e)){const t=xR(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function $ue(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Aue(e){const t=Ng.httpsDomains;if(!xue(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),cue.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return Tue()&&r===Cn.authority&&!hue.test(e)||($I()&&r===Cn.authority||t&&t.some(n=>r===n||r.endsWith(`.${n}`))||$I()&&!e5(e))&&(e=CR(e)),e}function AI(e,t,i){if(!(t&&i&&e&&Vn(e)))return e;const r=e.indexOf("//"),n=e.indexOf("/",r+2),s=e.indexOf(":",r+2),a=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(r+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(a)}`}function RI(e){return typeof e=="string"?new Fy(Oa(e)):(e.scheme||(e.scheme=Cn.scheme),e)}function B9e(e){return Pue.test(e)}function hH(e,t){const i=Ai(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Rue(e,t,i){const r=Ai(e),n=r.query||{};return n[t]=String(i),`${r.path}?${uf(n)}`}function wl(e,t){if(!t)return e;const i=Ai(e),r=i.query||{};for(const[s,a]of Object.entries(t))a!=null&&(r[s]=a);const n=uf(r);return n?`${i.path}?${n}`:i.path}function H9e(e){if(e==null)return null;const t=e.match(dH);return t?t[2]:null}function eN(e){if(e==null)return null;const t=e.match(dH);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function q9e(e){return typeof e=="string"?cg(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(cg(r.result)),r.onerror=n=>i(n)})}const dH=/([^.]*)\.([^/]*)$/,Pue=/(^data:image\/svg|\.svg$)/i,pH="20250407",fH="04d2b42da93678ca718b23aaf7e216985f10fa8e";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const Oue="4.32";let pt,IR=Oue;IR="4.32.10";function W9e(e){pt=e}function Y9e(e){const t=pt==null?void 0:pt.findCredential(e);return t!=null&&t.token?Rue(e,"token",t.token):e}J("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),J("host-webworker");function Dg(e,t){var r;const i=(r=t==null?void 0:t.url)==null?void 0:r.path;if(e&&i&&(e=Oa(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=TR(e,t.portalItem.itemUrl);n!=null&&kue.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=PI(e,t==null?void 0:t.portal))&&r5.test(e)?RR(e):e}function Qb(e,t,i=mb.YES){var n,s;if((e=e&&r5.test(e)?mH(e):e)==null)return e;!Vn(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let r=Oa(e);if(t){const a=((n=t.verifyItemRelativeUrls)==null?void 0:n.rootPath)||((s=t.url)==null?void 0:s.path);if(a){const l=PI(a,t.portal),u=PI(r,t.portal);r=TR(u,l,l),r!=null&&r!==u&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=AR(r,t==null?void 0:t.portal),Vn(r)&&(r=ms(r)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Vn(r)&&!Tf(r)&&i===mb.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function $R(e,t,i){return Dg(e,i)}function hf(e,t,i,r){const n=Qb(e,r);n!==void 0&&(t[i]=n)}const r5=/\/items\/([^/]+)\/resources\/(.*)/,kue=/^\.\/resources\//;function Lue(e){const t=(e==null?void 0:e.match(r5))??null;return(t==null?void 0:t[1])??null}function Nue(e){const t=(e==null?void 0:e.match(r5))??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:a,extension:l}=eN(i);return{prefix:null,filename:a,extension:l}}const{path:n,extension:s}=eN(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:s}}function AR(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?AI(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function PI(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=_R();return ug(r,`${r.scheme}://${i}`)?AI(e,t.portalHostname,i):AI(e,i,t.portalHostname)}function RR(e){if(!e)return e||null;let t=e;return t&&pt&&!pt.findCredential(t)&&(t=tH(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function mH(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&pt&&!pt.findCredential(t)&&(t=tH(t)),t}var mb;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(mb||(mb={}));const Z9e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return mb},ensureMainOnlineDomain:AR,fromCDNUrl:mH,fromJSON:Dg,itemIdFromResourceUrl:Lue,prefixAndFilenameFromResourceUrl:Nue,read:$R,toCDNUrl:RR,toJSON:Qb,write:hf},Symbol.toStringTag,{value:"Module"})),yH={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},gH=Object.values(yH),vH=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${gH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Due=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${gH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),jue=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function K9e(e){return vH.test(e)}function n5(e){if(e==null)return null;const t=Ai(e),i=(t==null?void 0:t.path.match(vH))||(t==null?void 0:t.path.match(Due));if(!i)return null;const[,r,n,s,a]=i,l=n.indexOf("/");return{title:bH(l!==-1?n.slice(l+1):n),serverType:yH[s.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:r}}}function Fue(e){const t=Ai(e).path.match(jue);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function bH(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function J9e(e,t){const i=[];if(e){const r=n5(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=bH(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function tN(e){let t=Qs(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function zue(e,t){return e&&i5(hH(e,t))}function X9e(e){let{url:t}=e;if(!t)return{url:t};t=hH(t,e.logger);const i=Ai(t),r=n5(i.path);let n;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(n=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const s=Fue(i.path);s!=null&&(t=s.serviceUrl,n=s.sublayerId)}return{url:i5(t),layerId:n}}function Q9e(e,t,i,r,n){hf(t,r,"url",n),r.url&&e.layerId!=null&&(r.url=cf(r.url,i,e.layerId.toString()))}function e7e(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return i&&(r||n||s)}const Uue=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Gue(e){const t=Qs(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!Uue.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function wH(e,t){return!(!Dt.apiKey||!Gue(e))}function Vue(e,t,i=!1,r){return new Promise((n,s)=>{if(Rn(r))return void s(iN());let a=()=>{d(),s(new Error(`Unable to load ${t}`))},l=()=>{const m=e;d(),n(m)},u=()=>{if(!e)return;const m=e;d(),m.src="",s(iN())};const d=()=>{J("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,r!=null&&r.removeEventListener("abort",u),u=null,i&&URL.revokeObjectURL(t)};r!=null&&r.addEventListener("abort",u),J("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))})}function iN(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const _H="Timeout exceeded";function Bue(){return new Error(_H)}function t7e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===_H}function Hue(e){Dt.request.crossOriginNoCorsDomains||(Dt.request.crossOriginNoCorsDomains={});const t=Dt.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[Qs(i)??""]=0:(t[Qs("http://"+i)??""]=0,t[Qs("https://"+i)??""]=0)}function que(e){const t=Dt.request.crossOriginNoCorsDomains;if(t){let i=Qs(e);if(i)return i=i.toLowerCase(),!ug(i,_R())&&t[i]<Date.now()-36e5}return!1}async function Wue(e){var n;const t=Ai(e);e=t.path,((n=t.query)==null?void 0:n.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Dt.request.crossOriginNoCorsDomains,r=Qs(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Ct(e,t){var _;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=SR(t.query.toString().replaceAll("+"," ")));const i=Tf(e),r=t5(e);r||i||(e=ms(e));const n={url:e,requestOptions:{...t}},s=S=>({data:S,getAllHeaders:hg,getHeader:hg,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),a=II(e,Ra.internalInterceptors);if(a){const S=await nN(a,n);if(S!=null)return s(S)}let l=II(e);if(l){const S=await nN(l,n);if(S!=null)return s(S);l.after||l.error||(l=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(J("host-webworker")||J("host-node")))throw Ro("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw Ro("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw Ro("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await Xue(),k3)return k3.execute(e,t);const u=new AbortController,d=ps(t,()=>u.abort()),m={controller:u,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:l,params:n,redoRequest:!1,useIdentity:Ra.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=t.useRequestQueue?rce(m):kI(m),b=await v.finally(()=>d==null?void 0:d.remove());return(_=l==null?void 0:l.after)==null||_.call(l,b),b}let k3;const Ra=Dt.request,SH="FormData"in globalThis,Yue=new Set([499,498,403,401]),Zue=new Set(["COM_0056","COM_0057","SB_0008"]),Kue=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],hg=()=>null,L3=Symbol();function Jue(e){const t=Qs(e);t&&!Ct._corsServers.includes(t)&&Ct._corsServers.push(t)}function rN(e){const t=Qs(e);return!t||t.endsWith(".arcgis.com")||Ct._corsServers.includes(t)||MR(t)}function Ro(e,t,i,r){let n="Error";const s={url:i.url,requestOptions:i.requestOptions,getAllHeaders:hg,getHeader:hg,ssl:!1};if(t instanceof z)return t.details?(t.details=H(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=s,t;if(t){const a=r&&(()=>Array.from(r.headers)),l=r&&(m=>r.headers.get(m)),u=r==null?void 0:r.status,d=t.message;d&&(n=d),a&&l&&(s.getAllHeaders=a,s.getHeader=l),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||u||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=L3 in t?t[L3]:t}return Vi(t)?li():new z(e,n,s)}async function Xue(){J("host-webworker")&&!k3&&(k3=await ve(()=>import("./request-DZk3hId-.js"),[]))}async function OI(){pt||await ve(()=>import("./IdentityManager-DDKSlHU-.js"),[])}async function Que(e){var l;const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,n=i.body;let s=null,a=null;if(SH&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(a=n),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Ra.priority,redirect:"follow",signal:r},(s||a)&&(e.fetchOptions.body=s||a),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(l=i.query)!=null&&l.token||s!=null&&s.get("token")),!e.hasToken&&wH(t)&&(i.query||(i.query={}),i.query.token=Dt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!xH(t)&&!Rn(r)){let u;i.authMode==="immediate"?(await OI(),u=await pt.getCredential(t,{signal:r}),e.credential=u):i.authMode==="no-prompt"?(await OI(),u=await pt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=u):pt&&(u=pt.findCredential(t)),u&&(e.credentialToken=u.token,e.useSSL=!!u.ssl)}}function xH(e){return Kue.some(t=>t.test(e))}async function ece(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},n=t5(t)||Tf(t),s=i.responseType||"json",a=n?0:i.timeout!=null?i.timeout:Ra.timeout;let l=!1;if(!n){e.useSSL&&(t=CR(t));let b={...i.query};e.credentialToken&&(b.token=e.credentialToken);let _=uf(b);J("esri-url-encodes-apostrophe")&&(_=_.replaceAll("'","%27"));const S=t.length+1+_.length;let M;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||S>Ra.maxUrlLength;const T=i.useProxy||!!e5(t);if(T){const E=aH(t);M=E.path,!l&&M.length+1+S>Ra.maxUrlLength&&(l=!0),E.query&&(b={...E.query,...b})}if(r.method==="HEAD"&&(l||T)){if(l)throw S>Ra.maxUrlLength?Ro("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Ro("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(T)throw Ro("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=wl(t,b):(r.body=uf(b),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=wl(t,b),T&&(e.useProxy=!0,t=`${M}?${t}`),b.token&&SH&&r.body instanceof FormData&&!sue(t)&&r.body.set("token",b.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!ug(t,_R())){if(MR(t))e.withCredentials=!0;else if(pt){const E=pt.findServerInfo(t);E!=null&&E.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(r.credentials="include",que(t)&&await Wue(l?wl(t,b):t))}let u,d,m=0,v=!1;a>0&&(m=setTimeout(()=>{v=!0,e.controller.abort()},a));try{if(i.responseType==="native-request-init")d=r,d.url=t,i.signal?d.signal=i.signal:delete d.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||l||tce(i.headers)||!n&&!e.useProxy&&Ra.proxyUrl&&!rN(t)){if(Ct._beforeFetch&&await Ct._beforeFetch(t,r),u=await fetch(t,r),Ct._afterFetch&&await Ct._afterFetch(u),e.useProxy||Jue(t),i.responseType==="native")d=u;else if(r.method!=="HEAD")if(u.ok){switch(s){case"array-buffer":d=await u.arrayBuffer();break;case"blob":case"image":d=await u.blob();break;default:d=await u.text()}if(m&&(clearTimeout(m),m=0),s==="json"||s==="xml"||s==="document")if(d)switch(s){case"json":d=JSON.parse(d);break;case"xml":d=sN(d,"application/xml");break;case"document":d=sN(d,"text/html")}else d=null;if(d){if(s==="array-buffer"||s==="blob"){const b=u.headers.get("Content-Type");if(b&&/application\/json|text\/plain/i.test(b)&&d[s==="blob"?"size":"byteLength"]<=750)try{const _=await new Response(d).json();_.error&&(d=_)}catch{}}s==="image"&&d instanceof Blob&&(d=await aN(URL.createObjectURL(d),e,!0))}}else{d=await u.text();try{d=JSON.parse(d)}catch{}}}else d=await aN(t,e)}catch(b){if(b.name==="AbortError")throw v?Bue():li("Request canceled");if(!(!u&&b instanceof TypeError&&Ra.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||rN(t))throw b;e.redoRequest=!0,gue({proxyUrl:Ra.proxyUrl,urlPrefix:Qs(t)??""})}finally{m&&clearTimeout(m)}return[u,d]}async function nN(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(n){i=Ro("request:interceptor",n,t)}if((r instanceof Error||r instanceof z)&&(i=Ro("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function tce(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function sN(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Ct._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Ct._beforeFetch=void 0,Ct._afterFetch=void 0;const ice=new Map;async function rce(e){const t=sce(e.params.url);if(!t)return kI(e);const{QueueProcessor:i}=await ve(()=>import("./QueueProcessor-73f-9oZT.js"),[]);return Pg(ice,t.origin,()=>{const n=t.isHosted?J("request-queue-concurrency-hosted"):J("request-queue-concurrency-non-hosted");return new i({concurrency:n,process:s=>{if(Rn(s.params.requestOptions))throw Ro("",li("Request canceled"),s.params);return kI(s)}})}).push(e)}async function kI(e){var s,a;let t,i;await Que(e);try{do[t,i]=await ece(e);while(!await nce(e,t,i))}catch(l){const u=Ro("request:server",l,e.params,t);throw u.details.ssl=e.useSSL,(s=e.interceptor)!=null&&s.error&&e.interceptor.error(u),u}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&((a=i.user)!=null&&a.username)&&!MR(r)){const l=Qs(r,!0);l&&Ra.trustedServers.push(l)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&Hue(i.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&pt){const l=pt.findServerInfo(n.server);let u=l==null?void 0:l.owningSystemUrl;if(u){u=u.replace(/\/?$/,"/sharing");const d=pt.findCredential(u,n.userId);d&&pt._getIdenticalSvcIdx(u,d)===-1&&d.resources.unshift(u)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):hg,getHeader:t?l=>t.headers.get(l):hg,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function nce(e,t,i){var d;if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,s;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[L3]=i,n.details=i.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[L3]=i,n;let a,l=null;n&&(s=Number(n.code),l=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a==null?void 0:a.toUpperCase());const u=r.authMode;if(s===403&&(l===4||(d=n.message)!=null&&d.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(u!=="no-prompt"||s===498)&&s!==void 0&&Yue.has(s)&&!xH(e.params.url)&&(s!==403||(!a||!Zue.has(a))&&(l==null||l===2&&e.credentialToken))){await OI();try{const m=await pt.getCredential(e.params.url,{error:Ro("request:server",n,e.params),prompt:u!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=m,e.credentialToken=m.token,e.useSSL=e.useSSL||m.ssl,!1}catch(m){if(u==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=m}}if(n)throw n;return!0}function aN(e,t,i=!1){const r=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Ra.priority,n.src=e,Vue(n,e,i,r)}function sce(e){let t,i;return typeof e=="string"?(t=Qs(e,!0),i=tN(e)):(t=e.origin,i=tN(e.toString())),t==null?null:{origin:t,isHosted:i}}function ki(e){if(!Dt.assetsPath)throw ce.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new z("assets:path-not-set","config.assetsPath is not set");return cf(Dt.assetsPath,e)}let EE,V=null;function PR(){return!!V}function ace(){return!!J("esri-wasm")}function MH(){return EE||(EE=ve(()=>import("./pe-wasm-Co3DzcyP.js"),__vite__mapDeps([0,1])).then(e=>e.p).then(({default:e})=>e({locateFile:t=>ki(`esri/geometry/support/${t}`)})).then(e=>{CH(e)}),EE)}var LI,Ci;(function(e){function t(s,a,l){V.ensureCache.prepare();const u=Pp(l),d=l===u,m=V.ensureFloat64(u),v=V._pe_geog_to_proj(V.getPointer(s),a,m);return v&&Ih(l,a,m,d),v}function i(s,a,l,u){switch(u){case Ci.PE_TRANSFORM_P_TO_G:return r(s,a,l);case Ci.PE_TRANSFORM_G_TO_P:return t(s,a,l)}return 0}function r(s,a,l){return n(s,a,l,0)}function n(s,a,l,u){V.ensureCache.prepare();const d=Pp(l),m=l===d,v=V.ensureFloat64(d),b=V._pe_proj_to_geog_center(V.getPointer(s),a,v,u);return b&&Ih(l,a,v,m),b}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=n})(LI||(LI={})),function(e){function t(){e.PE_BUFFER_MAX=V.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=V.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=V.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=V.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=V.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=V.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=V.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=V.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=V.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=V.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=V.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=V.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=V.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=V.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=V.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=V.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=V.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=V.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=V.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=V.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=V.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=V.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=V.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=V.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=V.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=V.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=V.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=V.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=V.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=V.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=V.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=V.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ci||(Ci={}));let TH=null;var NI;(function(e){const t={},i={},r=_=>{const S=_.getType();switch(S){case Ci.PE_TYPE_GEOGCS:_=V.castObject(_,V.PeGeogcs);break;case Ci.PE_TYPE_PROJCS:_=V.castObject(_,V.PeProjcs);break;case Ci.PE_TYPE_GEOGTRAN:_=V.castObject(_,V.PeGeogtran);break;default:S&Ci.PE_TYPE_UNIT&&(_=V.castObject(_,V.PeUnit))}return _};function n(){V.PeFactory.prototype.initialize(null)}function s(_){return a(Ci.PE_TYPE_COORDSYS,_)}function a(_,S){let M=null,T=t[_];if(T||(T={},t[_]=T),T.hasOwnProperty(String(S))&&(M=T[S],V.compare(M,V.NULL)&&(M=null)),!M){const E=V.PeFactory.prototype.factoryByType(_,S);V.compare(E,V.NULL)||(M=r(E),T[S]=M)}return M}function l(_,S){let M=null,T=i[_];if(T||(T={},i[_]=T),T.hasOwnProperty(S)&&(M=T[S],V.compare(M,V.NULL)&&(M=null)),!M){const E=V.PeFactory.prototype.fromString(_,S);V.compare(E,V.NULL)||(M=r(E),T[S]=M)}return M}function u(_){return a(Ci.PE_TYPE_GEOGCS,_)}function d(_){return a(Ci.PE_TYPE_GEOGTRAN,_)}function m(_){return V.PeFactory.prototype.getCode(_)}function v(_){return a(Ci.PE_TYPE_PROJCS,_)}function b(_){return a(Ci.PE_TYPE_UNIT,_)}e.initialize=n,e.coordsys=s,e.factoryByType=a,e.fromString=l,e.geogcs=u,e.geogtran=d,e.getCode=m,e.projcs=v,e.unit=b})(NI||(NI={}));let EH=null;var N3,DI,jI,FI,zI,UI,D3,GI,j3,F3,VI;function CH(e){function t(s,a,l){s[a]=l(s[a])}V=e,Ci.init(),N3.init(),D3.init(),j3.init(),F3.init(),TH=class extends V.PeDouble{constructor(s=NaN){super(s)}destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}},EH=class extends V.PeGCSExtent{destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[V.PeAngunit,V.PeDatum,V.PeGeogcs,V.PeGeogtran,V.PeObject,V.PeParameter,V.PePrimem,V.PeProjcs,V.PeSpheroid,V.PeUnit];for(const s of i)t(s.prototype,"getName",a=>function(){return a.call(this,new Array(Ci.PE_NAME_MAX))});for(const s of[V.PeGeogtran,V.PeProjcs])t(s.prototype,"getParameters",a=>function(){const l=new Array(Ci.PE_PARM_MAX);let u=a.call(this);for(let d=0;d<l.length;d++){const m=V.getValue(u,"*");l[d]=m?V.wrapPointer(m,V.PeParameter):null,u+=Int32Array.BYTES_PER_ELEMENT}return l});t(V.PeHorizon.prototype,"getCoord",s=>function(a=!1){const l=this.getSize();if(!l)return null;const u=[];return Ih(u,l,s.call(this),a),u}),t(V.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const a=V._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const u=s.call(this);if(!V.compare(u,V.NULL)){l=[u];const d=this.getSteps();if(d>1){const m=V.getPointer(u);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+a*v,V.PeGTlistExtendedGTs))}}return l}});const r=V._pe_getPeHorizonSize(),n=s=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(s))return a.get(s);let l=null;const u=s.call(this);if(!V.compare(u,V.NULL)){l=[u];const d=u.getNump();if(d>1){const m=V.getPointer(u);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+r*v,V.PeHorizon))}}return a.set(s,l),l};t(V.PeProjcs.prototype,"horizonGcsGenerate",n),t(V.PeProjcs.prototype,"horizonPcsGenerate",n),V.PeObject.prototype.toString=function(s=Ci.PE_STR_OPTS_NONE){V.ensureCache.prepare();const a=V.getPointer(this),l=V.ensureInt8(new Array(Ci.PE_BUFFER_MAX));return V.UTF8ToString(V._pe_object_to_string_ext(a,s,l))},V.PeGeogcs.prototype.destroy=function(){this.Delete(),xo(this),this.ptr=0},V.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},V.PeProjcs.prototype.destroy=function(){this.Delete(),xo(this),this.ptr=0},V.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function xo(e){if(!e)return;const t=V.getClass(e);if(!t)return;const i=V.getCache(t);if(!i)return;const r=V.getPointer(e);r&&delete i[r]}function Fw(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(V.ensureInt8(r));return i}function Pp(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Ih(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=V.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=V.getValue(i,"double"),e[s][1]=V.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=V.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=V._pe_getPeGTlistExtendedEntrySize()}function r(n,s,a,l,u,d){let m=null;const v=new V.PeInteger(d);try{const b=V.PeGTlistExtended.prototype.getGTlist(n,s,a,l,u,v);if((d=v.val)&&(m=[b],d>1)){const _=V.getPointer(b);for(let S=1;S<d;S++)m.push(V.wrapPointer(_+t*S,V.PeGTlistExtendedEntry))}}finally{V.destroy(v)}return m}e.init=i,e.getGTlist=r})(N3||(N3={})),function(e){function t(i){if(i!=null&&i.length){for(const r of i)xo(r),r.getEntries().forEach(n=>{xo(n);const s=n.getGeogtran();xo(s),s.getParameters().forEach(xo),[s.getGeogcs1(),s.getGeogcs2()].forEach(a=>{xo(a);const l=a.getDatum();xo(l),xo(l.getSpheroid()),xo(a.getPrimem()),xo(a.getUnit())})});V.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(DI||(DI={})),function(e){function t(i,r,n,s,a){V.ensureCache.prepare();const l=Pp(n),u=n===l,d=V.ensureFloat64(l);let m=0;s&&(m=V.ensureFloat64(s));const v=V._pe_geog_to_geog(V.getPointer(i),r,d,m,a);return v&&Ih(n,r,d,u),v}e.geogToGeog=t}(jI||(jI={})),function(e){function t(s,a,l,u,d,m,v,b){V.PeLineType.prototype.geodesic_coordinate(s,a,l,u,d,m,v,b)}function i(s,a,l,u,d,m,v,b,_){V.PeLineType.prototype.geodetic_coordinate(s,a,l,u,d,m,v,b,_)}function r(s,a,l,u,d,m,v,b,_,S){V.PeLineType.prototype.geodetic_distance(s,a,l,u,d,m,v,b,_,S)}function n(s,a,l,u,d,m,v,b,_){V.PeLineType.prototype.great_elliptic_distance(s,a,l,u,d,m,v,b,_)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=n}(FI||(FI={})),function(e){function t(a,l){return V.PeMath.prototype.phi_to_eta(a,l)}function i(a,l){return V.PeMath.prototype.eta_to_phi(a,l)}function r(a,l){return V.PeMath.prototype.phi_to_phig(a,l)}function n(a,l,u){return V.PeMath.prototype.q(a,l,u)}function s(a,l){return V.PeMath.prototype.q90(a,l)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=n,e.q90=s}(zI||(zI={})),function(e){const t=(d,m,v,b,_,S)=>{let M,T;switch(V.ensureCache.prepare(),d){case"dd":M=V._pe_geog_to_dd,T=Ci.PE_DD_MAX;break;case"ddm":M=V._pe_geog_to_ddm,T=Ci.PE_DDM_MAX;break;case"dms":M=V._pe_geog_to_dms,T=Ci.PE_DMS_MAX}let E=0;m&&(E=V.getPointer(m));const A=Pp(b),P=V.ensureFloat64(A),N=Fw(v,T),D=M(E,v,P,_,V.ensureInt32(N));if(D)for(let k=0;k<v;k++)S[k]=V.UTF8ToString(N[k]);return D},i=(d,m,v,b,_)=>{let S;switch(V.ensureCache.prepare(),d){case"dd":S=V._pe_dd_to_geog;break;case"ddm":S=V._pe_ddm_to_geog;break;case"dms":S=V._pe_dms_to_geog}let M=0;m&&(M=V.getPointer(m));const T=b.map(N=>V.ensureString(N)),E=V.ensureInt32(T),A=V.ensureFloat64(new Array(2*v)),P=S(M,v,E,A);return P&&Ih(_,v,A),P};function r(d,m,v,b,_){return t("dms",d,m,v,b,_)}function n(d,m,v,b){return i("dms",d,m,v,b)}function s(d,m,v,b,_){return t("ddm",d,m,v,b,_)}function a(d,m,v,b){return i("ddm",d,m,v,b)}function l(d,m,v,b,_){return t("dd",d,m,v,b,_)}function u(d,m,v,b){return i("dd",d,m,v,b)}e.geogToDms=r,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=a,e.geogToDd=l,e.ddToGeog=u}(UI||(UI={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=V.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=V.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(n,s,a,l,u,d,m){V.ensureCache.prepare();let v=0;n&&(v=V.getPointer(n));const b=Pp(a),_=V.ensureFloat64(b),S=Fw(s,Ci.PE_MGRS_MAX),M=V.ensureInt32(S),T=V._pe_geog_to_mgrs_extended(v,s,_,l,u,d,M);if(T)for(let E=0;E<s;E++)m[E]=V.UTF8ToString(S[E]);return T}function r(n,s,a,l,u){V.ensureCache.prepare();let d=0;n&&(d=V.getPointer(n));const m=a.map(S=>V.ensureString(S)),v=V.ensureInt32(m),b=V.ensureFloat64(new Array(2*s)),_=V._pe_mgrs_to_geog_extended(d,s,v,l,b);return _&&Ih(u,s,b),_}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(D3||(D3={})),function(e){function t(r,n,s,a,l,u,d){V.ensureCache.prepare();let m=0;r&&(m=V.getPointer(r));const v=Pp(s),b=V.ensureFloat64(v),_=Fw(n,Ci.PE_MGRS_MAX),S=V.ensureInt32(_),M=V._pe_geog_to_usng(m,n,b,a,l,u,S);if(M)for(let T=0;T<n;T++)d[T]=V.UTF8ToString(_[T]);return M}function i(r,n,s,a){V.ensureCache.prepare();let l=0;r&&(l=V.getPointer(r));const u=s.map(b=>V.ensureString(b)),d=V.ensureInt32(u),m=V.ensureFloat64(new Array(2*n)),v=V._pe_usng_to_geog(l,n,d,m);return v&&Ih(a,n,m),v}e.geogToUsng=t,e.usngToGeog=i}(GI||(GI={})),function(e){function t(){e.PE_UTM_OPTS_NONE=V.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=V.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=V.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(n,s,a,l,u){V.ensureCache.prepare();let d=0;n&&(d=V.getPointer(n));const m=Pp(a),v=V.ensureFloat64(m),b=Fw(s,Ci.PE_UTM_MAX),_=V.ensureInt32(b),S=V._pe_geog_to_utm(d,s,v,l,_);if(S)for(let M=0;M<s;M++)u[M]=V.UTF8ToString(b[M]);return S}function r(n,s,a,l,u){V.ensureCache.prepare();let d=0;n&&(d=V.getPointer(n));const m=a.map(S=>V.ensureString(S)),v=V.ensureInt32(m),b=V.ensureFloat64(new Array(2*s)),_=V._pe_utm_to_geog(d,s,v,l,b);return _&&Ih(u,s,b),_}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(j3||(j3={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=V.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=V.PePCSInfo.prototype.PE_POLE_POINT}function r(n,s=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,l=null;return t.has(n)&&(l=t.get(n),l[s]&&(a=l[s])),a||(a=V.PePCSInfo.prototype.generate(n,s),l||(l=[],t.set(n,l)),l[s]=a),a}e.init=i,e.generate=r}(F3||(F3={})),function(e){function t(){return V.PeVersion.prototype.version_string()}e.versionString=t}(VI||(VI={}));const oce=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return LI},get PeDefs(){return Ci},get PeDouble(){return TH},get PeFactory(){return NI},get PeGCSExtent(){return EH},get PeGTTransformations(){return jI},get PeGTlistExtended(){return N3},get PeGTlistExtendedEntry(){return DI},get PeLineType(){return FI},get PeMath(){return zI},get PeNotationDms(){return UI},get PeNotationMgrs(){return D3},get PeNotationUsng(){return GI},get PeNotationUtm(){return j3},get PePCSInfo(){return F3},get PeVersion(){return VI},_init:CH,get _pe(){return V},isLoaded:PR,isSupported:ace,load:MH},Symbol.toStringTag,{value:"Module"}));var ka;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ka||(ka={}));let y;const I={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(y=2e3;y<=2045;y++)I[y]=0;for(y=2056;y<=2065;y++)I[y]=0;for(y=2067;y<=2135;y++)I[y]=0;for(y=2137;y<=2154;y++)I[y]=0;for(y=2161;y<=2170;y++)I[y]=0;for(y=2172;y<=2193;y++)I[y]=0;for(y=2195;y<=2198;y++)I[y]=0;for(y=2200;y<=2203;y++)I[y]=0;for(y=2205;y<=2217;y++)I[y]=0;for(y=2222;y<=2224;y++)I[y]=1;for(y=2225;y<=2250;y++)I[y]=2;for(y=2251;y<=2253;y++)I[y]=1;for(y=2257;y<=2264;y++)I[y]=2;for(y=2274;y<=2279;y++)I[y]=2;for(y=2280;y<=2282;y++)I[y]=1;for(y=2283;y<=2289;y++)I[y]=2;for(y=2290;y<=2292;y++)I[y]=0;for(y=2308;y<=2313;y++)I[y]=0;for(y=2315;y<=2491;y++)I[y]=0;for(y=2494;y<=2866;y++)I[y]=0;for(y=2867;y<=2869;y++)I[y]=1;for(y=2870;y<=2888;y++)I[y]=2;for(y=2891;y<=2895;y++)I[y]=2;for(y=2896;y<=2898;y++)I[y]=1;for(y=2902;y<=2908;y++)I[y]=2;for(y=2915;y<=2920;y++)I[y]=2;for(y=2921;y<=2923;y++)I[y]=1;for(y=2924;y<=2930;y++)I[y]=2;for(y=2931;y<=2962;y++)I[y]=0;for(y=2964;y<=2968;y++)I[y]=2;for(y=2969;y<=2973;y++)I[y]=0;for(y=2975;y<=2991;y++)I[y]=0;for(y=2995;y<=3051;y++)I[y]=0;for(y=3054;y<=3079;y++)I[y]=0;for(y=3081;y<=3088;y++)I[y]=0;for(y=3092;y<=3101;y++)I[y]=0;for(y=3106;y<=3138;y++)I[y]=0;for(y=3146;y<=3151;y++)I[y]=0;for(y=3153;y<=3166;y++)I[y]=0;for(y=3168;y<=3172;y++)I[y]=0;for(y=3174;y<=3203;y++)I[y]=0;for(y=3294;y<=3358;y++)I[y]=0;for(y=3367;y<=3403;y++)I[y]=0;for(y=3408;y<=3416;y++)I[y]=0;for(y=3417;y<=3438;y++)I[y]=2;for(y=3441;y<=3446;y++)I[y]=2;for(y=3447;y<=3450;y++)I[y]=0;for(y=3451;y<=3459;y++)I[y]=2;for(y=3460;y<=3478;y++)I[y]=0;for(y=3554;y<=3559;y++)I[y]=0;for(y=3560;y<=3570;y++)I[y]=2;for(y=3571;y<=3581;y++)I[y]=0;for(y=3594;y<=3597;y++)I[y]=0;for(y=3601;y<=3604;y++)I[y]=0;for(y=3637;y<=3639;y++)I[y]=0;for(y=3665;y<=3667;y++)I[y]=0;for(y=3693;y<=3695;y++)I[y]=0;for(y=3701;y<=3727;y++)I[y]=0;for(y=3728;y<=3739;y++)I[y]=2;for(y=3740;y<=3751;y++)I[y]=0;for(y=3753;y<=3760;y++)I[y]=2;for(y=3761;y<=3773;y++)I[y]=0;for(y=3775;y<=3777;y++)I[y]=0;for(y=3779;y<=3781;y++)I[y]=0;for(y=3783;y<=3785;y++)I[y]=0;for(y=3788;y<=3791;y++)I[y]=0;for(y=3797;y<=3802;y++)I[y]=0;for(y=3814;y<=3816;y++)I[y]=0;for(y=3825;y<=3829;y++)I[y]=0;for(y=3832;y<=3841;y++)I[y]=0;for(y=3844;y<=3852;y++)I[y]=0;for(y=3873;y<=3885;y++)I[y]=0;for(y=3890;y<=3893;y++)I[y]=0;for(y=3907;y<=3912;y++)I[y]=0;for(y=3942;y<=3950;y++)I[y]=0;for(y=3968;y<=3970;y++)I[y]=0;for(y=3973;y<=3976;y++)I[y]=0;for(y=3986;y<=3989;y++)I[y]=0;for(y=3994;y<=3997;y++)I[y]=0;for(y=4048;y<=4051;y++)I[y]=0;for(y=4056;y<=4063;y++)I[y]=0;for(y=4093;y<=4096;y++)I[y]=0;for(y=4390;y<=4398;y++)I[y]=0;for(y=4399;y<=4413;y++)I[y]=2;for(y=4418;y<=4433;y++)I[y]=2;for(y=4455;y<=4457;y++)I[y]=2;for(y=4484;y<=4489;y++)I[y]=0;for(y=4491;y<=4554;y++)I[y]=0;for(y=4568;y<=4589;y++)I[y]=0;for(y=4652;y<=4656;y++)I[y]=0;for(y=4766;y<=4800;y++)I[y]=0;for(y=5014;y<=5016;y++)I[y]=0;for(y=5069;y<=5072;y++)I[y]=0;for(y=5105;y<=5130;y++)I[y]=0;for(y=5167;y<=5188;y++)I[y]=0;for(y=5253;y<=5259;y++)I[y]=0;for(y=5269;y<=5275;y++)I[y]=0;for(y=5292;y<=5311;y++)I[y]=0;for(y=5329;y<=5331;y++)I[y]=0;for(y=5343;y<=5349;y++)I[y]=0;for(y=5355;y<=5357;y++)I[y]=0;for(y=5387;y<=5389;y++)I[y]=0;for(y=5459;y<=5463;y++)I[y]=0;for(y=5479;y<=5482;y++)I[y]=0;for(y=5518;y<=5520;y++)I[y]=0;for(y=5530;y<=5539;y++)I[y]=0;for(y=5550;y<=5552;y++)I[y]=0;for(y=5562;y<=5583;y++)I[y]=0;for(y=5623;y<=5625;y++)I[y]=2;for(y=5631;y<=5639;y++)I[y]=0;for(y=5649;y<=5653;y++)I[y]=0;for(y=5663;y<=5680;y++)I[y]=0;for(y=5682;y<=5685;y++)I[y]=0;for(y=5875;y<=5877;y++)I[y]=0;for(y=5896;y<=5899;y++)I[y]=0;for(y=5921;y<=5940;y++)I[y]=0;for(y=6050;y<=6125;y++)I[y]=0;for(y=6244;y<=6275;y++)I[y]=0;for(y=6328;y<=6348;y++)I[y]=0;for(y=6350;y<=6356;y++)I[y]=0;for(y=6366;y<=6372;y++)I[y]=0;for(y=6381;y<=6387;y++)I[y]=0;for(y=6393;y<=6404;y++)I[y]=0;for(y=6480;y<=6483;y++)I[y]=0;for(y=6511;y<=6514;y++)I[y]=0;for(y=6579;y<=6581;y++)I[y]=0;for(y=6619;y<=6624;y++)I[y]=0;for(y=6625;y<=6627;y++)I[y]=2;for(y=6628;y<=6632;y++)I[y]=0;for(y=6634;y<=6637;y++)I[y]=0;for(y=6669;y<=6692;y++)I[y]=0;for(y=6707;y<=6709;y++)I[y]=0;for(y=6720;y<=6723;y++)I[y]=0;for(y=6732;y<=6738;y++)I[y]=0;for(y=6931;y<=6933;y++)I[y]=0;for(y=6956;y<=6959;y++)I[y]=0;for(y=7005;y<=7007;y++)I[y]=0;for(y=7057;y<=7070;y++)I[y]=2;for(y=7074;y<=7082;y++)I[y]=0;for(y=7109;y<=7118;y++)I[y]=0;for(y=7119;y<=7127;y++)I[y]=1;for(y=7374;y<=7376;y++)I[y]=0;for(y=7528;y<=7586;y++)I[y]=0;for(y=7587;y<=7645;y++)I[y]=2;for(y=7692;y<=7696;y++)I[y]=0;for(y=7755;y<=7787;y++)I[y]=0;for(y=7791;y<=7795;y++)I[y]=0;for(y=7799;y<=7801;y++)I[y]=0;for(y=7803;y<=7805;y++)I[y]=0;for(y=7825;y<=7831;y++)I[y]=0;for(y=7845;y<=7859;y++)I[y]=0;for(y=8013;y<=8032;y++)I[y]=0;for(y=8065;y<=8068;y++)I[y]=1;for(y=8518;y<=8529;y++)I[y]=2;for(y=8533;y<=8536;y++)I[y]=2;for(y=8538;y<=8540;y++)I[y]=2;for(y=8677;y<=8679;y++)I[y]=0;for(y=8836;y<=8840;y++)I[y]=0;for(y=8857;y<=8859;y++)I[y]=0;for(y=8908;y<=8910;y++)I[y]=0;for(y=9154;y<=9159;y++)I[y]=0;for(y=9205;y<=9218;y++)I[y]=0;for(y=9271;y<=9273;y++)I[y]=0;for(y=9295;y<=9297;y++)I[y]=0;for(y=9356;y<=9360;y++)I[y]=0;for(y=9404;y<=9407;y++)I[y]=0;for(y=9476;y<=9482;y++)I[y]=0;for(y=9487;y<=9494;y++)I[y]=0;for(y=9697;y<=9699;y++)I[y]=0;for(y=9821;y<=9865;y++)I[y]=0;for(y=10285;y<=10291;y++)I[y]=0;for(y=10314;y<=10317;y++)I[y]=0;for(y=10448;y<=10465;y++)I[y]=0;for(y=10731;y<=10733;y++)I[y]=0;for(y=11114;y<=11118;y++)I[y]=0;for(y=20004;y<=20032;y++)I[y]=0;for(y=20047;y<=20049;y++)I[y]=0;for(y=20062;y<=20092;y++)I[y]=0;for(y=20135;y<=20138;y++)I[y]=0;for(y=20248;y<=20258;y++)I[y]=0;for(y=20348;y<=20358;y++)I[y]=0;for(y=20436;y<=20440;y++)I[y]=0;for(y=20822;y<=20824;y++)I[y]=0;for(y=20904;y<=20932;y++)I[y]=0;for(y=20934;y<=20936;y++)I[y]=0;for(y=21004;y<=21032;y++)I[y]=0;for(y=21035;y<=21037;y++)I[y]=0;for(y=21095;y<=21097;y++)I[y]=0;for(y=21148;y<=21150;y++)I[y]=0;for(y=21207;y<=21264;y++)I[y]=0;for(y=21307;y<=21364;y++)I[y]=0;for(y=21413;y<=21423;y++)I[y]=0;for(y=21453;y<=21463;y++)I[y]=0;for(y=21473;y<=21483;y++)I[y]=0;for(y=21780;y<=21782;y++)I[y]=0;for(y=21891;y<=21894;y++)I[y]=0;for(y=21896;y<=21899;y++)I[y]=0;for(y=22171;y<=22177;y++)I[y]=0;for(y=22181;y<=22187;y++)I[y]=0;for(y=22191;y<=22197;y++)I[y]=0;for(y=22207;y<=22222;y++)I[y]=0;for(y=22229;y<=22232;y++)I[y]=0;for(y=22234;y<=22236;y++)I[y]=0;for(y=22243;y<=22250;y++)I[y]=0;for(y=22262;y<=22265;y++)I[y]=0;for(y=22307;y<=22322;y++)I[y]=0;for(y=22348;y<=22357;y++)I[y]=0;for(y=22407;y<=22422;y++)I[y]=0;for(y=22462;y<=22465;y++)I[y]=0;for(y=22521;y<=22525;y++)I[y]=0;for(y=22607;y<=22622;y++)I[y]=0;for(y=22641;y<=22646;y++)I[y]=0;for(y=22648;y<=22657;y++)I[y]=0;for(y=22707;y<=22722;y++)I[y]=0;for(y=22762;y<=22765;y++)I[y]=0;for(y=22807;y<=22822;y++)I[y]=0;for(y=22991;y<=22994;y++)I[y]=0;for(y=23028;y<=23038;y++)I[y]=0;for(y=23301;y<=23333;y++)I[y]=2;for(y=23830;y<=23853;y++)I[y]=0;for(y=23866;y<=23872;y++)I[y]=0;for(y=23877;y<=23884;y++)I[y]=0;for(y=23886;y<=23894;y++)I[y]=0;for(y=23946;y<=23948;y++)I[y]=0;for(y=24311;y<=24313;y++)I[y]=0;for(y=24342;y<=24347;y++)I[y]=0;for(y=24370;y<=24374;y++)I[y]=10;for(y=24375;y<=24381;y++)I[y]=0;for(y=24718;y<=24721;y++)I[y]=0;for(y=24817;y<=24821;y++)I[y]=0;for(y=24877;y<=24882;y++)I[y]=0;for(y=24891;y<=24893;y++)I[y]=0;for(y=25391;y<=25395;y++)I[y]=0;for(y=25828;y<=25838;y++)I[y]=0;for(y=26191;y<=26195;y++)I[y]=0;for(y=26391;y<=26393;y++)I[y]=0;for(y=26701;y<=26722;y++)I[y]=0;for(y=26729;y<=26799;y++)I[y]=2;for(y=26801;y<=26803;y++)I[y]=2;for(y=26811;y<=26813;y++)I[y]=2;for(y=26847;y<=26870;y++)I[y]=2;for(y=26891;y<=26899;y++)I[y]=0;for(y=26901;y<=26923;y++)I[y]=0;for(y=26929;y<=26946;y++)I[y]=0;for(y=26948;y<=26998;y++)I[y]=0;for(y=27037;y<=27040;y++)I[y]=0;for(y=27205;y<=27232;y++)I[y]=0;for(y=27258;y<=27260;y++)I[y]=0;for(y=27391;y<=27398;y++)I[y]=0;for(y=27561;y<=27564;y++)I[y]=0;for(y=27571;y<=27574;y++)I[y]=0;for(y=27581;y<=27584;y++)I[y]=0;for(y=27591;y<=27594;y++)I[y]=0;for(y=27700;y<=27707;y++)I[y]=0;for(y=28191;y<=28193;y++)I[y]=0;for(y=28348;y<=28358;y++)I[y]=0;for(y=28402;y<=28432;y++)I[y]=0;for(y=28462;y<=28492;y++)I[y]=0;for(y=29118;y<=29122;y++)I[y]=0;for(y=29168;y<=29172;y++)I[y]=0;for(y=29177;y<=29185;y++)I[y]=0;for(y=29187;y<=29195;y++)I[y]=0;for(y=29900;y<=29903;y++)I[y]=0;for(y=30161;y<=30179;y++)I[y]=0;for(y=30491;y<=30494;y++)I[y]=0;for(y=30729;y<=30732;y++)I[y]=0;for(y=31251;y<=31259;y++)I[y]=0;for(y=31265;y<=31268;y++)I[y]=0;for(y=31275;y<=31279;y++)I[y]=0;for(y=31281;y<=31297;y++)I[y]=0;for(y=31461;y<=31469;y++)I[y]=0;for(y=31491;y<=31495;y++)I[y]=0;for(y=31917;y<=31922;y++)I[y]=0;for(y=31965;y<=32e3;y++)I[y]=0;for(y=32001;y<=32003;y++)I[y]=2;for(y=32005;y<=32031;y++)I[y]=2;for(y=32033;y<=32060;y++)I[y]=2;for(y=32064;y<=32067;y++)I[y]=2;for(y=32074;y<=32077;y++)I[y]=2;for(y=32081;y<=32086;y++)I[y]=0;for(y=32107;y<=32130;y++)I[y]=0;for(y=32133;y<=32159;y++)I[y]=0;for(y=32164;y<=32167;y++)I[y]=2;for(y=32180;y<=32199;y++)I[y]=0;for(y=32201;y<=32260;y++)I[y]=0;for(y=32301;y<=32360;y++)I[y]=0;for(y=32401;y<=32460;y++)I[y]=0;for(y=32501;y<=32560;y++)I[y]=0;for(y=32601;y<=32662;y++)I[y]=0;for(y=32664;y<=32667;y++)I[y]=2;for(y=32701;y<=32761;y++)I[y]=0;for(y=53001;y<=53004;y++)I[y]=0;for(y=53008;y<=53019;y++)I[y]=0;for(y=53021;y<=53032;y++)I[y]=0;for(y=53034;y<=53037;y++)I[y]=0;for(y=53042;y<=53046;y++)I[y]=0;for(y=53074;y<=53080;y++)I[y]=0;for(y=54001;y<=54004;y++)I[y]=0;for(y=54008;y<=54019;y++)I[y]=0;for(y=54021;y<=54032;y++)I[y]=0;for(y=54034;y<=54037;y++)I[y]=0;for(y=54042;y<=54046;y++)I[y]=0;for(y=54048;y<=54053;y++)I[y]=0;for(y=54074;y<=54080;y++)I[y]=0;for(y=54098;y<=54101;y++)I[y]=0;for(y=102001;y<=102040;y++)I[y]=0;for(y=102042;y<=102063;y++)I[y]=0;for(y=102065;y<=102067;y++)I[y]=0;for(y=102070;y<=102117;y++)I[y]=0;for(y=102122;y<=102216;y++)I[y]=0;for(y=102221;y<=102377;y++)I[y]=0;for(y=102382;y<=102388;y++)I[y]=0;for(y=102389;y<=102398;y++)I[y]=2;for(y=102399;y<=102444;y++)I[y]=0;for(y=102445;y<=102447;y++)I[y]=2;for(y=102448;y<=102458;y++)I[y]=0;for(y=102459;y<=102468;y++)I[y]=2;for(y=102469;y<=102499;y++)I[y]=0;for(y=102500;y<=102519;y++)I[y]=1;for(y=102520;y<=102524;y++)I[y]=0;for(y=102525;y<=102529;y++)I[y]=2;for(y=102530;y<=102588;y++)I[y]=0;for(y=102590;y<=102598;y++)I[y]=0;for(y=102601;y<=102603;y++)I[y]=0;for(y=102605;y<=102628;y++)I[y]=0;for(y=102629;y<=102646;y++)I[y]=2;for(y=102648;y<=102700;y++)I[y]=2;for(y=102701;y<=102703;y++)I[y]=0;for(y=102707;y<=102730;y++)I[y]=2;for(y=102733;y<=102758;y++)I[y]=2;for(y=102767;y<=102900;y++)I[y]=0;for(y=102901;y<=102933;y++)I[y]=2;for(y=102934;y<=102950;y++)I[y]=13;for(y=102951;y<=102963;y++)I[y]=0;for(y=102965;y<=102969;y++)I[y]=0;for(y=102971;y<=102973;y++)I[y]=0;for(y=102975;y<=102989;y++)I[y]=0;for(y=102990;y<=102992;y++)I[y]=1;for(y=102997;y<=103002;y++)I[y]=0;for(y=103003;y<=103008;y++)I[y]=2;for(y=103009;y<=103011;y++)I[y]=0;for(y=103012;y<=103014;y++)I[y]=2;for(y=103019;y<=103021;y++)I[y]=0;for(y=103022;y<=103024;y++)I[y]=2;for(y=103029;y<=103031;y++)I[y]=0;for(y=103032;y<=103034;y++)I[y]=2;for(y=103065;y<=103068;y++)I[y]=0;for(y=103074;y<=103076;y++)I[y]=0;for(y=103077;y<=103079;y++)I[y]=1;for(y=103080;y<=103082;y++)I[y]=0;for(y=103083;y<=103085;y++)I[y]=2;for(y=103090;y<=103093;y++)I[y]=0;for(y=103097;y<=103099;y++)I[y]=0;for(y=103100;y<=103102;y++)I[y]=2;for(y=103107;y<=103109;y++)I[y]=0;for(y=103110;y<=103112;y++)I[y]=2;for(y=103113;y<=103116;y++)I[y]=0;for(y=103117;y<=103120;y++)I[y]=2;for(y=103153;y<=103157;y++)I[y]=0;for(y=103158;y<=103162;y++)I[y]=2;for(y=103163;y<=103165;y++)I[y]=0;for(y=103166;y<=103168;y++)I[y]=1;for(y=103169;y<=103171;y++)I[y]=2;for(y=103186;y<=103188;y++)I[y]=0;for(y=103189;y<=103191;y++)I[y]=2;for(y=103192;y<=103195;y++)I[y]=0;for(y=103196;y<=103199;y++)I[y]=2;for(y=103200;y<=103224;y++)I[y]=0;for(y=103225;y<=103227;y++)I[y]=1;for(y=103232;y<=103237;y++)I[y]=0;for(y=103238;y<=103243;y++)I[y]=2;for(y=103244;y<=103246;y++)I[y]=0;for(y=103247;y<=103249;y++)I[y]=2;for(y=103254;y<=103256;y++)I[y]=0;for(y=103257;y<=103259;y++)I[y]=2;for(y=103264;y<=103266;y++)I[y]=0;for(y=103267;y<=103269;y++)I[y]=2;for(y=103300;y<=103375;y++)I[y]=0;for(y=103381;y<=103383;y++)I[y]=0;for(y=103384;y<=103386;y++)I[y]=1;for(y=103387;y<=103389;y++)I[y]=0;for(y=103390;y<=103392;y++)I[y]=2;for(y=103397;y<=103399;y++)I[y]=0;for(y=103400;y<=103471;y++)I[y]=2;for(y=103476;y<=103478;y++)I[y]=0;for(y=103479;y<=103481;y++)I[y]=2;for(y=103486;y<=103488;y++)I[y]=0;for(y=103489;y<=103491;y++)I[y]=2;for(y=103492;y<=103495;y++)I[y]=0;for(y=103496;y<=103499;y++)I[y]=2;for(y=103528;y<=103543;y++)I[y]=0;for(y=103544;y<=103548;y++)I[y]=2;for(y=103549;y<=103551;y++)I[y]=0;for(y=103552;y<=103554;y++)I[y]=1;for(y=103555;y<=103557;y++)I[y]=2;for(y=103558;y<=103560;y++)I[y]=0;for(y=103571;y<=103573;y++)I[y]=0;for(y=103574;y<=103576;y++)I[y]=2;for(y=103577;y<=103580;y++)I[y]=0;for(y=103581;y<=103583;y++)I[y]=2;for(y=103595;y<=103694;y++)I[y]=0;for(y=103696;y<=103699;y++)I[y]=0;for(y=103700;y<=103793;y++)I[y]=2;for(y=103794;y<=103890;y++)I[y]=0;for(y=103891;y<=103896;y++)I[y]=2;for(y=103900;y<=103971;y++)I[y]=2;for(y=103972;y<=103977;y++)I[y]=0;for(y=112e3;y<=112101;y++)I[y]=0;const IH=[102100,102113,3857,3785,900913],lce=[104905,104971],uce=[4326,...IH,...lce],yb=[-20037508342788905e-9,20037508342788905e-9],BI=[-20037508342787e-6,20037508342787e-6],CE={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:yb,origin:BI,dx:1e-5},$H={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yb,origin:BI,dx:1e-5},102100:CE,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yb,origin:BI,dx:1e-5},3857:CE,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:CE};function br(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Ml(e)&&Ml(t))return!0;const a=e.latestWkid;if(a!=null&&r===a)return!0;const l=t.latestWkid;return l!=null&&i===l}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function Bn(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&$H[t]||null}function z3(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Ef(e){if(!Js(e))return!1;const{wkid:t}=e;if(t)return I[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function cce(e){return!(OR(e)||kR(e))}function Kh(e){return(e==null?void 0:e.wkid)===4326}function i7e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function HI(e){return(e==null?void 0:e.wkid)===ka.CGCS2000}function Ml(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&IH.includes(t)}function hce(e){return(e==null?void 0:e.wkid)===32662}function s5(e){return e===ka.GCSMARS2000||e===ka.GCSMARS2000_SPHERE}function OR(e){return s5(e==null?void 0:e.wkid)}function a5(e){return e===ka.GCSMOON2000}function kR(e){return a5(e==null?void 0:e.wkid)}function dce(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&uce.includes(t)}function Js(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const U3={wkid:4326,wkt:Bb($H[4326].wkTemplate,{Central_Meridian:"0.0"})},G3={wkid:102100,latestWkid:3857},pce={wkid:32662};function LR(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const fce=LR(Ni),NR=LR(bl),DR=LR(Zh),mce={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ni.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},yce=NR.wkt.toUpperCase(),gce=DR.wkt.toUpperCase();function vce(e){if(e!=null&&Js(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(s5(t))return bl;const r=i==null?void 0:i.toUpperCase();if(i&&r===yce)return bl;if(a5(t)||r&&r===gce)return Zh}return Ni}function r7e(e){return s5(e)?bl:a5(e)?Zh:Ni}function V3(e){return br(e,fce)}function Jh(e){return V3(e)||br(e,NR)||br(e,DR)}const AH=39.37,bce=Ni.radius*Math.PI/200,RH=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,dg=I,PH=/UNIT\[([^\]]+)]/i,wce=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),_ce=Kr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),io=e=>e*e,Ac=e=>e*e*e,gb={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:io(.001)},"square-centimeters":{inBaseUnits:io(.01)},"square-decimeters":{inBaseUnits:io(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:io(1e3)},"square-inches":{inBaseUnits:io(.0254)},"square-feet":{inBaseUnits:io(.3048)},"square-yards":{inBaseUnits:io(.9144)},"square-miles":{inBaseUnits:io(1609.344)},"square-nautical-miles":{inBaseUnits:io(1852)},"square-us-feet":{inBaseUnits:io(1200/3937)},acres:{inBaseUnits:.0015625*io(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ac(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ac(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ac(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ac(1e3)},"cubic-inches":{inBaseUnits:1e3*Ac(.0254)},"cubic-feet":{inBaseUnits:1e3*Ac(.3048)},"cubic-yards":{inBaseUnits:1e3*Ac(.9144)},"cubic-miles":{inBaseUnits:1e3*Ac(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Sce=(()=>{const e={};for(const t in gb)for(const i in gb[t].units)e[i]=t;return e})();function xce(e,t,i){return e*gb[i].units[t].inBaseUnits}function Mce(e,t,i){return e/gb[i].units[t].inBaseUnits}const OH=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],Tce=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function qI(e){const t=Sce[e];if(!t)throw new Error("unknown type");return t}function oN(e,t=null){return t=t||qI(e),gb[t].baseUnit===e}function er(e,t,i){if(t===i)return e;const r=qI(t);if(r!==qI(i))throw new Error("incompatible units");const n=oN(t,r)?e:xce(e,t,r);return oN(i,r)?n:Mce(n,i,r)}function n7e(e,t,i,r=!1){if(!r&&Ef(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=Cf(t);return n!==i&&(e=n?er(e,n,i):er(e*=Ss(t),"meters",i)),e}function s7e(e,t,i,r=!1){if(!r&&Ef(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=Cf(i);return t!==n&&(e=n?er(e,t,n):er(e,t,"meters")/Ss(i)),e}function Ece(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function a7e(e){return Ece(e)}function o7e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function l7e(e,t){const i=er(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function u7e(e,t){const i=er(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function c7e(e,t){const i=er(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function h7e(e,t){const i=er(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function d7e(e,t){const i=er(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function p7e(e,t){const i=er(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function Cce(e,t,i){return er(e,t,"meters")/(i*Math.PI/180)}function jR(e){return _ce.fromJSON(e.toLowerCase())||null}function lN(e){if(e!=null&&!cce(e))return 1;const t=Ss(e);return t>1e5?1:t}function kH(e){return Ss(e)>=vce(e).metersPerDegree?"meters":Cf(e)}function Ss(e,t=Ni.metersPerDegree){return Ice(e,!0)??t}function Ice(e,t=!1){const i=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(i){if(s5(i))return bl.metersPerDegree;if(a5(i))return Zh.metersPerDegree;n=dg.values[dg[i]],!n&&t&&wce.has(i)&&(n=bce)}else r&&(DH(r)?n=uN(RH.exec(r),n):NH(r)&&(n=uN(PH.exec(r),n)));return n}function f7e(e){return Ef(e)?1:Ss(e)}function uN(e,t){return e!=null&&e[1]?LH(e[1]):t}function LH(e){return parseFloat(e.split(",")[1])}function Cf(e){const t=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let r=null;if(t)r=dg.units[dg[t]];else if(i){const n=DH(i)?RH:NH(i)?PH:null;if(n){const s=n.exec(i);s!=null&&s[1]&&(r=Ace(s[1]))}}return r!=null?jR(r):null}function m7e(e){const t=Cf(e);return t!=null&&OH.includes(t)?t:null}function y7e(e){const t=kH(e);return t!=null&&OH.includes(t)?t:null}function g7e(e){const t=Cf(e);return t==null?null:Tce.get(t)}function NH(e){return/^GEOCCS/i.test(e)}function DH(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const $ce=1e-7;function Ace(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t==null?void 0:t[1];if(!i||!jR(i)){const r=LH(e);i=null;const n=dg.values;for(let s=0;s<n.length;++s)if(Math.abs(r-n[s])<$ce){i=dg.units[s];break}}return i}function v7e(e){const t=Cf(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Rce={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Pce={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Oce={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},b7e=Kr()(Rce),w7e=Kr()(Pce),_7e=Kr()(Oce);var Ko;let Zt=Ko=class extends ue{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return Ko.WebMercator;if((e==null?void 0:e.wkid)===4326)return Ko.WGS84;const t=new Ko;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Kh(this)}get isWebMercator(){return Ml(this)}get isGeographic(){return Ef(this)}get isWrappable(){return dce(this)}get metersPerUnit(){return Ss(this)}get unit(){return Cf(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Ko.WGS84)return new Ko(U3);if(this===Ko.WebMercator)return new Ko(G3);const e=new Ko;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=H(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||r?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===t&&n.referenceServiceName===i:n.id===t}return br(this,e)}toJSON(e){return this.write(void 0,e)}};Zt.GCS_NAD_1927=null,Zt.WGS84=null,Zt.WebMercator=null,Zt.PlateCarree=null,h([f({readOnly:!0})],Zt.prototype,"isWGS84",null),h([f({readOnly:!0})],Zt.prototype,"isWebMercator",null),h([f({readOnly:!0})],Zt.prototype,"isGeographic",null),h([f({readOnly:!0})],Zt.prototype,"isWrappable",null),h([f({type:zt,json:{write:!0}})],Zt.prototype,"latestWkid",void 0),h([f({readOnly:!0})],Zt.prototype,"metersPerUnit",null),h([f({readOnly:!0})],Zt.prototype,"unit",null),h([f({type:zt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Zt.prototype,"wkid",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Zt.prototype,"wkt",void 0),h([Re("wkt"),Re("web-scene","wkt")],Zt.prototype,"writeWkt",null),h([f({type:String,json:{write:!1}})],Zt.prototype,"wkt2",void 0),h([f({type:zt,json:{write:!0}})],Zt.prototype,"vcsWkid",void 0),h([f({type:zt,json:{write:!0}})],Zt.prototype,"latestVcsWkid",void 0),h([f()],Zt.prototype,"imageCoordinateSystem",void 0),Zt=Ko=h([O("esri.geometry.SpatialReference")],Zt),Zt.prototype.toJSON.isDefaultToJSON=!0,Zt.GCS_NAD_1927=De.freeze(new Zt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Zt.WGS84=De.freeze(new Zt(U3)),Zt.WebMercator=De.freeze(new Zt(G3)),Zt.PlateCarree=De.freeze(new Zt(pce));const it=Zt;let Jo=class extends ue{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=it.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof it)return t;if(t!=null){const r=new it;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};h([f()],Jo.prototype,"type",void 0),h([f({readOnly:!0})],Jo.prototype,"cache",null),h([f({readOnly:!0})],Jo.prototype,"extent",null),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Jo.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Jo.prototype,"hasZ",void 0),h([f({type:it,json:{write:!0},value:it.WGS84})],Jo.prototype,"spatialReference",void 0),h([He("spatialReference")],Jo.prototype,"readSpatialReference",null),Jo=h([O("esri.geometry.Geometry")],Jo);const Qu=Jo;function pg(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new z("Mesh geometries are not supported for this operation")}function kce(e){e.forEach(pg)}const Lce=57.29577951308232,Nce=.017453292519943;function cN(e){return e*Lce}function hN(e){return e*Nce}function dN(e){return e/Ni.radius}function pN(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Ni.radius))}function WI(e){return e.wkid!=null||e.wkt!=null}const IE=[0,0];function B3(e,t,i,r,n){const s=e,a=n;if(a.spatialReference=i,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,IE,r);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,IE,r),[a.xmax,a.ymax]=t(s.xmax,s.ymax,IE,r);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const l="paths"in s?s.paths:s.rings,u=[];let d;for(let m=0;m<l.length;m++){const v=l[m];d=[],u.push(d);for(let b=0;b<v.length;b++)d.push(t(v[b][0],v[b][1],[0,0],r)),v[b].length>2&&d[b].push(v[b][2]),v[b].length>3&&d[b].push(v[b][3])}"paths"in a?a.paths=u:a.rings=u}else if("points"in s&&"points"in a){const l=s.points,u=[];for(let d=0;d<l.length;d++)u[d]=t(l[d][0],l[d][1],[0,0],r),l[d].length>2&&u[d].push(l[d][2]),l[d].length>3&&u[d].push(l[d][3]);a.points=u}return n}function J_(e,t){const i=e&&(WI(e)?e:e.spatialReference),r=t&&(WI(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!br(r,i)||Ml(r)&&Kh(i)||Ml(i)&&Kh(r))}function o5(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(WI(t)?t:t.spatialReference);return J_(i,r)?br(i,r)?H(e):Ml(r)?B3(e,Ty,it.WebMercator,!1,H(e)):Kh(r)?B3(e,l5,it.WGS84,!1,H(e)):null:null}function Ty(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=hN(t);return i[0]=hN(e)*Ni.radius,i[1]=Ni.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function l5(e,t,i=[0,0],r=!1){if(e===yb[0])i[0]=-180;else if(e===yb[1])i[0]=180;else{const n=cN(e/Ni.radius);i[0]=r?n:n-360*Math.floor((n+180)/360)}return i[1]=cN(Math.PI/2-2*Math.atan(Math.exp(-t/Ni.radius))),i}function _l(e,t=!1,i=H(e)){return pg(e),pg(i),B3(e,Ty,it.WebMercator,t,i)}function Ey(e,t=!1,i=H(e)){return pg(e),pg(i),B3(e,l5,it.WGS84,t,i)}function jH(e,t){const i=e.x-t.x,r=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+n*n)}function Dce(e){var t;return((t=FH(e,zH))==null?void 0:t[0])??null}function jce(e){var t;return((t=FH(e,zH))==null?void 0:t[1])??null}function FH({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Ml(i))return l5(e,t,r);if(Ef(i))return r[0]=e,r[1]=t,r}return null}const zH=[0,0];var X_;const $E=[0,0];function fN(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ln=X_=class extends Qu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",De.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],i=s[2],r=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new it(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ce.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ce.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&(n!=null&&n.isWebMercator)){const l=Ty(s.longitude,s.latitude,$E);e=l[0],t=l[1]}}}else fN(i)?(n=i,i=null):fN(r)&&(n=r,r=null);const a={x:e,y:t};return a.x==null&&a.y!=null?ce.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&ce.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(a.spatialReference=n),i!=null&&(a.z=i),r!=null&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return jce(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Ty(i,e,$E)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Dce(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",Ty(e,t,$E)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new X_;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return X_.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:n,spatialReference:s}=this,{z:a,m:l}=e;let{x:u,y:d,spatialReference:m}=e;if(!s.equals(m))if(s.isWebMercator&&m.isWGS84)[u,d]=Ty(u,d),m=s;else{if(!s.isWGS84||!m.isWebMercator)return!1;[u,d]=l5(u,d),m=s}return t===u&&i===d&&r===a&&n===l&&s.wkid===m.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Bn(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,n=2*r;let s;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n),this._set("x",t),this}distance(e){return jH(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};h([f({readOnly:!0})],Ln.prototype,"cache",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ln.prototype,"hasM",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ln.prototype,"hasZ",null),h([f({type:Number})],Ln.prototype,"latitude",null),h([f({type:Number})],Ln.prototype,"longitude",null),h([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Gt(e=>isNaN(e)?e:Un(e))],Ln.prototype,"x",void 0),h([Re("x")],Ln.prototype,"writeX",null),h([He("x")],Ln.prototype,"readX",null),h([f({type:Number,json:{write:!0}})],Ln.prototype,"y",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ln.prototype,"z",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ln.prototype,"m",void 0),Ln=X_=h([O("esri.geometry.Point")],Ln),Ln.prototype.toJSON.isDefaultToJSON=!0;const Qe=Ln;let Xo=class extends Xt.ClonableMixin(ue){constructor(...t){super(...t),this.position=new Qe([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new VB}normalizeCtorArgs(t,i,r,n){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const s={position:t};return i!=null&&(s.heading=i),r!=null&&(s.tilt=r),n!=null&&(s.fov=n),s}return t}writePosition(t,i,r,n){const s=t.clone();s.x=Un(t.x||0),s.y=Un(t.y||0),s.z=t.hasZ?Un(t.z||0):t.z,i[r]=s.write({},n)}readPosition(t,i){const r=new Qe;return r.read(t,i),r.x=Un(r.x||0),r.y=Un(r.y||0),r.z=r.hasZ?Un(r.z||0):r.z,r}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};h([f({type:Qe,json:{write:{isRequired:!0}}})],Xo.prototype,"position",void 0),h([Re("position")],Xo.prototype,"writePosition",null),h([He("position")],Xo.prototype,"readPosition",null),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Gt(e=>zle.normalize(Un(e)))],Xo.prototype,"heading",void 0),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Gt(e=>ia(Un(e),-180,180))],Xo.prototype,"tilt",void 0),h([f({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Gt(e=>ia(Un(e,55),1,170))],Xo.prototype,"fov",void 0),h([f({type:VB,nonNullable:!0,json:{read:!1,write:!1}})],Xo.prototype,"layout",void 0),Xo=h([O("esri.Camera")],Xo);const Fce=Xo,AE=[0,0];function e2(e,t){return t!=null&&zn(e,t.x,t.y,t.z)}function M7e(e,t){var i;if(!((i=t.points)!=null&&i.length))return!1;for(const r of t.points)if(!fg(e,r))return!1;return!0}function zce(e,t){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?zn(e,i,r,n)&&zn(e,i,a,n)&&zn(e,s,a,n)&&zn(e,s,r,n)&&zn(e,i,r,l)&&zn(e,i,a,l)&&zn(e,s,a,l)&&zn(e,s,r,l):zn(e,i,r)&&zn(e,i,a)&&zn(e,s,a)&&zn(e,s,r)}function fg(e,t){return zn(e,t[0],t[1])}function Uce(e,t){return zn(e,t[0],t[1],t[2])}function zn(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function FR(e,t){return AE[1]=t.y,AE[0]=t.x,Gce(e,AE)}function Gce(e,t){return zR(e.rings,t)}function zR(e,t){if(!e)return!1;if(Vce(e))return mN(!1,e,t);let i=!1;for(let r=0,n=e.length;r<n;r++)i=mN(i,e[r],t);return i}function Vce(e){return!Array.isArray(e[0][0])}function mN(e,t,i){const[r,n]=i;let s=e,a=0;for(let l=0,u=t.length;l<u;l++){a++,a===u&&(a=0);const[d,m]=t[l],[v,b]=t[a];(m<n&&b>=n||b<n&&m>=n)&&d+(n-m)/(b-m)*(v-d)<r&&(s=!s)}return s}function Bce(e,t){return e2(e,t)}function Hce(e,t){const i=e.hasZ&&t.hasZ;let r,n,s;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function qce(e,t){const{points:i,hasZ:r}=t,n=r?Uce:fg;for(const s of i)if(n(e,s))return!0;return!1}const df=[0,0],pf=[0,0],ff=[0,0],mf=[0,0],Wce=[df,pf,ff,mf],UH=[[ff,df],[df,pf],[pf,mf],[mf,ff]];function Yce(e,t){return Zce(e,t.rings)}function Zce(e,t){df[0]=e.xmin,df[1]=e.ymax,pf[0]=e.xmax,pf[1]=e.ymax,ff[0]=e.xmin,ff[1]=e.ymin,mf[0]=e.xmax,mf[1]=e.ymin;for(const i of Wce)if(zR(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(fg(e,r))return!0;for(let n=1;n<i.length;n++){const s=i[n];if(fg(e,s)||GH(r,s,UH))return!0;r=s}}return!1}function Kce(e,t){df[0]=e.xmin,df[1]=e.ymax,pf[0]=e.xmax,pf[1]=e.ymax,ff[0]=e.xmin,ff[1]=e.ymin,mf[0]=e.xmax,mf[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(fg(e,n))return!0;for(let s=1;s<r.length;s++){const a=r[s];if(fg(e,a)||GH(n,a,UH))return!0;n=a}}return!1}const zr=[0,0];function Jce(e){for(let t=0;t<e.length;t++){const i=e[t];for(let n=0;n<i.length-1;n++){const s=i[n],a=i[n+1];for(let l=t+1;l<e.length;l++)for(let u=0;u<e[l].length-1;u++){const d=e[l][u],m=e[l][u+1];if(YI(s,a,d,m,zr)&&!(zr[0]===s[0]&&zr[1]===s[1]||zr[0]===d[0]&&zr[1]===d[1]||zr[0]===a[0]&&zr[1]===a[1]||zr[0]===m[0]&&zr[1]===m[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let s=r-1;n===0&&(s=r-2);const a=i[n],l=i[n+1];for(let u=n+2;u<s;u++){const d=i[u],m=i[u+1];if(YI(a,l,d,m,zr)&&!(zr[0]===a[0]&&zr[1]===a[1]||zr[0]===d[0]&&zr[1]===d[1]||zr[0]===l[0]&&zr[1]===l[1]||zr[0]===m[0]&&zr[1]===m[1]))return!0}}}return!1}function GH(e,t,i){for(let r=0;r<i.length;r++)if(YI(e,t,i[r][0],i[r][1]))return!0;return!1}function YI(e,t,i,r,n){const[s,a]=e,[l,u]=t,[d,m]=i,[v,b]=r,_=v-d,S=s-d,M=l-s,T=b-m,E=a-m,A=u-a,P=T*M-_*A;if(P===0)return!1;const N=(_*E-T*S)/P,D=(M*E-A*S)/P;return N>=0&&N<=1&&D>=0&&D<=1&&(n&&(n[0]=s+N*(l-s),n[1]=a+N*(u-a)),!0)}function Xce(e){switch(e){case"esriGeometryEnvelope":case"extent":return Hce;case"esriGeometryMultipoint":case"multipoint":return qce;case"esriGeometryPoint":case"point":return Bce;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Yce;case"esriGeometryPolyline":case"polyline":return Kce}}var co;function Qce(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Rc(e,t,i){return t==null?i:i==null?t:e(t,i)}let Cr=co=class extends Qu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,n){return Qce(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?it.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:n??it.WGS84}}static fromPoint(e){return new co({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Qe({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new co;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&J_(t,i)&&(e=t.isWebMercator?_l(e):Ey(e,!0)),e.type==="point"?e2(this,e):e.type==="extent"&&zce(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&J_(t,i)&&(e=t.isWebMercator?_l(e):Ey(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!br(t,i)&&J_(t,i)&&(e=t.isWebMercator?_l(e):Ey(e,!0)),Xce(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Rc(Math.min,this.zmin,e.zmin),this.zmax=Rc(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Rc(Math.min,this.mmin,e.mmin),this.mmax=Rc(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Rc(Math.max,this.zmin,e.zmin),this.zmax=Rc(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Rc(Math.max,this.mmin,e.mmin),this.mmax=Rc(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Bn(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?Ey(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=RE(r.x,e).x),this.spatialReference=new it(Bb((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const n=i??Bn(r);if(n==null)return this;const s=this._getParts(n).map(u=>u.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let a=!0,l=!0;return s.forEach(u=>{u.hasZ||(a=!1),u.hasM||(l=!1)}),{rings:s.map(u=>{const d=[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]];if(a){const m=(u.zmax-u.zmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}if(l){const m=(u.mmax-u.mmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}return d}),hasZ:a,hasM:l,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:a}=this,l=this.width,u=this.xmin,d=this.xmax;let m;e=e||Bn(a);const[v,b]=e.valid;m=RE(this.xmin,e);const _=m.x,S=m.frameId;m=RE(this.xmax,e);const M=m.x,T=m.frameId,E=_===M&&l>0;if(l>2*b){const A=new co(u<d?_:M,n,b,s,a),P=new co(v,n,u<d?M:_,s,a),N=new co(0,n,b,s,a),D=new co(v,n,0,s,a),k=[],q=[];A.contains(N)&&k.push(S),A.contains(D)&&q.push(S),P.contains(N)&&k.push(T),P.contains(D)&&q.push(T);for(let X=S+1;X<T;X++)k.push(X),q.push(X);t.push({extent:A,frameIds:[S]},{extent:P,frameIds:[T]},{extent:N,frameIds:k},{extent:D,frameIds:q})}else _>M||E?t.push({extent:new co(_,n,b,s,a),frameIds:[S]},{extent:new co(v,n,M,s,a),frameIds:[T]}):t.push({extent:new co(_,n,M,s,a),frameIds:[S]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}};function RE(e,t){const[i,r]=t.valid,n=2*r;let s,a=0;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n,a=s):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n,a=-s),{x:e,frameId:a}}h([f({readOnly:!0})],Cr.prototype,"cache",null),h([f({readOnly:!0})],Cr.prototype,"center",null),h([f({readOnly:!0})],Cr.prototype,"extent",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Cr.prototype,"hasM",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Cr.prototype,"hasZ",null),h([f({readOnly:!0})],Cr.prototype,"height",null),h([f({readOnly:!0})],Cr.prototype,"width",null),h([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Cr.prototype,"xmin",void 0),h([f({type:Number,json:{write:!0}})],Cr.prototype,"ymin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Cr.prototype,"mmin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Cr.prototype,"zmin",void 0),h([f({type:Number,json:{write:!0}})],Cr.prototype,"xmax",void 0),h([f({type:Number,json:{write:!0}})],Cr.prototype,"ymax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Cr.prototype,"mmax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Cr.prototype,"zmax",void 0),Cr=co=h([O("esri.geometry.Extent")],Cr),Cr.prototype.toJSON.isDefaultToJSON=!0;const Lt=Cr;function mg(e,t,i=!1){let{hasM:r,hasZ:n}=e;Array.isArray(t)?t.length!==4||r||n?t.length===3&&i&&!r?(n=!0,r=!1):t.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=r}var ZI;function yN(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function ehe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Vc=ZI=class extends Qu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var n;if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):ehe(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=(n=i.points)==null?void 0:n[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Lt,i=this.hasZ,r=this.hasM,n=i?3:2,s=e[0],a=yN(Math.min),l=yN(Math.max);let u,d,m,v,[b,_]=s,[S,M]=s;for(let T=0,E=e.length;T<E;T++){const A=e[T],[P,N]=A;if(b=a(b,P),_=a(_,N),S=l(S,P),M=l(M,N),i&&A.length>2){const D=A[2];u=a(u,D),m=l(m,D)}if(r&&A.length>n){const D=A[n];d=a(d,D),v=l(v,D)}}return t.xmin=b,t.ymin=_,t.xmax=S,t.ymax=M,t.spatialReference=this.spatialReference,i?(t.zmin=u,t.zmax=m):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=d,t.mmax=v):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=H(this.points)}addPoint(e){return mg(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:H(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new ZI(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Qe(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Qe(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(mg(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};h([f({readOnly:!0})],Vc.prototype,"cache",null),h([f()],Vc.prototype,"extent",null),h([f({type:[[Number]],json:{write:{isRequired:!0}}})],Vc.prototype,"points",void 0),h([Re("points")],Vc.prototype,"writePoints",null),Vc=ZI=h([O("esri.geometry.Multipoint")],Vc),Vc.prototype.toJSON.isDefaultToJSON=!0;const u5=Vc;function T7e(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function the(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var H3;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(H3||(H3={}));function E7e(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let n=!1,s=!1;return r.forEach(a=>{a.hasZ&&(n=!0),a.hasM&&(s=!0)}),r.map(a=>{const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n&&a.hasZ){const u=.5*(a.zmax-a.zmin);for(let d=0;d<l.length;d++)l[d].push(u)}if(s&&a.hasM){const u=.5*(a.mmax-a.mmin);for(let d=0;d<l.length;d++)l[d].push(u)}return l})}return null}function c5(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function VH(e,t,i){const r=e[0]+i*(t[0]-e[0]),n=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,n,e[2]+i*(t[2]-e[2])]:[r,n]}function ihe(e,t,i,r){return rhe(e,t,i[r],i[r+1])}function rhe(e,t,i,r){const[n,s]=t,[a,l]=i,[u,d]=r,m=u-a,v=d-l,b=m*m+v*v,_=(n-a)*m+(s-l)*v,S=Math.min(1,Math.max(0,_/b));return e[0]=a+m*S,e[1]=l+v*S,e}function nhe(e,t,i,r,n,s){let a=i,l=r,u=n-a,d=s-l;if(u!==0||d!==0){const m=((e-a)*u+(t-l)*d)/(u*u+d*d);m>1?(a=n,l=s):m>0&&(a+=u*m,l+=d*m)}return u=e-a,d=t-l,u*u+d*d}function BH(e,t){return VH(e,t,.5)}function C7e(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=c5(e[r],e[r+1]);return i}function I7e(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let n=0;n<i-1;++n){const s=c5(e[n],e[n+1]);if(t-r<s){const a=(t-r)/s;return VH(e[n],e[n+1],a)}r+=s}return e[i-1]}function HH(e,t=H3.X,i=H3.Y){let r=0;const n=e.length;let s=e[0];for(let a=1;a<n;a++){const l=e[a];r+=(l[t]-s[t])*(l[i]+s[i]),s=l}if(!qH(e)){const a=e[0];r+=(a[t]-s[t])*(a[i]+s[i])}return r>=0}function qH(e){const t=e.length;return t<3||Hx(e[0],e[t-1])}function $7e(e){"rings"in e&&(she(e),ahe(e))}function she(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)qH(i)||(i.push(i[0].slice()),t=!0);return t}function ahe(e){if(!("rings"in e)||e.rings.length===0||HH(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function A7e(e){return e.type!=="polygon"&&e.type!=="polyline"||ohe(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function ohe(e,t){const i=Bn(t);if(!i)return;const r=i.valid[0],n=i.valid[1],s=n-r;for(const a of e){let l=1/0,u=-1/0;for(const m of a){const v=lhe(m[0],r,n);l=Math.min(l,v),u=Math.max(u,v),m[0]=v}const d=u-l;s-d<d&&a.forEach(m=>{m[0]<0&&(m[0]+=s)})}}function lhe(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function R7e(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((n,s)=>n.length===r[s].length)}function P7e(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function uhe(e){return e?che(e.rings,e.hasZ??!1):null}function che(e,t){if(!(e!=null&&e.length))return null;const i=[],r=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,a=e.length;s<a;s++){const l=WH(e[s],t,n);l&&r.push(l)}if(r.sort((s,a)=>{let l=s[2]-a[2];return l===0&&t&&(l=s[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const s=e[0]&&e[0].length?hhe(e[0],t):null;if(!s)return null;i[0]=s[0],i[1]=s[1],t&&s.length>2&&(i[2]=s[2])}return i}function WH(e,t,i){let r=0,n=0,s=0,a=0,l=0;const u=e.length?e[0][0]:0,d=e.length?e[0][1]:0,m=e.length&&t?e[0][2]:0;for(let b=0;b<e.length;b++){const _=e[b],S=e[(b+1)%e.length],[M,T,E]=_,A=M-u,P=T-d,[N,D,k]=S,q=N-u,X=D-d,re=A*X-q*P;if(a+=re,r+=(A+q)*re,n+=(P+X)*re,t&&_.length>2&&S.length>2){const W=E-m,be=k-m,ae=A*be-q*W;s+=(W+be)*ae,l+=ae}M<i[0]&&(i[0]=M),M>i[1]&&(i[1]=M),T<i[2]&&(i[2]=T),T>i[3]&&(i[3]=T),t&&(E<i[4]&&(i[4]=E),E>i[5]&&(i[5]=E))}if(a>0&&(a*=-1),l>0&&(l*=-1),!a)return null;a*=.5,l*=.5;const v=[r/(6*a)+u,n/(6*a)+d,a];return t&&(i[4]===i[5]||l===0?(v[3]=(i[4]+i[5])/2,v[4]=0):(v[3]=s/(6*l)+m,v[4]=l)),v}function O7e(e,t){let i=0,r=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let l=0;l<e.pathSize;l++){e.seekInPath(l);const u=[e.x,e.y];e.seekInPath((l+1)%e.pathSize);const d=[e.x,e.y],[m,v]=u,b=m-s,_=v-a,[S,M]=d,T=S-s,E=M-a,A=b*E-T*_;n+=A,i+=(b+T)*A,r+=(_+E)*A,m<t[0]&&(t[0]=m),m>t[1]&&(t[1]=m),v<t[2]&&(t[2]=v),v>t[3]&&(t[3]=v)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+a,n]):null}function hhe(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,a=0,l=0;for(let u=0,d=e.length;u<d-1;u++){const m=e[u],v=e[u+1];if(m&&v){i[0]=m[0],i[1]=m[1],r[0]=v[0],r[1]=v[1],t&&m.length>2&&v.length>2&&(i[2]=m[2],r[2]=v[2]);const b=c5(i,r);if(b){n+=b;const _=BH(m,v);s+=b*_[0],a+=b*_[1],t&&_.length>2&&(l+=b*_[2])}}}return n>0?t?[s/n,a/n,l/n]:[s/n,a/n]:e.length?e[0]:null}function dhe(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=WH(the(e),e.hasZ,s);a&&n.push(a)}if(n.sort((a,l)=>{let u=a[2]-l[2];return u===0&&t&&(u=a[4]-l[4]),u}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const a=e.pathSize?phe(e):null;if(!a)return null;r[0]=a[0],r[1]=a[1],t&&a.length>2&&(r[2]=a[2])}return r}function phe(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let n=0,s=0,a=0,l=0;if(e.nextPoint()){let u=e.x,d=e.y,m=e.z;for(;e.nextPoint();){const v=e.x,b=e.y,_=e.z;i[0]=u,i[1]=d,r[0]=v,r[1]=b,t&&(i[2]=m,r[2]=_);const S=c5(i,r);if(S){n+=S;const M=BH(i,r);s+=S*M[0],a+=S*M[1],t&&M.length>2&&(l+=S*M[2])}u=v,d=b,m=_}}return n>0?t?[s/n,a/n,l/n]:[s/n,a/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const fhe=1e-6;function k7e(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<fhe){const n=dhe(e);return n?[n[0],n[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)yhe(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const mhe=1/3;function yhe(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,a=i.x-r,l=i.y-n,u=0,d=0;for(;i.nextPoint();)u=i.x-r,d=i.y-n,s=.5*mhe*(u*l-d*a),e[0]+=s*(a+u),e[1]+=s*(l+d),a=u,l=d;const m=i.getCurrentRingArea(),v=[r,n];return v[0]-=t[0],v[1]-=t[1],v[0]*=m,v[1]*=m,e[0]+=v[0],e[1]+=v[1],e}function Or(e=She){return[e[0],e[1],e[2],e[3]]}function YH(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function ghe(e,t,i,r,n=Or()){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function vhe(e,t=Or()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function bhe(e,t,i=new Lt){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function L7e(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function N7e(e,t,i){if(t!=null)if("length"in t)KI(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else YH(i,e)}function D7e(e,t,i=e){const r=t.length;let n=e[0],s=e[1],a=e[2],l=e[3];for(let u=0;u<r;u++){const d=t[u];n=Math.min(n,d[0]),s=Math.min(s,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}return i[0]=n,i[1]=s,i[2]=a,i[3]=l,i}function j7e(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function UR(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function GR(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function F7e(e){return UR(e)*GR(e)}function z7e(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function U7e(e){const t=UR(e),i=GR(e);return Math.sqrt(t*t+i*i)}function G7e(e,t){return whe(e,t.x,t.y)}function whe(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function V7e(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function B7e(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function _he(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function H7e(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function q7e(e){return e?YH(e,gN):Or(gN)}function KI(e){return e!=null&&e.length===4}function W7e(e,t){return KI(e)&&KI(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const gN=[1/0,1/0,-1/0,-1/0],She=[0,0,0,0];function ZH(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function KH(e){return e.points!==void 0}function JH(e){return e.x!==void 0&&e.y!==void 0}function XH(e){return e.paths!==void 0}function QH(e){return e.rings!==void 0}function eq(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const kh=eq(Math.min),Lh=eq(Math.max);function Y7e(e,t){return XH(t)?yg(e,t.paths,!1,!1):QH(t)?yg(e,t.rings,!1,!1):KH(t)?VR(e,t.points,!1,!1,!1,!1):ZH(t)?tq(e,t):(JH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Z7e(e){let t,i,r,n;for(e.reset(),t=r=1/0,i=n=-1/0;e.nextPath();){const s=xhe(e);t=Math.min(s[0],t),r=Math.min(s[1],r),i=Math.max(s[2],i),n=Math.max(s[3],n)}return Or([t,r,i,n])}function xhe(e){let t,i,r,n;for(t=r=1/0,i=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),n=Math.max(e.y,n);return Or([t,r,i,n])}function K7e(e,t){return XH(t)?yg(e,t.paths,!0,!1):QH(t)?yg(e,t.rings,!0,!1):KH(t)?VR(e,t.points,!0,!1,!0,!1):ZH(t)?tq(e,t,!0,!1,!0,!1):(JH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function yg(e,t,i,r){const n=i?3:2;if(!t.length||!t[0].length)return null;let s,a,l,u,[d,m]=t[0][0],[v,b]=t[0][0];for(let _=0;_<t.length;_++){const S=t[_];for(let M=0;M<S.length;M++){const T=S[M],[E,A]=T;if(d=kh(d,E),m=kh(m,A),v=Lh(v,E),b=Lh(b,A),i&&T.length>2){const P=T[2];s=kh(s,P),a=Lh(a,P)}if(r&&T.length>n){const P=T[n];l=kh(s,P),u=Lh(a,P)}}}return i?r?(e[0]=d,e[1]=m,e[2]=s,e[3]=l,e[4]=v,e[5]=b,e[6]=a,e[7]=u,e.length=8,e):(e[0]=d,e[1]=m,e[2]=s,e[3]=v,e[4]=b,e[5]=a,e.length=6,e):r?(e[0]=d,e[1]=m,e[2]=l,e[3]=v,e[4]=b,e[5]=u,e.length=6,e):(e[0]=d,e[1]=m,e[2]=v,e[3]=b,e.length=4,e)}function tq(e,t,i,r,n,s){const a=t.xmin,l=t.xmax,u=t.ymin,d=t.ymax;let m=t.zmin,v=t.zmax,b=t.mmin,_=t.mmax;return n?(m=m||0,v=v||0,s?(b=b||0,_=_||0,e[0]=a,e[1]=u,e[2]=m,e[3]=b,e[4]=l,e[5]=d,e[6]=v,e[7]=_,e):(e[0]=a,e[1]=u,e[2]=m,e[3]=l,e[4]=d,e[5]=v,e)):s?(b=b||0,_=_||0,e[0]=a,e[1]=u,e[2]=b,e[3]=l,e[4]=d,e[5]=_,e):(e[0]=a,e[1]=u,e[2]=l,e[3]=d,e)}function VR(e,t,i,r,n,s){const a=i?3:2,l=r&&s,u=i&&n;if(!t.length||!t[0].length)return null;let d,m,v,b,[_,S]=t[0],[M,T]=t[0];for(let E=0;E<t.length;E++){const A=t[E],[P,N]=A;if(_=kh(_,P),S=kh(S,N),M=Lh(M,P),T=Lh(T,N),u&&A.length>2){const D=A[2];d=kh(d,D),m=Lh(m,D)}if(l&&A.length>a){const D=A[a];v=kh(d,D),b=Lh(m,D)}}return n?(d=d||0,m=m||0,s?(v=v||0,b=b||0,e[0]=_,e[1]=S,e[2]=d,e[3]=v,e[4]=M,e[5]=T,e[6]=m,e[7]=b,e):(e[0]=_,e[1]=S,e[2]=d,e[3]=M,e[4]=T,e[5]=m,e)):s?(v=v||0,b=b||0,e[0]=_,e[1]=S,e[2]=v,e[3]=M,e[4]=T,e[5]=b,e):(e[0]=_,e[1]=S,e[2]=M,e[3]=T,e)}function Mhe(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function The(e){return e.points!==void 0}function Ehe(e){return e.x!==void 0&&e.y!==void 0}function Che(e){return e.paths!==void 0}function Ihe(e){return e.rings!==void 0}const BR=[];function iq(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function rq(e,t,i,r,n,s){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:n,zmax:s}}function nq(e,t,i,r,n,s){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:n,mmax:s}}function sq(e,t,i,r,n,s,a,l){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:n,ymax:s,zmax:a,mmax:l}}function HR(e,t=!1,i=!1){return t?i?sq(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):rq(e[0],e[1],e[2],e[3],e[4],e[5]):i?nq(e[0],e[1],e[2],e[3],e[4],e[5]):iq(e[0],e[1],e[2],e[3])}function J7e(e){return e?Mhe(e)?e:Ehe(e)?Ahe(e):Ihe(e)?aq(e):Che(e)?oq(e):The(e)?$he(e):null:null}function $he(e){const{hasZ:t,hasM:i,points:r}=e;return HR(VR(BR,r,t??!1,i??!1),t,i)}function Ahe(e){const{x:t,y:i,z:r,m:n}=e,s=n!=null;return r!=null?s?sq(t,i,r,n,t,i,r,n):rq(t,i,r,t,i,r):s?nq(t,i,n,t,i,n):iq(t,i,t,i)}function aq(e){const{hasZ:t,hasM:i,rings:r}=e,n=yg(BR,r,t??!1,i??!1);return n?HR(n,t,i):null}function oq(e){const{hasZ:t,hasM:i,paths:r}=e,n=yg(BR,r,t??!1,i??!1);return n?HR(n,t,i):null}var Q_;function vN(e){return!Array.isArray(e[0])}function Rhe(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function Phe(e){var s,a;if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??(t=[]),Rhe(t)&&(t=[t]),(a=(s=t[0])==null?void 0:s[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return n??(n=it.WGS84),{...e,hasM:i,hasZ:r,rings:t,spatialReference:n}}let Ea=Q_=class extends Qu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,n=!1;for(const a of t)a.hasZ&&(r=!0),a.hasM&&(n=!0);const s={rings:t.map(a=>{const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(r&&a.hasZ){const u=a.zmin+.5*(a.zmax-a.zmin);for(let d=0;d<l.length;d++)l[d].push(u)}if(n&&a.hasM){const u=a.mmin+.5*(a.mmax-a.mmin);for(let d=0;d<l.length;d++)l[d].push(u)}return l}),spatialReference:i};return r&&(s.hasZ=!0),n&&(s.hasM=!0),new Q_(s)}constructor(e){super(Phe(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=uhe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Qe;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=H(e)}get extent(){const e=aq(this),{spatialReference:t}=this;return e?new Lt({...e,spatialReference:t}):null}get isSelfIntersecting(){return Jce(this.rings)}writeRings(e,t){t.rings=H(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(vN(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Q_;return e.spatialReference=this.spatialReference,e.rings=H(this.rings),e.curveRings=H(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([n,s,a,l],[u,d,m,v])=>n===u&&s===d&&(a==null&&m==null||a===m)&&(l==null&&v==null||l===v);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],a=e.rings[n];if(!Hx(s,a,r))return!1}return!0}contains(e){if(!e)return!1;const t=o5(e,this.spatialReference);return FR(this,t??e)}isClockwise(e){const t=vN(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return HH(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Qe(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Qe(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Qe(i[0],i[1],i[2],i[3],this.spatialReference):new Qe(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(mg(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Qe(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Qe(n,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(mg(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};h([f({readOnly:!0})],Ea.prototype,"cache",null),h([f({readOnly:!0})],Ea.prototype,"centroid",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ea.prototype,"curveRings",void 0),h([Re("curveRings")],Ea.prototype,"writeCurveRings",null),h([f({readOnly:!0})],Ea.prototype,"extent",null),h([f({readOnly:!0})],Ea.prototype,"isSelfIntersecting",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ea.prototype,"rings",void 0),h([Re("rings")],Ea.prototype,"writeRings",null),Ea=Q_=h([O("esri.geometry.Polygon")],Ea);const ra=Ea;Ea.prototype.toJSON.isDefaultToJSON=!0;var JI;function Ohe(e){return!Array.isArray(e[0])}function khe(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function Lhe(e){var s,a;if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??(t=[]),khe(t)&&(t=[t]),(a=(s=t[0])==null?void 0:s[0])==null?void 0:a.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return n??(n=it.WGS84),{...e,hasM:i,hasZ:r,paths:t,spatialReference:n}}let dl=JI=class extends Qu{constructor(e){super(Lhe(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=H(e)}get extent(){const e=oq(this),{spatialReference:t}=this;return e?new Lt({...e,spatialReference:t}):null}writePaths(e,t){t.paths=H(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(Ohe(e)){const r=[];for(let n=0,s=e.length;n<s;n++)r[n]=e[n].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new JI;return e.spatialReference=this.spatialReference,e.paths=H(this.paths),e.curvePaths=H(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new Qe(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Qe(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Qe(i[0],i[1],i[2],i[3],this.spatialReference):new Qe(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(mg(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(n=>new Qe(n,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Qe(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(mg(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};h([f({readOnly:!0})],dl.prototype,"cache",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],dl.prototype,"curvePaths",void 0),h([Re("curvePaths")],dl.prototype,"writeCurvePaths",null),h([f({readOnly:!0})],dl.prototype,"extent",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],dl.prototype,"paths",void 0),h([Re("paths")],dl.prototype,"writePaths",null),dl=JI=h([O("esri.geometry.Polyline")],dl);const $o=dl;dl.prototype.toJSON.isDefaultToJSON=!0;function lq(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function uq(e){return e.points!==void 0}function cq(e){return e.x!==void 0&&e.y!==void 0}function qR(e){return e.paths!==void 0||e.curvePaths!==void 0}function Qp(e){return e.rings!==void 0||e.curveRings!==void 0}function yf(e){return e==null?null:e instanceof Qu?e:cq(e)?Qe.fromJSON(e):qR(e)?$o.fromJSON(e):Qp(e)?ra.fromJSON(e):uq(e)?u5.fromJSON(e):lq(e)?Lt.fromJSON(e):null}function t2(e){return e?cq(e)?"esriGeometryPoint":qR(e)?"esriGeometryPolyline":Qp(e)?"esriGeometryPolygon":lq(e)?"esriGeometryEnvelope":uq(e)?"esriGeometryMultipoint":null:null}const Nhe={esriGeometryPoint:Qe,esriGeometryPolyline:$o,esriGeometryPolygon:ra,esriGeometryEnvelope:Lt,esriGeometryMultipoint:u5,esriGeometryMultiPatch:ra};function Dhe(e){return e&&Nhe[e]||null}const WR=Kr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),X7e=Kr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),i2={base:Qu,key:"type",typeMap:{extent:Lt,multipoint:u5,point:Qe,polyline:$o,polygon:ra}};var XI;let Bc=XI=class extends ue{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new XI({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:PE}}}}})],Bc.prototype,"rotation",void 0),h([Gt("rotation")],Bc.prototype,"castRotation",null),h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:PE}}}}})],Bc.prototype,"scale",void 0),h([f({types:i2,json:{read:yf,write:!0,origins:{"web-scene":{read:yf,write:{overridePolicy:PE}}}}})],Bc.prototype,"targetGeometry",void 0),h([f({type:Fce,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Bc.prototype,"camera",void 0),Bc=XI=h([O("esri.Viewpoint")],Bc);const ys=Bc;function PE(){return{enabled:!this.camera}}let Va=class hq{constructor(){this._emitter=new hq.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){var n;(n=this._listenersMap)==null||n.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,s){var d;let a=(d=this._listenersMap)==null?void 0:d.get(n);if(!a)return!1;const l=this._target||this;let u=!1;for(const m of a.slice()){const v="deref"in m?m.deref():m;v?v==null||v.call(l,s):u=!0}return u&&(a=a.filter(m=>!("deref"in m)||m.deref()!=null),this._listenersMap.set(n,a)),a.length>0}on(n,s){if(Array.isArray(n)){const l=n.map(u=>this.on(u,s));return Wb(l)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const a=this._listenersMap.get(n)||[];return a.push(s),this._listenersMap.set(n,a),jt(()=>{var d;const l=(d=this._listenersMap)==null?void 0:d.get(n),u=(l==null?void 0:l.indexOf(s))??-1;u>=0&&l.splice(u,1)})}once(n,s){const a=this.on(n,l=>{a.remove();const u="deref"in s?s.deref():s;u==null||u.call(null,l)});return a}hasEventListener(n){var a;const s=(a=this._listenersMap)==null?void 0:a.get(n);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let n=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,a){return this._emitter.emit(s,a)}on(s,a){return this._emitter.on(s,a)}once(s,a){return this._emitter.once(s,a)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return n=h([O("esri.core.Evented")],n),n};let i=class extends De{constructor(){super(...arguments),this._emitter=new Va.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,n){return this._emitter.emit(r,n)}on(r,n){return this._emitter.on(r,n)}once(r,n){return this._emitter.once(r,n)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=h([O("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(Va);var Bt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Bt||(Bt={}));function dq(e){return(t,i)=>{t[i]=e}}let r2=class extends MB{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var Ou;let jhe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},Fhe=class{constructor(t,i,r,n,s){this.target=t,this.added=i,this.removed=r,this.start=n,this.deleteCount=s}};const ga=new Mf(jhe,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function bN(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function OE(e){return e?e instanceof $u?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function kE(e){if(e!=null&&e.length)return e[0]}function zhe(e,t,i,r){const n=Math.min(e.length-i,t.length-r);let s=0;for(;s<n&&e[i+s]===t[r+s];)s++;return s}function pq(e,t,i,r){t&&t.forEach((n,s,a)=>{e.push(n),pq(e,i.call(r,n,s,a),i,r)})}const Pc=new Set,Oc=new Set,kc=new Set,LE=new Map;let Uhe=0,$u=Ou=class extends Va.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ou}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new r2,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Uhe++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ou?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Xe(this._observable),this._items}set items(e){this._emitBeforeChanges(Bt.ADD)||(this._splice(0,this.length,OE(e)),this._emitAfterChanges(Bt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return jt();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),jt(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,n=>{var s;(s=i())==null||s.call(null,n),r.remove()});return r}add(e,t){if(Xe(this._observable),this._emitBeforeChanges(Bt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(Bt.ADD),this}addMany(e,t=this._items.length){if(Xe(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(Bt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,OE(e)),this._emitAfterChanges(Bt.ADD),this}at(e){if(Xe(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Xe(this._observable),!this.length||this._emitBeforeChanges(Bt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(Bt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Xe(this._observable),this._createNewInstance({items:this._items.map(H)})}concat(...e){Xe(this._observable);const t=e.map(OE);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Xe(this._observable),!this.length||this._emitBeforeChanges(Bt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)e.call(t,i[n],n,i);this._emitAfterChanges(Bt.REMOVE)}destroyAll(){this.drain(bN)}destroyMany(e){const t=this.removeMany(e);return t.forEach(bN),t}every(e,t){return Xe(this._observable),this._items.every(e,t)}filter(e,t){Xe(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Xe(this._observable),this._items.find(e,t)}findIndex(e,t){return Xe(this._observable),this._items.findIndex(e,t)}flatten(e,t){Xe(this._observable);const i=[];return pq(i,this,e,t),new Ou(i)}forEach(e,t){return Xe(this._observable),this._items.forEach(e,t)}getItemAt(e){return Xe(this._observable),this._items[e]}getNextIndex(e){Xe(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Xe(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Xe(this._observable),this._items.indexOf(e,t)}join(e=","){return Xe(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Xe(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Xe(this._observable);const i=this._items.map(e,t);return new Ou({items:i})}reorder(e,t=this.length-1){Xe(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(Bt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(Bt.MOVE)}return e}}pop(){if(Xe(this._observable),!this.length||this._emitBeforeChanges(Bt.REMOVE))return;const e=kE(this._splice(this.length-1,1));return this._emitAfterChanges(Bt.REMOVE),e}push(...e){return Xe(this._observable),this._emitBeforeChanges(Bt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Bt.ADD)),this.length}reduce(e,t){Xe(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Xe(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Xe(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Xe(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Bt.REMOVE))return;const t=kE(this._splice(e,1));return this._emitAfterChanges(Bt.REMOVE),t}removeMany(e){if(Xe(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(Bt.REMOVE))return[];const t=e instanceof Ou?e.toArray():e,i=this._items,r=[],n=t.length;for(let s=0;s<n;s++){const a=t[s],l=i.indexOf(a);if(l>-1){const u=1+zhe(t,i,s+1,l+1),d=this._splice(l,u);d&&d.length>0&&r.push.apply(r,d),s+=u-1}}return this._emitAfterChanges(Bt.REMOVE),r}reverse(){if(Xe(this._observable),this._emitBeforeChanges(Bt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Bt.MOVE),this}shift(){if(Xe(this._observable),!this.length||this._emitBeforeChanges(Bt.REMOVE))return;const e=kE(this._splice(0,1));return this._emitAfterChanges(Bt.REMOVE),e}slice(e=0,t=this.length){return Xe(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Xe(this._observable),this._items.some(e,t)}sort(e){if(Xe(this._observable),!this.length||this._emitBeforeChanges(Bt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Bt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Xe(this._observable);const r=(t?Bt.REMOVE:0)|(i.length?Bt.ADD:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(e,t,i)||[];return this._emitAfterChanges(r),n}toArray(){return Xe(this._observable),this._items.slice()}toJSON(){return Xe(this._observable),this.toArray()}toLocaleString(){return Xe(this._observable),this._items.toLocaleString()}toString(){return Xe(this._observable),this._items.toString()}unshift(...e){return Xe(this._observable),!e.length||this._emitBeforeChanges(Bt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Bt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,n=this.itemType;let s,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Xb(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(a=r.splice(e,t),this.hasEventListener("before-remove")){const l=ga.acquire();l.target=this,l.cancellable=!0;for(let u=0,d=a.length;u<d;u++)s=a[u],l.reset(s),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(u,1),r.splice(e,0,s),e+=1,u-=1,d-=1);ga.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=ga.acquire();l.target=this,l.cancellable=!1;const u=a.length;for(let d=0;d<u;d++)l.reset(a[d]),this.emit("after-remove",l);ga.release(l)}}if(i!=null&&i.length){if(n){const m=[];for(const v of i){const b=n.ensureType(v);b==null&&v!=null||m.push(b)}i=m}const l=this.hasEventListener("before-add"),u=this.hasEventListener("after-add"),d=e===this.length;if(l||u){const m=ga.acquire();m.target=this,m.cancellable=!0;const v=ga.acquire();v.target=this,v.cancellable=!1;for(const b of i)l?(m.reset(b),this.emit("before-add",m),m.defaultPrevented||(d?r.push(b):r.splice(e++,0,b),this._set("length",r.length),u&&(v.reset(b),this.emit("after-add",v)))):(d?r.push(b):r.splice(e++,0,b),this._set("length",r.length),v.reset(b),this.emit("after-add",v));ga.release(v),ga.release(m)}else{if(d)for(const m of i)r.push(m);else r.splice(e,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||a!=null&&a.length)&&this._notifyChangeEvent(i,a),this.hasEventListener("after-splice")){const l=new Fhe(this,i,a,e,t);this.emit("after-splice",l)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=ga.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,ga.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=ga.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),ga.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Pc.clear(),Oc.clear(),kc.clear();for(const{added:u,removed:d}of i){if(u)if(kc.size===0&&Oc.size===0)for(const m of u)Pc.add(m);else for(const m of u)Oc.has(m)?(kc.add(m),Oc.delete(m)):kc.has(m)||Pc.add(m);if(d)if(kc.size===0&&Pc.size===0)for(const m of d)Oc.add(m);else for(const m of d)Pc.has(m)?Pc.delete(m):(kc.delete(m),Oc.add(m))}const r=Gn.acquire();Pc.forEach(u=>{r.push(u)});const n=Gn.acquire();Oc.forEach(u=>{n.push(u)});const s=this._items,a=t.items,l=Gn.acquire();if(kc.forEach(u=>{a.indexOf(u)!==s.indexOf(u)&&l.push(u)}),t.listeners&&(r.length||n.length||l.length)){const u={target:this,added:r,removed:n,moved:l},d=t.listeners.length;for(let m=0;m<d;m++){const v=t.listeners[m];v.removed||v.callback.call(this,u)}}Gn.release(r),Gn.release(n),Gn.release(l)}Pc.clear(),Oc.clear(),kc.clear()}};$u.ofType=e=>{if(!e)return Ou;if(LE.has(e))return LE.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const n=e.typeMap[r].prototype.declaredClass;t?t+=` | ${n}`:t=n}let i=class extends Ou{};return h([dq({Type:e,ensureType:typeof e=="function"?Gi(e):Bu(e)})],i.prototype,"itemType",void 0),i=h([O(`esri.core.Collection<${t}>`)],i),LE.set(e,i),i},h([f()],$u.prototype,"_updating",void 0),h([f()],$u.prototype,"length",void 0),h([f()],$u.prototype,"items",null),h([f({readOnly:!0})],$u.prototype,"updating",null),$u=Ou=h([O("esri.core.Collection")],$u);const Ce=$u;function iOe(e,t,i){return Vp(e.map((r,n)=>t.apply(i,[r,n])))}async function Ghe(e,t,i){return(await Vp(e.map((r,n)=>t.apply(i,[r,n])))).map(r=>r.value)}function YR(e){return{ok:!0,value:e}}function ZR(e){return{ok:!1,error:e}}function Vhe(e){return e!=null&&e.ok===!0?e.value:null}function Bhe(e){return e!=null&&e.ok===!1?e.error:null}async function KR(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return YR(await e)}catch(t){return ZR(t)}}async function Hhe(e){try{return YR(await e)}catch(t){return Ys(t),ZR(t)}}function n2(e,t){return new Hc(e,t)}let Hc=class extends De{get value(){return Vhe(this._result)}get error(){return Bhe(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Yh(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(n=>{this._result=YR(n),this._cleanup()},n=>{this._result=ZR(n),this._cleanup()}),this._abortHandle=ps(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=$i(this._abortHandle),this._abortController=null}};h([f()],Hc.prototype,"value",null),h([f()],Hc.prototype,"error",null),h([f()],Hc.prototype,"finished",null),h([f()],Hc.prototype,"promise",void 0),h([f()],Hc.prototype,"_result",void 0),Hc=h([O("esri.core.asyncUtils.ReactiveTask")],Hc);function Ge(e,t,i={}){return JR(e,t,i,fq)}function Pn(e,t,i={}){return JR(e,t,i,mq)}function JR(e,t,i={},r){let n=null;const s=i.once?(a,l)=>{r(a)&&($i(n),t(a,l))}:(a,l)=>{r(a)&&t(a,l)};if(n=Ple(e,s,i.sync,i.equals),i.initial){const a=e();s(a,a)}return n}function Tl(e,t,i,r={}){let n=null,s=null,a=null;function l(){var m;n&&s&&(s.remove(),(m=r.onListenerRemove)==null||m.call(r,n),n=null,s=null)}function u(m){r.once&&r.once&&$i(a),i(m)}const d=Ge(e,(m,v)=>{var b;l(),Xx(m)&&(n=m,s=Kb(m,t,u),(b=r.onListenerAdd)==null||b.call(r,m))},{sync:r.sync,initial:!0});return a=jt(()=>{d.remove(),l()}),a}function gg(e,t){return qhe(e,mq,t)}function qhe(e,t,i){if(Rn(i))return Promise.reject(li());const r=e();if(t!=null&&t(r))return Promise.resolve(r);let n=null;function s(){n=$i(n)}return new Promise((a,l)=>{n=Wb([ps(i,()=>{s(),l(li())}),JR(e,u=>{s(),a(u)},{sync:!1,once:!0},t??fq)])})}function fq(e){return!0}function mq(e){return!!e}function Whe(e,t,i={}){let r=!1;const n=Ge(e,(s,a)=>{r||t(s,a)},i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}function Yhe(e,t){const i=new Ce,r=Tl(e,"after-splice",({added:n,start:s,deleteCount:a})=>{const l=i.splice(s,a);for(const u of l)u.remove();if(n!=null&&n.length){const u=n.map(t);i.addMany(u,s)}},{sync:!0,onListenerRemove:()=>i.drain(n=>n.remove()),onListenerAdd:n=>i.addMany(n.items.map(t))});return i.addHandles(r),i}function nOe(e,t){const i=new Ce,r=Yhe(e,l=>n2(async u=>{const d=await t(l,u);if(Rn(u))throw d.remove(),li();return d})),n=()=>null,s=async l=>{const u=await l.promise,d=r.indexOf(l);d<0||i.splice(d,1,u)};i.addMany(r.items.map(n));for(const l of r)og(s(l));const a=r.on("after-splice",({added:l,start:u,deleteCount:d})=>{const m=i.splice(u,d);for(const v of m)v==null||v.remove();if(l!=null&&l.length){i.addMany(l.map(n),u);for(const v of l)og(s(v))}});return i.addHandles([eoe(r),a]),i}const El={sync:!0},ir={initial:!0},cs={sync:!0,initial:!0};let Hm=class extends Ce{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(DB(()=>this._refresh(),El))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let i=0;for(const r of t)r!=null&&(i=this._processCollection(i,r));this.splice(i,this.length)}_createNewInstance(t){return new Ce(t)}_processCollection(t,i){if(!i)return t;const r=this.itemFilterFunction??(n=>!!n);for(const n of i)if(n){if(r(n)){const s=this.indexOf(n,t);s>=0?s!==t&&this.reorder(n,t):this.add(n,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(n);if(Array.isArray(s))for(const a of s)t=this._processCollection(t,a);else t=this._processCollection(t,s)}}return t}};h([f()],Hm.prototype,"getCollections",void 0),h([f()],Hm.prototype,"getChildrenFunction",void 0),h([f()],Hm.prototype,"itemFilterFunction",void 0),Hm=h([O("esri.core.CollectionFlattener")],Hm);const vb=Hm;let q3=class{constructor(t=i=>i.values().next().value){this._peeker=t,this._observable=new r2,this._items=new Set}get length(){return Xe(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return Xe(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const i=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Xe(this._observable),yield*this._items}};const yq=new FinalizationRegistry(e=>{e.close()});function Zhe(e,t){yq.register(e,t,t)}function Khe(e){yq.unregister(e)}function gq(e,t){return new Proxy({},{get:(i,r,n)=>(...s)=>{let a,l;const u=s[s.length-1];return Jhe(u)&&(a=u.signal,l=u.transferList,s.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),s,{transferList:l,signal:a})}})}function Jhe(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const Xhe={statsWorker:()=>ve(()=>import("./statsWorker-B-bXAHFY.js"),__vite__mapDeps([2,3,4,5,6,7])),geometryEngineWorker:()=>ve(()=>import("./geometryEngineWorker-CA-tZxOm.js"),__vite__mapDeps([8,9,10,1,11])),arcadeGeometryOperatorsWorker:()=>ve(()=>import("./operatorsWorker-BtVw53m-.js"),[]),CSVSourceWorker:()=>ve(()=>import("./CSVSourceWorker-Cq5LV784.js"),__vite__mapDeps([12,13,11,14,15,16,17,18,19,20,21,22,23,4,3,5,6,7,24,25,26,27,28,29,30])),EdgeProcessingWorker:()=>ve(()=>import("./EdgeProcessingWorker-1k-q2nvm.js"),__vite__mapDeps([31,32,33,34,35,36,37,38,39,40,41])),ElevationSamplerWorker:()=>ve(()=>import("./ElevationSamplerWorker-DGb6pslZ.js"),__vite__mapDeps([42,28,43,44,45,46,47,48,49,50,51,34,52])),FeatureServiceSnappingSourceWorker:()=>ve(()=>import("./FeatureServiceSnappingSourceWorker-jkTOANcs.js"),__vite__mapDeps([53,15,16,11,17,18,14,19,20,21,22,23,4,3,5,6,7,24,25,26,27,28,29,54,55,56,57,58])),GeoJSONSourceWorker:()=>ve(()=>import("./GeoJSONSourceWorker-DL96FCld.js"),__vite__mapDeps([59,18,14,19,15,16,11,17,20,21,22,23,4,3,5,6,7,24,25,26,27,28,29,60,13,61])),LercWorker:()=>ve(()=>import("./LercWorker-B4ljWRkH.js"),[]),MemorySourceWorker:()=>ve(()=>import("./MemorySourceWorker-B2hqEcij.js"),__vite__mapDeps([62,18,14,19,63,15,16,11,17,20,21,22,23,4,3,5,6,7,24,25,26,27,28,29,61,13])),PBFDecoderWorker:()=>ve(()=>import("./PBFDecoderWorker-QDwsJBz2.js"),__vite__mapDeps([64,65,18,14,19,55,56])),FeaturePipelineWorker:()=>ve(()=>import("./FeaturePipelineWorker-CsauA58j.js"),__vite__mapDeps([66,67,68,69,70,14,71,72,73,16,11,23,18,19,22,4,74,75,76,77,78,79,80,81,82,29,17,20,21,3,5,6,7,24,25,83,84,85,86,57,55,56,58,87,60,13,61,88,89,90])),PointCloudWorker:()=>ve(()=>import("./PointCloudWorker-BFyMFMzP.js"),__vite__mapDeps([91,92,45,93,94,95,96,39,97,46,47,48,98])),RasterWorker:()=>ve(()=>import("./RasterWorker-BRBy82ra.js"),__vite__mapDeps([99,100,101,1,102,103,104])),SceneLayerSnappingSourceWorker:()=>ve(()=>import("./SceneLayerSnappingSourceWorker-CdpGUFfT.js"),__vite__mapDeps([105,106,107,45,98,46,93,108,33,34,35,36,37,38,39,40,41])),SceneLayerWorker:()=>ve(()=>import("./SceneLayerWorker-Coc4p8qe.js"),__vite__mapDeps([109,43,51,110,49,107,45,98,46,93,111,96,39,112,72,113,114,115,116,97,92,47,48])),WFSSourceWorker:()=>ve(()=>import("./WFSSourceWorker-CttqQAgp.js"),__vite__mapDeps([117,18,14,19,15,16,11,17,20,21,22,23,4,3,5,6,7,24,25,26,27,28,29,60,13,61,118,119])),WorkerTileHandler:()=>ve(()=>import("./WorkerTileHandler-Dfkxip32.js"),__vite__mapDeps([120,73,121,56,78,122,80,70])),Lyr3DWorker:()=>ve(()=>import("./Lyr3DWorker-JY30q_9Q.js"),[]),Feature3DPipelineWorker:()=>ve(()=>import("./Feature3DPipelineWorker-L0MD6NKE.js"),__vite__mapDeps([123,17,18,14,19,20,21,22,23,16,11,4,3,5,6,7,24,25,28,57,55,56,58,38,124,125,126,127,115,46,116,114,45,39,128,107,98,93,106,97,92,47,48,129,130,33,34,35,131,40,132,108,133,72,134,135,50,43,110,49,136,94,137,138,139,113,140])),TextureCompressionWorker:()=>ve(()=>import("./TextureCompressionWorker-B3lSvwEh.js"),__vite__mapDeps([141,130]))},vq="worker:port-closed";var Wr;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Wr||(Wr={}));let Qhe=0;function bq(){return Qhe++}function ede(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function bb(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function XR(e,t,i,r){if(t.type===Wr.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Wr.INVOKE&&t.type!==Wr.RESPONSE)return void e.postMessage(t);let n;if(ede(i)?(n=wN(i.transferList),t.data=i.result):(n=wN(r),t.data=i),n){if(J("ff")){for(const s of n)if("byteLength"in s&&s.byteLength>267386880){const a="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Wr.INVOKE:throw a;case Wr.RESPONSE:return void XR(e,{type:Wr.RESPONSE,jobId:t.jobId,error:bb(a)})}}}e.postMessage(t,n)}else e.postMessage(t)}function wb(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function wN(e){if(!(e!=null&&e.length))return null;if(J("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!tde(i));return t.length?t:null}function tde(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function oOe(e){try{return await e}catch(t){const i=(t==null?void 0:t.name)===vq;if(!(Vi(t)||i))throw t;return}}const{CLOSE:_N,ABORT:SN,INVOKE:xN,RESPONSE:Q0,OPEN_PORT:MN,ON:ide}=Wr,rde=2;let nde=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Wr.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Xh=class qm{static connect(t,i){const r=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const s=new qm(r.port1,{channel:r,client:n,schedule:i});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=s),qm.clients.set(s,n),r.port2}static loadWorker(t){const i=Xhe[t];return i?i():Promise.resolve(null)}constructor(t,i,r){this._port=t,this._jobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new nde(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:_N}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=r==null?void 0:r.signal,s=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new z(vq,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const a=bq();return new Promise((l,u)=>{if(Rn(n))return this._processWork(),void u(li());const d=ps(n,()=>{const v=this._outJobs.get(a);v&&(this._outJobs.delete(a),this._processWork(),$i(v.abortHandle),this._post({type:SN,jobId:a}),u(li()))}),m={resolve:l,reject:u,abortHandle:d,debugInfo:t};this._outJobs.set(a,m),this._post({type:xN,jobId:a,methodName:t,abortable:n!=null},i,s)})}createInvokeProxy(t){return gq(this,t)}on(t,i){const r=new MessageChannel;function n(s){i(s.data)}return this._port.postMessage({type:Wr.ON,eventType:t,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),jt(()=>{r.port1.postMessage({type:Wr.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:MN,port:t.port2}),t.port1}_processWork(){var a;if(this._outJobs.size>=rde)return;const t=(a=this._jobQueue)==null?void 0:a.pop();if(!t)return;const{methodName:i,data:r,invokeOptions:n,resolver:s}=t;this.apply(i,r,n).then(l=>s.resolve(l)).catch(l=>s.reject(l))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{$i(t.abortHandle),t.reject(li(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,i){const r=wb(t);if(r)switch(r.type){case Q0:this._onResponseMessage(r);break;case xN:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case SN:this._onAbortMessage(r);break;case _N:this._onCloseMessage();break;case MN:this._onOpenPortMessage(r);break;case ide:this._onOnMessage(r)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);this._invokeQueue.push(t),n&&(n.controller&&n.controller.abort(),i.delete(r))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&qm.clients.get(this)===t&&t.destroy(),qm.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n=[],abortable:s}=t,a=s?new AbortController:null,l=this._inJobs;let u,d=this._client,m=d[i];try{if(!m&&i&&i.includes(".")){const v=i.split(".");for(let b=0;b<v.length-1;b++)d=d[v[b]],m=d[v[b+1]]}if(typeof m!="function")throw new TypeError(`${i} is not a function`);n.push({client:this,signal:a?a.signal:null}),u=m.apply(d,n)}catch(v){return void this._post({type:Q0,jobId:r,error:bb(v)})}Pl(u)?(l.set(r,{controller:a,promise:u}),u.then(v=>{l.has(r)&&(l.delete(r),this._post({type:Q0,jobId:r},v))},v=>{l.has(r)&&(l.delete(r),Vi(v)||this._post({type:Q0,jobId:r,error:bb(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:Q0,jobId:r},u)}_onOpenPortMessage(t){new qm(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,r=this._client.on(t.eventType,s=>{i.postMessage(s)}),n=Kb(t.port,"message",s=>{const a=wb(s);(a==null?void 0:a.type)===Wr.CLOSE&&(n.remove(),r.remove(),i.close())})}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,s=this._outJobs;if(!s.has(i))return;const a=s.get(i);s.delete(i),this._processWork(),$i(a.abortHandle),r?a.reject(z.fromJSON(JSON.parse(r))):a.resolve(n)}_post(t,i,r){return XR(this._port,t,i,r)}};Xh.kernelInfo={buildDate:pH,fullVersion:IR,revision:fH},Xh.clients=new Map;let sde=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new q3}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,i){return new Promise((r,n)=>{let s=!0;const a=l=>{ii(i.signal),s&&(s=!1,l())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let l=0;l<t.length;++l){const u=t[l];Pl(u)?this._clientPromises[l]=u.then(d=>(this._clients[l]=new Xh(d,i,this._ongoingJobsQueue),a(r),this._clients[l]),()=>(a(n),null)):(this._clients[l]=new Xh(u,i,this._ongoingJobsQueue),this._clientPromises[l]=Promise.resolve(this._clients[l]),a(r))}})}broadcast(t,i,r){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const a=this._clientPromises[s];n[s]=a.then(l=>l==null?void 0:l.invoke(t,i,r))}return n}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(li(`Worker closing, aborting job calling '${t.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Khe(this)}invoke(t,i,r){return this.apply(t,[i],r)}apply(t,i,r){const n=Ua();this._ongoingJobsQueue.push({methodName:t,data:i,invokeOptions:r,resolver:n});for(let s=0;s<this._clientPromises.length;s++){const a=this._clients[s];a?a.jobAdded():this._clientPromises[s].then(l=>l==null?void 0:l.jobAdded())}return n.promise}createInvokeProxy(t){return gq(this,t)}on(t,i){return Promise.all(this._clientPromises).then(()=>Wb(this._clients.map(r=>r.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(s=>{s&&(i[n]=s.openPort()),--r==0&&t(i)})})}get test(){}};const ade={async request(e,t){var a,l;const i=e.options,r=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((a=II(e.url))!=null&&a.after)?r:"array-buffer";const n=await Ct(e.url,i),s={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch((l=n.requestOptions)==null?void 0:l.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let Dv;var aV,oV;const ode=((aV=globalThis.esriConfig)==null?void 0:aV.locale)??((oV=globalThis.dojoConfig)==null?void 0:oV.locale);var lV;const jv=(lV=globalThis.document)==null?void 0:lV.documentElement;function wq(){var i;const e=jv==null?void 0:jv.getAttribute("lang"),t=(i=globalThis.navigator)==null?void 0:i.language;return ode??e??t??"en"}function gs(){return Dv===void 0&&(Dv=wq()),Dv}function cOe(e=gs()){const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const eS=[];function QR(e){return eS.push(e),jt(()=>eS.splice(eS.indexOf(e),1))}const tS=[];function e8(e){return tS.push(e),jt(()=>tS.splice(tS.indexOf(e),1))}function TN(){const e=wq();Dv!==e&&([...tS].forEach(t=>t(e)),Dv=e,[...eS].forEach(t=>t(e)))}var uV;(uV=globalThis.addEventListener)==null||uV.call(globalThis,"languagechange",TN),jv&&new MutationObserver(()=>{TN()}).observe(jv,{attributeFilter:["lang"]});const Cl="system",gf="unknown",Qh="UTC",lde=Intl.DateTimeFormat().resolvedOptions().timeZone,EN=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class If extends Error{}class ude extends If{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class cde extends If{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class hde extends If{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Cy extends If{}class _q extends If{constructor(t){super(`Invalid unit ${t}`)}}class Tn extends If{}class Lc extends If{constructor(){super("Zone is an abstract class")}}const Oe="numeric",No="short",ea="long",W3={year:Oe,month:Oe,day:Oe},Sq={year:Oe,month:No,day:Oe},dde={year:Oe,month:No,day:Oe,weekday:No},xq={year:Oe,month:ea,day:Oe},Mq={year:Oe,month:ea,day:Oe,weekday:ea},Tq={hour:Oe,minute:Oe},Eq={hour:Oe,minute:Oe,second:Oe},Cq={hour:Oe,minute:Oe,second:Oe,timeZoneName:No},Iq={hour:Oe,minute:Oe,second:Oe,timeZoneName:ea},$q={hour:Oe,minute:Oe,hourCycle:"h23"},Aq={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23"},Rq={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:No},Pq={hour:Oe,minute:Oe,second:Oe,hourCycle:"h23",timeZoneName:ea},Oq={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe},kq={year:Oe,month:Oe,day:Oe,hour:Oe,minute:Oe,second:Oe},Lq={year:Oe,month:No,day:Oe,hour:Oe,minute:Oe},Nq={year:Oe,month:No,day:Oe,hour:Oe,minute:Oe,second:Oe},pde={year:Oe,month:No,day:Oe,weekday:No,hour:Oe,minute:Oe},Dq={year:Oe,month:ea,day:Oe,hour:Oe,minute:Oe,timeZoneName:No},jq={year:Oe,month:ea,day:Oe,hour:Oe,minute:Oe,second:Oe,timeZoneName:No},Fq={year:Oe,month:ea,day:Oe,weekday:ea,hour:Oe,minute:Oe,timeZoneName:ea},zq={year:Oe,month:ea,day:Oe,weekday:ea,hour:Oe,minute:Oe,second:Oe,timeZoneName:ea};class $f{get type(){throw new Lc}get name(){throw new Lc}get ianaName(){return this.name}get isUniversal(){throw new Lc}offsetName(t,i){throw new Lc}formatOffset(t,i){throw new Lc}offset(t){throw new Lc}equals(t){throw new Lc}get isValid(){throw new Lc}}let NE=null;class h5 extends $f{static get instance(){return NE===null&&(NE=new h5),NE}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Zq(t,i,r)}formatOffset(t,i){return Fv(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let iS={};function fde(e){return iS[e]||(iS[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),iS[e]}const mde={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function yde(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,a,l,u,d,m]=r;return[a,n,s,l,u,d,m]}function gde(e,t){const i=e.formatToParts(t),r=[];for(let n=0;n<i.length;n++){const{type:s,value:a}=i[n],l=mde[s];s==="era"?r[l]=a:mt(l)||(r[l]=parseInt(a,10))}return r}let zw={};class _s extends $f{static create(t){return zw[t]||(zw[t]=new _s(t)),zw[t]}static resetCache(){zw={},iS={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=_s.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Zq(t,i,r,this.name)}formatOffset(t,i){return Fv(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=fde(this.name);let[n,s,a,l,u,d,m]=r.formatToParts?gde(r,i):yde(r,i);l==="BC"&&(n=-Math.abs(n)+1);const b=p5({year:n,month:s,day:a,hour:u===24?0:u,minute:d,second:m,millisecond:0});let _=+i;const S=_%1e3;return _-=S>=0?S:1e3+S,(b-_)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let CN={};function vde(e,t={}){const i=JSON.stringify([e,t]);let r=CN[i];return r||(r=new Intl.ListFormat(e,t),CN[i]=r),r}let QI={};function e$(e,t={}){const i=JSON.stringify([e,t]);let r=QI[i];return r||(r=new Intl.DateTimeFormat(e,t),QI[i]=r),r}let t$={};function bde(e,t={}){const i=JSON.stringify([e,t]);let r=t$[i];return r||(r=new Intl.NumberFormat(e,t),t$[i]=r),r}let i$={};function wde(e,t={}){const{base:i,...r}=t,n=JSON.stringify([e,r]);let s=i$[n];return s||(s=new Intl.RelativeTimeFormat(e,t),i$[n]=s),s}let A1=null;function _de(){return A1||(A1=new Intl.DateTimeFormat().resolvedOptions().locale,A1)}let IN={};function Sde(e){let t=IN[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,IN[e]=t}return t}function xde(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,n;try{r=e$(e).resolvedOptions(),n=e}catch{const u=e.substring(0,i);r=e$(u).resolvedOptions(),n=u}const{numberingSystem:s,calendar:a}=r;return[n,s,a]}}function Mde(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Tde(e){const t=[];for(let i=1;i<=12;i++){const r=We.utc(2009,i,1);t.push(e(r))}return t}function Ede(e){const t=[];for(let i=1;i<=7;i++){const r=We.utc(2016,11,13+i);t.push(e(r))}return t}function Uw(e,t,i,r){const n=e.listingMode();return n==="error"?null:n==="en"?i(t):r(t)}function Cde(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Ide{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:s,...a}=r;if(!i||Object.keys(a).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=bde(t,l)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):s8(t,3);return gr(i,this.padTo)}}}class $de{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&_s.create(l).valid?(n=l,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=e$(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ade{constructor(t,i,r){this.opts={style:"long",...r},!i&&Wq()&&(this.rtf=wde(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):Qde(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const Rde={firstDay:1,minimalDays:4,weekend:[6,7]};class Jt{static fromOpts(t){return Jt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,n,s=!1){const a=t||tr.defaultLocale,l=a||(s?"en-US":_de()),u=i||tr.defaultNumberingSystem,d=r||tr.defaultOutputCalendar,m=r$(n)||tr.defaultWeekSettings;return new Jt(l,u,d,m,a)}static resetCache(){A1=null,QI={},t$={},i$={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return Jt.create(t,i,r,n)}constructor(t,i,r,n,s){const[a,l,u]=xde(t);this.locale=a,this.numberingSystem=i||l||null,this.outputCalendar=r||u||null,this.weekSettings=n,this.intl=Mde(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Cde(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Jt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,r$(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return Uw(this,t,Xq,()=>{const r=i?{month:t,day:"numeric"}:{month:t},n=i?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=Tde(s=>this.extract(s,r,"month"))),this.monthsCache[n][t]})}weekdays(t,i=!1){return Uw(this,t,tW,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=i?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=Ede(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return Uw(this,void 0,()=>iW,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[We.utc(2016,11,13,9),We.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Uw(this,t,rW,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[We.utc(-40,1,1),We.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const n=this.dtFormatter(t,i),s=n.formatToParts(),a=s.find(l=>l.type.toLowerCase()===r);return a?a.value:null}numberFormatter(t={}){return new Ide(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new $de(t,this.intl,i)}relFormatter(t={}){return new Ade(this.intl,this.isEnglish(),t)}listFormatter(t={}){return vde(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Yq()?Sde(this.locale):Rde}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let DE=null;class Yr extends $f{static get utcInstance(){return DE===null&&(DE=new Yr(0)),DE}static instance(t){return t===0?Yr.utcInstance:new Yr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Yr(f5(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Fv(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Fv(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Fv(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Pde extends $f{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function $h(e,t){if(mt(e)||e===null)return t;if(e instanceof $f)return e;if(jde(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?h5.instance:i==="utc"||i==="gmt"?Yr.utcInstance:Yr.parseSpecifier(i)||_s.create(e)}else return Uh(e)?Yr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Pde(e)}const t8={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},$N={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ode=t8.hanidec.replace(/[\[|\]]/g,"").split("");function kde(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(t8.hanidec)!==-1)t+=Ode.indexOf(e[i]);else for(const n in $N){const[s,a]=$N[n];r>=s&&r<=a&&(t+=r-s)}}return parseInt(t,10)}else return t}let Wm={};function Lde(){Wm={}}function ro({numberingSystem:e},t=""){const i=e||"latn";return Wm[i]||(Wm[i]={}),Wm[i][t]||(Wm[i][t]=new RegExp(`${t8[i]}${t}`)),Wm[i][t]}let AN=()=>Date.now(),RN="system",PN=null,ON=null,kN=null,LN=60,NN,DN=null;class tr{static get now(){return AN}static set now(t){AN=t}static set defaultZone(t){RN=t}static get defaultZone(){return $h(RN,h5.instance)}static get defaultLocale(){return PN}static set defaultLocale(t){PN=t}static get defaultNumberingSystem(){return ON}static set defaultNumberingSystem(t){ON=t}static get defaultOutputCalendar(){return kN}static set defaultOutputCalendar(t){kN=t}static get defaultWeekSettings(){return DN}static set defaultWeekSettings(t){DN=r$(t)}static get twoDigitCutoffYear(){return LN}static set twoDigitCutoffYear(t){LN=t%100}static get throwOnInvalid(){return NN}static set throwOnInvalid(t){NN=t}static resetCaches(){Jt.resetCache(),_s.resetCache(),We.resetCache(),Lde()}}class Ao{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Uq=[0,31,59,90,120,151,181,212,243,273,304,334],Gq=[0,31,60,91,121,152,182,213,244,274,305,335];function Na(e,t){return new Ao("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function i8(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function Vq(e,t,i){return i+(s2(e)?Gq:Uq)[t-1]}function Bq(e,t){const i=s2(e)?Gq:Uq,r=i.findIndex(s=>s<t),n=t-i[r];return{month:r+1,day:n}}function r8(e,t){return(e-t+7)%7+1}function Y3(e,t=4,i=1){const{year:r,month:n,day:s}=e,a=Vq(r,n,s),l=r8(i8(r,n,s),i);let u=Math.floor((a-l+14-t)/7),d;return u<1?(d=r-1,u=_b(d,t,i)):u>_b(r,t,i)?(d=r+1,u=1):d=r,{weekYear:d,weekNumber:u,weekday:l,...m5(e)}}function jN(e,t=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=e,a=r8(i8(r,1,t),i),l=zy(r);let u=n*7+s-a-7+t,d;u<1?(d=r-1,u+=zy(d)):u>l?(d=r+1,u-=zy(r)):d=r;const{month:m,day:v}=Bq(d,u);return{year:d,month:m,day:v,...m5(e)}}function jE(e){const{year:t,month:i,day:r}=e,n=Vq(t,i,r);return{year:t,ordinal:n,...m5(e)}}function FN(e){const{year:t,ordinal:i}=e,{month:r,day:n}=Bq(t,i);return{year:t,month:r,day:n,...m5(e)}}function zN(e,t){if(!mt(e.localWeekday)||!mt(e.localWeekNumber)||!mt(e.localWeekYear)){if(!mt(e.weekday)||!mt(e.weekNumber)||!mt(e.weekYear))throw new Cy("Cannot mix locale-based week fields with ISO-based week fields");return mt(e.localWeekday)||(e.weekday=e.localWeekday),mt(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),mt(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Nde(e,t=4,i=1){const r=d5(e.weekYear),n=Da(e.weekNumber,1,_b(e.weekYear,t,i)),s=Da(e.weekday,1,7);return r?n?s?!1:Na("weekday",e.weekday):Na("week",e.weekNumber):Na("weekYear",e.weekYear)}function Dde(e){const t=d5(e.year),i=Da(e.ordinal,1,zy(e.year));return t?i?!1:Na("ordinal",e.ordinal):Na("year",e.year)}function Hq(e){const t=d5(e.year),i=Da(e.month,1,12),r=Da(e.day,1,Z3(e.year,e.month));return t?i?r?!1:Na("day",e.day):Na("month",e.month):Na("year",e.year)}function qq(e){const{hour:t,minute:i,second:r,millisecond:n}=e,s=Da(t,0,23)||t===24&&i===0&&r===0&&n===0,a=Da(i,0,59),l=Da(r,0,59),u=Da(n,0,999);return s?a?l?u?!1:Na("millisecond",n):Na("second",r):Na("minute",i):Na("hour",t)}function mt(e){return typeof e>"u"}function Uh(e){return typeof e=="number"}function d5(e){return typeof e=="number"&&e%1===0}function jde(e){return typeof e=="string"}function Fde(e){return Object.prototype.toString.call(e)==="[object Date]"}function Wq(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Yq(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function zde(e){return Array.isArray(e)?e:[e]}function UN(e,t,i){if(e.length!==0)return e.reduce((r,n)=>{const s=[t(n),n];return r&&i(r[0],s[0])===r[0]?r:s},null)[1]}function Ude(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function vg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r$(e){if(e==null)return null;if(typeof e!="object")throw new Tn("Week settings must be an object");if(!Da(e.firstDay,1,7)||!Da(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Da(t,1,7)))throw new Tn("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Da(e,t,i){return d5(e)&&e>=t&&e<=i}function Gde(e,t){return e-t*Math.floor(e/t)}function gr(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function wh(e){if(!(mt(e)||e===null||e===""))return parseInt(e,10)}function Od(e){if(!(mt(e)||e===null||e===""))return parseFloat(e)}function n8(e){if(!(mt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function s8(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function s2(e){return e%4===0&&(e%100!==0||e%400===0)}function zy(e){return s2(e)?366:365}function Z3(e,t){const i=Gde(t-1,12)+1,r=e+(t-i)/12;return i===2?s2(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function p5(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function GN(e,t,i){return-r8(i8(e,1,t),i)+t-1}function _b(e,t=4,i=1){const r=GN(e,t,i),n=GN(e+1,t,i);return(zy(e)-r+n)/7}function n$(e){return e>99?e:e>tr.twoDigitCutoffYear?1900+e:2e3+e}function Zq(e,t,i,r=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:t,...s},l=new Intl.DateTimeFormat(i,a).formatToParts(n).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function f5(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function Kq(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Tn(`Invalid unit value ${e}`);return t}function K3(e,t){const i={};for(const r in e)if(vg(e,r)){const n=e[r];if(n==null)continue;i[t(r)]=Kq(n)}return i}function Fv(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${gr(i,2)}:${gr(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${gr(i,2)}${gr(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function m5(e){return Ude(e,["hour","minute","second","millisecond"])}const Vde=["January","February","March","April","May","June","July","August","September","October","November","December"],Jq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bde=["J","F","M","A","M","J","J","A","S","O","N","D"];function Xq(e){switch(e){case"narrow":return[...Bde];case"short":return[...Jq];case"long":return[...Vde];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Qq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],eW=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hde=["M","T","W","T","F","S","S"];function tW(e){switch(e){case"narrow":return[...Hde];case"short":return[...eW];case"long":return[...Qq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const iW=["AM","PM"],qde=["Before Christ","Anno Domini"],Wde=["BC","AD"],Yde=["B","A"];function rW(e){switch(e){case"narrow":return[...Yde];case"short":return[...Wde];case"long":return[...qde];default:return null}}function Zde(e){return iW[e.hour<12?0:1]}function Kde(e,t){return tW(t)[e.weekday-1]}function Jde(e,t){return Xq(t)[e.month-1]}function Xde(e,t){return rW(t)[e.year<0?0:1]}function Qde(e,t,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&s){const v=e==="days";switch(t){case 1:return v?"tomorrow":`next ${n[e][0]}`;case-1:return v?"yesterday":`last ${n[e][0]}`;case 0:return v?"today":`this ${n[e][0]}`}}const a=Object.is(t,-0)||t<0,l=Math.abs(t),u=l===1,d=n[e],m=r?u?d[1]:d[2]||d[1]:u?n[e][0]:e;return a?`${l} ${m} ago`:`in ${l} ${m}`}function VN(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const epe={D:W3,DD:Sq,DDD:xq,DDDD:Mq,t:Tq,tt:Eq,ttt:Cq,tttt:Iq,T:$q,TT:Aq,TTT:Rq,TTTT:Pq,f:Oq,ff:Lq,fff:Dq,ffff:Fq,F:kq,FF:Nq,FFF:jq,FFFF:zq};class In{static create(t,i={}){return new In(t,i)}static parseFormat(t){let i=null,r="",n=!1;const s=[];for(let a=0;a<t.length;a++){const l=t.charAt(a);l==="'"?(r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),i=null,r="",n=!n):n||l===i?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,i=l)}return r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(t){return epe[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return gr(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(_,S)=>this.loc.extract(t,_,S),a=_=>t.isOffsetFixed&&t.offset===0&&_.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,_.format):"",l=()=>r?Zde(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(_,S)=>r?Jde(t,_):s(S?{month:_}:{month:_,day:"numeric"},"month"),d=(_,S)=>r?Kde(t,_):s(S?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday"),m=_=>{const S=In.macroTokenToFormatOpts(_);return S?this.formatWithSystemDefault(t,S):_},v=_=>r?Xde(t,_):s({era:_},"era"),b=_=>{switch(_){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return m(_)}};return VN(In.parseFormat(i),b)}formatDurationFromString(t,i){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=u=>d=>{const m=r(d);return m?this.num(u.get(m),d.length):d},s=In.parseFormat(i),a=s.reduce((u,{literal:d,val:m})=>d?u:u.concat(m),[]),l=t.shiftTo(...a.map(r).filter(u=>u));return VN(s,n(l))}}const nW=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function jg(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Fg(...e){return t=>e.reduce(([i,r,n],s)=>{const[a,l,u]=s(t,n);return[{...i,...a},l||r,u]},[{},null,1]).slice(0,2)}function zg(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const n=i.exec(e);if(n)return r(n)}return[null,null]}function sW(...e){return(t,i)=>{const r={};let n;for(n=0;n<e.length;n++)r[e[n]]=wh(t[i+n]);return[r,null,i+n]}}const aW=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tpe=`(?:${aW.source}?(?:\\[(${nW.source})\\])?)?`,a8=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,oW=RegExp(`${a8.source}${tpe}`),o8=RegExp(`(?:T${oW.source})?`),ipe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,rpe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,npe=/(\d{4})-?(\d{3})/,spe=sW("weekYear","weekNumber","weekDay"),ape=sW("year","ordinal"),ope=/(\d{4})-(\d\d)-(\d\d)/,lW=RegExp(`${a8.source} ?(?:${aW.source}|(${nW.source}))?`),lpe=RegExp(`(?: ${lW.source})?`);function Uy(e,t,i){const r=e[t];return mt(r)?i:wh(r)}function upe(e,t){return[{year:Uy(e,t),month:Uy(e,t+1,1),day:Uy(e,t+2,1)},null,t+3]}function Ug(e,t){return[{hours:Uy(e,t,0),minutes:Uy(e,t+1,0),seconds:Uy(e,t+2,0),milliseconds:n8(e[t+3])},null,t+4]}function a2(e,t){const i=!e[t]&&!e[t+1],r=f5(e[t+1],e[t+2]),n=i?null:Yr.instance(r);return[{},n,t+3]}function o2(e,t){const i=e[t]?_s.create(e[t]):null;return[{},i,t+1]}const cpe=RegExp(`^T?${a8.source}$`),hpe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function dpe(e){const[t,i,r,n,s,a,l,u,d]=e,m=t[0]==="-",v=u&&u[0]==="-",b=(_,S=!1)=>_!==void 0&&(S||_&&m)?-_:_;return[{years:b(Od(i)),months:b(Od(r)),weeks:b(Od(n)),days:b(Od(s)),hours:b(Od(a)),minutes:b(Od(l)),seconds:b(Od(u),u==="-0"),milliseconds:b(n8(d),v)}]}const ppe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function l8(e,t,i,r,n,s,a){const l={year:t.length===2?n$(wh(t)):wh(t),month:Jq.indexOf(i)+1,day:wh(r),hour:wh(n),minute:wh(s)};return a&&(l.second=wh(a)),e&&(l.weekday=e.length>3?Qq.indexOf(e)+1:eW.indexOf(e)+1),l}const fpe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function mpe(e){const[,t,i,r,n,s,a,l,u,d,m,v]=e,b=l8(t,n,r,i,s,a,l);let _;return u?_=ppe[u]:d?_=0:_=f5(m,v),[b,new Yr(_)]}function ype(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const gpe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,vpe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,bpe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function BN(e){const[,t,i,r,n,s,a,l]=e;return[l8(t,n,r,i,s,a,l),Yr.utcInstance]}function wpe(e){const[,t,i,r,n,s,a,l]=e;return[l8(t,l,i,r,n,s,a),Yr.utcInstance]}const _pe=jg(ipe,o8),Spe=jg(rpe,o8),xpe=jg(npe,o8),Mpe=jg(oW),uW=Fg(upe,Ug,a2,o2),Tpe=Fg(spe,Ug,a2,o2),Epe=Fg(ape,Ug,a2,o2),Cpe=Fg(Ug,a2,o2);function Ipe(e){return zg(e,[_pe,uW],[Spe,Tpe],[xpe,Epe],[Mpe,Cpe])}function $pe(e){return zg(ype(e),[fpe,mpe])}function Ape(e){return zg(e,[gpe,BN],[vpe,BN],[bpe,wpe])}function Rpe(e){return zg(e,[hpe,dpe])}const Ppe=Fg(Ug);function Ope(e){return zg(e,[cpe,Ppe])}const kpe=jg(ope,lpe),Lpe=jg(lW),Npe=Fg(Ug,a2,o2);function Dpe(e){return zg(e,[kpe,uW],[Lpe,Npe])}const HN="Invalid Duration",cW={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},jpe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...cW},va=146097/400,xm=146097/4800,Fpe={years:{quarters:4,months:12,weeks:va/7,days:va,hours:va*24,minutes:va*24*60,seconds:va*24*60*60,milliseconds:va*24*60*60*1e3},quarters:{months:3,weeks:va/28,days:va/4,hours:va*24/4,minutes:va*24*60/4,seconds:va*24*60*60/4,milliseconds:va*24*60*60*1e3/4},months:{weeks:xm/7,days:xm,hours:xm*24,minutes:xm*24*60,seconds:xm*24*60*60,milliseconds:xm*24*60*60*1e3},...cW},Bp=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],zpe=Bp.slice(0).reverse();function Nc(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Ut(r)}function hW(e,t){let i=t.milliseconds??0;for(const r of zpe.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function qN(e,t){const i=hW(e,t)<0?-1:1;Bp.reduceRight((r,n)=>{if(mt(t[n]))return r;if(r){const s=t[r]*i,a=e[n][r],l=Math.floor(s/a);t[n]+=l*i,t[r]-=l*a*i}return n},null),Bp.reduce((r,n)=>{if(mt(t[n]))return r;if(r){const s=t[r]%1;t[r]-=s,t[n]+=s*e[r][n]}return n},null)}function Upe(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class Ut{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?Fpe:jpe;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Jt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return Ut.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Tn(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Ut({values:K3(t,Ut.normalizeUnit),loc:Jt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(Uh(t))return Ut.fromMillis(t);if(Ut.isDuration(t))return t;if(typeof t=="object")return Ut.fromObject(t);throw new Tn(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=Rpe(t);return r?Ut.fromObject(r,i):Ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=Ope(t);return r?Ut.fromObject(r,i):Ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Tn("need to specify a reason the Duration is invalid");const r=t instanceof Ao?t:new Ao(t,i);if(tr.throwOnInvalid)throw new hde(r);return new Ut({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new _q(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?In.create(this.loc,r).formatDurationFromString(this,t):HN}toHuman(t={}){if(!this.isValid)return HN;const i=Bp.map(r=>{const n=this.values[r];return mt(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(n)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=s8(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},We.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?hW(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=Ut.fromDurationLike(t),r={};for(const n of Bp)(vg(i.values,n)||vg(this.values,n))&&(r[n]=i.get(n)+this.get(n));return Nc(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=Ut.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=Kq(t(this.values[r],r));return Nc(this,{values:i},!0)}get(t){return this[Ut.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...K3(t,Ut.normalizeUnit)};return Nc(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:n,conversionAccuracy:r};return Nc(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return qN(this.matrix,t),Nc(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Upe(this.normalize().shiftToAll().toObject());return Nc(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>Ut.normalizeUnit(a));const i={},r={},n=this.toObject();let s;for(const a of Bp)if(t.indexOf(a)>=0){s=a;let l=0;for(const d in r)l+=this.matrix[d][a]*r[d],r[d]=0;Uh(n[a])&&(l+=n[a]);const u=Math.trunc(l);i[a]=u,r[a]=(l*1e3-u*1e3)/1e3}else Uh(n[a])&&(r[a]=n[a]);for(const a in r)r[a]!==0&&(i[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return qN(this.matrix,i),Nc(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Nc(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of Bp)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Mm="Invalid Interval";function Gpe(e,t){return!e||!e.isValid?Xi.invalid("missing or invalid start"):!t||!t.isValid?Xi.invalid("missing or invalid end"):t<e?Xi.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Xi{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Tn("need to specify a reason the Interval is invalid");const r=t instanceof Ao?t:new Ao(t,i);if(tr.throwOnInvalid)throw new cde(r);return new Xi({invalid:r})}static fromDateTimes(t,i){const r=e1(t),n=e1(i),s=Gpe(r,n);return s??new Xi({start:r,end:n})}static after(t,i){const r=Ut.fromDurationLike(i),n=e1(t);return Xi.fromDateTimes(n,n.plus(r))}static before(t,i){const r=Ut.fromDurationLike(i),n=e1(t);return Xi.fromDateTimes(n.minus(r),n)}static fromISO(t,i){const[r,n]=(t||"").split("/",2);if(r&&n){let s,a;try{s=We.fromISO(r,i),a=s.isValid}catch{a=!1}let l,u;try{l=We.fromISO(n,i),u=l.isValid}catch{u=!1}if(a&&u)return Xi.fromDateTimes(s,l);if(a){const d=Ut.fromISO(n,i);if(d.isValid)return Xi.after(s,d)}else if(u){const d=Ut.fromISO(r,i);if(d.isValid)return Xi.before(l,d)}}return Xi.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let n;return i!=null&&i.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(t,i),Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?Xi.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(e1).filter(a=>this.contains(a)).sort((a,l)=>a.toMillis()-l.toMillis()),r=[];let{s:n}=this,s=0;for(;n<this.e;){const a=i[s]||this.e,l=+a>+this.e?this.e:a;r.push(Xi.fromDateTimes(n,l)),n=l,s+=1}return r}splitBy(t){const i=Ut.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,s;const a=[];for(;r<this.e;){const l=this.start.plus(i.mapUnits(u=>u*n));s=+l>+this.e?this.e:l,a.push(Xi.fromDateTimes(r,s)),r=s,n+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:Xi.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Xi.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[n,s.union(a)]:[n.concat([s]),a]:[n,a],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const n=[],s=t.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...s),l=a.sort((u,d)=>u.time-d.time);for(const u of l)r+=u.type==="s"?1:-1,r===1?i=u.time:(i&&+i!=+u.time&&n.push(Xi.fromDateTimes(i,u.time)),i=null);return Xi.merge(n)}difference(...t){return Xi.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Mm}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=W3,i={}){return this.isValid?In.create(this.s.loc.clone(i),t).formatInterval(this):Mm}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Mm}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Mm}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Mm}toFormat(t,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Mm}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):Ut.invalid(this.invalidReason)}mapEndpoints(t){return Xi.fromDateTimes(t(this.s),t(this.e))}}class Gw{static hasDST(t=tr.defaultZone){const i=We.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return _s.isValidZone(t)}static normalizeZone(t){return $h(t,tr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||Jt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||Jt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||Jt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Jt.create(i,r,s)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Jt.create(i,r,s)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||Jt.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||Jt.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Jt.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Jt.create(i,null,"gregory").eras(t)}static features(){return{relative:Wq(),localeWeek:Yq()}}}function WN(e,t){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(Ut.fromMillis(r).as("days"))}function Vpe(e,t,i){const r=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+(d.year-u.year)*4],["months",(u,d)=>d.month-u.month+(d.year-u.year)*12],["weeks",(u,d)=>{const m=WN(u,d);return(m-m%7)/7}],["days",WN]],n={},s=e;let a,l;for(const[u,d]of r)i.indexOf(u)>=0&&(a=u,n[u]=d(e,t),l=s.plus(n),l>t?(n[u]--,e=s.plus(n),e>t&&(l=e,n[u]--,e=s.plus(n))):e=l);return[e,n,l,a]}function Bpe(e,t,i,r){let[n,s,a,l]=Vpe(e,t,i);const u=t-n,d=i.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);d.length===0&&(a<t&&(a=n.plus({[l]:1})),a!==n&&(s[l]=(s[l]||0)+u/(a-n)));const m=Ut.fromObject(s,r);return d.length>0?Ut.fromMillis(u,r).shiftTo(...d).plus(m):m}const Hpe="missing Intl.DateTimeFormat.formatToParts support";function Wt(e,t=i=>i){return{regex:e,deser:([i])=>t(kde(i))}}const qpe="",dW=`[ ${qpe}]`,pW=new RegExp(dW,"g");function Wpe(e){return e.replace(/\./g,"\\.?").replace(pW,dW)}function YN(e){return e.replace(/\./g,"").replace(pW," ").toLowerCase()}function no(e,t){return e===null?null:{regex:RegExp(e.map(Wpe).join("|")),deser:([i])=>e.findIndex(r=>YN(i)===YN(r))+t}}function ZN(e,t){return{regex:e,deser:([,i,r])=>f5(i,r),groups:t}}function Vw(e){return{regex:e,deser:([t])=>t}}function Ype(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Zpe(e,t){const i=ro(t),r=ro(t,"{2}"),n=ro(t,"{3}"),s=ro(t,"{4}"),a=ro(t,"{6}"),l=ro(t,"{1,2}"),u=ro(t,"{1,3}"),d=ro(t,"{1,6}"),m=ro(t,"{1,9}"),v=ro(t,"{2,4}"),b=ro(t,"{4,6}"),_=T=>({regex:RegExp(Ype(T.val)),deser:([E])=>E,literal:!0}),M=(T=>{if(e.literal)return _(T);switch(T.val){case"G":return no(t.eras("short"),0);case"GG":return no(t.eras("long"),0);case"y":return Wt(d);case"yy":return Wt(v,n$);case"yyyy":return Wt(s);case"yyyyy":return Wt(b);case"yyyyyy":return Wt(a);case"M":return Wt(l);case"MM":return Wt(r);case"MMM":return no(t.months("short",!0),1);case"MMMM":return no(t.months("long",!0),1);case"L":return Wt(l);case"LL":return Wt(r);case"LLL":return no(t.months("short",!1),1);case"LLLL":return no(t.months("long",!1),1);case"d":return Wt(l);case"dd":return Wt(r);case"o":return Wt(u);case"ooo":return Wt(n);case"HH":return Wt(r);case"H":return Wt(l);case"hh":return Wt(r);case"h":return Wt(l);case"mm":return Wt(r);case"m":return Wt(l);case"q":return Wt(l);case"qq":return Wt(r);case"s":return Wt(l);case"ss":return Wt(r);case"S":return Wt(u);case"SSS":return Wt(n);case"u":return Vw(m);case"uu":return Vw(l);case"uuu":return Wt(i);case"a":return no(t.meridiems(),0);case"kkkk":return Wt(s);case"kk":return Wt(v,n$);case"W":return Wt(l);case"WW":return Wt(r);case"E":case"c":return Wt(i);case"EEE":return no(t.weekdays("short",!1),1);case"EEEE":return no(t.weekdays("long",!1),1);case"ccc":return no(t.weekdays("short",!0),1);case"cccc":return no(t.weekdays("long",!0),1);case"Z":case"ZZ":return ZN(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return ZN(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return Vw(/[a-z_+-/]{1,256}?/i);case" ":return Vw(/[^\S\n\r]/);default:return _(T)}})(e)||{invalidReason:Hpe};return M.token=e,M}const Kpe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Jpe(e,t,i){const{type:r,value:n}=e;if(r==="literal"){const u=/^\s+$/.test(n);return{literal:!u,val:u?" ":n}}const s=t[r];let a=r;r==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=i.hour12?"hour12":"hour24");let l=Kpe[a];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function Xpe(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function Qpe(e,t,i){const r=e.match(t);if(r){const n={};let s=1;for(const a in i)if(vg(i,a)){const l=i[a],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(n[l.token.val[0]]=l.deser(r.slice(s,s+u))),s+=u}return[r,n]}else return[r,{}]}function efe(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return mt(e.z)||(i=_s.create(e.z)),mt(e.Z)||(i||(i=new Yr(e.Z)),r=e.Z),mt(e.q)||(e.M=(e.q-1)*3+1),mt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),mt(e.u)||(e.S=n8(e.u)),[Object.keys(e).reduce((s,a)=>{const l=t(a);return l&&(s[l]=e[a]),s},{}),i,r]}let FE=null;function tfe(){return FE||(FE=We.fromMillis(1555555555555)),FE}function ife(e,t){if(e.literal)return e;const i=In.macroTokenToFormatOpts(e.val),r=gW(i,t);return r==null||r.includes(void 0)?e:r}function fW(e,t){return Array.prototype.concat(...e.map(i=>ife(i,t)))}class mW{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=fW(In.parseFormat(i),t),this.units=this.tokens.map(r=>Zpe(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=Xpe(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(t){if(this.isValid){const[i,r]=Qpe(t,this.regex,this.handlers),[n,s,a]=r?efe(r):[null,null,void 0];if(vg(r,"a")&&vg(r,"H"))throw new Cy("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:n,zone:s,specificOffset:a}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function yW(e,t,i){return new mW(e,i).explainFromTokens(t)}function rfe(e,t,i){const{result:r,zone:n,specificOffset:s,invalidReason:a}=yW(e,t,i);return[r,n,s,a]}function gW(e,t){if(!e)return null;const r=In.create(t,e).dtFormatter(tfe()),n=r.formatToParts(),s=r.resolvedOptions();return n.map(a=>Jpe(a,e,s))}const zE="Invalid DateTime",nfe=864e13;function R1(e){return new Ao("unsupported zone",`the zone "${e.name}" is not supported`)}function UE(e){return e.weekData===null&&(e.weekData=Y3(e.c)),e.weekData}function GE(e){return e.localWeekData===null&&(e.localWeekData=Y3(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function kd(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new We({...i,...t,old:i})}function vW(e,t,i){let r=e-t*60*1e3;const n=i.offset(r);if(t===n)return[r,t];r-=(n-t)*60*1e3;const s=i.offset(r);return n===s?[r,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function Bw(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function rS(e,t,i){return vW(p5(e),t,i)}function KN(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:r,month:n,day:Math.min(e.c.day,Z3(r,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=Ut.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=p5(s);let[u,d]=vW(l,i,e.zone);return a!==0&&(u+=a,d=e.zone.offset(u)),{ts:u,o:d}}function Tm(e,t,i,r,n,s){const{setZone:a,zone:l}=i;if(e&&Object.keys(e).length!==0||t){const u=t||l,d=We.fromObject(e,{...i,zone:u,specificOffset:s});return a?d:d.setZone(l)}else return We.invalid(new Ao("unparsable",`the input "${n}" can't be parsed as ${r}`))}function Hw(e,t,i=!0){return e.isValid?In.create(Jt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function VE(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=gr(e.c.year,i?6:4),t?(r+="-",r+=gr(e.c.month),r+="-",r+=gr(e.c.day)):(r+=gr(e.c.month),r+=gr(e.c.day)),r}function JN(e,t,i,r,n,s){let a=gr(e.c.hour);return t?(a+=":",a+=gr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(a+=":")):a+=gr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(a+=gr(e.c.second),(e.c.millisecond!==0||!r)&&(a+=".",a+=gr(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!s?a+="Z":e.o<0?(a+="-",a+=gr(Math.trunc(-e.o/60)),a+=":",a+=gr(Math.trunc(-e.o%60))):(a+="+",a+=gr(Math.trunc(e.o/60)),a+=":",a+=gr(Math.trunc(e.o%60)))),s&&(a+="["+e.zone.ianaName+"]"),a}const bW={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},sfe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},afe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},wW=["year","month","day","hour","minute","second","millisecond"],ofe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lfe=["year","ordinal","hour","minute","second","millisecond"];function ufe(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new _q(e);return t}function XN(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return ufe(e)}}function cfe(e){return sS[e]||(nS===void 0&&(nS=tr.now()),sS[e]=e.offset(nS)),sS[e]}function QN(e,t){const i=$h(t.zone,tr.defaultZone);if(!i.isValid)return We.invalid(R1(i));const r=Jt.fromObject(t);let n,s;if(mt(e.year))n=tr.now();else{for(const u of wW)mt(e[u])&&(e[u]=bW[u]);const a=Hq(e)||qq(e);if(a)return We.invalid(a);const l=cfe(i);[n,s]=rS(e,l,i)}return new We({ts:n,zone:i,loc:r,o:s})}function eD(e,t,i){const r=mt(i.round)?!0:i.round,n=(a,l)=>(a=s8(a,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(a,l)),s=a=>i.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(i.unit)return n(s(i.unit),i.unit);for(const a of i.units){const l=s(a);if(Math.abs(l)>=1)return n(l,a)}return n(e>t?-0:0,i.units[i.units.length-1])}function tD(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let nS,sS={};class We{constructor(t){const i=t.zone||tr.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new Ao("invalid input"):null)||(i.isValid?null:R1(i));this.ts=mt(t.ts)?tr.now():t.ts;let n=null,s=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[n,s]=[t.old.c,t.old.o];else{const l=Uh(t.o)&&!t.old?t.o:i.offset(this.ts);n=Bw(this.ts,l),r=Number.isNaN(n.year)?new Ao("invalid input"):null,n=r?null:n,s=r?null:l}this._zone=i,this.loc=t.loc||Jt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new We({})}static local(){const[t,i]=tD(arguments),[r,n,s,a,l,u,d]=i;return QN({year:r,month:n,day:s,hour:a,minute:l,second:u,millisecond:d},t)}static utc(){const[t,i]=tD(arguments),[r,n,s,a,l,u,d]=i;return t.zone=Yr.utcInstance,QN({year:r,month:n,day:s,hour:a,minute:l,second:u,millisecond:d},t)}static fromJSDate(t,i={}){const r=Fde(t)?t.valueOf():NaN;if(Number.isNaN(r))return We.invalid("invalid input");const n=$h(i.zone,tr.defaultZone);return n.isValid?new We({ts:r,zone:n,loc:Jt.fromObject(i)}):We.invalid(R1(n))}static fromMillis(t,i={}){if(Uh(t))return t<-864e13||t>nfe?We.invalid("Timestamp out of range"):new We({ts:t,zone:$h(i.zone,tr.defaultZone),loc:Jt.fromObject(i)});throw new Tn(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Uh(t))return new We({ts:t*1e3,zone:$h(i.zone,tr.defaultZone),loc:Jt.fromObject(i)});throw new Tn("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=$h(i.zone,tr.defaultZone);if(!r.isValid)return We.invalid(R1(r));const n=Jt.fromObject(i),s=K3(t,XN),{minDaysInFirstWeek:a,startOfWeek:l}=zN(s,n),u=tr.now(),d=mt(i.specificOffset)?r.offset(u):i.specificOffset,m=!mt(s.ordinal),v=!mt(s.year),b=!mt(s.month)||!mt(s.day),_=v||b,S=s.weekYear||s.weekNumber;if((_||m)&&S)throw new Cy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&m)throw new Cy("Can't mix ordinal dates with month/day");const M=S||s.weekday&&!_;let T,E,A=Bw(u,d);M?(T=ofe,E=sfe,A=Y3(A,a,l)):m?(T=lfe,E=afe,A=jE(A)):(T=wW,E=bW);let P=!1;for(const W of T){const be=s[W];mt(be)?P?s[W]=E[W]:s[W]=A[W]:P=!0}const N=M?Nde(s,a,l):m?Dde(s):Hq(s),D=N||qq(s);if(D)return We.invalid(D);const k=M?jN(s,a,l):m?FN(s):s,[q,X]=rS(k,d,r),re=new We({ts:q,zone:r,o:X,loc:n});return s.weekday&&_&&t.weekday!==re.weekday?We.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${re.toISO()}`):re.isValid?re:We.invalid(re.invalid)}static fromISO(t,i={}){const[r,n]=Ipe(t);return Tm(r,n,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,n]=$pe(t);return Tm(r,n,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,n]=Ape(t);return Tm(r,n,i,"HTTP",i)}static fromFormat(t,i,r={}){if(mt(t)||mt(i))throw new Tn("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[l,u,d,m]=rfe(a,t,i);return m?We.invalid(m):Tm(l,u,r,`format ${i}`,t,d)}static fromString(t,i,r={}){return We.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,n]=Dpe(t);return Tm(r,n,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Tn("need to specify a reason the DateTime is invalid");const r=t instanceof Ao?t:new Ao(t,i);if(tr.throwOnInvalid)throw new ude(r);return new We({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=gW(t,Jt.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(t,i={}){return fW(In.parseFormat(t),Jt.fromObject(i)).map(n=>n.val).join("")}static resetCache(){nS=void 0,sS={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?UE(this).weekYear:NaN}get weekNumber(){return this.isValid?UE(this).weekNumber:NaN}get weekday(){return this.isValid?UE(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?GE(this).weekday:NaN}get localWeekNumber(){return this.isValid?GE(this).weekNumber:NaN}get localWeekYear(){return this.isValid?GE(this).weekYear:NaN}get ordinal(){return this.isValid?jE(this.c).ordinal:NaN}get monthShort(){return this.isValid?Gw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Gw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Gw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Gw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=p5(this.c),n=this.zone.offset(r-t),s=this.zone.offset(r+t),a=this.zone.offset(r-n*i),l=this.zone.offset(r-s*i);if(a===l)return[this];const u=r-a*i,d=r-l*i,m=Bw(u,a),v=Bw(d,l);return m.hour===v.hour&&m.minute===v.minute&&m.second===v.second&&m.millisecond===v.millisecond?[kd(this,{ts:u}),kd(this,{ts:d})]:[this]}get isInLeapYear(){return s2(this.year)}get daysInMonth(){return Z3(this.year,this.month)}get daysInYear(){return this.isValid?zy(this.year):NaN}get weeksInWeekYear(){return this.isValid?_b(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?_b(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:n}=In.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(t=0,i={}){return this.setZone(Yr.instance(t),i)}toLocal(){return this.setZone(tr.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=$h(t,tr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(i||r){const s=t.offset(this.ts),a=this.toObject();[n]=rS(a,s,t)}return kd(this,{ts:n,zone:t})}else return We.invalid(R1(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return kd(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=K3(t,XN),{minDaysInFirstWeek:r,startOfWeek:n}=zN(i,this.loc),s=!mt(i.weekYear)||!mt(i.weekNumber)||!mt(i.weekday),a=!mt(i.ordinal),l=!mt(i.year),u=!mt(i.month)||!mt(i.day),d=l||u,m=i.weekYear||i.weekNumber;if((d||a)&&m)throw new Cy("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Cy("Can't mix ordinal dates with month/day");let v;s?v=jN({...Y3(this.c,r,n),...i},r,n):mt(i.ordinal)?(v={...this.toObject(),...i},mt(i.day)&&(v.day=Math.min(Z3(v.year,v.month),v.day))):v=FN({...jE(this.c),...i});const[b,_]=rS(v,this.o,this.zone);return kd(this,{ts:b,o:_})}plus(t){if(!this.isValid)return this;const i=Ut.fromDurationLike(t);return kd(this,KN(this,i))}minus(t){if(!this.isValid)return this;const i=Ut.fromDurationLike(t).negate();return kd(this,KN(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=Ut.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?In.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):zE}toLocaleString(t=W3,i={}){return this.isValid?In.create(this.loc.clone(i),t).formatDateTime(this):zE}toLocaleParts(t={}){return this.isValid?In.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=t==="extended";let l=VE(this,a);return l+="T",l+=JN(this,a,i,r,n,s),l}toISODate({format:t="extended"}={}){return this.isValid?VE(this,t==="extended"):null}toISOWeekDate(){return Hw(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(n?"T":"")+JN(this,a==="extended",i,t,r,s):null}toRFC2822(){return Hw(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Hw(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?VE(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||t)&&(r&&(n+=" "),i?n+="z":t&&(n+="ZZ")),Hw(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():zE}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return Ut.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=zde(i).map(Ut.normalizeUnit),a=t.valueOf()>this.valueOf(),l=a?this:t,u=a?t:this,d=Bpe(l,u,s,n);return a?d.negate():d}diffNow(t="milliseconds",i={}){return this.diff(We.now(),t,i)}until(t){return this.isValid?Xi.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(i,r)<=n&&n<=s.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||We.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),eD(i,this.plus(r),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?eD(t.base||We.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(We.isDateTime))throw new Tn("min requires all arguments be DateTimes");return UN(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(We.isDateTime))throw new Tn("max requires all arguments be DateTimes");return UN(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:n=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return yW(a,t,i)}static fromStringExplain(t,i,r={}){return We.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:n=null}=i,s=Jt.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new mW(s,t)}static fromFormatParser(t,i,r={}){if(mt(t)||mt(i))throw new Tn("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=r,a=Jt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!a.equals(i.locale))throw new Tn(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${i.locale}`);const{result:l,zone:u,specificOffset:d,invalidReason:m}=i.explainFromTokens(t);return m?We.invalid(m):Tm(l,u,r,`format ${i.format}`,t,d)}static get DATE_SHORT(){return W3}static get DATE_MED(){return Sq}static get DATE_MED_WITH_WEEKDAY(){return dde}static get DATE_FULL(){return xq}static get DATE_HUGE(){return Mq}static get TIME_SIMPLE(){return Tq}static get TIME_WITH_SECONDS(){return Eq}static get TIME_WITH_SHORT_OFFSET(){return Cq}static get TIME_WITH_LONG_OFFSET(){return Iq}static get TIME_24_SIMPLE(){return $q}static get TIME_24_WITH_SECONDS(){return Aq}static get TIME_24_WITH_SHORT_OFFSET(){return Rq}static get TIME_24_WITH_LONG_OFFSET(){return Pq}static get DATETIME_SHORT(){return Oq}static get DATETIME_SHORT_WITH_SECONDS(){return kq}static get DATETIME_MED(){return Lq}static get DATETIME_MED_WITH_SECONDS(){return Nq}static get DATETIME_MED_WITH_WEEKDAY(){return pde}static get DATETIME_FULL(){return Dq}static get DATETIME_FULL_WITH_SECONDS(){return jq}static get DATETIME_HUGE(){return Fq}static get DATETIME_HUGE_WITH_SECONDS(){return zq}}function e1(e){if(We.isDateTime(e))return e;if(e&&e.valueOf&&Uh(e.valueOf()))return We.fromJSDate(e);if(e&&typeof e=="object")return We.fromObject(e);throw new Tn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const hfe="shortOffset";function dfe(e){return"timeZoneIANA"in e}function pfe(e){return e.startsWith("UTC")}function _W(e,t=!1){return{json:{read:{source:e,reader:(i,r)=>r[e]?aS(r[e]):null},write:!!t&&{allowNull:!0,writer(i,r){r[e]=i?ffe(i):null}}}}}function aS(e,t=Cl){return e?dfe(e)?e.timeZoneIANA:mfe(e,t):t}function ffe(e){return{timeZoneIANA:e}}function mfe(e,t=Cl){if(!e||!EN.has(e.timeZone))return t;const i=EN.get(e.timeZone);return pfe(e.timeZone)||e.respectsDaylightSaving?i:yfe(i)}function yfe(e){const t=We.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Yr.instance(-i).formatOffset(0,"narrow")}`}function hOe(e,t,i,r,n){if(t&&n==="date")return{timeZone:Qh,timeZoneName:void 0};const s=r.timeStyle||r.hour,a=i===gf;return{timeZone:a?n==="timestamp-offset"?void 0:e??Qh:i,timeZoneName:a&&s?hfe:void 0}}function gfe(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return e===Cl||e===gf||t.has(e.toLowerCase())||i.has(e.toLowerCase())}const vfe={year:void 0,month:void 0,day:void 0,weekday:void 0},bfe={hour:void 0,minute:void 0,second:void 0},SW={timeZone:Qh},qo={year:"numeric",month:"numeric",day:"numeric"},t1={year:"numeric",month:"long",day:"numeric"},i1={year:"numeric",month:"short",day:"numeric"},r1={year:"numeric",month:"long",weekday:"long",day:"numeric"},_h={hour:"numeric",minute:"numeric"},Wd={..._h,second:"numeric"},xW={hourCycle:"h23"},n1={..._h,...xW},s1={...Wd,...xW},MW={"short-date":qo,"short-date-short-time":{...qo,..._h},"short-date-short-time-24":{...qo,...n1},"short-date-long-time":{...qo,...Wd},"short-date-long-time-24":{...qo,...s1},"short-date-le":qo,"short-date-le-short-time":{...qo,..._h},"short-date-le-short-time-24":{...qo,...n1},"short-date-le-long-time":{...qo,...Wd},"short-date-le-long-time-24":{...qo,...s1},"long-month-day-year":t1,"long-month-day-year-short-time":{...t1,..._h},"long-month-day-year-short-time-24":{...t1,...n1},"long-month-day-year-long-time":{...t1,...Wd},"long-month-day-year-long-time-24":{...t1,...s1},"day-short-month-year":i1,"day-short-month-year-short-time":{...i1,..._h},"day-short-month-year-short-time-24":{...i1,...n1},"day-short-month-year-long-time":{...i1,...Wd},"day-short-month-year-long-time-24":{...i1,...s1},"long-date":r1,"long-date-short-time":{...r1,..._h},"long-date-short-time-24":{...r1,...n1},"long-date-long-time":{...r1,...Wd},"long-date-long-time-24":{...r1,...s1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":_h,"long-time":Wd},wfe=Kr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),TW={ar:"ar-u-nu-latn-ca-gregory"};let s$=new WeakMap;const y5=MW["short-date-short-time"];function _fe(e){let t=s$.get(e);if(!t){const i=gs(),r=TW[i]||i,n=u8(e.timeZone??Cl),s={...e,timeZone:n};t=new Intl.DateTimeFormat(r,s),s$.set(e,t)}return t}function dOe(e){return MW[e]}function ed(e,t=y5){return _fe(t).format(e)}function pOe(e,t=y5){return ed(new Date(e),{...t,...SW,...bfe})}function fOe(e,t=y5){return ed(new Date(`1970-01-01T${e}Z`),{...t,...SW,...vfe})}function mOe(e,t=y5){if(t.timeZone)return ed(new Date(e),t);const i=We.fromISO(e,{setZone:!0}),r=gs(),n=TW[r]??r,s=i.offset===0?Qh:t.timeZone,a={...t,timeZone:s};return i.toLocaleString(a,{locale:n})}function u8(e){switch(e){case Cl:return lde;case gf:return Qh;default:return e}}e8(()=>{s$=new WeakMap});const Sfe={ar:"ar-u-nu-latn"};let oS=new WeakMap,EW={};function a$(e){const t=e||EW;if(!oS.has(t)){const i=gs(),r=Sfe[gs()]||i;oS.set(t,new Intl.NumberFormat(r,e))}return oS.get(t)}function yOe(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function J3(e,t){return Object.is(e,-0)&&(e=0),a$(t).format(e)}function gOe(e,t=gs()){var r,n;if(!e)return null;let i=iD.get(t);if(!i){const s=a$().formatToParts(12345.6),a=[...a$({useGrouping:!1}).format(9876543210)].reverse(),l=new Map(a.map((_,S)=>[_,S])),u=new RegExp(`[${(r=s.find(_=>_.type==="group"))==null?void 0:r.value}]`,"g"),d=new RegExp(`[${(n=s.find(_=>_.type==="decimal"))==null?void 0:n.value}]`),m=new RegExp(`[${a.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,b=/[-\u2212\u2013\u2014\u2015]/g;i=_=>{if((_=_.trim().replaceAll(u,"").replace(d,".").replace(m,M=>String(l.get(M))).replaceAll(v,"").replaceAll(b,"-"))==="")return null;const S=Number(_);return isNaN(S)?null:S},iD.set(t,i)}return i(e)}e8(()=>{oS=new WeakMap,EW={}});const iD=new Map,CW=()=>ce.getLogger("esri.intl.substitute");function IW(e,t,i={}){const{format:r={}}=i;return Bb(e,n=>xfe(n,t,r))}function xfe(e,t,i){let r,n;const s=e.indexOf(":");if(s===-1?r=e.trim():(r=e.slice(0,s).trim(),n=e.slice(s+1).trim()),!r)return"";const a=Vb(r,t);if(a==null)return"";const l=(n?i==null?void 0:i[n]:null)??(i==null?void 0:i[r]);return l?Mfe(a,l):n?Tfe(a,n):c8(a)}function Mfe(e,t){switch(t.type){case"date":return ed(e,t.intlOptions);case"number":return J3(e,t.intlOptions);default:return CW().warn("missing format descriptor for key {key}"),c8(e)}}function Tfe(e,t){switch(t.toLowerCase()){case"dateformat":return ed(e);case"numberformat":return J3(e);default:return CW().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?ed(e):/^numberformat/i.test(t)?J3(e):c8(e)}}function c8(e){switch(typeof e){case"string":return e;case"number":return J3(e);case"boolean":return""+e;default:return e instanceof Date?ed(e):""}}const rD=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,$W={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Efe(e){return e in $W}function nD(e){if(Efe(e)){const t=$W[e];return t===!0?e:t}return null}const P1=[],Gy=new Map;function sD(e){for(const t of Gy.keys())RW(e.pattern,t)&&Gy.delete(t)}function Cfe(e){return P1.includes(e)||(sD(e),P1.unshift(e)),jt(()=>{const t=P1.indexOf(e);t>-1&&(P1.splice(t,1),sD(e))})}async function h8(e){const t=gs();Gy.has(e)||Gy.set(e,Ife(e,t));const i=Gy.get(e);return i&&await $fe.add(i),i}function AW(e){if(!rD.test(e))return null;const t=rD.exec(e);if(t===null)return null;const[,i,r]=t;return nD(i+(r?"-"+r.toUpperCase():""))??nD(i)}async function Ife(e,t){const i=[];for(const r of P1)if(RW(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(n){i.push(n)}throw i.length?new z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function RW(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}e8(()=>{Gy.clear()});const $fe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Ua())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Afe(e,t,i,r){const n=t.exec(i);if(!n)throw new z("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",a=n[2],l=AW(r),u=`${s}${a}.json`,d=l?`${s}${a}_${l}.json`:u;let m;try{m=await aD(e(d))}catch(v){if(d===u)throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v});try{m=await aD(e(u))}catch(b){throw new z("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:b})}}return m}async function aD(e){if(oD.fetchBundleAsset!=null)return oD.fetchBundleAsset(e);const t=await Ct(e,{responseType:"text"});return JSON.parse(t.data)}let Rfe=class{constructor({base:t="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,i){return Afe(this.getAssetUrl,this.matcher,t,i)}};function Pfe(e){return new Rfe(e)}const oD={};Cfe(Pfe({pattern:"esri/",location:ki}));const lD={};function Ofe(e){var i;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((i=e.packages)==null?void 0:i.slice())||[],paths:{...lD.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=lD.baseUrl),t}let kfe=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>t[i](...r)})}},lS=class{constructor(){this._dispatcher=new kfe,this._workerPostMessage({type:Wr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){T3(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,r){this._dispatcher.addEventListener(t,i,r)}removeEventListener(t,i,r){this._dispatcher.removeEventListener(t,i,r)}_workerPostMessage(t){T3(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=wb(t);if(i&&i.type===Wr.OPEN){const{modulePath:r,jobId:n}=i;let s=await Xh.loadWorker(r);s||(s=await import(r));const a=Xh.connect(s);this._workerPostMessage({type:Wr.OPENED,jobId:n,data:a})}}};const o$=()=>ce.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Lfe}=Wr,Nfe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let qw,Ww;const uD="Failed to create Worker. Fallback to execute module in main thread";async function Dfe(){if(!J("esri-workers"))return cD(new lS);if(!qw&&!Ww)try{const t=Nfe.split("{CONFIGURATION}").join(jfe());qw=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Ww=t||{}}let e;if(qw)try{e=new Worker(qw,{name:"esri-worker-"+Ffe++})}catch{o$().warn(uD,Ww),e=new lS}else o$().warn(uD,Ww),e=new lS;return cD(e)}async function cD(e){return new Promise(t=>{function i(n){const s=wb(n);s&&s.type===Lfe&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(n){n.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),o$().warn("Failed to create Worker. Fallback to execute module in main thread",n),(e=new lS).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)})}function jfe(){let e;if(Dt.default!=null){const n={...Dt};delete n.default,e=JSON.parse(JSON.stringify(n))}else e=JSON.parse(JSON.stringify(Dt));e.assetsPath=Oa(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?Oa(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=gs(),e.has={"esri-csp-restrictions":J("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":J("esri-2d-update-debug"),"esri-2d-log-updating":J("esri-2d-log-updating"),"featurelayer-pbf":J("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":J("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":J("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":J("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":J("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":J("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":J("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":J("featurelayer-snapshot-enabled"),"esri-atomics":J("esri-atomics"),"esri-shared-array-buffer":J("esri-shared-array-buffer"),"esri-tiles-debug":J("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":J("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":J("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Oa(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Oa(e.workers.workerPath):e.workers.workerPath=Oa(ki("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=Dt.workers.loaderConfig,i=Ofe({baseUrl:t==null?void 0:t.baseUrl,locale:gs(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:{buildDate:pH,fullVersion:IR,revision:fH}})}let Ffe=0;const{ABORT:hD,INVOKE:zfe,OPEN:Ufe,OPENED:Gfe,RESPONSE:a1}=Wr;let Vfe=class PW{static async create(t){const i=await Dfe();return new PW(i,t)}constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",r=>{r.preventDefault(),ce.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:r}=i,n=bq();return new Promise((s,a)=>{const l={resolve:s,reject:a,abortHandle:pR(r,()=>{this._outJobs.delete(n),this._post({type:hD,jobId:n})})};this._outJobs.set(n,l),this._post({type:Ufe,jobId:n,modulePath:t})})}_onMessage(t){const i=wb(t);if(i)switch(i.type){case Gfe:this._onOpenedMessage(i);break;case a1:this._onResponseMessage(i);break;case hD:this._onAbortMessage(i);break;case zfe:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,r=t.jobId,n=i.get(r);n&&(n.controller&&n.controller.abort(),i.delete(r))}_onInvokeMessage(t){const{methodName:i,jobId:r,data:n,abortable:s}=t,a=s?new AbortController:null,l=this._inJobs,u=ade[i];let d;try{if(typeof u!="function")throw new TypeError(`${i} is not a function`);d=u.call(null,n,{signal:a?a.signal:null})}catch(m){return void this._post({type:a1,jobId:r,error:bb(m)})}Pl(d)?(l.set(r,{controller:a,promise:d}),d.then(m=>{l.has(r)&&(l.delete(r),this._post({type:a1,jobId:r},m))},m=>{l.has(r)&&(l.delete(r),m||(m={message:"Error encountered at method"+i}),Vi(m)||this._post({type:a1,jobId:r,error:bb(m||{message:`Error encountered at method ${i}`})}))})):this._post({type:a1,jobId:r},d)}_onOpenedMessage(t){const{jobId:i,data:r}=t,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),$i(n.abortHandle),n.resolve(r))}_onResponseMessage(t){const{jobId:i,error:r,data:n}=t,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),$i(s.abortHandle),r?s.reject(z.fromJSON(JSON.parse(r))):s.resolve(n))}_post(t,i,r){return XR(this.worker,t,i,r)}};const dD=J("host-browser")?Math.min(navigator.hardwareConcurrency-1,J("workers-pool-size")??8):0;let Hp=J("esri-mobile")?Math.min(dD,3):dD;Hp||(Hp=J("safari")&&J("mac")?7:2);let pD=0;const uS=[];function Bfe(){OW()}async function Yw(e,t){const i=new sde,{registryTarget:r,...n}=t;return await i.open(e,n),r&&Zhe(r,i),i}async function Hfe(e,t={}){if(typeof e!="string")throw new z("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(J("host-webworker")&&!J("esri-workers")&&(i="local"),i==="local"){let r=await Xh.loadWorker(e);r||(r=await import(e)),ii(t.signal);const n=t.client||r;return Yw([Xh.connect(r,t.schedule)],{...t,client:n})}if(await OW(),ii(t.signal),i==="dedicated"){const r=pD++%Hp;return Yw([await uS[r].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const r=Math.min(t.maxNumWorkers,Hp);if(r<Hp){const n=new Array(r);for(let s=0;s<r;++s){const a=pD++%Hp;n[s]=uS[a].open(e,t)}return Yw(n,t)}}return Yw(uS.map(r=>r.open(e,t)),t)}let Zw=null;async function OW(){if(Zw)return Zw;new AbortController;const e=[];for(let t=0;t<Hp;t++){const i=Vfe.create(t).then(r=>(uS[t]=r,r));e.push(i)}return Zw=Promise.all(e),Zw}function sd(){return[0,0,0]}function d8(e){return[e[0],e[1],e[2]]}function Gg(e,t,i){return[e,t,i]}function qfe(e,t,i){return[e,t,i]}function Wfe(e,t=sd()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Yfe(e,t){return new Float64Array(e,t,3)}function kW(){return sd()}function LW(){return Gg(1,1,1)}function NW(){return Gg(1,0,0)}function DW(){return Gg(0,1,0)}function jW(){return Gg(0,0,1)}const Zfe=kW(),Kfe=LW(),Jfe=NW(),Xfe=DW(),Qfe=jW();Object.freeze(Object.defineProperty({__proto__:null,ONES:Kfe,UNIT_X:Jfe,UNIT_Y:Xfe,UNIT_Z:Qfe,ZEROS:Zfe,clone:d8,create:sd,createView:Yfe,freeze:qfe,fromArray:Wfe,fromValues:Gg,ones:LW,unitX:NW,unitY:DW,unitZ:jW,zeros:kW},Symbol.toStringTag,{value:"Module"}));const _Oe=Math.PI/180,SOe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Dc=Ni.radius,so=Ni.eccentricitySquared,eme={a1:Dc*so,a2:Dc*so*Dc*so,a3:Dc*so*so/2,a4:Dc*so*Dc*so*2.5,a5:Dc*so+Dc*so*so/2,a6:1-so},xOe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:Ni.radius,f:Ni.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Zh.radius,f:Zh.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:bl.radius,f:bl.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:bl.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var Z;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(Z||(Z={}));const tme={[Z.WGS84]:{[Z.CGCS2000]:Ei,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Ei,[Z.SPHERICAL_ECEF]:Uv,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Vy,[Z.PLATE_CARREE]:By,[Z.WGS84]:Ei,[Z.WGS84_ECEF]:Wy},[Z.CGCS2000]:{[Z.CGCS2000]:Ei,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Ei,[Z.SPHERICAL_ECEF]:Uv,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Vy,[Z.PLATE_CARREE]:By,[Z.WGS84]:Ei,[Z.WGS84_ECEF]:Wy},[Z.GCSMARS2000]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:Ei,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Ei,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:yD,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.GCSMOON2000]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:Ei,[Z.LON_LAT]:Ei,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:mD,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.WEB_MERCATOR]:{[Z.CGCS2000]:zv,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:zv,[Z.SPHERICAL_ECEF]:rme,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Ei,[Z.PLATE_CARREE]:ame,[Z.WGS84]:zv,[Z.WGS84_ECEF]:nme},[Z.WGS84_ECEF]:{[Z.CGCS2000]:Yy,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Yy,[Z.SPHERICAL_ECEF]:mme,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:yme,[Z.PLATE_CARREE]:ome,[Z.WGS84]:Yy,[Z.WGS84_ECEF]:Ei},[Z.SPHERICAL_ECEF]:{[Z.CGCS2000]:qy,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:qy,[Z.SPHERICAL_ECEF]:Ei,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:dme,[Z.PLATE_CARREE]:lme,[Z.WGS84]:qy,[Z.WGS84_ECEF]:pme},[Z.SPHERICAL_MARS_PCPF]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:vD,[Z.GCSMOON2000]:null,[Z.LON_LAT]:vD,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:Ei,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.SPHERICAL_MOON_PCPF]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:gD,[Z.LON_LAT]:gD,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:Ei,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.UNKNOWN]:{[Z.CGCS2000]:null,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:null,[Z.SPHERICAL_ECEF]:null,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:Ei,[Z.WEB_MERCATOR]:null,[Z.PLATE_CARREE]:null,[Z.WGS84]:null,[Z.WGS84_ECEF]:null},[Z.LON_LAT]:{[Z.CGCS2000]:Ei,[Z.GCSMARS2000]:Ei,[Z.GCSMOON2000]:Ei,[Z.LON_LAT]:Ei,[Z.SPHERICAL_ECEF]:Uv,[Z.SPHERICAL_MARS_PCPF]:yD,[Z.SPHERICAL_MOON_PCPF]:mD,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:Vy,[Z.PLATE_CARREE]:By,[Z.WGS84]:Ei,[Z.WGS84_ECEF]:Wy},[Z.PLATE_CARREE]:{[Z.CGCS2000]:Hy,[Z.GCSMARS2000]:null,[Z.GCSMOON2000]:null,[Z.LON_LAT]:Hy,[Z.SPHERICAL_ECEF]:ume,[Z.SPHERICAL_MARS_PCPF]:null,[Z.SPHERICAL_MOON_PCPF]:null,[Z.UNKNOWN]:null,[Z.WEB_MERCATOR]:cme,[Z.PLATE_CARREE]:Ei,[Z.WGS84]:Hy,[Z.WGS84_ECEF]:hme}};function FW(e,t){var i;return(i=ime(e,t))==null?void 0:i.projector}function ime(e,t){if(e==null||t==null)return null;if(iu.source.spatialReference===e&&iu.dest.spatialReference===t)return iu;const i=fD(e,iu.source),r=fD(t,iu.dest);return i===Z.UNKNOWN&&r===Z.UNKNOWN?br(e,t)?iu.projector=Ei:iu.projector=null:iu.projector=tme[i][r],iu}function fD(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Ss(e,1)),V3(e)?t.spatialReferenceId=Z.SPHERICAL_ECEF:Kh(e)?t.spatialReferenceId=Z.WGS84:Ml(e)?t.spatialReferenceId=Z.WEB_MERCATOR:hce(e)?t.spatialReferenceId=Z.PLATE_CARREE:e.wkt===mce.wkt?t.spatialReferenceId=Z.WGS84_ECEF:e.wkid===ka.CGCS2000?t.spatialReferenceId=Z.CGCS2000:e.wkt===NR.wkt?t.spatialReferenceId=Z.SPHERICAL_MARS_PCPF:e.wkt===DR.wkt?t.spatialReferenceId=Z.SPHERICAL_MOON_PCPF:OR(e)?t.spatialReferenceId=Z.GCSMARS2000:kR(e)?t.spatialReferenceId=Z.GCSMOON2000:t.spatialReferenceId=Z.UNKNOWN):Z.UNKNOWN}function Ei(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function zv(e,t,i,r){i[r]=wg*(e[t]/ef),i[r+1]=wg*(zW-2*Math.atan(Math.exp(-e[t+1]/ef))),i[r+2]=e[t+2]}function rme(e,t,i,r){const n=e[t]/ef,s=zW-2*Math.atan(Math.exp(-e[t+1]/ef)),a=ef+e[t+2],l=Math.cos(s)*a;i[r]=Math.cos(n)*l,i[r+1]=Math.sin(n)*l,i[r+2]=Math.sin(s)*a}function nme(e,t,i,r){zv(e,t,i,r),Wy(i,r,i,r)}function sme(e,t,i,r,n){const s=.4999999*Math.PI,a=ia(bg*e[t+1],-s,s),l=Math.sin(a);i[r++]=bg*e[t]*n.radius,i[r++]=n.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[r]=e[t+2]}function Vy(e,t,i,r){sme(e,t,i,r,Ni)}function By(e,t,i,r){i[r]=e[t]*bD,i[r+1]=e[t+1]*bD,i[r+2]=e[t+2]}function Hy(e,t,i,r){i[r]=e[t]*wD,i[r+1]=e[t+1]*wD,i[r+2]=e[t+2]}function ame(e,t,i,r){zv(e,t,i,r),By(i,r,i,r)}function ome(e,t,i,r){Yy(e,t,i,r),By(i,r,i,r)}function lme(e,t,i,r){qy(e,t,i,r),By(i,r,i,r)}function ume(e,t,i,r){Hy(e,t,i,r),Uv(i,r,i,r)}function cme(e,t,i,r){Hy(e,t,i,r),Vy(i,r,i,r)}function hme(e,t,i,r){Hy(e,t,i,r),Wy(i,r,i,r)}function p8(e,t,i,r,n){const s=n+e[t+2],a=bg*e[t+1],l=bg*e[t],u=Math.cos(a)*s;i[r]=Math.cos(l)*u,i[r+1]=Math.sin(l)*u,i[r+2]=Math.sin(a)*s}function mD(e,t,i,r){p8(e,t,i,r,Zh.radius)}function yD(e,t,i,r){p8(e,t,i,r,bl.radius)}function Uv(e,t,i,r){p8(e,t,i,r,Ni.radius)}function f8(e,t,i,r,n){const s=e[t],a=e[t+1],l=e[t+2],u=Math.sqrt(s*s+a*a+l*l),d=kle(l/(u===0?1:u)),m=Math.atan2(a,s);i[r++]=wg*m,i[r++]=wg*d,i[r]=u-n}function gD(e,t,i,r){f8(e,t,i,r,Zh.radius)}function vD(e,t,i,r){f8(e,t,i,r,bl.radius)}function qy(e,t,i,r){f8(e,t,i,r,Ni.radius)}function dme(e,t,i,r){qy(e,t,i,r),Vy(i,r,i,r)}function pme(e,t,i,r){qy(e,t,i,r),Wy(i,r,i,r)}function fme(e,t,i,r,n){const s=bg*e[t],a=bg*e[t+1],l=e[t+2],u=Math.sin(a),d=Math.cos(a),m=n.radius/Math.sqrt(1-n.eccentricitySquared*u*u);i[r++]=(m+l)*d*Math.cos(s),i[r++]=(m+l)*d*Math.sin(s),i[r++]=(m*(1-n.eccentricitySquared)+l)*u}function Wy(e,t,i,r){fme(e,t,i,r,Ni)}function Yy(e,t,i,r){const n=eme,s=e[t],a=e[t+1],l=e[t+2];let u,d,m,v,b,_,S,M,T,E,A,P,N,D,k,q,X,re,W,be,ae;u=Math.abs(l),d=s*s+a*a,m=Math.sqrt(d),v=d+l*l,b=Math.sqrt(v),be=Math.atan2(a,s),_=l*l/v,S=d/v,D=n.a2/b,k=n.a3-n.a4/b,S>.3?(M=u/b*(1+S*(n.a1+D+_*k)/b),W=Math.asin(M),E=M*M,T=Math.sqrt(1-E)):(T=m/b*(1-_*(n.a5-D-S*k)/b),W=Math.acos(T),E=1-T*T,M=Math.sqrt(E)),A=1-Ni.eccentricitySquared*E,P=Ni.radius/Math.sqrt(A),N=n.a6*P,D=m-P*T,k=u-N*M,X=T*D+M*k,q=T*k-M*D,re=q/(N/A+X),W+=re,ae=X+q*re/2,l<0&&(W=-W),i[r++]=wg*be,i[r++]=wg*W,i[r]=ae}function mme(e,t,i,r){Yy(e,t,i,r),Uv(i,r,i,r)}function yme(e,t,i,r){Yy(e,t,i,r),Vy(i,r,i,r)}const iu={source:{spatialReference:null,spatialReferenceId:Z.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Z.UNKNOWN,metersPerUnit:1},projector:Ei},bg=Oh(1),wg=BB(1),zW=.5*Math.PI,ef=Ni.radius,bD=ef*Math.PI/180,wD=180/(ef*Math.PI);function l2(e,t,i,r,n,s,a=Math.floor(e.length/3)){const l=FW(t,n);if(l==null)return!1;if(l===Ei){if(e===r&&i===s)return!0;const d=i+3*a;for(let m=i,v=s;m<d;m++,v++)r[v]=e[m];return!0}const u=i+3*a;for(let d=i,m=s;d<u;d+=3,m+=3)l(e,d,r,m);return!0}const MOe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:l2},Symbol.toStringTag,{value:"Module"}));function _D(e,t,i,r,n,s){return Kw[0]=e,Kw[1]=t,Kw[2]=i,l2(Kw,r,0,n,s,0)}const Kw=sd();let Jw=0,BE=class l${static fromGE(t){const i=new l$;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}constructor(t){this.uid=Jw++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Jw++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Jw++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Jw++}getInverse(){const t=new l$;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},X3=class O1{static cacheKey(t,i){var r,n,s,a,l,u;return[((r=t.wkid)==null?void 0:r.toString())??"-1",((n=t.wkt)==null?void 0:n.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((a=i.wkid)==null?void 0:a.toString())??"-1",((l=i.wkt)==null?void 0:l.toString())??"",((u=i.wkt2)==null?void 0:u.toString())??""].join()}static fromGE(t){const i=new O1;let r="";for(const n of t.steps){const s=BE.fromGE(n);i.steps.push(s),r+=s.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=r,i}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const i of t.steps)i instanceof BE?this.steps.push(i):this.steps.push(new BE({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const t=new O1;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const r=this.steps[i];t.steps.push(r.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,r){this._cachedProjection[O1.cacheKey(t,i)]=r}getCachedGeTransformation(t,i){let r="";for(const s of this.steps)r+=s.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const n=this._cachedProjection[O1.cacheKey(t,i)];return n===void 0?null:n}};function gme(e,t,i){if(t==null||i==null||i.vcsWkid||br(t,i)||Jh(t)||Jh(i))return null;const r=lN(t)/lN(i);if(r===1)return null;switch(e){case"point":case"esriGeometryPoint":return n=>vme(n,r);case"polyline":case"esriGeometryPolyline":return n=>wme(n,r);case"polygon":case"esriGeometryPolygon":return n=>bme(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>_me(n,r);case"extent":case"esriGeometryEnvelope":return n=>Sme(n,r);default:return null}}function vme(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function bme(e,t){if(e)for(const i of e.rings)for(const r of i)r.length>2&&(r[2]*=t)}function wme(e,t){if(e)for(const i of e.paths)for(const r of i)r.length>2&&(r[2]*=t)}function _me(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function Sme(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Po=null,td=null,Gv=null,cS={};const m8=new r2;function ec(){return!!Po&&PR()}function UW(){return!!ec()||(Xe(m8),qu(),!1)}function GW(e,t){return!e||!t||Do(e,t)||UW()}function xme(e,t){return!Do(e,t)&&!ec()}function qu(e){return Gv==null&&(Gv=Promise.all([MH(),ve(()=>import("./geometryEngineBase-B0ZyeKAX.js"),__vite__mapDeps([10,1])).then(t=>t.g),ve(()=>import("./hydrated-D8aVKlUh.js"),[])])),Gv.then(([,t,{hydratedAdapter:i}])=>{ii(e),td=i,Po=t.default,Po._enableProjection(oce),m8.notify()})}function ad(e,t,i=null,r=null){return Array.isArray(e)?e.length===0?[]:(kce(e),u$(td,e,e[0].spatialReference,t,i,r)):(pg(e),u$(td,[e],e.spatialReference,t,i,r)[0])}function u$(e,t,i,r,n=null,s=null){if(i==null||r==null)return t;if(Do(i,r,n))return t.map(a=>hS(a,i,r));if(n==null&&V3(i))return t.map(a=>hS(a,i,it.WGS84)).map(a=>Sb(a,r));if(n==null&&V3(r))return t.map(a=>Sb(a,it.WGS84)).map(a=>hS(a,it.WGS84,r));if(n==null){const a=X3.cacheKey(i,r);cS[a]!==void 0?n=cS[a]:((n=BW(i,r,void 0))==null&&(n=new X3),cS[a]=n)}if(Po==null||e==null)throw new g5;return s!=null?Po._project(e,t,i,r,n,s):Po._project(e,t,i,r,n)}function Mme(e,t){const i=VW([e],t);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function VW(e,t){if(!ec()){for(const i of e)if(i!=null&&!br(i.spatialReference,t)&&Js(i.spatialReference)&&Js(t)&&!Do(i.spatialReference,t))return Xe(m8),{pending:qu(),geometries:null}}return{pending:null,geometries:e.map(i=>i==null?null:br(i.spatialReference,t)?i:Js(i.spatialReference)&&Js(t)?Sb(i,t):null)}}function BW(e,t,i=null){if(e==null||t==null)return null;if(Po==null||td==null)throw new g5;const r=Po._getTransformation(td,e,t,i,i==null?void 0:i.spatialReference);return r!==null?X3.fromGE(r):null}function Tme(e,t,i=null){if(Po==null||td==null)throw new g5;const r=Po._getTransformationBySuitability(td,e,t,i,i==null?void 0:i.spatialReference);if(r!==null){const n=[];for(const s of r)n.push(X3.fromGE(s));return n}return[]}let g5=class extends z{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Eme(){Po=null,td=null,Gv=null,cS={}}const Cme={get loadPromise(){return Gv}};function Sb(e,t){try{const i=ad(e,t);if(i==null)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=gme(i.type,e.spatialReference,t);return r!=null&&r(i),i}catch(i){if(!(i instanceof g5))throw i;return null}}async function Ime(e,t,i){const r=e.spatialReference;return r!=null&&t!=null&&await y8(r,t,null,i),Sb(e,t)}function Do(e,t,i){return!i&&(!!br(e,t)||Js(e)&&Js(t)&&!!FW(e,t))}function $me(e,t){if(br(e,t))return!0;if(!Js(e)||!Js(t))return!1;const i=Kh(e)||Ml(e)||HI(e),r=Kh(t)||Ml(t)||HI(t);return i&&r}async function y8(e,t,i,r){if(ec())return E3(r);if(Array.isArray(e)){for(const{source:n,dest:s,geographicTransformation:a}of e)if(n&&s&&!Do(n,s,a))return qu(r)}else if(e&&t&&!Do(e,t,i))return qu(r);return E3(r)}function hS(e,t,i){return e?"x"in e?HW(e,t,new Qe,i,0):"xmin"in e?ZW(e,t,new Lt,i,0):"rings"in e?YW(e,t,new ra,i,0):"paths"in e?WW(e,t,new $o,i,0):"points"in e?qW(e,t,new u5,i,0):null:null}function Ame(e,t,i=t.spatialReference,r=0){return i!=null&&e.spatialReference!=null&&HW(e,e.spatialReference,t,i,r)!=null}function HW(e,t,i,r,n){En[0]=e.x,En[1]=e.y;const s=e.z;return En[2]=s!==void 0?s:n,l2(En,t,0,En,r,0)?(i.x=En[0],i.y=En[1],i.spatialReference=r,s!==void 0||Jh(r)?(i.z=En[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function Rme(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&qW(e,e.spatialReference,t,i,r)!=null}function qW(e,t,i,r,n){const{points:s,hasZ:a,hasM:l}=e,u=[],d=s.length,m=[];for(const b of s)m.push(b[0],b[1],a?b[2]:n);if(!l2(m,t,0,m,r,0,d))return null;const v=a||Jh(r);for(let b=0;b<d;++b){const _=3*b,S=m[_],M=m[_+1];v&&l?u.push([S,M,m[_+2],s[b][3]]):v?u.push([S,M,m[_+2]]):l?u.push([S,M,s[b][2]]):u.push([S,M])}return i.points=u,i.spatialReference=r,i.hasZ=a,i.hasM=l,i}function Pme(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&WW(e,e.spatialReference,t,i,r)!=null}function WW(e,t,i,r,n){const{paths:s,hasZ:a,hasM:l}=e,u=[];if(!KW(s,a??!1,l??!1,t,u,r,n))return null;const d=a||Jh(r);return i.paths=u,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function Ome(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&YW(e,e.spatialReference,t,i,r)!=null}function YW(e,t,i,r,n){const{rings:s,hasZ:a,hasM:l}=e,u=[];if(!KW(s,a??!1,l??!1,t,u,r,n))return null;const d=a||Jh(r);return i.rings=u,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function kme(e,t,i=t.spatialReference,r=0){return e.spatialReference!=null&&i!=null&&ZW(e,e.spatialReference,t,i,r)!=null}function ZW(e,t,i,r,n){const{xmin:s,ymin:a,xmax:l,ymax:u,hasZ:d,hasM:m}=e,v=d?e.zmin:n;if(!_D(s,a,v,t,En,r))return null;const b=d||Jh(r);i.xmin=En[0],i.ymin=En[1],b&&(i.zmin=En[2]);const _=d?e.zmax:n;return _D(l,u,_,t,En,r)?(i.xmax=En[0],i.ymax=En[1],b&&(i.zmax=En[2]),m&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function KW(e,t,i,r,n,s,a=0){const l=new Array;for(const m of e)for(const v of m)l.push(v[0],v[1],t?v[2]:a);if(!l2(l,r,0,l,s,0))return!1;let u=0;n.length=0;const d=t||Jh(s);for(const m of e){const v=new Array;for(const b of m)d&&i?v.push([l[u++],l[u++],l[u++],b[3]]):d?v.push([l[u++],l[u++],l[u++]]):i?(v.push([l[u++],l[u++],b[2]]),u++):(v.push([l[u++],l[u++]]),u++);n.push(v)}return!0}const En=sd(),EOe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Do,getTransformation:BW,getTransformations:Tme,initializeProjection:y8,isEqualBaseGCS:$me,isLoaded:ec,isLoadedOrLoad:UW,isLoadedOrLoadFor:GW,load:qu,project:ad,projectExtent:kme,projectMany:u$,projectMultipoint:Rme,projectOrLoad:Mme,projectOrLoadMany:VW,projectPoint:Ame,projectPolygon:Ome,projectPolyline:Pme,projectWithZConversion:Ime,projectWithoutEngine:hS,requiresLoad:xme,test:Cme,tryProjectWithZConversion:Sb,unload:Eme},Symbol.toStringTag,{value:"Module"}));var c$;let Qo=c$=class extends ue{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new c$({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Qo.prototype,"cols",void 0),h([f({type:zt,json:{write:!0}})],Qo.prototype,"level",void 0),h([f({type:String,json:{write:!0}})],Qo.prototype,"levelValue",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Qo.prototype,"origin",void 0),h([f({type:Number,json:{write:!0}})],Qo.prototype,"resolution",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Qo.prototype,"rows",void 0),h([f({type:Number,json:{write:!0}})],Qo.prototype,"scale",void 0),Qo=c$=h([O("esri.layers.support.LOD")],Qo);const Zs=Qo;let JW=class{constructor(t,i,r,n,s=void 0){this.id=t,this.level=i,this.row=r,this.col=n,this.extent=s}};var qc;const SD=new It({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let rn=qc=class extends ue{static create(e={}){const{resolutionFactor:t=1,scales:i,size:r=256,spatialReference:n=it.WebMercator,numLODs:s=24}=e;if(!Js(n)){const v=[];if(i)for(let b=0;b<i.length;b++){const _=i[b];v.push(new Zs({level:b,scale:_,resolution:_}))}else{let b=5e-4;for(let _=s-1;_>=0;_--)v.unshift(new Zs({level:_,scale:b,resolution:b})),b*=2}return new qc({dpi:96,lods:v,origin:new Qe(0,0,n),size:[r,r],spatialReference:n})}const a=Bn(n),l=e.origin?new Qe({x:e.origin.x,y:e.origin.y,spatialReference:n}):new Qe(a?{x:a.origin[0],y:a.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),u=96,d=1/(Ss(n)*39.37*u),m=[];if(i)for(let v=0;v<i.length;v++){const b=i[v],_=b*d;m.push(new Zs({level:v,scale:b,resolution:_}))}else{let v=Ef(n)?512/r*5916575275917094e-7:256/r*591657527591555e-6;const b=Math.ceil(s/t);m.push(new Zs({level:0,scale:v,resolution:v*d}));for(let _=1;_<b;_++){const S=v/2**t,M=S*d;m.push(new Zs({level:_,scale:S,resolution:M})),v=S}}return new qc({dpi:u,lods:m,origin:l,size:[r,r],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=Bn(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return Qe.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[],n=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach(s=>{r.push(s.scale),t=s.scale>t?s.scale:t,i=s.scale<i?s.scale:i,n[s.level]=s})),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),r=i+1;return t[i]/(t[i]/t[r])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const n=t[r],s=t[r+1];if(n<=e)return r;if(s===e)return r+1;if(n>e&&s<e)return r+Math.log(n/e)/Math.log(n/s)}return r}tileAt(e,t,i,r){const n=this.lodAt(e);if(!n)return null;let s,a;if(typeof t=="number")s=t,a=i;else if(br(t.spatialReference,this.spatialReference))s=t.x,a=t.y,r=i;else{const d=o5(t,this.spatialReference);if(d==null)return null;s=d.x,a=d.y,r=i}const l=n.resolution*this.size[0],u=n.resolution*this.size[1];return r||(r=new JW(null,0,0,0,Or())),r.level=e,r.row=Math.floor((this.origin.y-a)/u+.001),r.col=Math.floor((s-this.origin.x)/l+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=qc.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===qc.ExtrapolateOptions.POWER_OF_TWO){const a=this.lods[this.lods.length-1];a.level<e.level&&(i=a)}if(!i)return;const r=e.level-i.level,n=i.resolution*this.size[0]/2**r,s=i.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=Or()),e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const i=this.lodAt(t.level);if(i==null)return null;const{resolution:r}=i,n=r*this.size[0],s=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+n,e[3]=e[1]+s,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return qc.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const i=[],r=this.lods.length-t;for(let n=0;n<r;n++){const s=n+t,{scale:a,resolution:l}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new Zs({level:n,scale:a,resolution:l}))}return new qc({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};h([f({type:Number,json:{write:!0}})],rn.prototype,"compressionQuality",void 0),h([f({type:Number,json:{write:!0}})],rn.prototype,"dpi",void 0),h([f({type:String,json:{read:SD.read,write:SD.write,origins:{"web-scene":{read:!1,write:!1}}}})],rn.prototype,"format",void 0),h([f({readOnly:!0})],rn.prototype,"isWrappable",null),h([f({type:Qe,json:{write:!0}})],rn.prototype,"origin",void 0),h([He("origin")],rn.prototype,"readOrigin",null),h([f({type:[Zs],value:null,json:{write:!0}})],rn.prototype,"lods",null),h([f({readOnly:!0})],rn.prototype,"scales",void 0),h([f({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],rn.prototype,"size",void 0),h([He("size",["rows","cols"])],rn.prototype,"readSize",null),h([Re("size",{cols:{type:zt},rows:{type:zt}})],rn.prototype,"writeSize",null),h([f({type:it,json:{write:!0}})],rn.prototype,"spatialReference",void 0),rn=qc=h([O("esri.layers.support.TileInfo")],rn),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(rn||(rn={}));const Oo=rn,dS={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},HE={xsmall:544,small:768,medium:992,large:1200};function Lme(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function qE(e,t){return t?dS[e].valueToClassName[t].split(" "):[]}const Nme=e=>{let t=class extends e{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=HE}initialize(){this.addHandles(Ge(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),ir))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!Lme(i)){const r=JSON.stringify(HE,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r),i=HE}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=Gn.acquire(),r=Gn.acquire();let n,s=!1;for(n in dS){const a=this[n],l=dS[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==l&&(s=!0,this[n]=l,qE(n,a).forEach(u=>r.push(u)),qE(n,l).forEach(u=>i.push(u)))}s&&(this._applyClassNameChanges(i,r),Gn.release(i),Gn.release(r))}_applyClassNameChanges(i,r){const n=this.container;n&&(r.forEach(s=>n.classList.remove(s)),i.forEach(s=>n.classList.add(s)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let r;for(r in dS)qE(r,this[r]).forEach(n=>i.classList.remove(n))}};return h([f()],t.prototype,"breakpoints",null),h([f()],t.prototype,"orientation",void 0),h([f()],t.prototype,"widthBreakpoint",void 0),h([f()],t.prototype,"heightBreakpoint",void 0),t=h([O("esri.views.BreakpointsOwner")],t),t};function g8(e){return typeof e=="string"?document.getElementById(e):e??null}function xD(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}let tf=class extends De{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,i,r={}){return this._installWatch(t,i,r,Ge)}addWhen(t,i,r={}){return this._installWatch(t,i,r,Pn)}addOnCollectionChange(t,i,{initial:r=!1,final:n=!1}={}){const s=++this._handleId;return this.addHandles([Tl(t,"after-changes",this._createSyncUpdatingCallback(),El),Tl(t,"change",i,{onListenerAdd:r?a=>i({added:a.toArray(),removed:[]}):void 0,onListenerRemove:n?a=>i({added:[],removed:a.toArray()}):void 0})],s),jt(()=>this.removeHandles(s))}addPromise(t){if(t==null)return t;const i=++this._handleId;this.addHandles(jt(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(Xw)||this._set("updating",!1))}),i),this._pendingPromises.add(t),this._set("updating",!0);const r=()=>this.removeHandles(i);return t.then(r,r),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,i,r={},n){const s=++this._handleId;r.sync||this._installSyncUpdatingWatch(t,s);const a=n(t,i,r);return this.addHandles(a,s),jt(()=>this.removeHandles(s))}_installSyncUpdatingWatch(t,i){const r=this._createSyncUpdatingCallback(),n=Ge(t,r,{sync:!0,equals:()=>!1});return this.addHandles(n,i),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(Xw),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Xb(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(Xw))}),Xw)}}};h([f({readOnly:!0})],tf.prototype,"updating",void 0),tf=h([O("esri.core.support.UpdatingHandles")],tf);const Xw=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q3=function(){return Q3=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Q3.apply(this,arguments)},h$={exports:{}},Bi={},d$={exports:{}},Af={};function XW(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Dme(e,t,i){}function jme(e,t,i){}var Fme=/javascript\s*\:/img;function zme(e,t){return Fme.test(t)?"":t}Af.whiteList=XW();Af.getDefaultWhiteList=XW;Af.onAttr=Dme;Af.onIgnoreAttr=jme;Af.safeAttrValue=zme;var Ume={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},o1=Ume;function Gme(e,t){e=o1.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,r=!1,n=0,s=0,a="";function l(){if(!r){var m=o1.trim(e.slice(n,s)),v=m.indexOf(":");if(v!==-1){var b=o1.trim(m.slice(0,v)),_=o1.trim(m.slice(v+1));if(b){var S=t(n,a.length,b,_,m);S&&(a+=S+"; ")}}}n=s+1}for(;s<i;s++){var u=e[s];if(u==="/"&&e[s+1]==="*"){var d=e.indexOf("*/",s+2);if(d===-1)break;s=d+1,n=s+1,r=!1}else u==="("?r=!0:u===")"?r=!1:u===";"?r||l():u===`
`&&l()}return o1.trim(a)}var Vme=Gme,Qw=Af,Bme=Vme;function MD(e){return e==null}function Hme(e){var t={};for(var i in e)t[i]=e[i];return t}function QW(e){e=Hme(e||{}),e.whiteList=e.whiteList||Qw.whiteList,e.onAttr=e.onAttr||Qw.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Qw.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Qw.safeAttrValue,this.options=e}QW.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onAttr,s=i.onIgnoreAttr,a=i.safeAttrValue,l=Bme(e,function(u,d,m,v,b){var _=r[m],S=!1;if(_===!0?S=_:typeof _=="function"?S=_(v):_ instanceof RegExp&&(S=_.test(v)),S!==!0&&(S=!1),v=a(m,v),!!v){var M={position:d,sourcePosition:u,source:b,isWhite:S};if(S){var T=n(m,v,M);return MD(T)?m+":"+v:T}else{var T=s(m,v,M);if(!MD(T))return T}}});return l};var qme=QW;(function(e,t){var i=Af,r=qme;function n(a,l){var u=new r(l);return u.process(a)}t=e.exports=n,t.FilterCSS=r;for(var s in i)t[s]=i[s]})(d$,d$.exports);var v8=d$.exports,b8={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},Wme=v8.FilterCSS,Yme=v8.getDefaultWhiteList,ex=b8;function eY(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var tY=new Wme;function Zme(e,t,i){}function Kme(e,t,i){}function Jme(e,t,i){}function Xme(e,t,i){}function iY(e){return e.replace(eye,"&lt;").replace(tye,"&gt;")}function Qme(e,t,i,r){if(i=lY(i),t==="href"||t==="src"){if(i=ex.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(e_.lastIndex=0,e_.test(i))return""}else if(t==="style"){if(TD.lastIndex=0,TD.test(i)||(ED.lastIndex=0,ED.test(i)&&(e_.lastIndex=0,e_.test(i))))return"";r!==!1&&(r=r||tY,i=r.process(i))}return i=uY(i),i}var eye=/</g,tye=/>/g,iye=/"/g,rye=/&quot;/g,nye=/&#([a-zA-Z0-9]*);?/gim,sye=/&colon;?/gim,aye=/&newline;?/gim,e_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,TD=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ED=/u\s*r\s*l\s*\(.*/gi;function rY(e){return e.replace(iye,"&quot;")}function nY(e){return e.replace(rye,'"')}function sY(e){return e.replace(nye,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function aY(e){return e.replace(sye,":").replace(aye," ")}function oY(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return ex.trim(t)}function lY(e){return e=nY(e),e=sY(e),e=aY(e),e=oY(e),e}function uY(e){return e=rY(e),e=iY(e),e}function oye(){return""}function lye(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function r(a){return i?!0:ex.indexOf(e,a)!==-1}var n=[],s=!1;return{onIgnoreTag:function(a,l,u){if(r(a))if(u.isClosing){var d="[/removed]",m=u.position+d.length;return n.push([s!==!1?s:u.position,m]),s=!1,d}else return s||(s=u.position),"[removed]";else return t(a,l,u)},remove:function(a){var l="",u=0;return ex.forEach(n,function(d){l+=a.slice(u,d[0]),u=d[1]}),l+=a.slice(u),l}}}function uye(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("<!--",i);if(r===-1){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("-->",r);if(n===-1)break;i=n+3}return t}function cye(e){var t=e.split("");return t=t.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),t.join("")}Bi.whiteList=eY();Bi.getDefaultWhiteList=eY;Bi.onTag=Zme;Bi.onIgnoreTag=Kme;Bi.onTagAttr=Jme;Bi.onIgnoreTagAttr=Xme;Bi.safeAttrValue=Qme;Bi.escapeHtml=iY;Bi.escapeQuote=rY;Bi.unescapeQuote=nY;Bi.escapeHtmlEntities=sY;Bi.escapeDangerHtml5Entities=aY;Bi.clearNonPrintableCharacter=oY;Bi.friendlyAttrValue=lY;Bi.escapeAttrValue=uY;Bi.onIgnoreTagStripAll=oye;Bi.StripTagBody=lye;Bi.stripCommentTag=uye;Bi.stripBlankChar=cye;Bi.cssFilter=tY;Bi.getDefaultCSSWhiteList=Yme;var v5={},Sh=b8;function hye(e){var t=Sh.spaceIndex(e),i;return t===-1?i=e.slice(1,-1):i=e.slice(1,t+1),i=Sh.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function dye(e){return e.slice(0,2)==="</"}function pye(e,t,i){var r="",n=0,s=!1,a=!1,l=0,u=e.length,d="",m="";e:for(l=0;l<u;l++){var v=e.charAt(l);if(s===!1){if(v==="<"){s=l;continue}}else if(a===!1){if(v==="<"){r+=i(e.slice(n,l)),s=l,n=l;continue}if(v===">"){r+=i(e.slice(n,s)),m=e.slice(s,l+1),d=hye(m),r+=t(s,r.length,d,m,dye(m)),n=l+1,s=!1;continue}if(v==='"'||v==="'")for(var b=1,_=e.charAt(l-b);_.trim()===""||_==="=";){if(_==="="){a=v;continue e}_=e.charAt(l-++b)}}else if(v===a){a=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r}var fye=/[^a-zA-Z0-9\\_:.-]/gim;function mye(e,t){var i=0,r=0,n=[],s=!1,a=e.length;function l(b,_){if(b=Sh.trim(b),b=b.replace(fye,"").toLowerCase(),!(b.length<1)){var S=t(b,_||"");S&&n.push(S)}}for(var u=0;u<a;u++){var d=e.charAt(u),m,v;if(s===!1&&d==="="){s=e.slice(i,u),i=u+1,r=e.charAt(i)==='"'||e.charAt(i)==="'"?i:gye(e,u+1);continue}if(s!==!1&&u===r){if(v=e.indexOf(d,u+1),v===-1)break;m=Sh.trim(e.slice(r+1,v)),l(s,m),s=!1,u=v,i=u+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),s===!1)if(v=yye(e,u),v===-1){m=Sh.trim(e.slice(i,u)),l(m),s=!1,i=u+1;continue}else{u=v-1;continue}else if(v=vye(e,u-1),v===-1){m=Sh.trim(e.slice(i,u)),m=CD(m),l(s,m),s=!1,i=u+1;continue}else continue}return i<e.length&&(s===!1?l(e.slice(i)):l(s,CD(Sh.trim(e.slice(i))))),Sh.trim(n.join(" "))}function yye(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function gye(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="'"||i==='"'?t:-1}}function vye(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function bye(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function CD(e){return bye(e)?e.substr(1,e.length-2):e}v5.parseTag=pye;v5.parseAttr=mye;var wye=v8.FilterCSS,Mo=Bi,cY=v5,_ye=cY.parseTag,Sye=cY.parseAttr,pS=b8;function t_(e){return e==null}function xye(e){var t=pS.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=pS.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=pS.trim(e.slice(0,-1))),{html:e,closing:i}}function Mye(e){var t={};for(var i in e)t[i]=e[i];return t}function Tye(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map(function(r){return r.toLowerCase()}):t[i.toLowerCase()]=e[i];return t}function hY(e){e=Mye(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Mo.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Tye(e.whiteList||e.allowList):e.whiteList=Mo.whiteList,e.onTag=e.onTag||Mo.onTag,e.onTagAttr=e.onTagAttr||Mo.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Mo.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Mo.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Mo.safeAttrValue,e.escapeHtml=e.escapeHtml||Mo.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new wye(e.css))}hY.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,r=i.whiteList,n=i.onTag,s=i.onIgnoreTag,a=i.onTagAttr,l=i.onIgnoreTagAttr,u=i.safeAttrValue,d=i.escapeHtml,m=t.cssFilter;i.stripBlankChar&&(e=Mo.stripBlankChar(e)),i.allowCommentTag||(e=Mo.stripCommentTag(e));var v=!1;i.stripIgnoreTagBody&&(v=Mo.StripTagBody(i.stripIgnoreTagBody,s),s=v.onIgnoreTag);var b=_ye(e,function(_,S,M,T,E){var A={sourcePosition:_,position:S,isClosing:E,isWhite:Object.prototype.hasOwnProperty.call(r,M)},P=n(M,T,A);if(!t_(P))return P;if(A.isWhite){if(A.isClosing)return"</"+M+">";var N=xye(T),D=r[M],k=Sye(N.html,function(q,X){var re=pS.indexOf(D,q)!==-1,W=a(M,q,X,re);return t_(W)?re?(X=u(M,q,X,m),X?q+'="'+X+'"':q):(W=l(M,q,X,re),t_(W)?void 0:W):W});return T="<"+M,k&&(T+=" "+k),N.closing&&(T+=" /"),T+=">",T}else return P=s(M,T,A),t_(P)?d(T):P},d);return v&&(b=v.remove(b)),b};var Eye=hY;(function(e,t){var i=Bi,r=v5,n=Eye;function s(l,u){var d=new n(u);return d.process(l)}t=e.exports=s,t.filterXSS=s,t.FilterXSS=n,function(){for(var l in i)t[l]=i[l];for(var u in r)t[u]=r[u]}();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(h$,h$.exports);var Em=h$.exports,Cye=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Iye=function(){function e(t,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=Q3(Q3({},Em.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,a,l,u){return s==="a"&&a==="href"||(s==="img"||s==="source")&&a==="src"?r.sanitizeUrl(l):Em.safeAttrValue(s,a,l,u)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;t&&!i?n=t:t&&i?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(s){if(s==="whiteList")n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,t.whiteList||{}]);else if(s==="css"){var a=t.css.whiteList;a!=null&&t.css instanceof Object&&Object.keys(a).forEach(function(l){return n.css.whiteList[l]=a[l]})}else n[s]=t[s]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new Em.FilterXSS(n)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,i){var r=(i??{}).isProtocolRequired,n=r===void 0?!0:r,s=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",l=/^#/.test(t),u=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return a||l||u?Em.escapeAttrValue(t):!s&&!n?Em.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,i,r,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,r,n):Em.safeAttrValue(t,i,r,n)},e.prototype.validate=function(t,i){i===void 0&&(i={});var r=this.sanitize(t,i);return{isValid:t===r,sanitized:r}},e.prototype.encodeHTML=function(t){var i=this;return String(t).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},e.prototype.encodeAttrValue=function(t){var i=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(r,n){return i.test(r)?r:"&#x".concat(Number(t.charCodeAt(n)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(r){Object.keys(r).forEach(function(n){Array.isArray(r[n])&&Array.isArray(i[n])?i[n]=i[n].concat(r[n]):i[n]=r[n]})}),i},e.prototype._iterateOverObject=function(t,i){var r=this;i===void 0&&(i={});try{var n=!1,s=void 0;if(Array.isArray(t))s=t.reduce(function(l,u){var d=r.validate(u,i);return d.isValid?l.concat([u]):(n=!0,l.concat([d.sanitized]))},[]);else if(Cye(t)){var a=Object.keys(t);s=a.reduce(function(l,u){var d=t[u],m=r.validate(d,i);return m.isValid?l[u]=d:(n=!0,l[u]=m.sanitized),l},{})}else return i.allowUndefined&&typeof t>"u"?void 0:null;return n?s:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const b5=new Map;function dY(){b5.clear()}function $ye(e){return b5.get(e)}function Aye(e,t){b5.set(e,t)}function WE(e){b5.delete(e)}function pY(...e){const t=Gn.acquire();for(let r=0;r<e.length;r++){const n=e[r],s=typeof n;if(s==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(s==="object")for(const a in n)n[a]&&t.push(a)}const i=t.join(" ");return Gn.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(r=>{var n;dY();for(const s of r)(n=e.get(s.target))==null||n(s)}),i=(r,n,s)=>(e.set(r,n),t.observe(r,s),jt(()=>{t.unobserve(r),e.delete(r)}));return(r,n,s)=>{let a=null;return Wb([Ge(()=>typeof r=="function"?r():r,l=>{a==null||a.remove(),l&&(a=i(l,n,s))},cs),jt(()=>a==null?void 0:a.remove())])}})();function Rye(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function $Oe(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function AOe(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const Pye=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Oye=Pye.reduce((e,t)=>(e[t]=[],e),{}),kye=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],fY=new Iye({whiteList:Oye,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(kye.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Lye(e){return e==="Enter"||e===" "}async function Nye(e,t){await OB(Jb(t));const i=typeof e=="function"?e():e;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const mY="http://www.w3.org/",w5=`${mY}2000/svg`,yY=`${mY}1999/xlink`;let ID=[],w8=(e,t)=>{let i={};return Object.keys(e).forEach(r=>{i[r]=e[r]}),t&&Object.keys(t).forEach(r=>{i[r]=t[r]}),i},_8=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),gY=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Dye=(e,t,i)=>{if(t.vnodeSelector!==""){for(let r=i;r<e.length;r++)if(_8(e[r],t))return r}return-1},YE=(e,t,i,r)=>{let n=e[t];if(n.vnodeSelector==="")return;let s=n.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let a=0;a<e.length;a++)if(a!==t){let l=e[a];if(_8(l,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},jye=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},p$=[],f$=!1,vY=e=>{(e.children||[]).forEach(vY),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},$D=()=>{f$=!1,p$.forEach(vY),p$.length=0},AD=e=>{p$.push(e),f$||(f$=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback($D,{timeout:16}):setTimeout($D,16))},RD=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),AD(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),AD(e))},Fye=(e,t,i)=>{if(!t)return;let r=i.eventHandlerInterceptor,n=Object.keys(t),s=n.length;for(let a=0;a<s;a++){let l=n[a],u=t[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")y$(e,u,!0);else if(l==="classes"){let d=Object.keys(u),m=d.length;for(let v=0;v<m;v++){let b=d[v];u[b]&&e.classList.add(b)}}else if(l==="styles"){let d=Object.keys(u),m=d.length;for(let v=0;v<m;v++){let b=d[v],_=u[b];_&&(gY(_),i.styleApplyer(e,b,_))}}else if(l!=="key"&&u!=null){let d=typeof u;d==="function"?(l.lastIndexOf("on",0)===0&&(r&&(u=r(l,u,e,t)),l==="oninput"&&function(){let m=u;u=function(v){m.apply(this,[v]),v.target["oninput-value"]=v.target.value}}()),e[l]=u):i.namespace===w5?l==="href"?e.setAttributeNS(yY,l,u):e.setAttribute(l,u):d==="string"&&l!=="value"?l==="innerHTML"?e[l]=fY.sanitize(u):m$(e)&&l in e?e[l]=u:e.setAttribute(l,u):e[l]=u}}};function m$(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let tx,zye=(e,t,i)=>{if(t)for(let r of t)Vv(r,e,void 0,i)},bY=(e,t,i)=>{zye(e,t.children,i),t.text&&(e.textContent=t.text),Fye(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},Vv=(e,t,i,r)=>{let n,s=0,a=e.vnodeSelector,l=t.ownerDocument;if(a==="")n=e.domNode=l.createTextNode(e.text),i!==void 0?t.insertBefore(n,i):t.appendChild(n);else{for(let u=0;u<=a.length;++u){let d=a.charAt(u);if(u===a.length||d==="."||d==="#"){let m=a.charAt(s-1),v=a.slice(s,u);m==="."?n.classList.add(v):m==="#"?n.id=v:(v==="svg"&&(r=w8(r,{namespace:w5})),r.namespace!==void 0?n=e.domNode=l.createElementNS(r.namespace,v):(n=e.domNode=e.domNode||l.createElement(v),v==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),s=u+1}}bY(n,e,r)}},y$=(e,t,i)=>{t&&t.split(" ").forEach(r=>{r&&e.classList.toggle(r,i)})},Uye=(e,t,i,r)=>{if(!i)return;let n=!1,s=Object.keys(i),a=s.length;for(let l=0;l<a;l++){let u=s[l],d=i[u],m=t[u];if(u==="class")m!==d&&(y$(e,m,!1),y$(e,d,!0));else if(u==="classes"){let v=e.classList,b=Object.keys(d),_=b.length;for(let S=0;S<_;S++){let M=b[S],T=!!d[M];T!==!!m[M]&&(n=!0,T?v.add(M):v.remove(M))}}else if(u==="styles"){let v=Object.keys(d),b=v.length;for(let _=0;_<b;_++){let S=v[_],M=d[S];M!==m[S]&&(n=!0,M?(gY(M),r.styleApplyer(e,S,M)):r.styleApplyer(e,S,""))}}else if(d||typeof m!="string"||(d=""),u!=="value"||m$(e)){if(d!==m){let v=typeof d;v==="function"&&r.eventHandlerInterceptor||(r.namespace===w5?u==="href"?e.setAttributeNS(yY,u,d):e.setAttribute(u,d):v==="string"?u==="innerHTML"?e[u]=fY.sanitize(d):u==="role"&&d===""?e.removeAttribute(u):m$(e)&&u in e?e[u]=d:e.setAttribute(u,d):e[u]!==d&&(e[u]=d),n=!0)}}else{let v=e[u];v!==d&&(e["oninput-value"]?v===e["oninput-value"]:d!==m)&&(e[u]=d,e["oninput-value"]=void 0),d!==m&&(n=!0)}}return n},Gye=(e,t,i,r,n)=>{if(i===r)return!1;r=r||ID;let s,a=(i=i||ID).length,l=r.length,u=0,d=0,m=!1;for(;d<l;){let v=u<a?i[u]:void 0,b=r[d];if(v!==void 0&&_8(v,b))m=tx(v,b,n)||m,u++;else{let _=Dye(i,b,u+1);if(_>=0){for(s=u;s<_;s++)RD(i[s]),YE(i,s,e,"removed");m=tx(i[_],b,n)||m,u=_+1}else Vv(b,t,u<a?i[u].domNode:void 0,n),jye(b),YE(r,d,e,"added")}d++}if(a>u)for(s=u;s<a;s++)RD(i[s]),YE(i,s,e,"removed");return m};tx=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let s=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(a,r),t.domNode=a,n=!0,n}t.domNode=r}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=w8(i,{namespace:w5})),e.text!==t.text&&(s=!0,t.text===void 0?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,s=Gye(t,r,e.children,t.children,i)||s,s=Uye(r,e.properties,t.properties,i)||s,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return s&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let i_=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,tx(r,i,t)},domNode:e.domNode});const Vye={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let k1=e=>w8(Vye,e),Nh={append:(e,t,i)=>(i=k1(i),Vv(t,e,void 0,i),i_(t,i)),insertBefore:(e,t,i)=>(i=k1(i),Vv(t,e.parentNode,e,i),i_(t,i)),merge:(e,t,i)=>(i=k1(i),t.domNode=e,bY(e,t,i),i_(t,i)),replace:(e,t,i)=>(i=k1(i),Vv(t,e.parentNode,e,i),e.parentNode.removeChild(e),i_(t,i))},wY,Bye=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};wY=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Hye=(e,t)=>{let i=e;return t.forEach(r=>{i=i&&i.children?wY(i.children,n=>n.domNode===r):void 0}),i},qye=(e,t,i)=>{let r=function(n){i("domEvent",n);let s=t(),a=Bye(n.currentTarget,s.domNode);a.reverse();let l,u=Hye(s.getLastRender(),a);return e.scheduleRender(),u&&(l=u.properties[`on${n.type}`].apply(u.properties.bind||this,arguments)),i("domEventProcessed",n),l};return(n,s,a,l)=>r},PD=e=>{let t,i,r=k1(e),n=r.performanceLogger,s=!0,a=!1,l=[],u=[],d=(v,b,_)=>{let S,M=()=>S;r.eventHandlerInterceptor=qye(t,M,n),S=v(b,_(),r),l.push(S),u.push(_)},m=()=>{if(i=void 0,s){s=!1,n("renderStart",void 0);for(let v=0;v<l.length;v++){let b=u[v]();n("rendered",void 0),l[v].update(b),n("patched",void 0)}n("renderDone",void 0),s=!0}};return t={renderNow:m,scheduleRender:()=>{i||a||(i=requestAnimationFrame(m))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,s=!0,t.scheduleRender()},append:(v,b)=>{d(Nh.append,v,b)},insertBefore:(v,b)=>{d(Nh.insertBefore,v,b)},merge:(v,b)=>{d(Nh.merge,v,b)},replace:(v,b)=>{d(Nh.replace,v,b)},detach:v=>{for(let b=0;b<u.length;b++)if(u[b]===v)return u.splice(b,1),l.splice(b,1)[0];throw new Error("renderFunction was not found")}},t},Wc=class extends De{constructor(){super(...arguments),this.items=new Ce,this._watchUpdatingTracking=new tf,this._callbacks=new Map,this._projector=PD(),this._hiddenProjector=PD()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of i.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const i=this._hiddenSurface,r=this._hiddenProjector;let n;const s=()=>(n=t.render(),n);r.append(i,s),r.renderNow();const a={left:0,top:0,right:0,bottom:0};if(n!=null&&n.domNode){const l=n.domNode.getBoundingClientRect();a.left=l.left,a.top=l.top,a.right=l.right,a.bottom=l.bottom}for(r.detach(s);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(t,i){const r=this.computeBoundingRect(t),n=this.computeBoundingRect(i);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(s=>s.visible&&!(r&&s.isDecoration)))return;const n=t.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(s=>{r&&s.isDecoration||(n.save(),s.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};h([f({readOnly:!0})],Wc.prototype,"surface",void 0),h([f({readOnly:!0})],Wc.prototype,"items",void 0),h([f({readOnly:!0})],Wc.prototype,"needsRender",null),h([f({readOnly:!0})],Wc.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],Wc.prototype,"updating",null),Wc=h([O("esri.views.overlay.ViewOverlay")],Wc);const OD=Wc,ZE=[0,0];function Wye(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return ZE[0]=i.left+((t==null?void 0:t.pageXOffset)??0),ZE[1]=i.top+((t==null?void 0:t.pageYOffset)??0),ZE}function kD(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function Yye(e){const t=document.createElement("div");return e.appendChild(t),t}const Cm=16,l1=750,Zye=512,Kye=2,Jye=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:Cm,time:l1},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Ge(()=>this.cursor,r=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",r)}),Ge(()=>this.navigating,r=>{const{surface:n}=this;n&&n.setAttribute("data-navigating",r.toString())})])}initialize(){this.addHandles([Ge(()=>this.ui,(i,r)=>this._handleUIChange(i,r),ir),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){var i;this.destroyed||((i=this.ui)==null||i.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const r=this._get("container"),n=g8(i);if(n||typeof i!="string"||ce.getLogger(this).error("#container",`element with id '${i}' not found`),r===n)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(kD(this.root),this._set("root",null)),this.userContent&&(xD(this.userContent,r),kD(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const s=document.createElement("div");s.className="esri-view-user-storage",xD(n,s),n.appendChild(s),this._set("userContent",s);const a=document.createElement("div");a.className="esri-view-root",n.insertBefore(a,n.firstChild),this._set("root",a);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,a.appendChild(l),this._set("surface",l);const u=new OD;a.appendChild(u.surface),this._set("overlay",u),this.addHandles(Ge(()=>u.needsRender,d=>{d&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=lg({render:()=>{var m;return(m=this.overlay)==null?void 0:m.render()}}):this._overlayRenderTaskHandle=$i(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}blur(){var i;(i=this.surface)==null||i.blur()}focus(){var i;(i=this.surface)==null||i.focus()}pageToContainer(i,r,n){const s=this.position;return i-=s?s[0]:0,r-=s?s[1]:0,n?(n[0]=i,n[1]=r):n=[i,r],n}containerToPage(i,r,n){const s=this.position;return i+=s?s[0]:0,r+=s?s[1]:0,n?(n[0]=i,n[1]=r):n=[i,r],n}_handleUIChange(i,r){this.removeHandles("ui"),r&&r!==i&&r.destroy(),i&&(i.view=this,this.addHandles(Ge(()=>this.root,n=>{i.container=n?Yye(n):null},ir),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Cm,i.time=l1;const r=lg({prepare:a=>{const l=this._measure(),u=this._freqInfo;if(u.time+=a.deltaTime,l&&(u.freq=Cm,this._get("resizing")||this._set("resizing",!0)),u.time<u.freq)return;u.time=0;const d=this._position();u.freq=d||l?Cm:Math.min(l1,u.freq*Kye),!l&&u.freq>=Zye&&(r.pause(),this._get("resizing")&&this._set("resizing",!1))}}),n=new ResizeObserver(a=>{i.freq=Cm,i.time=l1,r.resume()});this.container!=null&&n.observe(this.container);const s=jt(()=>n.disconnect());this.addHandles([Kb(window,"resize",()=>{i.freq=Cm,i.time=l1,r.resume()}),s,r],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,r=i?i.clientWidth:0,n=i?i.clientHeight:0;if(r===0||n===0)return this.suspended||this._set("suspended",!0),!1;const s=this.width,a=this.height;return r===s&&n===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:a,width:r,height:n}),!0)}_position(){const i=this.container,r=this.position,n=i&&Wye(i);return!!n&&(!r||n[0]!==r[0]||n[1]!==r[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return h([f()],t.prototype,"container",null),h([f({readOnly:!0})],t.prototype,"focused",null),h([f({readOnly:!0})],t.prototype,"height",void 0),h([f()],t.prototype,"messagesCommon",void 0),h([f({type:OD})],t.prototype,"overlay",void 0),h([f({readOnly:!0})],t.prototype,"position",void 0),h([f({readOnly:!0})],t.prototype,"resizing",void 0),h([f({readOnly:!0})],t.prototype,"root",void 0),h([f({value:null,readOnly:!0})],t.prototype,"size",null),h([f({readOnly:!0})],t.prototype,"surface",void 0),h([f({readOnly:!0})],t.prototype,"suspended",void 0),h([f({nonNullable:!0})],t.prototype,"ui",void 0),h([f({readOnly:!0})],t.prototype,"userContent",void 0),h([f({readOnly:!0})],t.prototype,"width",void 0),h([f()],t.prototype,"widthBreakpoint",void 0),t=h([O("esri.views.DOMContainer")],t),t},Xye=J("mac")?"Meta":"Control",Qye=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),ege=e=>Qye.has(e);let tge=class{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},kr=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,r){let n;typeof i=="function"?(r=i,n=[]):n=i||[];const s=typeof t=="string"?new tge(t,n):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=m=>{const v=this._incoming[m.match.eventType];if(v){const b=v.indexOf(m);v.splice(b,1),a(),this._manager&&this._manager.updateDependencies()}},u=new ige(s,r,{onPause:l,onRemove:l,onResume:m=>{const v=this._incoming[m.match.eventType];v&&!v.includes(m)&&(v.push(m),a(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[s.eventType];return d||(d=[],this._incoming[s.eventType]=d),d.push(u),a(),this._manager&&this._manager.updateDependencies(),u}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new rge(t,{onEmit:(r,n,s,a)=>{var l;(l=this._manager)==null||l.emit(r.eventType,n,s,a)},onRemove:r=>{var n;delete this._outgoing[r.eventType],(n=this._manager)==null||n.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!0)}stopCapturingPointer(t){var i;(i=this._manager)==null||i.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var r;const i=this._incoming[t.type];if(i){for(const n of i)if(n.match.matches(t)&&((r=n.callback)==null||r.call(n,t),t.shouldStopPropagation()))break}}},ige=class{constructor(t,i,r){this.match=t,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},rge=class{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,r){this._removed||this._handler.onEmit(this,t,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},nge=class extends kr{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(t){const i=t.native.pointerType==="touch"?"touch":"mouse",{x:r,y:n}=t;i===this._value&&this._x===r&&this._y===n||(this._value=i,this._x=r,this._y=n,this._onChange(i,r,n))}},sge=class{constructor(t,i){this._observable=new r2,this._value=t,this._equalityFunction=i}get value(){return Xe(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function _g(e,t=qV){return new sge(e,t)}let age=class extends kr{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=_g(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},oge=class{constructor(t,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in t){const n=t[r],s=new EB(n,void 0,void 0,2,2);this._properties[r]={pool:s,acquired:[]}}this._afterDispatchHandle=Ele(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const i=this._properties[t];for(const r of i.acquired)ZL(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(t){const i=this._owner._get(t),r=this._properties[t];let n=r.pool.acquire();for(r.acquired.push(n);n===i;)r.acquired.push(n),n=r.pool.acquire();return n}_release(){for(const t in this._properties){const i=this._properties[t];let r=0;for(const n of i.acquired)ZL(n)?i.acquired[r++]=n:i.pool.release(n);i.acquired.length=r}}},ba=class extends De{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Xye,this._latestPointerType="mouse",this._propertiesPool=new oge({latestPointerLocation:cge},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const i of t)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,i,r=Gh.INTERNAL){if(this._nameToGroup[t]||i.length===0)return;const n={name:t,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=n;for(let s=n.handlers.length-1;s>=0;s--){const a=n.handlers[s];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(l,u,d,m,v)=>{this._emitInputEvent(a.priorityIndex+1,l,u,d,v,m)},setPointerCapture:(l,u)=>{this._setPointerCapture(n,a,l,u)},setEventCallback:l=>{a.eventCallback=l},setUninstallCallback:l=>{a.uninstallCallback=l},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const i=this._nameToGroup[t];i?(i.handlers.forEach(r=>{var n;r.removed=!0,(n=r.uninstallCallback)==null||n.call(r)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ce.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let s=n.handler.hasSideEffects;if(!s){for(const a of n.handler.outgoingEventTypes)if(t.has(a)){s=!0;break}}if(s)for(const a of n.handler.incomingEventMatches){t.add(a.eventType);for(const l of a.keyModifiers)ege(l)||i.add(l)}n.active=s}this._sourceEvents=t,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,i,r){this._latestPointerType=t;const n=this._get("latestPointerLocation");if(n==null||n.x!==i||n.y!==r){const s=this._propertiesPool.get("latestPointerLocation");s.x=i,s.y=r,this._set("latestPointerLocation",s)}}_onEventReceived(t,i){if(t==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(t,i);const r=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,n=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(t,i,r,n)}_updateKeyModifiers(t,i){if(!i)return;let r=!1;const n=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},s=(l,u)=>{u&&!this._activeKeyModifiers.has(l)?(n(),this._activeKeyModifiers.add(l)):!u&&this._activeKeyModifiers.has(l)&&(n(),this._activeKeyModifiers.delete(l))};if(t==="key-down"||t==="key-up"){const l=i.key;this._keyModifiers.has(l)&&s(l,t==="key-down")}const a=i.native;s("Alt",!!(a!=null&&a.altKey)),s("Control",!!(a!=null&&a.ctrlKey)),s("Ctrl",!!(a!=null&&a.ctrlKey)),s("Shift",!!(a!=null&&a.shiftKey)),s("Meta",!!(a!=null&&a.metaKey)),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new nge((t,i,r)=>this._setLatestPointer(t,i,r)),this._multiTouchHandler=new age,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Gh.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Gh.INTERNAL)}_setPointerCapture(t,i,r,n){const s=t.name+"-"+i.priorityIndex,a=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,a),n?(a.add(s),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):a.has(s)&&(a.delete(s),a.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,i,r,n){this._emitInputEvent(0,t,i,r,n)}_emitInputEvent(t,i,r,n,s,a){const l=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),u=s!==void 0&&s,d={event:new lge(i,r,l,a||this._activeKeyModifiers,u),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(t){this._currentPropagation={events:new q3,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var i,r,n;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:s,priorityIndex:a}=t.events.pop(),l=(i=s.data)==null?void 0:i.eventId;if(!(l!=null&&this._stoppedPropagationEventIds.has(l)))for(t.currentHandler=this._handlersPriority[a];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!s.shouldStopPropagation()&&((n=(r=t.currentHandler).eventCallback)==null||n.call(r,s)),s.shouldStopPropagation()){l!=null&&this._stoppedPropagationEventIds.add(l);break}if(s.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:s,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const i=new q3;i.push(t);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,i){if(t.handler.hasSideEffects!==i.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==i.groupPriority)return t.groupPriority>i.groupPriority?-1:1;for(const r of t.handler.incomingEventMatches)for(const n of i.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const s=r.keyModifiers.filter(a=>n.keyModifiers.includes(a));if(s.length===r.keyModifiers.length!=(s.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return t.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(t){const i=[];for(const r of t){let n=0;for(;n<i.length&&this._compareHandlerPriority(r,i[n])>=0;)n++;i.splice(n,0,r)}return i}get debug(){const t=i=>{const r=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=r};return{injectEvent:(i,r)=>{t(()=>this._onEventReceived(i,r))},disablePointerCapture:t}}};h([f({readOnly:!0})],ba.prototype,"hasPendingInputs",null),h([f({constructOnly:!0})],ba.prototype,"eventSource",void 0),h([f({constructOnly:!0})],ba.prototype,"recognizers",void 0),h([f()],ba.prototype,"_latestPointerType",void 0),h([f()],ba.prototype,"latestPointerType",null),h([f()],ba.prototype,"multiTouchActive",null),h([f({readOnly:!0})],ba.prototype,"latestPointerLocation",void 0),h([f()],ba.prototype,"_paused",void 0),h([f({readOnly:!0})],ba.prototype,"updating",null),ba=h([O("esri.views.input.InputManager")],ba);let lge=class{constructor(t,i,r,n,s){this.type=t,this.data=i,this.timestamp=r,this.modifiers=n,this.cancelable=s,this._propagationState=xh.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=xh.STOPPED}shouldStopPropagation(){return!!(this._propagationState&xh.STOPPED)}async(t){this._propagationState|=xh.PAUSED;const i=(r,n)=>{this._propagationState&=~xh.PAUSED;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),n)throw r;return r};return(typeof t=="function"?t():t).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(t){return!!(this._propagationState&xh.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var xh;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(xh||(xh={}));const Gh={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let uge=class{};const cge=uge;function jc(e){return e!=null&&"open"in e&&"declaredClass"in e}function LD(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const hge=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Ge(()=>[this.ui,this.popup],([i,r],n)=>{const s="popup",a="manual";if(n){const[l,u]=n;l&&jc(u)&&(u.view=null,LD(u)&&l.remove(u,s))}i&&jc(r)&&(r.view=this,LD(r)&&i.add(r,{key:s,position:a,internal:!0}))},ir),this.on("click",i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(jc(this.popup)?this.popup.viewModel.handleViewClick(i):i.async(async()=>{await this.setupPopup(),jc(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)}))},Gh.WIDGET)]),gg(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{ve(()=>import("./Popup-eZ0Mosld.js").then(i=>i.P),__vite__mapDeps([142,143,144,145,146,5,147,148,149,57,55,56,14,19,58,150,22,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(jc(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void ce.getLogger(this).error(new z("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){var i;(i=this._popupSetupTask)==null||i.abort(),jc(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,r),r)}async setupPopup(){var i;if((i=this._popupSetupTask)==null||i.abort(),this.popup&&!jc(this.popup))return this._popupSetupTask=n2(async r=>{const{default:n}=await ve(()=>import("./Popup-eZ0Mosld.js").then(a=>a.P),__vite__mapDeps([142,143,144,145,146,5,147,148,149,57,55,56,14,19,58,150,22,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165]));if(ii(r),!this.popup||jc(this.popup))return;const s=this.popup;delete s.open,delete s.close,this.popup=new n(s)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:r},n){const s=[],a=[];let l=!1;const u=sle(n,J("popup-view-fetch-timeout")??pge),d=b=>{const _=new dge(b);return a.push(_),s.push(_.promise),_},m=b=>{const _=a.at(-1);return _&&_.layerView===b&&!l?_:d(b)};for(const b of r)"graphic"in b?(m(b.layerView).graphics.push(b.graphic),l=!1):(s.push(b.layerView.fetchPopupFeaturesAtLocation(b.mapPoint,u)),l=!0);a.map(b=>b.resolve(u));const v=nle(s).then(b=>b.filter(_=>!!_).flat());return{pendingFeatures:s,allGraphicsPromise:v,location:i}}async _getPopupHits(i,r){const{hits:n,location:s}=await this.popupHitTest(i);ii(r);const a=[];for(const l of n)if("graphic"in l){if(this._isValidPopupGraphic(l.graphic,r)){const u=this._isValidPopupGraphicsLayerView(l.layerView)?l.layerView:void 0;a.push({graphic:l.graphic,layerView:u})}}else this._isValidPopupLocationLayerView(l.layerView)&&a.push({mapPoint:l.mapPoint,layerView:l.layerView});return{hits:a,location:s}}_isValidPopupGraphic(i,r){return i&&!!i.getEffectivePopupTemplate(r==null?void 0:r.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return h([f()],t.prototype,"popup",void 0),h([f()],t.prototype,"popupEnabled",void 0),t=h([O("esri.views.PopupView")],t),t};let dge=class{constructor(t){this.layerView=t,this._resolver=Ua(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:i,graphics:r,_resolver:n}=this;if(!i)return n.resolve(r),n.promise;let s;return i.fetchPopupFeaturesFromGraphics(r,t).catch(a=>(s=a,null)).then(a=>{a?n.resolve(a):n.reject(s)}),n.promise}};const pge=5e3;function Wu(e,t,i=Ce){return t||(t=new i),t===e||(t.removeAll(),fge(e)?t.addMany(e):e&&t.add(e)),t}function _Y(e){return e}function fge(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Mh;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Mh||(Mh={}));let mge=class{constructor(){this._resolver=Ua(),this._status=Mh.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Mh.RESOLVED,this._cleanUp()},()=>{this._status=Mh.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Mh.RESOLVED}isRejected(){return this._status===Mh.REJECTED}isFulfilled(){return this._status!==Mh.PENDING}abort(){this._resolver.reject(li())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Ua(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||Vi(n)||this._resolver.reject(n)}),t.resolve()}};const SY=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new mge,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=h([O("esri.core.Promise")],t),t};let L1=class extends SY(De){};L1=h([O("esri.core.Promise")],L1),function(e){e.EsriPromiseMixin=SY}(L1||(L1={}));const u2=L1,yge="not-loaded",gge="loading",vge="failed",ND="loaded",xY=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const n=this.load.bind(this);this.load=s=>{const a=new Promise((l,u)=>{const d=pR(s,u);this.destroyed&&u(new z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,u).finally(()=>{d&&d.remove()})});if(this.loadStatus===yge){this._set("loadStatus",gge);const l=this._loadController=new AbortController;n({signal:l.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",ND),this._loadController=null},r=>{this._set("loadStatus",vge),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Yh(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===ND}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new z("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return h([f({readOnly:!0})],t.prototype,"loaded",null),h([f({readOnly:!0})],t.prototype,"loadError",void 0),h([f({clonable:!1})],t.prototype,"loadStatus",void 0),h([f({type:[Lo],readOnly:!0})],t.prototype,"loadWarnings",null),t=h([O("esri.core.Loadable")],t),t};let N1=class extends xY(u2){};N1=h([O("esri.core.Loadable")],N1),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=xY,e.isLoadable=t}(N1||(N1={}));const Ba=N1;async function MY(e,t){return await e.load(),bge(e,t)}async function bge(e,t){const i=[],r=(...s)=>{for(const a of s)a!=null&&(Array.isArray(a)?r(...a):Ce.isCollection(a)?a.forEach(l=>r(l)):Ba.isLoadable(a)&&i.push(a))};t(r);let n=null;if(await Ghe(i,async s=>{const a=await KR(wge(s)?s.loadAll():s.load());a.ok!==!1||n||(n=a)}),n)throw n.error;return e}function wge(e){return"loadAll"in e&&typeof e.loadAll=="function"}let r_;function _ge(e){return r_&&!r_.destroyed||(r_=e()),r_}var g$;const Sge=new It({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let wa=g$=class extends De{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new g$({categories:this.categories?H(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let r="";if(this.extent){const a=o5(this.extent,it.WGS84);a!=null&&(r=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(a=>Sge.toJSON(a.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};h([f()],wa.prototype,"categories",void 0),h([f()],wa.prototype,"disableExtraQuery",void 0),h([f({type:Lt})],wa.prototype,"extent",void 0),h([f()],wa.prototype,"filter",void 0),h([f()],wa.prototype,"num",void 0),h([f()],wa.prototype,"query",void 0),h([f()],wa.prototype,"sortField",void 0),h([f()],wa.prototype,"sortOrder",null),h([f()],wa.prototype,"start",void 0),wa=g$=h([O("esri.portal.PortalQueryParams")],wa);const Io=wa;var v$;let dr=v$=class extends ue{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new v$({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=Gi(Io,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Io,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new Io,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const s=new Io({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(s,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],s=new Io({num:1,query:`typekeywords:"${e}"`});return n.queryItems(s,t)}throw new z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(n=>{const s=n==null?void 0:n.categorySchema;return s!=null&&s.length?s:[]}):[])}};h([f()],dr.prototype,"access",void 0),h([f({type:Date})],dr.prototype,"created",void 0),h([f()],dr.prototype,"description",void 0),h([f()],dr.prototype,"id",void 0),h([f()],dr.prototype,"isInvitationOnly",void 0),h([f({type:Date})],dr.prototype,"modified",void 0),h([f()],dr.prototype,"owner",void 0),h([f()],dr.prototype,"portal",void 0),h([f()],dr.prototype,"snippet",void 0),h([f()],dr.prototype,"sortField",void 0),h([f()],dr.prototype,"sortOrder",void 0),h([f()],dr.prototype,"sourceJSON",void 0),h([f()],dr.prototype,"tags",void 0),h([f()],dr.prototype,"thumbnail",void 0),h([f({readOnly:!0})],dr.prototype,"thumbnailUrl",null),h([f()],dr.prototype,"title",void 0),h([f({readOnly:!0})],dr.prototype,"url",null),dr=v$=h([O("esri.portal.PortalGroup")],dr);const b$=dr;let Yd=class extends De{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};h([f()],Yd.prototype,"nextQueryParams",void 0),h([f()],Yd.prototype,"queryParams",void 0),h([f()],Yd.prototype,"results",void 0),h([f()],Yd.prototype,"total",void 0),Yd=h([O("esri.portal.PortalQueryResult")],Yd);const xge=Yd;let uu=class extends ue{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const t=(i=this.portal)==null?void 0:i.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};h([f({type:Date})],uu.prototype,"created",void 0),h([f()],uu.prototype,"id",void 0),h([f()],uu.prototype,"portal",void 0),h([f()],uu.prototype,"title",void 0),h([f({readOnly:!0})],uu.prototype,"url",null),h([f()],uu.prototype,"username",void 0),uu=h([O("esri.portal.PortalFolder")],uu);const Mge=uu;var w$;let di=w$=class extends ue{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e==null?void 0:e.data,r=e==null?void 0:e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",n).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],n=e.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:t}},a=await this.portal.request(i,s);for(const l of a.results){const u=e.find(v=>l.itemId===v.id),d=l.success;let m=null;d?(u.id=null,u.portal=null):l.error&&(m=new z("portal:delete-item-failed",l.error.message,l.error)),r.push({item:u,success:d,error:m})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const n=Mge.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=b$.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await ve(()=>Promise.resolve().then(()=>TY),void 0),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:r});let s;return n!=null&&n.items?(s=n.items.map(a=>{const l=i.fromJSON(a);return l.portal=this.portal,l}),await Promise.all(s.map(a=>a.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new b$({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new z("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new w$({sourceJSON:e});return t.read(e),t}};h([f()],di.prototype,"access",void 0),h([f({type:Date})],di.prototype,"created",void 0),h([f()],di.prototype,"culture",void 0),h([f()],di.prototype,"description",void 0),h([f()],di.prototype,"email",void 0),h([f()],di.prototype,"favGroupId",void 0),h([f()],di.prototype,"fullName",void 0),h([f({type:Date})],di.prototype,"modified",void 0),h([f()],di.prototype,"orgId",void 0),h([f()],di.prototype,"portal",void 0),h([f()],di.prototype,"preferredView",void 0),h([f()],di.prototype,"privileges",void 0),h([f()],di.prototype,"region",void 0),h([f()],di.prototype,"role",void 0),h([f()],di.prototype,"roleId",void 0),h([f()],di.prototype,"sourceJSON",void 0),h([f()],di.prototype,"thumbnail",void 0),h([f({readOnly:!0})],di.prototype,"thumbnailUrl",null),h([f()],di.prototype,"units",void 0),h([f({readOnly:!0})],di.prototype,"userContentUrl",null),h([f({readOnly:!0})],di.prototype,"url",null),h([f()],di.prototype,"username",void 0),h([f()],di.prototype,"userLicenseTypeId",void 0),h([f()],di.prototype,"userType",void 0),di=w$=h([O("esri.portal.PortalUser")],di);const S8=di;var Ds;let u1;const DD={PortalGroup:()=>Promise.resolve({default:b$}),PortalItem:()=>ve(()=>Promise.resolve().then(()=>TY),void 0),PortalUser:()=>Promise.resolve({default:S8})};let Se=Ds=class extends ue.JSONSupportMixin(Ba){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Dt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){jD.unregister(this),this.defaultBasemap=vi(this.defaultBasemap),this.defaultDevBasemap=vi(this.defaultDevBasemap),this.defaultVectorBasemap=vi(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=$i(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Dt.request.trustedServers.includes(t)||Dt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var i;const e=(i=this.user)==null?void 0:i.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return wH(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=S8.fromJSON(e),t.portal=this),t}load(e){const t=ve(()=>Promise.resolve().then(()=>Yge),void 0).then(({default:i})=>{ii(e),u1=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{var r;if(!this.hasAPIKey&&pt){const n=pt;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Ds.AUTH_MODE_AUTO&&this.authMode!==Ds.AUTH_MODE_NO_PROMPT||((r=this._esriIdCredentialCreateHandle)==null||r.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",Tge(new WeakRef(this))),jD.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-Dllv2XkL.js");return{default:i}},__vite__mapDeps([166,167]))).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new Io;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new u1({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Rn(e)?Promise.reject(li()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new Io({num:100,sortField:"title"});if(t!=null&&t.length){const r=[];for(const n of t)r.push(`(title:"${n.title}" AND owner:${n.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(n=>n.results)}return Rn(e)?Promise.reject(li()):Promise.resolve([])}fetchRegions(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||gs();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var i;const t=((i=this.user)==null?void 0:i.culture)||this.culture||gs();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return _ge(()=>new Ds)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",n={authMode:e,query:{culture:gs().toLowerCase()},withCredentials:!0,...i};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(r,n)}queryPortal(e,t,i,r){const n=Gi(Io,t),s=a=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...r}).then(l=>{const u=n.clone();return u.start=l.nextStart,new xge({nextQueryParams:u,queryParams:n,total:l.total,results:Ds._resultsToTypedArray(a,{portal:this},l,r)})}).then(l=>Promise.all(l.results.map(u=>typeof u.when=="function"?u.when():l)).then(()=>l,u=>(Ys(u),l)));return i&&DD[i]?DD[i]().then(({default:a})=>(ii(r),s(a))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new z("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Ds.AUTH_MODE_ANONYMOUS||this.authMode===Ds.AUTH_MODE_NO_PROMPT&&!pt)return Promise.reject(new z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return pt?pt.getCredential(this.restUrl,{prompt:this.authMode!==Ds.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var i;const t=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const n=Ds._resultsToTypedArray(i,{portal:this},r);return Promise.all(n.map(s=>typeof s.when=="function"?s.when():r)).then(()=>n,()=>n)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===Ds.AUTH_MODE_ANONYMOUS||this.authMode===Ds.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:s=!1,method:a="auto",responseType:l="json",signal:u}=t,d={authMode:r,body:n,cacheBust:s,method:a,query:i,responseType:l,timeout:0,signal:u};return t.withCredentials&&(d.withCredentials=!0),Ct(this._normalizeSSL(e),d).then(m=>m.data)}toJSON(){throw new z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Ds({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new Io;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const n=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(i,t);return s.total?s.results.filter(a=>a.type==="Web Map").map(a=>new u1({portalItem:a})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new Io({query:i,disableExtraQuery:!0}),n=await this.queryGroups(r,t);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const a=await s.queryItems(r,t);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new u1({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=u1.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let n;if(i){const s=r!=null?r.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(n=n.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,t);return typeof l.load=="function"&&l.load(s),l}))}else n=[];return n}};Se.AUTH_MODE_ANONYMOUS="anonymous",Se.AUTH_MODE_AUTO="auto",Se.AUTH_MODE_IMMEDIATE="immediate",Se.AUTH_MODE_NO_PROMPT="no-prompt",h([f()],Se.prototype,"access",void 0),h([f()],Se.prototype,"allSSL",void 0),h([f()],Se.prototype,"authMode",void 0),h([f()],Se.prototype,"authorizedCrossOriginDomains",void 0),h([He("authorizedCrossOriginDomains")],Se.prototype,"readAuthorizedCrossOriginDomains",null),h([f()],Se.prototype,"basemapGalleryGroupQuery",void 0),h([f({json:{name:"3DBasemapGalleryGroupQuery"}})],Se.prototype,"basemapGalleryGroupQuery3D",void 0),h([f()],Se.prototype,"bingKey",void 0),h([f()],Se.prototype,"canListApps",void 0),h([f()],Se.prototype,"canListData",void 0),h([f()],Se.prototype,"canListPreProvisionedItems",void 0),h([f()],Se.prototype,"canProvisionDirectPurchase",void 0),h([f()],Se.prototype,"canSearchPublic",void 0),h([f()],Se.prototype,"canShareBingPublic",void 0),h([f()],Se.prototype,"canSharePublic",void 0),h([f()],Se.prototype,"canSignInArcGIS",void 0),h([f()],Se.prototype,"canSignInIDP",void 0),h([f()],Se.prototype,"colorSetsGroupQuery",void 0),h([f()],Se.prototype,"commentsEnabled",void 0),h([f({type:Date})],Se.prototype,"created",void 0),h([f()],Se.prototype,"credential",void 0),h([f()],Se.prototype,"culture",void 0),h([f()],Se.prototype,"currentVersion",void 0),h([f()],Se.prototype,"customBaseUrl",void 0),h([f()],Se.prototype,"default3DBasemapQuery",void 0),h([f()],Se.prototype,"defaultBasemap",void 0),h([He("defaultBasemap")],Se.prototype,"readDefaultBasemap",null),h([f()],Se.prototype,"defaultDevBasemap",void 0),h([He("defaultDevBasemap")],Se.prototype,"readDefaultDevBasemap",null),h([f({type:Lt})],Se.prototype,"defaultExtent",void 0),h([f()],Se.prototype,"defaultVectorBasemap",void 0),h([He("defaultVectorBasemap")],Se.prototype,"readDefaultVectorBasemap",null),h([f()],Se.prototype,"description",void 0),h([f()],Se.prototype,"devBasemapGalleryGroupQuery",void 0),h([f()],Se.prototype,"eueiEnabled",void 0),h([f({readOnly:!0})],Se.prototype,"extraQuery",null),h([f()],Se.prototype,"featuredGroups",void 0),h([f()],Se.prototype,"featuredItemsGroupQuery",void 0),h([f()],Se.prototype,"galleryTemplatesGroupQuery",void 0),h([f()],Se.prototype,"layoutGroupQuery",void 0),h([f()],Se.prototype,"livingAtlasGroupQuery",void 0),h([f({readOnly:!0})],Se.prototype,"hasAPIKey",null),h([f()],Se.prototype,"hasCategorySchema",void 0),h([f()],Se.prototype,"hasClassificationSchema",void 0),h([f()],Se.prototype,"helpBase",void 0),h([f()],Se.prototype,"helperServices",void 0),h([f()],Se.prototype,"helpMap",void 0),h([f()],Se.prototype,"homePageFeaturedContent",void 0),h([f()],Se.prototype,"homePageFeaturedContentCount",void 0),h([f()],Se.prototype,"httpPort",void 0),h([f()],Se.prototype,"httpsPort",void 0),h([f()],Se.prototype,"id",void 0),h([f()],Se.prototype,"ipCntryCode",void 0),h([f({readOnly:!0})],Se.prototype,"isOrganization",null),h([f()],Se.prototype,"isPortal",void 0),h([f()],Se.prototype,"isReadOnly",void 0),h([f({readOnly:!0})],Se.prototype,"itemPageUrl",null),h([f()],Se.prototype,"layerTemplatesGroupQuery",void 0),h([f()],Se.prototype,"maxTokenExpirationMinutes",void 0),h([f({type:Date})],Se.prototype,"modified",void 0),h([f()],Se.prototype,"name",void 0),h([f()],Se.prototype,"portalHostname",void 0),h([f()],Se.prototype,"portalMode",void 0),h([f()],Se.prototype,"portalProperties",void 0),h([f()],Se.prototype,"region",void 0),h([f()],Se.prototype,"recycleBinEnabled",void 0),h([f({readOnly:!0})],Se.prototype,"restUrl",null),h([f()],Se.prototype,"rotatorPanels",void 0),h([f()],Se.prototype,"showHomePageDescription",void 0),h([f()],Se.prototype,"sourceJSON",void 0),h([f()],Se.prototype,"staticImagesUrl",void 0),h([f({json:{name:"2DStylesGroupQuery"}})],Se.prototype,"stylesGroupQuery2d",void 0),h([f({json:{name:"stylesGroupQuery"}})],Se.prototype,"stylesGroupQuery3d",void 0),h([f()],Se.prototype,"supportsHostedServices",void 0),h([f()],Se.prototype,"symbolSetsGroupQuery",void 0),h([f()],Se.prototype,"templatesGroupQuery",void 0),h([f()],Se.prototype,"thumbnail",void 0),h([f({readOnly:!0})],Se.prototype,"thumbnailUrl",null),h([f()],Se.prototype,"units",void 0),h([f()],Se.prototype,"url",void 0),h([f()],Se.prototype,"urlKey",void 0),h([He("urlKey")],Se.prototype,"readUrlKey",null),h([f()],Se.prototype,"user",void 0),h([He("user")],Se.prototype,"readUser",null),h([f()],Se.prototype,"use3dBasemaps",void 0),h([f()],Se.prototype,"useDefault3dBasemap",void 0),h([f()],Se.prototype,"useStandardizedQuery",void 0),h([f()],Se.prototype,"useVectorBasemaps",void 0),h([f()],Se.prototype,"vectorBasemapGalleryGroupQuery",void 0),Se=Ds=h([O("esri.portal.Portal")],Se);const wr=Se,jD=new FinalizationRegistry(e=>{e.remove()});function Tge(e){const t=pt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let cu=class extends De{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:FD(t.path,t.portalItem)}:t}set path(t){t!=null&&Vn(t)?ce.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return FD(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",i){const r=this.cdnUrl;if(r==null)throw new z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:t,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(t,i){const{addOrUpdateResources:r}=await ve(()=>import("./resourceUtils-BV-K8hzW.js"),[]);return await r(this.portalItem,[{resource:this,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function FD(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&Vn(e)&&(e=TR(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}h([f()],cu.prototype,"portalItem",void 0),h([f({type:String,value:null})],cu.prototype,"path",null),h([Gt("path")],cu.prototype,"_castPath",null),h([f({type:String,readOnly:!0})],cu.prototype,"url",null),h([f({type:String,readOnly:!0})],cu.prototype,"cdnUrl",null),h([f({type:String,readOnly:!0})],cu.prototype,"itemRelativeUrl",null),cu=h([O("esri.portal.PortalItemResource")],cu);const Ege=cu;let D1=class extends De{constructor(t){super(t),this.created=null,this.rating=null}};h([f({type:Date})],D1.prototype,"created",void 0),h([f()],D1.prototype,"rating",void 0),D1=h([O("esri.portal.PortalRating")],D1);const KE=D1;var Zd;const Cge=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),Ige=new Set(["KML","GeoJson","CSV"]);let ft=Zd=class extends ue.JSONSupportMixin(Ba){static from(e){return qb(Zd,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Video Service"?i="Video Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Geocoding Service"?i="Locator":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="Raster function template"?i="Raster Function Template":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?i="Instant App":e==="Insights Page"?i="Insights Report":e==="Excalibur Imagery Project"?i="Excalibur Project":e==="3DTiles Service"?i="3D tiles layer":e==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new Lt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var _;const e=((_=this.type)==null?void 0:_.toLowerCase())||"",t=this.typeKeywords||[],i="esri/images/portal/",r="16";let n,s=!1,a=!1,l=!1,u=!1,d=!1,m=!1,v=!1,b=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(s=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),l=t.includes("Route Layer"),u=t.includes("Markup"),d=t.includes("Spatiotemporal"),m=t.includes("UtilityNetwork"),n=d&&a?"spatiotemporaltable":a?"table":l?"routelayer":u?"markup":d?"spatiotemporal":m?"utilitynetwork":s?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(d=t.includes("Spatiotemporal"),v=t.includes("Relational"),n=d||v?"mapimages":s||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):n=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?n="maps":e==="web scene"?n=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?n="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?n="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?n="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?n="datafiles":e==="360 vr experience"?n="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?n="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?n="addindesktop":e==="pdf"?n="pdf":e==="microsoft word"?n="word":e==="microsoft excel"?n="excel":e==="microsoft powerpoint"?n="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?n="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?n="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?n="layersgray":e==="analysis model"?n="analysismodel":e==="scene package"?n="scenepackage":e==="3dtiles package"?n="3dtileslayerpackage":e==="3dtiles service"?n="3dtileslayer":e==="mobile scene package"?n="mobilescenepackage":e==="tile package"||e==="compact tile package"?n="tilepackage":e==="task file"?n="taskfile":e==="report template"?n="report-template":e==="statistical data collection"?n="statisticaldatacollection":e==="insights workbook"?n="workbook":e==="insights model"?n="insightsmodel":e==="insights page"?n="insightspage":e==="insights theme"?n="insightstheme":e==="hub initiative"?n="hubinitiative":e==="hub page"?n="hubpage":e==="hub site application"?n="hubsite":e==="hub event"?n="hubevent":e==="hub project"?n="hubproject":e==="relational database connection"?n="relationaldatabaseconnection":e==="big data file share"?n="datastorecollection":e==="image collection"?n="imagecollection":e==="desktop style"?n="desktopstyle":e==="style"?n=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?n="dashboard":e==="raster function template"?n="rasterprocessingtemplate":e==="vector tile package"?n="vectortilepackage":e==="ortho mapping project"?n="orthomappingproject":e==="ortho mapping template"?n="orthomappingtemplate":e==="solution"?n="solutions":e==="geopackage"?n="geopackage":e==="deep learning package"?n="deeplearningpackage":e==="real time analytic"?n="realtimeanalytics":e==="reality mapping project"?n="realitymappingproject":e==="big data analytic"?n="bigdataanalytics":e==="feed"?n="feed":e==="excalibur imagery project"?n="excaliburimageryproject":e==="notebook"?n="notebook":e==="storymap"?n="storymap":e==="survey123 add in"?n="survey123addin":e==="mission"?n="mission":e==="mission report"?n="missionreport":e==="mission template"?n="missiontemplate":e==="quickcapture project"?n="quickcaptureproject":e==="pro report"?n="proreport":e==="pro report template"?n="proreporttemplate":e==="urban model"?n="urbanmodel":e==="urban project"?n="urbanproject":e==="web experience"?n="experiencebuilder":e==="web experience template"?n="webexperiencetemplate":e==="experience builder widget"?n="experiencebuilderwidget":e==="experience builder widget package"?n="experiencebuilderwidgetpackage":e==="workflow"?n="workflow":e==="kernel gateway connection"?n="kernelgatewayconnection":e==="insights script"?n="insightsscript":e==="hub initiative template"?n="hubinitiativetemplate":e==="storymap theme"?n="storymaptheme":e==="knowledge graph"?n="knowledgegraph":e==="knowledge graph layer"?n="knowledgegraphlayer":e==="knowledge studio project"?n="knowledgestudio":e==="native application"?n="nativeapp":e==="native application installer"?n="nativeappinstaller":e==="web link chart"?n="linkchart":e==="knowledge graph web investigation"?n="investigation":e==="ogcfeatureserver"?n="features":e==="pro presentation"?n="propresentation":e==="pro project"?n="proproject":e==="insights workbook package"?n="insightsworkbookpackage":e==="apache parquet"?n="apacheparquet":e==="notebook code snippet library"?n="notebookcodesnippets":e==="suitability model"?n="suitabilitymodel":e==="esri classifier definition"?n="classifierdefinition":e==="esri classification schema"?n="classificationschema":e==="insights data engineering workbook"?n="dataengineeringworkbook":e==="insights data engineering model"?n="dataengineeringmodel":e==="deep learning studio project"?n="deeplearningproject":e==="discussion"?n="discussion":e==="allsource project"?n="allsourceproject":e==="api key"?n="apikey":e==="data pipeline"?n="datapipelines":e==="group layer"?(b=t.includes("Map"),n=b?"layergroup2d":"layergroup"):n=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",n?ki(i+n+r+".png"):null}get isLayer(){return this.type!=null&&Cge.has(this.type)}get itemCdnUrl(){return RR(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const e=this.itemUrl,t=this.thumbnail;return e&&t?((i=this.portal)==null?void 0:i.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var i,r,n;const e=(i=this.portal)==null?void 0:i.restUrl;if(!e)return null;const t=this.owner||((n=(r=this.portal)==null?void 0:r.user)==null?void 0:n.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=wr.getDefault()),i=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof KE?e.rating:e;return i==null||isNaN(i)||typeof e!="number"||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new KE({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:H(this.applicationProxies),avgRating:this.avgRating,categories:H(this.categories),classification:H(this.classification),created:H(this.created),culture:this.culture,description:this.description,extent:H(this.extent),groupCategories:H(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:H(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:H(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:H(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:H(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new Zd({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var t;const e=this.toJSON();for(const i of["tags","typeKeywords","categories"])e[i]=(t=e[i])==null?void 0:t.join(", ");for(const i of["extent","classification"]){const r=e[i];r&&(e[i]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new KE(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},Zd)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new z("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:s,title:a}=e||{},l={method:"post",query:{copyPrivateResources:r==="all",folder:typeof n=="string"?n:n==null?void 0:n.id,includeResources:!!r,tags:s==null?void 0:s.join(","),title:a}},{itemId:u}=await t.request(`${i}/copy`,l);return new Zd({id:u,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if(typeof t=="string")Tf(t)?r.query={data:t}:r.query={url:Oa(t)},i!=null&&(r.query.filename=i);else{const n=new FormData;i!=null?n.append("file",t,i):n.append("file",t),r.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await ve(()=>import("./resourceUtils-BV-K8hzW.js"),[]);return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:r}=await ve(()=>import("./resourceUtils-BV-K8hzW.js"),[]);return e.portalItem=this,await r(this,[{resource:e,content:t,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await ve(()=>import("./resourceUtils-BV-K8hzW.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await ve(()=>import("./resourceUtils-BV-K8hzW.js"),[]);return t(this,e)}resourceFromPath(e){return new Ege({portalItem:this,path:e})}toJSON(){var i,r;const e=this.extent,t={accessInformation:this.accessInformation,categories:H(this.categories),classification:H(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:H(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:H(this.typeKeywords),url:this.url};return kae(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Zd({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};h([f({type:["private","shared","org","public"]})],ft.prototype,"access",void 0),h([f()],ft.prototype,"accessInformation",void 0),h([f({type:String})],ft.prototype,"apiKey",void 0),h([f({json:{read:{source:"appProxies"}}})],ft.prototype,"applicationProxies",void 0),h([f()],ft.prototype,"avgRating",void 0),h([f()],ft.prototype,"categories",void 0),h([f()],ft.prototype,"classification",void 0),h([f({type:Date})],ft.prototype,"created",void 0),h([f()],ft.prototype,"culture",void 0),h([f()],ft.prototype,"description",void 0),h([f({readOnly:!0})],ft.prototype,"displayName",null),h([f({type:Lt})],ft.prototype,"extent",void 0),h([He("extent")],ft.prototype,"readExtent",null),h([f()],ft.prototype,"groupCategories",void 0),h([f({readOnly:!0})],ft.prototype,"iconUrl",null),h([f()],ft.prototype,"id",void 0),h([f({readOnly:!0})],ft.prototype,"isLayer",null),h([f({type:Boolean,readOnly:!0})],ft.prototype,"isOrgItem",void 0),h([f()],ft.prototype,"itemControl",void 0),h([f({readOnly:!0})],ft.prototype,"itemPageUrl",null),h([f({readOnly:!0})],ft.prototype,"itemUrl",null),h([f()],ft.prototype,"licenseInfo",void 0),h([f({type:Date})],ft.prototype,"modified",void 0),h([f()],ft.prototype,"name",void 0),h([f()],ft.prototype,"numComments",void 0),h([f()],ft.prototype,"numRatings",void 0),h([f()],ft.prototype,"numViews",void 0),h([f()],ft.prototype,"owner",void 0),h([f()],ft.prototype,"ownerFolder",void 0),h([f({type:wr})],ft.prototype,"portal",void 0),h([f()],ft.prototype,"screenshots",void 0),h([f()],ft.prototype,"size",void 0),h([f()],ft.prototype,"snippet",void 0),h([f()],ft.prototype,"sourceJSON",void 0),h([f({type:String})],ft.prototype,"sourceUrl",void 0),h([f({type:String})],ft.prototype,"spatialReference",void 0),h([f()],ft.prototype,"tags",void 0),h([f()],ft.prototype,"thumbnail",void 0),h([f({readOnly:!0})],ft.prototype,"thumbnailUrl",null),h([f()],ft.prototype,"title",void 0),h([f()],ft.prototype,"type",void 0),h([f()],ft.prototype,"typeKeywords",void 0),h([f({type:String,json:{read(e,t){var i;if(Ige.has(t.type)){const r=(i=this.portal)==null?void 0:i.restUrl;e||(e=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return e}}})],ft.prototype,"url",void 0),h([f({readOnly:!0})],ft.prototype,"userItemUrl",null),ft=Zd=h([O("esri.portal.PortalItem")],ft);const Bv=ft,TY=Object.freeze(Object.defineProperty({__proto__:null,default:Bv},Symbol.toStringTag,{value:"Module"}));async function $ge(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await h8("esri/t9n/basemaps");return i[e]||i[t]}const Sg={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return ki("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return ki("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return ki("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return ki("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return ki("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return ki("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let hu=class extends De{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let i=t==="local"||t==="global"?t:AW(t??gs())??"global";return i=i==="no"?"nb":i,i}};h([f()],hu.prototype,"apiKey",void 0),h([f()],hu.prototype,"id",void 0),h([f()],hu.prototype,"language",void 0),h([f()],hu.prototype,"places",void 0),h([f()],hu.prototype,"serviceUrl",void 0),h([f()],hu.prototype,"worldview",void 0),hu=h([O("esri.support.BasemapStyle")],hu);const Age=hu;function Rge(e){return EY(e)||Pge(e)}function XOe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function Pge(e){return(e==null?void 0:e.type)==="scene"}function Oge(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Kd(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function EY(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function kge(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const QOe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function _$(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function eke(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function _5(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function tke(e){var i;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((i=e==null?void 0:e.source)==null?void 0:i.type)==="feature-layer"}function Lge(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const i=e.activeLayer.tileMatrixSets;if(i)return i}return null}async function x8(e,t){const i=pt==null?void 0:pt.findServerInfo(e);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${e.slice(0,r)}/rest/info`,s=t!=null?t.signal:null,{data:a}=await Ct(n,{query:{f:"json"},responseType:"json",signal:s});return(a==null?void 0:a.owningSystemUrl)||null}function CY(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Nge(e){return CY(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function Dge(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function jge(e){return!!Dge(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Fge=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),IY=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),zge=new Set([...IY,"link-chart"]);function Uge(e){switch(e.layerContainerType){case"basemap":return Fge;case"operational-layers":return e.origin==="link-chart"?zge:IY;default:return null}}function Gge(e,t){if(t.restrictedWebMapWriting){const i=Uge(t);return i==null||i.has(e.type)&&!_5(e)}return!0}function Vge(e,t){var i;if(t)if(_5(e)){const r=Vb("featureCollection.layers",t),n=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;n&&zD(e,n)}else e.type!=="group"&&zD(e,t)}function zD(e,t){"maxScale"in e&&(t.maxScale=S3(e.maxScale)??void 0),"minScale"in e&&(t.minScale=S3(e.minScale)??void 0)}function Bge(e,t){if(Vge(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=S3(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(_5(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function UD(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i!=null&&i.messages&&i.messages.push(new z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(_5(e)&&!e.isTable)t=e.resourceInfo;else if(Gge(e,i)){const r={};return e.write(r,i)?r:null}return t!=null&&Bge(e,t=H(t)),t}var j1;let Hge=0,js=j1=class extends ue.JSONSupportMixin(Ba){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Hge++,this.baseLayers=new Ce,this.referenceLayers=new Ce;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type==="elevation"&&ce.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=r=>{r.parent=null};this.addHandles([this.baseLayers.on("after-add",r=>t(r.item)),this.referenceLayers.on("after-add",r=>t(r.item)),this.baseLayers.on("after-remove",r=>i(r.item)),this.referenceLayers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{ce.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=vi(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Wu(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(n=>{const s=UD(n,i.webmap?i.webmap.getLayerJSONFromResourceInfo(n):null,i);s!=null&&r.push(s)}),this.referenceLayers.forEach(n=>{const s=UD(n,i.webmap?i.webmap.getLayerJSONFromResourceInfo(n):null,i);s!=null&&(n.type!=="scene"&&(s.isReference=!0),r.push(s))})),t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",Wu(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return MY(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>m3(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>m3(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new j1({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var i;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=H(r);return n.url&&Ga(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Ga(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;ii(e);const n=[];if(t){const s=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,s,e)),t.data.id&&!t.data.title){const a=t.data.id;n.push($ge(a).then(l=>{l&&this.read({title:l},t.context)}))}}else i?n.push(this._loadFromItem(i,e)):r&&n.push(this._loadFromStylesService(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,i){var u,d;const r=(u=this.resourceInfo)==null?void 0:u.context,n=((d=this.portalItem)==null?void 0:d.portal)||(r==null?void 0:r.portal)||null,s=Wge[(r==null?void 0:r.origin)||""]??"web-map",{populateOperationalLayers:a}=await ve(async()=>{const{populateOperationalLayers:m}=await import("./layersCreator-f0Ke-bTq.js");return{populateOperationalLayers:m}},__vite__mapDeps([168,169,170,171,172,173,162])),l=[];if(ii(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const m={context:{...r,origin:s,url:t,portal:n,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},v=S=>s==="web-scene"&&S.layerType==="ArcGISSceneServiceLayer"||S.isReference,b=a(this.baseLayers,e.baseMapLayers.filter(S=>!v(S)),m);l.push(b);const _=a(this.referenceLayers,e.baseMapLayers.filter(v),m);l.push(_)}await Promise.allSettled(l)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),n=Ai(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:qge[e.type||""]??"web-map",portal:e.portal||wr.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||wr.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const i=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${i}/styles/${e.id}/self`,n=`${i}/webmaps/${e.id}`,[s,a]=await Promise.all([(await Ct(r,{query:{token:e.apiKey},signal:t==null?void 0:t.signal})).data,(await Ct(n,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t==null?void 0:t.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=s.thumbnailUrl);const l=Ai(n);if(this._set("resourceInfo",{data:a.baseMap??{},context:{origin:"web-map",url:l}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,l,t),e.apiKey)for(const u of[...this.baseLayers,...this.referenceLayers])"apiKey"in u&&(u.apiKey=e.apiKey)}static fromId(e){const t=Sg[e];return t?t.itemId?new j1({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):j1.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};h([f({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Ce}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],js.prototype,"baseLayers",null),h([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],js.prototype,"id",void 0),h([f({type:Bv})],js.prototype,"portalItem",void 0),h([f()],js.prototype,"referenceLayers",null),h([f({readOnly:!0})],js.prototype,"resourceInfo",void 0),h([f({type:it})],js.prototype,"spatialReference",void 0),h([f({type:Age})],js.prototype,"style",void 0),h([f()],js.prototype,"thumbnailUrl",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],js.prototype,"title",void 0),h([Re("title")],js.prototype,"writeTitle",null),js=j1=h([O("esri.Basemap")],js);const qge={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},Wge={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Vh=js,Yge=Object.freeze(Object.defineProperty({__proto__:null,default:Vh},Symbol.toStringTag,{value:"Module"})),ix={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function $Y(e){return!!ix[e]||!!ix[e.toLowerCase()]}function M8(e){return ix[e]??ix[e.toLowerCase()]}function Zge(e){return[...M8(e)]}function JE(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function AY(e,t,i,r=1){const n=(e%360+360)%360/360,s=i<=.5?i*(t+1):i+t-i*t,a=2*i-s;return[Math.round(255*JE(a,s,n+1/3)),Math.round(255*JE(a,s,n)),Math.round(255*JE(a,s,n-1/3)),r]}function Kge(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,n=t?1:17,s=t?e.length===9:e.length===5;let a=+("0x"+e.slice(1));if(isNaN(a))return null;const l=[0,0,0,1];let u;return s&&(u=a&r,a>>=i,l[3]=n*u/255),u=a&r,a>>=i,l[2]=n*u,u=a&r,a>>=i,l[1]=n*u,u=a&r,a>>=i,l[0]=n*u,l}const ike=2.2;function n_(e){return ia(lR(e),0,255)}function s_(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function a_(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let me=class Ir{static blendColors(t,i,r,n=new Ir){return n.r=Math.round(t.r+(i.r-t.r)*r),n.g=Math.round(t.g+(i.g-t.g)*r),n.b=Math.round(t.b+(i.b-t.b)*r),n.a=t.a+(i.a-t.a)*r,n._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const n=r[2].split(/\s*,\s*/),s=r[1];if(s==="rgb"&&n.length===3||s==="rgba"&&n.length===4){const a=n[0];if(a.charAt(a.length-1)==="%"){const l=n.map(u=>2.56*parseFloat(u));return n.length===4&&(l[3]=parseFloat(n[3])),Ir.fromArray(l,i)}return Ir.fromArray(n.map(l=>parseFloat(l)),i)}if(s==="hsl"&&n.length===3||s==="hsla"&&n.length===4)return Ir.fromArray(AY(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),i)}return null}static fromHex(t,i=new Ir){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),a=t.length===5?15:parseInt(t.slice(4),16);return Ir.fromArray([r+16*r,n+16*n,s+16*s,(a+16*a)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),a=t.length===7?255:parseInt(t.slice(7),16);return Ir.fromArray([r,n,s,a/255],i)}default:return null}}static fromArray(t,i=new Ir){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=$Y(t)?M8(t):null;return r&&Ir.fromArray(r,i)||Ir.fromRgb(t,i)||Ir.fromHex(t,i)}static fromJSON(t){return t!=null?new Ir([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ir.fromString(t,this):Array.isArray(t)?Ir.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ir||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=(t==null?void 0:t.capitalize)??!1,r=(t==null?void 0:t.digits)??6,n=r===3||r===4,s=r===4||r===8,a=`#${a_(this.r,n)}${a_(this.g,n)}${a_(this.b,n)}${s?a_(Math.round(255*this.a),n):""}`;return i?a.toUpperCase():a}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ir.AlphaMode.ALWAYS){const i=n_(this.r),r=n_(this.g),n=n_(this.b);return t===Ir.AlphaMode.ALWAYS||this.a!==1?[i,r,n,n_(255*this.a)]:[i,r,n]}clone(){return new Ir(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(s_(this.r,0,255)),this.g=Math.round(s_(this.g,0,255)),this.b=Math.round(s_(this.b,0,255)),this.a=s_(this.a,0,1),this}_set(t,i,r,n){this.r=t,this.g=i,this.b=r,this.a=n}};me.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(me);function qe(e,t={}){const i=e instanceof It?e:new It(e,t),{alwaysWriteDefaults:r,default:n,ignoreUnknown:s=!0,name:a,nonNullable:l,readOnly:u=!1}=t;return f({type:s?i.apiValues:String,json:{type:i.jsonValues,default:n,name:a,read:!u&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:l,readOnly:u})}var S$;let fS=S$=class extends ue{constructor(e){super(e),this.type="none"}clone(){return new S$({type:this.type})}};h([qe({none:"none",stayAbove:"stay-above"}),f({json:{write:{isRequired:!0}}})],fS.prototype,"type",void 0),fS=S$=h([O("esri.ground.NavigationConstraint")],fS);const Jge=Symbol("GroundInstance");function T8(e){const t=lR(100*(1-e));return Math.max(0,Math.min(t,100))}function xb(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var RY,x$;let du=x$=class extends ue.JSONSupportMixin(Ba){constructor(e){super(e),this[RY]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new Ce;const t=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ce.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>t(r.item)),this.layers.on("after-remove",r=>i(r.item))])}initialize(){this.when().catch(e=>{Vi(e)||ce.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)vi(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",Wu(e,this._get("layers")))}writeLayers(e,t,i,r){const n=[];e&&(r={...r,layerContainerType:"ground"},e.forEach(s=>{if("write"in s){const a={};$ae(s)().write(a,r)&&n.push(a)}else r!=null&&r.messages&&r.messages.push(new z("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return MY(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await ve(()=>import("./ElevationQuery-B0fl6Foc.js"),[]);ii(t);const r=new i,n=this.layers.filter(GD).toArray();return r.queryAll(n,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await ve(()=>import("./ElevationQuery-B0fl6Foc.js"),[]);ii(t);const r=new i,n=this.layers.filter(GD).toArray();return r.createSamplerAll(n,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:H(this.surfaceColor),navigationConstraint:H(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new x$({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,i){const r=(t==null?void 0:t.origin)||"web-scene",n=(t==null?void 0:t.portal)||null,s=(t==null?void 0:t.url)||null,{populateOperationalLayers:a}=await ve(async()=>{const{populateOperationalLayers:u}=await import("./layersCreator-f0Ke-bTq.js");return{populateOperationalLayers:u}},__vite__mapDeps([168,169,170,171,172,173,162]));ii(i);const l=[];if(e.layers&&Array.isArray(e.layers)){const u={context:{origin:r,url:s,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(a(this.layers,e.layers,u))}await Promise.allSettled(l)}};function Xge(e){return e&&"createElevationSampler"in e}function GD(e){return e.type==="elevation"||Xge(e)}RY=Jge,h([f({json:{read:!1,write:{isRequired:!0}}})],du.prototype,"layers",null),h([Re("layers")],du.prototype,"writeLayers",null),h([f({readOnly:!0})],du.prototype,"resourceInfo",void 0),h([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:zt,read:{reader:xb,source:"transparency"},write:{writer:(e,t)=>{t.transparency=T8(e)},target:"transparency"}}})],du.prototype,"opacity",void 0),h([f({type:me,json:{type:[zt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],du.prototype,"surfaceColor",void 0),h([f({type:fS,json:{write:!0}})],du.prototype,"navigationConstraint",void 0),du=x$=h([O("esri.Ground")],du);const rx=du,o_=new WeakMap;function PY(e){return!e.destroyed&&(o_.has(e)||e.addHandles([Ge(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||PY(t))},t=>o_.set(e,t),cs),jt(()=>o_.delete(e))]),o_.get(e))}function Qge(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function e0e(e){var t,i;return!(!Qge(e)||!((i=(t=Nge(e))==null?void 0:t.operations)!=null&&i.supportsEditing)||"editingEnabled"in e&&!jge(e)||PY(e))}const t0e=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,i0e="screenUtils.toPt: input not recognized!",OY=96;function r0e(e){return e?e/72*OY:0}function Ha(e){return e?72*e/OY:0}function Ot(e){if(typeof e=="string"){const t=e.match(t0e);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",s=r==="px"?Ha(i):i;return n?-s:s}return console.warn(i0e),null}return e}function Zr(e=0,t=0){return{x:e,y:t}}function rke(e){return e?Zr(e.x,e.y):null}function nke(e=0,t=0){return[e,t]}function ske(e=0,t=0,i=0){return[e,t,i]}function ake(e){return e}function oke(e){return e}function lke(e){return e}function uke(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function S5(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function n0e(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s0e(e,t,i,r,n,s,a,l,u,d,m,v,b,_,S,M){const T=new Float32Array(16);return T[0]=e,T[1]=t,T[2]=i,T[3]=r,T[4]=n,T[5]=s,T[6]=a,T[7]=l,T[8]=u,T[9]=d,T[10]=m,T[11]=v,T[12]=b,T[13]=_,T[14]=S,T[15]=M,T}function a0e(e,t){return new Float32Array(e,t,16)}const o0e=S5();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o0e,clone:n0e,create:S5,createView:a0e,fromValues:s0e},Symbol.toStringTag,{value:"Module"}));let E8=1e-6;function Hn(){return E8}function l0e(e){E8=e}const x5=Math.random,u0e=Math.PI/180,c0e=180/Math.PI;function C8(e){return e*u0e}function h0e(e){return e*c0e}function d0e(e,t){return Math.abs(e-t)<=E8*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:x5,equals:d0e,getEpsilon:Hn,setEpsilon:l0e,toDegree:h0e,toRadian:C8},Symbol.toStringTag,{value:"Module"}));function kY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function od(e,t,i,r,n,s,a,l,u,d,m,v,b,_,S,M,T){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e[6]=l,e[7]=u,e[8]=d,e[9]=m,e[10]=v,e[11]=b,e[12]=_,e[13]=S,e[14]=M,e[15]=T,e}function M5(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ld(e,t){if(e===t){const i=t[1],r=t[2],n=t[3],s=t[6],a=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=n,e[13]=a,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function p0e(e,t){return LY(e,t)||M5(e),e}function LY(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],m=t[8],v=t[9],b=t[10],_=t[11],S=t[12],M=t[13],T=t[14],E=t[15],A=i*l-r*a,P=i*u-n*a,N=i*d-s*a,D=r*u-n*l,k=r*d-s*l,q=n*d-s*u,X=m*M-v*S,re=m*T-b*S,W=m*E-_*S,be=v*T-b*M,ae=v*E-_*M,$e=b*E-_*T;let Me=A*$e-P*ae+N*be+D*W-k*re+q*X;return Me?(Me=1/Me,e[0]=(l*$e-u*ae+d*be)*Me,e[1]=(n*ae-r*$e-s*be)*Me,e[2]=(M*q-T*k+E*D)*Me,e[3]=(b*k-v*q-_*D)*Me,e[4]=(u*W-a*$e-d*re)*Me,e[5]=(i*$e-n*W+s*re)*Me,e[6]=(T*N-S*q-E*P)*Me,e[7]=(m*q-b*N+_*P)*Me,e[8]=(a*ae-l*W+d*X)*Me,e[9]=(r*W-i*ae-s*X)*Me,e[10]=(S*k-M*N+E*A)*Me,e[11]=(v*N-m*k-_*A)*Me,e[12]=(l*re-a*be-u*X)*Me,e[13]=(i*be-r*re+n*X)*Me,e[14]=(M*P-S*D-T*A)*Me,e[15]=(m*D-v*P+b*A)*Me,e):null}function f0e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],m=t[8],v=t[9],b=t[10],_=t[11],S=t[12],M=t[13],T=t[14],E=t[15];return e[0]=l*(b*E-_*T)-v*(u*E-d*T)+M*(u*_-d*b),e[1]=-(r*(b*E-_*T)-v*(n*E-s*T)+M*(n*_-s*b)),e[2]=r*(u*E-d*T)-l*(n*E-s*T)+M*(n*d-s*u),e[3]=-(r*(u*_-d*b)-l*(n*_-s*b)+v*(n*d-s*u)),e[4]=-(a*(b*E-_*T)-m*(u*E-d*T)+S*(u*_-d*b)),e[5]=i*(b*E-_*T)-m*(n*E-s*T)+S*(n*_-s*b),e[6]=-(i*(u*E-d*T)-a*(n*E-s*T)+S*(n*d-s*u)),e[7]=i*(u*_-d*b)-a*(n*_-s*b)+m*(n*d-s*u),e[8]=a*(v*E-_*M)-m*(l*E-d*M)+S*(l*_-d*v),e[9]=-(i*(v*E-_*M)-m*(r*E-s*M)+S*(r*_-s*v)),e[10]=i*(l*E-d*M)-a*(r*E-s*M)+S*(r*d-s*l),e[11]=-(i*(l*_-d*v)-a*(r*_-s*v)+m*(r*d-s*l)),e[12]=-(a*(v*T-b*M)-m*(l*T-u*M)+S*(l*b-u*v)),e[13]=i*(v*T-b*M)-m*(r*T-n*M)+S*(r*b-n*v),e[14]=-(i*(l*T-u*M)-a*(r*T-n*M)+S*(r*u-n*l)),e[15]=i*(l*b-u*v)-a*(r*b-n*v)+m*(r*u-n*l),e}function m0e(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8],m=e[9],v=e[10],b=e[11],_=e[12],S=e[13],M=e[14],T=e[15];return(t*a-i*s)*(v*T-b*M)-(t*l-r*s)*(m*T-b*S)+(t*u-n*s)*(m*M-v*S)+(i*l-r*a)*(d*T-b*_)-(i*u-n*a)*(d*M-v*_)+(r*u-n*l)*(d*S-m*_)}function NY(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=t[6],m=t[7],v=t[8],b=t[9],_=t[10],S=t[11],M=t[12],T=t[13],E=t[14],A=t[15];let P=i[0],N=i[1],D=i[2],k=i[3];return e[0]=P*r+N*l+D*v+k*M,e[1]=P*n+N*u+D*b+k*T,e[2]=P*s+N*d+D*_+k*E,e[3]=P*a+N*m+D*S+k*A,P=i[4],N=i[5],D=i[6],k=i[7],e[4]=P*r+N*l+D*v+k*M,e[5]=P*n+N*u+D*b+k*T,e[6]=P*s+N*d+D*_+k*E,e[7]=P*a+N*m+D*S+k*A,P=i[8],N=i[9],D=i[10],k=i[11],e[8]=P*r+N*l+D*v+k*M,e[9]=P*n+N*u+D*b+k*T,e[10]=P*s+N*d+D*_+k*E,e[11]=P*a+N*m+D*S+k*A,P=i[12],N=i[13],D=i[14],k=i[15],e[12]=P*r+N*l+D*v+k*M,e[13]=P*n+N*u+D*b+k*T,e[14]=P*s+N*d+D*_+k*E,e[15]=P*a+N*m+D*S+k*A,e}function y0e(e,t,i){const r=i[0],n=i[1],s=i[2];if(t===e)e[12]=t[0]*r+t[4]*n+t[8]*s+t[12],e[13]=t[1]*r+t[5]*n+t[9]*s+t[13],e[14]=t[2]*r+t[6]*n+t[10]*s+t[14],e[15]=t[3]*r+t[7]*n+t[11]*s+t[15];else{const a=t[0],l=t[1],u=t[2],d=t[3],m=t[4],v=t[5],b=t[6],_=t[7],S=t[8],M=t[9],T=t[10],E=t[11];e[0]=a,e[1]=l,e[2]=u,e[3]=d,e[4]=m,e[5]=v,e[6]=b,e[7]=_,e[8]=S,e[9]=M,e[10]=T,e[11]=E,e[12]=a*r+m*n+S*s+t[12],e[13]=l*r+v*n+M*s+t[13],e[14]=u*r+b*n+T*s+t[14],e[15]=d*r+_*n+E*s+t[15]}return e}function g0e(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function v0e(e,t,i,r){let n=r[0],s=r[1],a=r[2],l=Math.sqrt(n*n+s*s+a*a);if(l<=Hn())return void kY(e,t);l=1/l,n*=l,s*=l,a*=l;const u=Math.sin(i),d=Math.cos(i),m=1-d,v=t[0],b=t[1],_=t[2],S=t[3],M=t[4],T=t[5],E=t[6],A=t[7],P=t[8],N=t[9],D=t[10],k=t[11],q=n*n*m+d,X=s*n*m+a*u,re=a*n*m-s*u,W=n*s*m-a*u,be=s*s*m+d,ae=a*s*m+n*u,$e=n*a*m+s*u,Me=s*a*m-n*u,Ke=a*a*m+d;e[0]=v*q+M*X+P*re,e[1]=b*q+T*X+N*re,e[2]=_*q+E*X+D*re,e[3]=S*q+A*X+k*re,e[4]=v*W+M*be+P*ae,e[5]=b*W+T*be+N*ae,e[6]=_*W+E*be+D*ae,e[7]=S*W+A*be+k*ae,e[8]=v*$e+M*Me+P*Ke,e[9]=b*$e+T*Me+N*Ke,e[10]=_*$e+E*Me+D*Ke,e[11]=S*$e+A*Me+k*Ke,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function b0e(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[4],a=t[5],l=t[6],u=t[7],d=t[8],m=t[9],v=t[10],b=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+d*r,e[5]=a*n+m*r,e[6]=l*n+v*r,e[7]=u*n+b*r,e[8]=d*n-s*r,e[9]=m*n-a*r,e[10]=v*n-l*r,e[11]=b*n-u*r,e}function w0e(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],l=t[2],u=t[3],d=t[8],m=t[9],v=t[10],b=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-d*r,e[1]=a*n-m*r,e[2]=l*n-v*r,e[3]=u*n-b*r,e[8]=s*r+d*n,e[9]=a*r+m*n,e[10]=l*r+v*n,e[11]=u*r+b*n,e}function _0e(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],a=t[1],l=t[2],u=t[3],d=t[4],m=t[5],v=t[6],b=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+d*r,e[1]=a*n+m*r,e[2]=l*n+v*r,e[3]=u*n+b*r,e[4]=d*n-s*r,e[5]=m*n-a*r,e[6]=v*n-l*r,e[7]=b*n-u*r,e}function S0e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function x0e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M0e(e,t,i){if(t===0)return M5(e);let r=i[0],n=i[1],s=i[2],a=Math.sqrt(r*r+n*n+s*s);if(a<=Hn())return null;a=1/a,r*=a,n*=a,s*=a;const l=Math.sin(t),u=Math.cos(t),d=1-u;return e[0]=r*r*d+u,e[1]=n*r*d+s*l,e[2]=s*r*d-n*l,e[3]=0,e[4]=r*n*d-s*l,e[5]=n*n*d+u,e[6]=s*n*d+r*l,e[7]=0,e[8]=r*s*d+n*l,e[9]=n*s*d-r*l,e[10]=s*s*d+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T0e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E0e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C0e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function DY(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=r+r,u=n+n,d=s+s,m=r*l,v=r*u,b=r*d,_=n*u,S=n*d,M=s*d,T=a*l,E=a*u,A=a*d;return e[0]=1-(_+M),e[1]=v+A,e[2]=b-E,e[3]=0,e[4]=v-A,e[5]=1-(m+M),e[6]=S+T,e[7]=0,e[8]=b+E,e[9]=S-T,e[10]=1-(m+_),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function I0e(e,t){const i=$0e,r=-t[0],n=-t[1],s=-t[2],a=t[3],l=t[4],u=t[5],d=t[6],m=t[7],v=r*r+n*n+s*s+a*a;return v>0?(i[0]=2*(l*a+m*r+u*s-d*n)/v,i[1]=2*(u*a+m*n+d*r-l*s)/v,i[2]=2*(d*a+m*s+l*n-u*r)/v):(i[0]=2*(l*a+m*r+u*s-d*n),i[1]=2*(u*a+m*n+d*r-l*s),i[2]=2*(d*a+m*s+l*n-u*r)),DY(e,t,i),e}const $0e=sd();function A0e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function R0e(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],l=t[6],u=t[8],d=t[9],m=t[10];return e[0]=Math.sqrt(i*i+r*r+n*n),e[1]=Math.sqrt(s*s+a*a+l*l),e[2]=Math.sqrt(u*u+d*d+m*m),e}function P0e(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function O0e(e,t,i,r){const n=t[0],s=t[1],a=t[2],l=t[3],u=n+n,d=s+s,m=a+a,v=n*u,b=n*d,_=n*m,S=s*d,M=s*m,T=a*m,E=l*u,A=l*d,P=l*m,N=r[0],D=r[1],k=r[2];return e[0]=(1-(S+T))*N,e[1]=(b+P)*N,e[2]=(_-A)*N,e[3]=0,e[4]=(b-P)*D,e[5]=(1-(v+T))*D,e[6]=(M+E)*D,e[7]=0,e[8]=(_+A)*k,e[9]=(M-E)*k,e[10]=(1-(v+S))*k,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function k0e(e,t,i,r,n){const s=t[0],a=t[1],l=t[2],u=t[3],d=s+s,m=a+a,v=l+l,b=s*d,_=s*m,S=s*v,M=a*m,T=a*v,E=l*v,A=u*d,P=u*m,N=u*v,D=r[0],k=r[1],q=r[2],X=n[0],re=n[1],W=n[2],be=(1-(M+E))*D,ae=(_+N)*D,$e=(S-P)*D,Me=(_-N)*k,Ke=(1-(b+E))*k,ee=(T+A)*k,we=(S+P)*q,xe=(T-A)*q,tt=(1-(b+M))*q;return e[0]=be,e[1]=ae,e[2]=$e,e[3]=0,e[4]=Me,e[5]=Ke,e[6]=ee,e[7]=0,e[8]=we,e[9]=xe,e[10]=tt,e[11]=0,e[12]=i[0]+X-(be*X+Me*re+we*W),e[13]=i[1]+re-(ae*X+Ke*re+xe*W),e[14]=i[2]+W-($e*X+ee*re+tt*W),e[15]=1,e}function L0e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=i+i,l=r+r,u=n+n,d=i*a,m=r*a,v=r*l,b=n*a,_=n*l,S=n*u,M=s*a,T=s*l,E=s*u;return e[0]=1-v-S,e[1]=m+E,e[2]=b-T,e[3]=0,e[4]=m-E,e[5]=1-d-S,e[6]=_+M,e[7]=0,e[8]=b+T,e[9]=_-M,e[10]=1-d-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function N0e(e,t,i,r,n,s,a){const l=1/(i-t),u=1/(n-r),d=1/(s-a);return e[0]=2*s*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*u,e[6]=0,e[7]=0,e[8]=(i+t)*l,e[9]=(n+r)*u,e[10]=(a+s)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*s*2*d,e[15]=0,e}function D0e(e,t,i,r,n){const s=1/Math.tan(t/2);let a;return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,n!=null&&n!==1/0?(a=1/(r-n),e[10]=(n+r)*a,e[14]=2*n*r*a):(e[10]=-1,e[14]=-2*r),e}function j0e(e,t,i,r){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),l=Math.tan(t.rightDegrees*Math.PI/180),u=2/(a+l),d=2/(n+s);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(a-l)*u*.5,e[9]=(n-s)*d*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e}function F0e(e,t,i,r,n,s,a){const l=1/(t-i),u=1/(r-n),d=1/(s-a);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+i)*l,e[13]=(n+r)*u,e[14]=(a+s)*d,e[15]=1,e}function z0e(e,t,i,r){const n=t[0],s=t[1],a=t[2];let l=n-i[0],u=s-i[1],d=a-i[2];const m=Hn();if(Math.abs(l)<m&&Math.abs(u)<m&&Math.abs(d)<m)return void M5(e);let v=1/Math.sqrt(l*l+u*u+d*d);l*=v,u*=v,d*=v;const b=r[0],_=r[1],S=r[2];let M=_*d-S*u,T=S*l-b*d,E=b*u-_*l;v=Math.sqrt(M*M+T*T+E*E),v?(v=1/v,M*=v,T*=v,E*=v):(M=0,T=0,E=0);let A=u*E-d*T,P=d*M-l*E,N=l*T-u*M;v=Math.sqrt(A*A+P*P+N*N),v?(v=1/v,A*=v,P*=v,N*=v):(A=0,P=0,N=0),e[0]=M,e[1]=A,e[2]=l,e[3]=0,e[4]=T,e[5]=P,e[6]=u,e[7]=0,e[8]=E,e[9]=N,e[10]=d,e[11]=0,e[12]=-(M*n+T*s+E*a),e[13]=-(A*n+P*s+N*a),e[14]=-(l*n+u*s+d*a),e[15]=1}function U0e(e,t,i,r){const n=t[0],s=t[1],a=t[2],l=r[0],u=r[1],d=r[2];let m=n-i[0],v=s-i[1],b=a-i[2],_=m*m+v*v+b*b;_>0&&(_=1/Math.sqrt(_),m*=_,v*=_,b*=_);let S=u*b-d*v,M=d*m-l*b,T=l*v-u*m;return _=S*S+M*M+T*T,_>0&&(_=1/Math.sqrt(_),S*=_,M*=_,T*=_),e[0]=S,e[1]=M,e[2]=T,e[3]=0,e[4]=v*T-b*M,e[5]=b*S-m*T,e[6]=m*M-v*S,e[7]=0,e[8]=m,e[9]=v,e[10]=b,e[11]=0,e[12]=n,e[13]=s,e[14]=a,e[15]=1,e}function G0e(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function V0e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function B0e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function jY(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function H0e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function q0e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e}function W0e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Y0e(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8],v=e[9],b=e[10],_=e[11],S=e[12],M=e[13],T=e[14],E=e[15],A=t[0],P=t[1],N=t[2],D=t[3],k=t[4],q=t[5],X=t[6],re=t[7],W=t[8],be=t[9],ae=t[10],$e=t[11],Me=t[12],Ke=t[13],ee=t[14],we=t[15],xe=Hn();return Math.abs(i-A)<=xe*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(r-P)<=xe*Math.max(1,Math.abs(r),Math.abs(P))&&Math.abs(n-N)<=xe*Math.max(1,Math.abs(n),Math.abs(N))&&Math.abs(s-D)<=xe*Math.max(1,Math.abs(s),Math.abs(D))&&Math.abs(a-k)<=xe*Math.max(1,Math.abs(a),Math.abs(k))&&Math.abs(l-q)<=xe*Math.max(1,Math.abs(l),Math.abs(q))&&Math.abs(u-X)<=xe*Math.max(1,Math.abs(u),Math.abs(X))&&Math.abs(d-re)<=xe*Math.max(1,Math.abs(d),Math.abs(re))&&Math.abs(m-W)<=xe*Math.max(1,Math.abs(m),Math.abs(W))&&Math.abs(v-be)<=xe*Math.max(1,Math.abs(v),Math.abs(be))&&Math.abs(b-ae)<=xe*Math.max(1,Math.abs(b),Math.abs(ae))&&Math.abs(_-$e)<=xe*Math.max(1,Math.abs(_),Math.abs($e))&&Math.abs(S-Me)<=xe*Math.max(1,Math.abs(S),Math.abs(Me))&&Math.abs(M-Ke)<=xe*Math.max(1,Math.abs(M),Math.abs(Ke))&&Math.abs(T-ee)<=xe*Math.max(1,Math.abs(T),Math.abs(ee))&&Math.abs(E-we)<=xe*Math.max(1,Math.abs(E),Math.abs(we))}function Z0e(e){const t=Hn(),i=e[0],r=e[1],n=e[2],s=e[4],a=e[5],l=e[6],u=e[8],d=e[9],m=e[10];return Math.abs(1-(i*i+s*s+u*u))<=t&&Math.abs(1-(r*r+a*a+d*d))<=t&&Math.abs(1-(n*n+l*l+m*m))<=t}function K0e(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const J0e=NY,X0e=jY;Object.freeze(Object.defineProperty({__proto__:null,add:B0e,adjoint:f0e,copy:kY,determinant:m0e,equals:Y0e,exactEquals:W0e,frob:V0e,fromQuat:L0e,fromQuat2:I0e,fromRotation:M0e,fromRotationTranslation:DY,fromRotationTranslationScale:O0e,fromRotationTranslationScaleOrigin:k0e,fromScaling:x0e,fromTranslation:S0e,fromXRotation:T0e,fromYRotation:E0e,fromZRotation:C0e,frustum:N0e,getRotation:P0e,getScaling:R0e,getTranslation:A0e,hasIdentityRotation:K0e,identity:M5,invert:LY,invertOrIdentity:p0e,isOrthoNormal:Z0e,lookAt:z0e,mul:J0e,multiply:NY,multiplyScalar:H0e,multiplyScalarAndAdd:q0e,ortho:F0e,perspective:D0e,perspectiveFromFieldOfView:j0e,rotate:v0e,rotateX:b0e,rotateY:w0e,rotateZ:_0e,scale:g0e,set:od,str:G0e,sub:X0e,subtract:jY,targetTo:U0e,translate:y0e,transpose:ld},Symbol.toStringTag,{value:"Module"}));const Q0e=(e,t)=>{const i=od(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return ld(i,i)},e1e=(e,t)=>{const i=od(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return ld(i,i)},t1e=(e,t)=>{const i=1-t,r=od(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return ld(r,r)},i1e=(e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),n=od(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return ld(n,n)},r1e=(e,t)=>{const i=1-2*t,r=od(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return ld(r,r)},n1e=(e,t)=>{const i=od(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return ld(i,i)},s1e=(e,t)=>{const i=1-t,r=od(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return ld(r,r)};let FY=class zY{constructor(t,i,r){this.strength=t,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(t,i,r){this.strength=hs(t.strength,i.strength,r),this.radius=hs(t.radius,i.radius,r),this.threshold=hs(t.threshold,i.threshold,r)}clone(){return new zY(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:Hv(this.radius),strength:this.strength,threshold:this.threshold}}},UY=class GY{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,r){this.radius=Math.round(hs(t.radius,i.radius,r))}clone(){return new GY(this.radius)}toJSON(){return{type:"blur",radius:Hv(this.radius)}}},M$=class VY{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.amount=hs(t.amount,i.amount,r),this._updateMatrix()}clone(){return new VY(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||S5();switch(this.type){case"brightness":this._colorMatrix=Q0e(t,this.amount);break;case"contrast":this._colorMatrix=e1e(t,this.amount);break;case"grayscale":this._colorMatrix=t1e(t,this.amount);break;case"invert":this._colorMatrix=r1e(t,this.amount);break;case"saturate":this._colorMatrix=n1e(t,this.amount);break;case"sepia":this._colorMatrix=s1e(t,this.amount)}}},BY=class HY{constructor(t,i,r,n){this.offsetX=t,this.offsetY=i,this.blurRadius=r,this.color=n,this.type="drop-shadow"}interpolate(t,i,r){this.offsetX=hs(t.offsetX,i.offsetX,r),this.offsetY=hs(t.offsetY,i.offsetY,r),this.blurRadius=hs(t.blurRadius,i.blurRadius,r),this.color[0]=Math.round(hs(t.color[0],i.color[0],r)),this.color[1]=Math.round(hs(t.color[1],i.color[1],r)),this.color[2]=Math.round(hs(t.color[2],i.color[2],r)),this.color[3]=hs(t.color[3],i.color[3],r)}clone(){return new HY(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:Hv(this.offsetX),yoffset:Hv(this.offsetY),blurRadius:Hv(this.blurRadius),color:t}}},qY=class WY{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,r){this.angle=hs(t.angle,i.angle,r),this._updateMatrix()}clone(){return new WY(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||S5();this._colorMatrix=i1e(t,this.angle)}},YY=class ZY{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,r){this.amount=hs(t.amount,i.amount,r)}clone(){return new ZY(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function hs(e,t,i){return e+(t-e)*i}function Hv(e){return Math.round(1e3*Ha(e))/1e3}function a1e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new M$(e.type,0);case"saturate":case"brightness":case"contrast":return new M$(e.type,1);case"opacity":return new YY(1);case"hue-rotate":return new qY(0);case"blur":return new UY(0);case"drop-shadow":return new BY(0,0,0,[...M8("transparent")]);case"bloom":return new FY(0,0,1)}}function o1e(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((r,n)=>r.type===i[n].type)}function l1e(e,t){const i=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let n=r.length;n<i.length;n++)r.push(a1e(i[n]))}function u1e(e){const t=e[0];return!!t&&"type"in t}function c1e(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}function h1e(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(i=>i.type==="scene")}function d1e(e){var t,i;return!!((i=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&i.some(r=>r.toLowerCase()==="beta"))}function cke(e,t){var i,r,n,s;return!(!((r=(i=e.basemap)==null?void 0:i.referenceLayers)!=null&&r.some(a=>a.uid===t))&&!((s=(n=e.basemap)==null?void 0:n.baseLayers)!=null&&s.some(a=>a.uid===t)))}function p1e(e){let t=null;const i=T$(e),r=!(i!=null&&i.baseLayers.length);for(const n in Sg){const s=JY(i,KY(Sg[n]),{mustMatchReferences:r});if(s==="equal"){t=n;break}s==="base-layers-equal"&&(t=n)}return t}function f1e(e,t){var i,r;return e===t||((i=e==null?void 0:e.portalItem)==null?void 0:i.id)!=null&&e.portalItem.id===((r=t==null?void 0:t.portalItem)==null?void 0:r.id)?!0:JY(T$(e),T$(t),{mustMatchReferences:!0})==="equal"}function m1e(e,t){var s;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const i=t.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?(s=i.tileInfo)==null?void 0:s.spatialReference:i.spatialReference]).filter(Boolean),n=e.spatialReference;return n?{spatialReference:r.find(a=>n.equals(a))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}function T$(e){return e?!e.loaded&&e.resourceInfo?KY(e.resourceInfo.data):{baseLayers:VD(e.baseLayers),referenceLayers:VD(e.referenceLayers)}:null}function VD(e){return(Ce.isCollection(e)?e.toArray():e).map(y1e)}function y1e(e){var t,i;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:XY("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(r=>({id:r.id,visible:r.visible})),activeLayerId:e.type==="wmts"?(i=e.activeLayer)==null?void 0:i.id:void 0}}function BD(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function KY(e){return e?{baseLayers:HD((e.baseMapLayers??[]).filter(t=>!BD(t))),referenceLayers:HD((e.baseMapLayers??[]).filter(t=>BD(t)))}:null}function HD(e){return e.map(t=>g1e(t))}function g1e(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:XY(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function JY(e,t,i){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":qD(e.baseLayers,t.baseLayers)?qD(e.referenceLayers,t.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function qD(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!v1e(e[i],t[i]))return!1;return!0}function v1e(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!c1e(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let i=0;i<e.sublayers.length;i++){const r=e.sublayers.at(i),n=t.sublayers.at(i);if((r==null?void 0:r.id)!==(n==null?void 0:n.id)||(r==null?void 0:r.visible)!==(n==null?void 0:n.visible))return!1}}return!0}function XY(e){return e?ms(e).replace(/^\s*https?:/i,"").toLowerCase():""}function b1e(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const i=p1e(e);return i?Sg[i].thumbnailUrl:pb(e.baseLayers,w1e)}function w1e(e){var t;return"portalItem"in e?(t=e.portalItem)==null?void 0:t.thumbnailUrl:void 0}const XE=()=>ce.getLogger("esri.support.basemapUtils");function _1e(){return{}}function S1e(e){for(const t in e){const i=e[t];vi(i),delete e[t]}}function QY(e,t){let i;if(typeof e=="string"){const r=e in Sg,n=!r&&e.includes("/");if(!r&&!n){if(Dt.apiKey)XE().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(Sg).filter(([a,l])=>l.classic||l.is3d).map(([a])=>`"${a}"`).sort().join(", ");XE().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${s}`)}return null}t&&(i=t[e]),i||(i=r?Vh.fromId(e):new Vh({style:{id:e}}),t&&(t[e]=i))}else i=Gi(Vh,e);return i!=null&&i.destroyed&&(XE().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function x1e(e){return new vb({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return!!i&&"tables"in i&&i.tables.includes(t)}})}function QE(e){for(const t of e.values())t==null||t.destroy();e.clear()}const WD={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function M1e(e){let t=null;if(typeof e=="string")if(e in WD){const i=WD[e];t=new rx({resourceInfo:{data:{layers:[i]}}})}else ce.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=Gi(rx,e);return t}let eZ=0;const tZ=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+eZ++})}};return t=h([O("esri.core.Identifiable")],t),t},T1e=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:eZ++})}};return t=h([O("esri.core.Identifiable.NumericIdentifiable")],t),t};let F1=class extends tZ(class{}){};F1=h([O("esri.core.Identifiable")],F1),function(e){e.IdentifiableMixin=tZ,e.NumericIdentifiableMixin=T1e}(F1||(F1={}));const Rf=F1;async function E1e(e){var r;const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await ve(async()=>{const{fromItem:n}=await import("./portalLayers-OpHN6JnC.js");return{fromItem:n}},__vite__mapDeps([173,171,170,169,172]));try{return await i(t)}catch(n){const s=t==null?void 0:t.portalItem,a=(s==null?void 0:s.id)||"unset",l=((r=s==null?void 0:s.portal)==null?void 0:r.url)||Dt.portalUrl;throw ce.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+l+"', id: '"+a+"')",n),n}}const YD={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function eC(e,t,i,r=Cl){const n=new _s(u8(r)),s=We.fromJSDate(e,{zone:n}),a=i==="decades"||i==="centuries"?"year":rZ(i);return i==="decades"&&(t*=10),i==="centuries"&&(t*=100),s.plus({[a]:t}).toJSDate()}function dke(e,t,i="milliseconds"){const r=e.getTime(),n=iZ(t,i,"milliseconds");return new Date(r+n)}function ZD(e,t,i=Cl){const r=new _s(u8(i)),n=We.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const a=n.startOf("year"),{year:l}=a,u=l-l%(t==="decades"?10:100);return a.set({year:u}).toJSDate()}const s=rZ(t);return n.startOf(s).toJSDate()}function iZ(e,t,i){return e===0?0:e*YD[t]/YD[i]}function pke(e,t){return e&&t?e.intersection(t):e||t}function rZ(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var _a;let Hs=_a=class extends ue{static get allTime(){return KD}static get empty(){return C1e}static fromArray(e){return new _a({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(_a.allTime)}get isEmpty(){return this.equals(_a.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new _a({end:this.end,start:this.start})}equals(e){var s,a,l,u;if(!e)return!1;const t=((s=this.start)==null?void 0:s.getTime())??this.start,i=((a=this.end)==null?void 0:a.getTime())??this.end,r=((l=e.start)==null?void 0:l.getTime())??e.start,n=((u=e.end)==null?void 0:u.getTime())??e.end;return t===r&&i===n}expandTo(e,t=Cl){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=ZD(i,e,t));let r=this.end;if(r){const n=ZD(r,e,t);r=r.getTime()===n.getTime()?n:eC(n,1,e,t)}return new _a({start:i,end:r})}intersection(e){var l,u,d,m;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return _a.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((l=this.start)==null?void 0:l.getTime())??-1/0,i=((u=this.end)==null?void 0:u.getTime())??1/0,r=((d=e.start)==null?void 0:d.getTime())??-1/0,n=((m=e.end)==null?void 0:m.getTime())??1/0;let s,a;return r>=t&&r<=i?s=r:t>=r&&t<=n&&(s=t),i>=r&&i<=n?a=i:n>=t&&n<=i&&(a=n),s==null||a==null||isNaN(s)||isNaN(a)?_a.empty:new _a({start:s===-1/0?null:new Date(s),end:a===1/0?null:new Date(a)})}offset(e,t,i=Cl){if(this.isEmpty||this.isAllTime)return this.clone();const r=new _a,{start:n,end:s}=this;return n!=null&&(r.start=eC(n,e,t,i)),s!=null&&(r.end=eC(s,e,t,i)),r}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return KD.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new _a({start:t,end:i})}};h([f({type:Date,json:{write:{allowNull:!0}}})],Hs.prototype,"end",void 0),h([He("end")],Hs.prototype,"readEnd",null),h([Re("end")],Hs.prototype,"writeEnd",null),h([f({readOnly:!0,json:{read:!1}})],Hs.prototype,"isAllTime",null),h([f({readOnly:!0,json:{read:!1}})],Hs.prototype,"isEmpty",null),h([f({type:Date,json:{write:{allowNull:!0}}})],Hs.prototype,"start",void 0),h([He("start")],Hs.prototype,"readStart",null),h([Re("start")],Hs.prototype,"writeStart",null),Hs=_a=h([O("esri.time.TimeExtent")],Hs);const Yu=Hs,KD=new Hs,C1e=new Hs({start:void 0,end:void 0});let I1e=0,Zi=class extends Va.EventedMixin(Rf.IdentifiableMixin(Ba)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Lt(-180,-90,180,90,it.WGS84),this.id=Date.now().toString(16)+"-layer-"+I1e++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=it.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const i=typeof t=="string"?{url:t}:t;return(await ve(async()=>{const{fromUrl:r}=await import("./arcgisLayers-z0Ty8Evi.js");return{fromUrl:r}},__vite__mapDeps([174,171,170,172]))).fromUrl(i)}static fromPortalItem(t){return E1e(t)}initialize(){this.when().catch(t=>{Vi(t)||ce.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const i=this;"layers"in t&&t.layers.includes(i)?t.layers.remove(i):"tables"in t&&t.tables.includes(i)?t.tables.remove(i):"baseLayers"in t&&t.baseLayers.includes(i)?t.baseLayers.remove(i):"referenceLayers"in t&&t.referenceLayers.includes(i)&&t.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const i=this.parent;return t&&i&&"effectiveVisible"in i&&t&&(t=i.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Ai(this.url)}createLayerView(t,i){return Promise.reject(new z("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await Ct(t,{query:{f:"json"},responseType:"json"})).data;throw new z("layer:no-attribution-data","Layer does not have attribution data")}};h([f({type:String})],Zi.prototype,"attributionDataUrl",void 0),h([f({readOnly:!0})],Zi.prototype,"effectiveVisible",null),h([f({type:Lt})],Zi.prototype,"fullExtent",void 0),h([f({readOnly:!0})],Zi.prototype,"hasAttributionData",null),h([f({type:String,clonable:!1})],Zi.prototype,"id",void 0),h([f({type:Boolean,nonNullable:!0})],Zi.prototype,"legendEnabled",void 0),h([f({type:["show","hide","hide-children"]})],Zi.prototype,"listMode",void 0),h([f({type:Number,range:{min:0,max:1},nonNullable:!0})],Zi.prototype,"opacity",void 0),h([f({clonable:!1})],Zi.prototype,"parent",void 0),h([f({readOnly:!0})],Zi.prototype,"parsedUrl",null),h([f({type:Boolean,readOnly:!0})],Zi.prototype,"persistenceEnabled",void 0),h([f({type:Boolean})],Zi.prototype,"popupEnabled",void 0),h([f({type:Boolean})],Zi.prototype,"attributionVisible",void 0),h([f({type:it})],Zi.prototype,"spatialReference",void 0),h([f({type:String})],Zi.prototype,"title",void 0),h([f({readOnly:!0,json:{read:!1}})],Zi.prototype,"type",void 0),h([f()],Zi.prototype,"url",void 0),h([f({type:Yu})],Zi.prototype,"visibilityTimeExtent",void 0),h([f({type:Boolean,nonNullable:!0})],Zi.prototype,"visible",void 0),Zi=h([O("esri.layers.Layer")],Zi);const T5=Zi;function E$(e,t,i){let r,n;if(e)for(let s=0,a=e.length;s<a;s++){if(r=e.at(s),(r==null?void 0:r[t])===i)return r;if((r==null?void 0:r.type)==="group"&&(n=E$(r.layers,t,i),n))return n}}const $1e=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new Ce;const r=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},n=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||ce.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},s=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void ce.getLogger(this).error("#add()","Cannot add layer to itself.");r(a.item)}),this.layers.on("after-add",a=>n(a.item)),this.layers.on("after-remove",a=>s(a.item))])}destroy(){const i=this.layers.toArray();for(const r of i)r.destroy();this.layers.destroy()}set layers(i){this._set("layers",Wu(i,this._get("layers")))}add(i,r){const n=this.layers;if(r=n.getNextIndex(r),i instanceof T5){const s=i;s.parent===this?this.reorder(s,r):n.add(s,r)}else Pl(i)?i.then(s=>{this.destroyed||this.add(s,r)}):ce.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,r){const n=this.layers;let s=n.getNextIndex(r);i.slice().forEach(a=>{a.parent!==this?(n.add(a,s),s+=1):this.reorder(a,s)})}findLayerById(i){return E$(this.layers,"id",i)}findLayerByUid(i){return E$(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,r){return this.layers.reorder(i,r)}layerAdded(i){}layerRemoved(i){}};return h([f()],t.prototype,"layers",null),t=h([O("esri.support.LayersMixin")],t),t},A1e=new Set(["feature","subtype-group"]);function C$(e,t,i){if(e)for(let r=0,n=e.length;r<n;r++){const s=e.at(r);if(s[t]===i)return s;if((s==null?void 0:s.type)==="group"){const a=C$(s.tables,t,i);if(a)return a}}}const R1e=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new Ce,this.addHandles([this.tables.on("after-add",r=>{const n=r.item;n.parent&&n.parent!==this&&"tables"in n.parent&&n.parent.tables.remove(n),n.parent=this,A1e.has(n.type)||ce.getLogger(this).error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",r=>{r.item.parent=null})])}destroy(){const i=this.tables.toArray();for(const r of i)r.destroy();this.tables.destroy()}set tables(i){this._set("tables",Wu(i,this._get("tables")))}findTableById(i){return C$(this.tables,"id",i)}findTableByUid(i){return C$(this.tables,"uid",i)}};return h([f()],t.prototype,"tables",null),t=h([O("esri.support.TablesMixin")],t),t};let ho=class extends R1e($1e(Va.EventedMixin(De))){constructor(t){super(t),this.allLayers=new vb({getCollections:()=>{var i,r,n;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.ground)==null?void 0:r.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=x1e(this),this.basemap=null,this.editableLayers=new vb({getCollections:()=>[this.allLayers],itemFilterFunction:e0e}),this.ground=new rx,this._basemapCache=_1e()}destroy(){S1e(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=vi(this.basemap),vi(this.ground),this._set("ground",null)}castBasemap(t){return QY(t,this._basemapCache)}castGround(t){return M1e(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};h([f({readOnly:!0,dependsOn:[]})],ho.prototype,"allLayers",void 0),h([f({readOnly:!0})],ho.prototype,"allTables",void 0),h([f({type:Vh,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ho.prototype,"basemap",void 0),h([Gt("basemap")],ho.prototype,"castBasemap",null),h([f({readOnly:!0})],ho.prototype,"editableLayers",void 0),h([f({type:rx,nonNullable:!0})],ho.prototype,"ground",void 0),h([Gt("ground")],ho.prototype,"castGround",null),h([f()],ho.prototype,"undoRedo",void 0),ho=h([O("esri.Map")],ho);const nZ=ho;let qv=class extends Ce{constructor(t){super(t),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(Ce.ofType(this.itemType.Type))(t):new Ce(t)}};function JD(e,t){return{type:e,cast:_Y,set(i){const r=Wu(i,this._get(t),e);r.owner=this,this._set(t,r)}}}h([f()],qv.prototype,"owner",null),qv=h([O("esri.core.support.OwningCollection")],qv);var z1;const nx=Kr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),sZ=nx.jsonValues.slice();Rae(sZ,"orthometric");const Wv=Kr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let po=z1=class extends ue{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return nx.write(e,t,i)}readHeightModel(e,t,i){return nx.read(e)||(i!=null&&i.messages&&i.messages.push(P1e(e,{context:i})),null)}readHeightUnit(e,t,i){return Wv.read(e)||(i!=null&&i.messages&&i.messages.push(XD(e,{context:i})),null)}readHeightUnitService(e,t,i){return jR(e)||Wv.read(e)||(i!=null&&i.messages&&i.messages.push(XD(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new z1({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=kH(t);return new z1({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new z1;return t.read(e,{origin:"web-scene"}),t}};function XD(e,t){return new Lo("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function P1e(e,t){return new Lo("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}h([f({type:nx.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:sZ,default:"ellipsoidal",write:{isRequired:!0}}}}})],po.prototype,"heightModel",void 0),h([Re("web-scene","heightModel")],po.prototype,"writeHeightModel",null),h([He(["web-scene","service"],"heightModel")],po.prototype,"readHeightModel",null),h([f({type:Wv.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Wv.jsonValues,write:{writer:Wv.write,isRequired:!0}}}}})],po.prototype,"heightUnit",void 0),h([He("web-scene","heightUnit")],po.prototype,"readHeightUnit",null),h([He("service","heightUnit")],po.prototype,"readHeightUnitService",null),h([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],po.prototype,"vertCRS",void 0),h([He("service","vertCRS",["vertCRS","ellipsoid","geoid"])],po.prototype,"readVertCRS",null),po=z1=h([O("esri.geometry.HeightModelInfo")],po);const E5=po;let sx=class extends qv{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(ce.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};sx=h([O("esri.support.AnalysesCollection")],sx);let tC;async function O1e(){return tC==null&&(tC=ve(()=>import("./WhereClauseCache-CIgru5HB.js"),__vite__mapDeps([20,21,22])).then(e=>new e.WhereClauseCache(500,500))),tC}async function aZ(e,t){const i=await O1e(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function vke(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function k1e(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function bke(e,t){return t.length===0?null:`${e} IN (${L1e(t)})`}function L1e(e){return e.map(t=>typeof t=="string"?N1e(t):t).join(",")}function N1e(e){return`'${e.replaceAll("'","''")}'`}function wke(e){return typeof e=="number"}function _ke(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Ske(e){return typeof e=="boolean"}function c2(e){return typeof e=="string"||e instanceof String}function D1e(e){return e==null||c2(e)}function xke(e){return Array.isArray(e)}function j1e(e){return(e==null?void 0:e.declaredClass)==="esri.Graphic"}function Mke(e){return e instanceof Date}const F1e="HH:mm",z1e="HH:mm:ss",U1e="HH:mm:ss.SSS",G1e=[U1e,z1e,F1e,"TT"],V1e="yyyy-MM-dd";function QD(e){if(!e||!c2(e))return null;const t=We.fromFormat(e,V1e);return t.isValid?t:null}function ej(e){return e&&c2(e)?pb(G1e,t=>{const i=We.fromFormat(e,t);return i.isValid?i:null})??null:null}function tj(e){if(!e||!c2(e))return null;const t=We.fromISO(e);return t.isValid?t:null}var ax;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(ax||(ax={}));const oZ=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function B1e(e){return e!=null&&oZ.has(e.type)}function lZ(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function uZ(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function cZ(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const H1e=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);gR(oZ,H1e);function Tke(e,t){const i=e==null?void 0:e.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=B1e(e);return lZ(e)||cZ(e)||uZ(e)?{...q1e(e,n,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:s}}function q1e(e,t,i){var r,n,s,a,l,u;return lZ(e)?{min:(r=QD(i))==null?void 0:r.toMillis(),max:(n=QD(t))==null?void 0:n.toMillis(),rawMin:i,rawMax:t}:cZ(e)?{min:(s=ej(i))==null?void 0:s.toMillis(),max:(a=ej(t))==null?void 0:a.toMillis(),rawMin:i,rawMax:t}:uZ(e)?{min:(l=tj(i))==null?void 0:l.toMillis(),max:(u=tj(t))==null?void 0:u.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function W1e(e){if(!e)return;const t=e.match(Y1e);return t!=null&&t.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const Y1e=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function Z1e(e){var t,i;return((i=(t=e.match(K1e))==null?void 0:t[1])==null?void 0:i.replace(/\\'/g,"'"))??null}const K1e=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Eo=class{};function J1e(e){return e instanceof $f?e===Eo.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function Cke(e){return J1e(e)?Eo.instance:e}Eo.instance=new _s("Etc/UTC");var ox;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(ox||(ox={}));const X1e={[ox.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let Q1e=class hZ extends Error{constructor(t,i){super(Bb(X1e[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,hZ)}};function Im(e,t,i){return e<t?e-t:e>i?e-i:0}function $m(e,t,i){return e<t?t:e>i?i:e}let l_=class ar{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,n=0,s=0,a=0,l=0,u){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a)||isNaN(l))return null;const d=We.local(t,i).daysInMonth;let m=We.fromObject({day:$m(r,1,d),year:t,month:$m(i,1,12),hour:$m(n,0,23),minute:$m(s,0,59),second:$m(a,0,59),millisecond:$m(l,0,999)},{zone:Ld(u)});return m=m.plus({months:Im(i,1,12),days:Im(r,1,d),hours:Im(n,0,23),minutes:Im(s,0,59),seconds:Im(a,0,59),milliseconds:Im(l,0,999)}),new ar(m)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=Ld(i);return t.isUnknownTimeZone||r===Eo.instance?ar.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new ar(t._date.setZone(r))}static dateJSToArcadeDate(t){return new ar(We.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=Ld(i);return new ar(We.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new ar(We.fromMillis(t,{zone:Eo.instance}))}static unknownDateJSToArcadeDate(t){return new ar(We.fromMillis(t.getTime(),{zone:Eo.instance}))}static epochToArcadeDate(t,i="system"){const r=Ld(i);return new ar(We.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new ar(t)}clone(){return new ar(this._date)}changeTimeZone(t){const i=Ld(t);return ar.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=Ld(i);return t.zone===Eo.instance||r===Eo.instance?ar.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new ar(t.setZone(r))}static nowToArcadeDate(t){const i=Ld(t);return new ar(We.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new ar(We.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===ar.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===Eo.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new ar(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new ar(this._date.toUTC())}toLocal(){return new ar(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=We.fromISO(t,{setZone:!0});return new ar(i)}};function Ld(e,t=!0){if(e instanceof $f)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return Eo.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=Yr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=_s.create(e);if(!i.isValid){if(t)throw new Q1e(ox.TimeZoneNotRecognized);return null}return i}const eve=()=>ce.getLogger("esri.support.arcadeOnDemand"),tve=["geometry","scale","timeProperties"];function Ike(e,t){if(t!=null)for(const i of tve)t.hasArcadeDependency(i)&&e.add(i);return e}let iC;function vf(){return iC||(iC=(async()=>{const e=await ve(()=>import("./arcadeUtils-BZYsuVue.js"),__vite__mapDeps([175,176,177,178,150,22,30,18,14,19,21]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),iC}const $ke=(e,t,i)=>dZ.create(e,t,i,null,["$feature","$view"],[]),ive=(e,t,i,r)=>dZ.create(e,t,i,r,["$feature","$view"],[]);let dZ=class pZ{constructor(t,i,r,n,s,a,l){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=n;const u=Array.isArray(a)?a:a==null?void 0:a.fields;this.fields=u??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=s,this._spatialReference=l,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,n,s,a){const{arcade:l,Feature:u,Dictionary:d}=await vf(),m=i instanceof it?i:it.fromJSON(i);let v;try{v=l.parseScript(t,a)}catch(X){return eve().error(new z("arcade-bad-expression","Failed to parse arcade script",{script:t,error:X})),null}const b=s.reduce((X,re)=>({...X,[re]:null}),{});let _=null;n!=null&&(_=new d(n),_.immutable=!0,b.$config=null);const S=l.scriptUsesGeometryEngine(v),M=S&&l.enableGeometrySupport(),T=l.scriptUsesFeatureSet(v)&&l.enableFeatureSetSupport(),E=l.scriptIsAsync(v),A=E&&l.enableAsyncSupport(),P={vars:b,spatialReference:m,useAsync:!!A};await Promise.all([M,T,A]);const N=new Set;await l.loadDependentModules(N,v,null,E,S);const D=new d;D.immutable=!1,D.setField("scale",0);const k=l.compileScript(v,P),q=(X,re)=>{var be;const W=(be=X.$view)==null?void 0:be.timeZone;if("$view"in X&&X.$view){let ae;if(D.setField("scale",typeof X.$view=="object"&&"scale"in X.$view?X.$view.scale:void 0),typeof X.$view=="object"&&"timeProperties"in X.$view&&X.$view.timeProperties!=null){const{currentStart:$e,currentEnd:Me}=X.$view.timeProperties;ae=new d({currentStart:$e!=null?W!=null?l_.epochToArcadeDate($e,W):l_.unknownEpochToArcadeDate($e):void 0,currentEnd:Me!=null?W!=null?l_.epochToArcadeDate(Me,W):l_.unknownEpochToArcadeDate(Me):void 0,startIncluded:!0,endIncluded:!0})}D.setField("timeProperties",ae),X.$view=D}return _&&(X.$config=_),k({vars:X,spatialReference:m,services:re,timeZone:W})};return new pZ(t,l,v,q,new u,r,m)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const rve=/^([0-9_])/,nve=/[^a-z0-9_\u0080-\uffff]+/gi;function sve(e){return e==null?null:e.trim().replaceAll(nve,"_").replace(rve,"F$1")||null}const ave=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],ove=["field","normalizationField"];function ij(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(rj(ave,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)rj(ove,r,t)}}function rj(e,t,i){if(e)for(const r of e){const n=Vb(r,t),s=n&&typeof n!="function"&&i.get(n);s&&bs(r,s.name,t)}}function fZ(e,t){var i;if(e!=null&&((i=t==null?void 0:t.fields)!=null&&i.length))if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=(r==null?void 0:r.name)??null,e.endField=(n==null?void 0:n.name)??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=(r==null?void 0:r.name)??null,e.endTimeField=(n==null?void 0:n.name)??null}}const rC=new Set;function C5(e,t){return e&&t?(rC.clear(),Mb(rC,e,t),Array.from(rC).sort()):[]}function Mb(e,t,i){var r;if(i)if((r=t==null?void 0:t.fields)!=null&&r.length)if(i.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const n of i)ta(e,t,n);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const n of i)n!=null&&e.add(n)}}function ta(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function Ake(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function Rke(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=C5(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Wn(e,t,i){var s;if(!i)return;let r;const n=W1e(i);if(n)r=[n];else{const{arcadeUtils:a}=await vf();r=a.extractFieldNames(i,(s=t==null?void 0:t.fields)==null?void 0:s.map(l=>l.name))}for(const a of r)ta(e,t,a)}async function I8(e,t,i){if(i&&i!=="1=1"){const r=await aZ(i,t);if(!r.isStandardized)throw new z("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Mb(e,t,r.fieldNames)}}function lve({displayField:e,fields:t}){return e||(t!=null&&t.length?nC(t,"name-or-title")||nC(t,"unique-identifier")||nC(t,"type-or-category")||uve(t):null)}function uve(e){for(const t of e){if(!(t!=null&&t.name))continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function nC(e,t){for(const i of e)if(i!=null&&i.valueType&&i.valueType===t)return i.name;return null}async function Pke(e,t){var r;if(!t)return;const i=(r=t.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function cve(e,t,i){i.onStatisticExpression?Wn(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function Oke(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(mZ(e,t,n)),i.fields&&r.push(...i.fields.map(async s=>cve(e,t.fieldsIndex,s))),await Promise.all(r)}async function kke(e,t){var s,a,l;const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const n=[(s=r.latestObservations.renderer)==null?void 0:s.collectRequiredFields(e,i),(a=r.previousObservations.renderer)==null?void 0:a.collectRequiredFields(e,i),(l=r.trackLines.renderer)==null?void 0:l.collectRequiredFields(e,i)];r.popupTemplate&&n.push(mZ(e,t,r.popupTemplate));for(const u of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(u)for(const d of u)n.push(vZ(e,i,d));await Promise.all(n)}async function mZ(e,t,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(s=>Wn(e,t.fieldsIndex,s.expression)));const n=i==null?void 0:i.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&r.push(Wn(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(r)}async function Lke(e,t,i){t&&(t.timeInfo&&(i!=null&&i.timeExtent)&&Mb(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Mb(e,t.fieldsIndex,[t.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await I8(e,t.fieldsIndex,i.where))}async function Nke(e,t,i){t&&i&&await Promise.all(i.map(r=>hve(e,t,r)))}async function hve(e,t,i){t&&i&&(i.valueExpression?await Wn(e,t.fieldsIndex,i.valueExpression):i.field&&ta(e,t.fieldsIndex,i.field))}function Dke(e){return e?C5(e.fieldsIndex,yZ(e)):[]}function dve(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?C5(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function jke(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(n=>I8(e,r,n.where)))}const pve=new Set(["oid","global-id","guid"]),fve=new Set(["oid","global-id"]),mve=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function yve(e){const t=new Set;gZ(e).forEach(r=>t.add(r)),dve(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function yZ(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=t;return[i,r,n,s].filter(Boolean)}function gZ(e){return yZ(e).map(t=>t.toLowerCase())}function gve(e,t){var i;return e.editable&&!pve.has(e.type)&&!gZ(t).includes(((i=e.name)==null?void 0:i.toLowerCase())??"")}function vve(e,t){var r;const i=((r=e.name)==null?void 0:r.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&i===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&i===t.globalIdField.toLowerCase()||yve(t).includes(i)||fve.has(e.type)||mve.some(n=>n.test(i)))}async function Fke(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i!=null&&i.length&&await Promise.all(i.map(n=>vZ(e,r,n)))}async function vZ(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await Wn(e,t,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(a=>{ta(e,t,a.slice(1,-1))})}await I8(e,t,n)}function bve(e){const t=e.defaultValue;return t!==void 0&&wZ(e,t)?t:e.nullable?null:void 0}function zke(e){const t=typeof e=="string"?{type:e}:e;return xZ(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function bZ(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function wve(e){return e===null||bZ(e)}function _ve(e){return e===null||Number.isInteger(e)}function Sve(){return!0}function wZ(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?_ve:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?wve:bZ;break;case"string":case"esriFieldTypeString":i=e.nullable?D1e:c2;break;default:i=Sve}return arguments.length===1?i:i(t)}const xve=["integer","small-integer","big-integer"],Mve=["single","double"],Tve=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Eve=["esriFieldTypeSingle","esriFieldTypeDouble"],_Z=new Set([...xve,...Tve]),Cve=new Set([...Mve,...Eve]),Ive=gR(_Z,Cve);function $ve(e){return e!=null&&_Z.has(e.type)}function SZ(e){return e!=null&&Ive.has(e.type)}function xZ(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function Ave(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function Uke(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function Gke(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Rve(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function nj(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function sj(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function Vke(e,t){return Pve(e,t)===null}var lx,ux;function Bke(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Pve(e,t){return e==null||e.nullable&&t===null?null:wZ(e,t)?SZ(e)&&!Ove(e.type,Number(t))?lx.OUT_OF_RANGE:null:ux.INVALID_TYPE}function Ove(e,t){const i=typeof e=="string"?MZ(e):e;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=n:t>=r&&t<=n}function MZ(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return kve;case"esriFieldTypeInteger":case"integer":return Lve;case"esriFieldTypeBigInteger":case"big-integer":return Nve;case"esriFieldTypeSingle":case"single":return Dve;case"esriFieldTypeDouble":case"double":return jve}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(lx||(lx={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ux||(ux={}));const kve={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Lve={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Nve={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Dve={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},jve={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Hke(e,t,i){switch(e){case ax.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ax.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ux.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case lx.OUT_OF_RANGE:{const{min:r,max:n}=MZ(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${n}`}}}function qke(e,t){return!Fve(e,t,null)}function Fve(e,t,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!r.has(s)&&(n=!0,i==null))break;return n}function zve(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Uve(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let mS=class extends ue{constructor(t){super(t),this.type=null}};h([f({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],mS.prototype,"type",void 0),mS=h([O("esri.popup.content.Content")],mS);const tc=mS,u_=new It({asc:"ascending",desc:"descending"});let U1=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.field=null,this.order="ascending"}};h([f({type:String,json:{write:!0}})],U1.prototype,"field",void 0),h([f({type:u_.apiValues,json:{type:u_.jsonValues,read:u_.read,write:u_.write}})],U1.prototype,"order",void 0),U1=h([O("esri.popup.support.AttachmentsOrderByInfo")],U1);const Gve=U1;let Yc=class extends Xt.ClonableMixin(tc){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};h([f({type:String,json:{write:!0}})],Yc.prototype,"description",void 0),h([f({type:["auto","preview","list"],json:{write:!0}})],Yc.prototype,"displayType",void 0),h([f({type:[Gve],json:{write:!0}})],Yc.prototype,"orderByFields",void 0),h([f({type:String,json:{write:!0}})],Yc.prototype,"title",void 0),h([f({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Yc.prototype,"type",void 0),Yc=h([O("esri.popup.content.AttachmentsContent")],Yc);const xg=Yc;var I$;let Jd=I$=class extends tc{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new I$({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?H(this.outFields):null})}};h([f()],Jd.prototype,"creator",void 0),h([f()],Jd.prototype,"destroyer",void 0),h([f()],Jd.prototype,"outFields",void 0),h([f({type:["custom"],readOnly:!0})],Jd.prototype,"type",void 0),Jd=I$=h([O("esri.popup.content.CustomContent")],Jd);const Vve=Jd;var $$;let Ym=$$=class extends ue{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new $$({title:this.title,expression:this.expression})}};h([f({type:String,json:{write:!0}})],Ym.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Ym.prototype,"expression",void 0),h([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ym.prototype,"returnType",void 0),Ym=$$=h([O("esri.popup.ElementExpressionInfo")],Ym);const Bve=Ym;var A$;let G1=A$=class extends tc{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new A$({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};h([f({type:Bve,json:{write:!0}})],G1.prototype,"expressionInfo",void 0),h([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],G1.prototype,"type",void 0),G1=A$=h([O("esri.popup.content.ExpressionContent")],G1);const I5=G1;let Zm=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};h([qe(wfe)],Zm.prototype,"dateFormat",void 0),h([f({type:Boolean,json:{write:!0}})],Zm.prototype,"digitSeparator",void 0),h([f({type:zt,json:{write:!0}})],Zm.prototype,"places",void 0),Zm=h([O("esri.popup.support.FieldInfoFormat")],Zm);const yS=Zm;var R$;let fo=R$=class extends ue{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new R$({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};h([f({type:String,json:{write:!0}})],fo.prototype,"fieldName",void 0),h([f({type:yS,json:{write:!0}})],fo.prototype,"format",void 0),h([f({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],fo.prototype,"isEditable",void 0),h([f({type:String,json:{write:!0}})],fo.prototype,"label",void 0),h([qe(new It({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],fo.prototype,"stringFieldOption",void 0),h([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],fo.prototype,"statisticType",void 0),h([f({type:String,json:{write:!0}})],fo.prototype,"tooltip",void 0),h([f({type:Boolean,json:{write:!0}})],fo.prototype,"visible",void 0),fo=R$=h([O("esri.popup.FieldInfo")],fo);const $8=fo;var P$;let pu=P$=class extends tc{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new P$(H({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};h([f({type:Object,json:{write:!0}})],pu.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],pu.prototype,"description",void 0),h([f({type:[$8]})],pu.prototype,"fieldInfos",void 0),h([Re("fieldInfos")],pu.prototype,"writeFieldInfos",null),h([f({type:String,json:{write:!0}})],pu.prototype,"title",void 0),h([f({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],pu.prototype,"type",void 0),pu=P$=h([O("esri.popup.content.FieldsContent")],pu);const Mg=pu;let Xd=class extends ue{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};h([f({type:String,json:{write:!0}})],Xd.prototype,"altText",void 0),h([f({type:String,json:{write:!0}})],Xd.prototype,"caption",void 0),h([f({type:String,json:{write:!0}})],Xd.prototype,"title",void 0),h([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Xd.prototype,"type",void 0),Xd=h([O("esri.popup.content.mixins.MediaInfo")],Xd);const A8=Xd;var O$;let Qd=O$=class extends De{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new O$({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};h([f()],Qd.prototype,"color",void 0),h([f()],Qd.prototype,"fieldName",void 0),h([f()],Qd.prototype,"tooltip",void 0),h([f()],Qd.prototype,"value",void 0),Qd=O$=h([O("esri.popup.content.support.ChartMediaInfoValueSeries")],Qd);const Hve=Qd;var k$;let Zc=k$=class extends ue{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new k$({colors:H(this.colors),fields:H(this.fields),normalizeField:this.normalizeField,series:H(this.series),tooltipField:this.tooltipField})}};h([f({type:[me],json:{type:[[zt]],write:!0}})],Zc.prototype,"colors",void 0),h([f({type:[String],json:{write:{isRequired:!0}}})],Zc.prototype,"fields",void 0),h([f({type:String,json:{write:!0}})],Zc.prototype,"normalizeField",void 0),h([f({type:[Hve],json:{read:!1}})],Zc.prototype,"series",void 0),h([f({type:String,json:{write:!0}})],Zc.prototype,"tooltipField",void 0),Zc=k$=h([O("esri.popup.content.support.ChartMediaInfoValue")],Zc);const qve=Zc;let V1=class extends A8{constructor(t){super(t),this.type=null,this.value=void 0}};h([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],V1.prototype,"type",void 0),h([f({type:qve,json:{write:{isRequired:!0}}})],V1.prototype,"value",void 0),V1=h([O("esri.popup.content.mixins.ChartMediaInfo")],V1);const $5=V1,A5=Kr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var L$;let gS=L$=class extends $5{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new L$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};h([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:A5.write,isRequired:!0}}})],gS.prototype,"type",void 0),gS=L$=h([O("esri.popup.content.BarChartMediaInfo")],gS);const TZ=gS;var N$;let vS=N$=class extends $5{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new N$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};h([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:A5.write,isRequired:!0}}})],vS.prototype,"type",void 0),vS=N$=h([O("esri.popup.content.ColumnChartMediaInfo")],vS);const EZ=vS;var D$;let B1=D$=class extends ue{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new D$({linkURL:this.linkURL,sourceURL:this.sourceURL})}};h([f({type:String,json:{write:!0}})],B1.prototype,"linkURL",void 0),h([f({type:String,json:{write:{isRequired:!0}}})],B1.prototype,"sourceURL",void 0),B1=D$=h([O("esri.popup.content.support.ImageMediaInfoValue")],B1);const Wve=B1;var j$;let Km=j$=class extends A8{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new j$({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};h([f({type:Number,json:{write:!0}})],Km.prototype,"refreshInterval",void 0),h([f({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Km.prototype,"type",void 0),h([f({type:Wve,json:{write:{isRequired:!0}}})],Km.prototype,"value",void 0),Km=j$=h([O("esri.popup.content.ImageMediaInfo")],Km);const CZ=Km;var F$;let bS=F$=class extends $5{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new F$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};h([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:A5.write,isRequired:!0}}})],bS.prototype,"type",void 0),bS=F$=h([O("esri.popup.content.LineChartMediaInfo")],bS);const IZ=bS;var z$;let wS=z$=class extends $5{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new z$({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};h([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:A5.write,isRequired:!0}}})],wS.prototype,"type",void 0),wS=z$=h([O("esri.popup.content.PieChartMediaInfo")],wS);const $Z=wS,U$={base:A8,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":TZ,"column-chart":EZ,"line-chart":IZ,"pie-chart":$Z,image:CZ}};var G$;let mo=G$=class extends tc{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?CZ.fromJSON(t):t.type==="barchart"?TZ.fromJSON(t):t.type==="columnchart"?EZ.fromJSON(t):t.type==="linechart"?IZ.fromJSON(t):t.type==="piechart"?$Z.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new G$(H({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};h([f()],mo.prototype,"activeMediaInfoIndex",void 0),h([f({type:Object,json:{write:!0}})],mo.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],mo.prototype,"description",void 0),h([f({types:[U$]})],mo.prototype,"mediaInfos",void 0),h([He("mediaInfos")],mo.prototype,"readMediaInfos",null),h([Re("mediaInfos")],mo.prototype,"writeMediaInfos",null),h([f({type:String,json:{write:!0}})],mo.prototype,"title",void 0),h([f({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],mo.prototype,"type",void 0),mo=G$=h([O("esri.popup.content.MediaContent")],mo);const Tb=mo;var V$;let H1=V$=class extends ue{constructor(e){super(e),this.field=null,this.order=null}clone(){return new V$({field:this.field,order:this.order})}};h([f({type:String,json:{write:!0}})],H1.prototype,"field",void 0),h([f({type:["asc","desc"],json:{write:!0}})],H1.prototype,"order",void 0),H1=V$=h([O("esri.popup.support.RelatedRecordsInfoFieldOrder")],H1);const AZ=H1;let el=class extends Xt.ClonableMixin(tc){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};h([f({type:String,json:{write:!0}})],el.prototype,"description",void 0),h([f({type:Number,json:{type:zt,write:!0}})],el.prototype,"displayCount",void 0),h([f({type:["list"],json:{write:{isRequired:!0}}})],el.prototype,"displayType",void 0),h([f({type:[AZ],json:{write:!0}})],el.prototype,"orderByFields",void 0),h([f({type:Number,json:{type:zt,write:{isRequired:!0}}})],el.prototype,"relationshipId",void 0),h([f({type:String,json:{write:!0}})],el.prototype,"title",void 0),h([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],el.prototype,"type",void 0),el=h([O("esri.popup.content.RelationshipContent")],el);const Eb=el;var B$;let q1=B$=class extends tc{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new B$({text:this.text})}};h([f({type:String,json:{write:!0}})],q1.prototype,"text",void 0),h([f({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],q1.prototype,"type",void 0),q1=B$=h([O("esri.popup.content.TextContent")],q1);const Cb=q1;let fu=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};h([f({type:String,json:{write:!0}})],fu.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],fu.prototype,"description",void 0),h([f({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],fu.prototype,"type",void 0),h([f({type:Number,json:{type:zt,write:!0}})],fu.prototype,"associatedNetworkSourceId",void 0),h([f({type:Number,json:{type:zt,write:!0}})],fu.prototype,"associatedAssetGroup",void 0),h([f({type:Number,json:{type:zt,write:!0}})],fu.prototype,"associatedAssetType",void 0),fu=h([O("esri.popup.support.UtilityNetworkAssociationType")],fu);const Yve=fu;let Kc=class extends Xt.ClonableMixin(tc){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};h([f({type:String,json:{write:!0}})],Kc.prototype,"description",void 0),h([f({type:Number,json:{type:zt,write:!0}})],Kc.prototype,"displayCount",void 0),h([f({type:String,json:{write:!0}})],Kc.prototype,"title",void 0),h([f({type:[Yve],json:{write:!0}})],Kc.prototype,"associationTypes",void 0),h([qe({utilityNetworkAssociations:"utility-network-associations"})],Kc.prototype,"type",void 0),Kc=h([O("esri.popup.content.UtilityNetworkAssociationsContent")],Kc);const R8=Kc,Zve={base:null,key:"type",typeMap:{attachment:xg,media:Tb,text:Cb,expression:I5,field:Mg,relationship:Eb,utilityNetworkAssociations:R8}},Kve={base:null,key:"type",typeMap:{attachment:xg,media:Tb,text:Cb,expression:I5,field:Mg,relationship:Eb}};var H$;let ep=H$=class extends ue{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new H$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};h([f({type:String,json:{write:!0}})],ep.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],ep.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],ep.prototype,"expression",void 0),h([f({type:["string","number"],json:{write:!0}})],ep.prototype,"returnType",void 0),ep=H$=h([O("esri.popup.ExpressionInfo")],ep);const Jve=ep;var q$;let W1=q$=class extends ue{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new q$({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};h([f({type:Boolean,json:{write:!0}})],W1.prototype,"returnTopmostRaster",void 0),h([f({type:Boolean,json:{write:!0}})],W1.prototype,"showNoDataRecords",void 0),W1=q$=h([O("esri.popup.LayerOptions")],W1);const Xve=W1;var W$;let Y1=W$=class extends ue{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new W$({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?H(this.orderByFields):null})}};h([f({type:Boolean,json:{write:!0}})],Y1.prototype,"showRelatedRecords",void 0),h([f({type:[AZ],json:{write:!0}})],Y1.prototype,"orderByFields",void 0),Y1=W$=h([O("esri.popup.RelatedRecordsInfo")],Y1);const aj=Y1;var Y$;let Sa=Y$=class extends Rf.IdentifiableMixin(De){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Y$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};h([f()],Sa.prototype,"active",void 0),h([f()],Sa.prototype,"className",void 0),h([f()],Sa.prototype,"disabled",void 0),h([f()],Sa.prototype,"icon",void 0),h([f()],Sa.prototype,"id",void 0),h([f()],Sa.prototype,"indicator",void 0),h([f()],Sa.prototype,"title",void 0),h([f()],Sa.prototype,"type",void 0),h([f()],Sa.prototype,"visible",void 0),Sa=Y$=h([O("esri.support.actions.ActionBase")],Sa);const P8=Sa;var Z$;let _S=Z$=class extends P8{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Z$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};h([f()],_S.prototype,"image",void 0),_S=Z$=h([O("esri.support.actions.ActionButton")],_S);const Qve=_S;var K$;let Z1=K$=class extends P8{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new K$({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};h([f()],Z1.prototype,"image",void 0),h([f()],Z1.prototype,"value",void 0),Z1=K$=h([O("esri.support.actions.ActionToggle")],Z1);const ebe=Z1,c1="relationships/",oj="expression/",tbe=Ce.ofType({key:"type",defaultKeyValue:"button",base:P8,typeMap:{button:Qve,toggle:ebe}}),ibe={base:tc,key:"type",typeMap:{media:Tb,custom:Vve,text:Cb,attachments:xg,fields:Mg,expression:I5,relationship:Eb,utilityNetworkAssociations:R8}},RZ=new Set(["attachments","fields","media","text","expression","relationship"]),rbe=new Set([...RZ,"utility-network-associations"]);let pr=class extends Xt.ClonableMixin(ue){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Bu(ibe,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Pl(t)?t:(ce.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeWebMapContent(t,i,r,n){this._writePopupTemplateContent(t,i,n)}writeFieldInfos(t,i,r,n){const{content:s}=this,a=Array.isArray(s)?s:null;if(t){const l=a?a.filter(d=>d.type==="fields"):[],u=l.length&&l.every(d=>{var m;return(m=d.fieldInfos)==null?void 0:m.length});i.fieldInfos=t.filter(Boolean).map(d=>{const m=d.toJSON(n);return u&&(m.visible=!1),m})}if(a)for(const l of a)l.type==="fields"&&this._writeFieldsContent(l,i)}writeLayerOptions(t,i,r,n){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Mb(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(n=>(r==null?void 0:r.origin)==="web-scene"?RZ.has(n.type):rbe.has(n.type)).map(n=>n==null?void 0:n.toJSON(r)),i.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(i):n.type==="media"?this._writeMediaContent(n,i):n.type==="text"?this._writeTextContent(n,i):n.type==="relationship"&&this._writeRelationshipContent(n,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=H(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(n=>{const s=i.fieldInfos.find(a=>{var l,u;return((l=a.fieldName)==null?void 0:l.toLowerCase())===((u=n.fieldName)==null?void 0:u.toLowerCase())});s?s.visible=!0:i.fieldInfos.push(n)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){var s,a;const r=((s=t.orderByFields)==null?void 0:s.map(l=>this._toFieldOrderJSON(l,t.relationshipId)))||[],n=[...((a=i.relatedRecordsInfo)==null?void 0:a.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(n==null?void 0:n.length)&&{orderByFields:n}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=H(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!i||n.mediaInfos||(s.mediaInfos=i,n.mediaInfos=!0),Tb.fromJSON(s)):s.type==="text"?(s.text||!t||n.description||(s.text=t,n.description=!0),Cb.fromJSON(s)):s.type==="attachments"?xg.fromJSON(s):s.type==="fields"?Mg.fromJSON(s):s.type==="expression"?I5.fromJSON(s):s.type==="relationship"?Eb.fromJSON(s):s.type==="utilityNetworkAssociations"?R8.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!(i!=null&&i.startsWith(c1)))return null;const n=i.replace(c1,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),a=n[1];return!Number.isNaN(s)&&a?Eb.fromJSON({relationshipId:s,orderByFields:[{field:a,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:n}=t;return{field:`${c1}${i}/${n}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];t?s.push(new Cb({text:t})):s.push(new Mg),Array.isArray(i)&&i.length&&s.push(Tb.fromJSON({mediaInfos:i})),r&&s.push(xg.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:l}=n;return a&&(l!=null&&l.length)&&l.forEach(u=>{const d=this._toRelationshipContent(u);d&&s.push(d)}),s.length?s:t}_getContentElementFields(t){const i=t==null?void 0:t.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:n}=t,s=n||{},{fields:a,normalizeField:l,tooltipField:u,sourceURL:d,linkURL:m}=s,v=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(d),...this._extractFieldNames(m),...a??[]];return l&&v.push(l),u&&v.push(u),v}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(n=>Wn(t,i,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(c1)||i.startsWith(oj))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:n}=t,s=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Uve(t).filter(i=>!(i.indexOf(c1)===0||i.indexOf(oj)===0))}};h([f({type:tbe})],pr.prototype,"actions",void 0),h([f()],pr.prototype,"content",void 0),h([Gt("content")],pr.prototype,"castContent",null),h([He("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],pr.prototype,"readContent",null),h([Re("web-scene","content",{popupElements:{type:Ce.ofType(Kve)},showAttachments:{type:Boolean},mediaInfos:{type:Ce.ofType(U$)},description:{type:String},relatedRecordsInfo:{type:aj}})],pr.prototype,"writeWebSceneContent",null),h([Re("content",{popupElements:{type:Ce.ofType(Zve)},showAttachments:{type:Boolean},mediaInfos:{type:Ce.ofType(U$)},description:{type:String},relatedRecordsInfo:{type:aj}})],pr.prototype,"writeWebMapContent",null),h([f({type:[Jve],json:{write:!0}})],pr.prototype,"expressionInfos",void 0),h([f({type:[$8]})],pr.prototype,"fieldInfos",void 0),h([Re("fieldInfos")],pr.prototype,"writeFieldInfos",null),h([f({type:Xve})],pr.prototype,"layerOptions",void 0),h([Re("layerOptions")],pr.prototype,"writeLayerOptions",null),h([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],pr.prototype,"lastEditInfoEnabled",void 0),h([f()],pr.prototype,"outFields",void 0),h([f()],pr.prototype,"overwriteActions",void 0),h([f()],pr.prototype,"returnGeometry",void 0),h([f({json:{type:String}})],pr.prototype,"title",void 0),h([Re("title")],pr.prototype,"writeTitle",null),pr=h([O("esri.PopupTemplate")],pr);const Il=pr,lj=new It({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let nbe=0,Jm=class extends ue{constructor(t){super(t),this.id="sym"+nbe++,this.type=null,this.color=new me([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};h([f({type:lj.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:lj.write,isRequired:!0}}})],Jm.prototype,"type",void 0),h([f({type:me,json:{write:{allowNull:!0}}})],Jm.prototype,"color",void 0),h([He("color")],Jm.prototype,"readColor",null),Jm=h([O("esri.symbols.Symbol")],Jm);const hn=Jm;var J$;let Jc=J$=class extends hn{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const n=r.map(s=>{const a=s.valueExpressionInfo;return a?Wn(e,t,a.expression):null});await Promise.all(n)}}}clone(){return new J$({data:H(this.data)})}hash(){return ZV(JSON.stringify(this.data)).toString()}};h([f({json:{write:!1}})],Jc.prototype,"color",void 0),h([f({json:{write:!0}})],Jc.prototype,"data",void 0),h([He("data",["symbol"])],Jc.prototype,"readData",null),h([Re("data",{})],Jc.prototype,"writeData",null),h([qe({CIMSymbolReference:"cim"},{readOnly:!0})],Jc.prototype,"type",void 0),Jc=J$=h([O("esri.symbols.CIMSymbol")],Jc);const Ee=Jc;let Xm=class extends ue{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};h([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Xm.prototype,"enabled",void 0),h([Re("enabled")],Xm.prototype,"writeEnabled",null),h([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Xm.prototype,"type",void 0),Xm=h([O("esri.symbols.Symbol3DLayer")],Xm);const Ol=Xm;function sbe(e,t){const i=t.transparency!=null?xb(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new me([r[0]||0,r[1]||0,r[2]||0,i]):null}function abe(e,t){t.color=e.toJSON().slice(0,3);const i=T8(e.a);i!==0&&(t.transparency=i)}function ud(e){return{type:me,nonNullable:e==null?void 0:e.nonNullable,json:{type:[zt],default:null,read:{source:["color","transparency"],reader:sbe},write:{target:{color:{type:[zt],isRequired:e==null?void 0:e.colorRequiredOnWrite},transparency:{type:zt}},writer:abe}}}}const $l={type:Number,cast:Ot,json:{write:!0}};let tp=class extends ue{constructor(t){super(t),this.color=new me([0,0,0,1]),this.extensionLength=0,this.size=Ha(1)}clone(){}cloneProperties(){return{color:H(this.color),size:this.size,extensionLength:this.extensionLength}}};h([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],tp.prototype,"type",void 0),h([f(ud({colorRequiredOnWrite:!0}))],tp.prototype,"color",void 0),h([f({...$l,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],tp.prototype,"extensionLength",void 0),h([f($l)],tp.prototype,"size",void 0),tp=h([O("esri.symbols.edges.Edges3D")],tp);const O8=tp;var X$;let SS=X$=class extends O8{constructor(e){super(e),this.type="sketch"}clone(){return new X$(this.cloneProperties())}};h([qe({sketch:"sketch"},{readOnly:!0})],SS.prototype,"type",void 0),SS=X$=h([O("esri.symbols.edges.SketchEdges3D")],SS);const obe=SS;var Q$;let xS=Q$=class extends O8{constructor(e){super(e),this.type="solid"}clone(){return new Q$(this.cloneProperties())}};h([qe({solid:"solid"},{readOnly:!0})],xS.prototype,"type",void 0),xS=Q$=h([O("esri.symbols.edges.SolidEdges3D")],xS);const PZ=xS,OZ={types:{key:"type",base:O8,typeMap:{solid:PZ,sketch:obe}},json:{write:!0}};var e6;let Xs=e6=class extends ue{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?d8(this.emissiveFactor):null};return new e6(e)}};h([f(ud())],Xs.prototype,"color",void 0),h([f({type:[Number],json:{write:!1}})],Xs.prototype,"emissiveFactor",void 0),Xs=e6=h([O("esri.symbols.support.Symbol3DMaterial")],Xs);var t6;let Xc=t6=class extends Ol{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new t6({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};h([qe({Extrude:"extrude"},{readOnly:!0})],Xc.prototype,"type",void 0),h([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Xc.prototype,"size",void 0),h([f({type:Xs,json:{write:!0}})],Xc.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Xc.prototype,"castShadows",void 0),h([f(OZ)],Xc.prototype,"edges",void 0),Xc=t6=h([O("esri.symbols.ExtrudeSymbol3DLayer")],Xc);const kZ=Xc;let MS=class extends ue{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],MS.prototype,"type",void 0),MS=h([O("esri.symbols.patterns.LinePattern3D")],MS);const LZ=MS,lbe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var i6;const ube=Kr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let K1=i6=class extends LZ{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new i6(e)}};h([f({type:["style"],json:{write:{isRequired:!0}}})],K1.prototype,"type",void 0),h([qe(ube),f({type:lbe,json:{write:{isRequired:!0}}})],K1.prototype,"style",void 0),K1=i6=h([O("esri.symbols.patterns.LineStylePattern3D")],K1);const k8=K1;let TS=class extends ue{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],TS.prototype,"type",void 0),TS=h([O("esri.symbols.patterns.Pattern3D")],TS);const NZ=TS,cbe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var r6;let J1=r6=class extends NZ{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new r6({style:this.style})}};h([f({type:["style"],json:{write:{isRequired:!0}}})],J1.prototype,"type",void 0),h([f({type:cbe,json:{read:!0,write:{isRequired:!0}}})],J1.prototype,"style",void 0),J1=r6=h([O("esri.symbols.patterns.StylePattern3D")],J1);const DZ=J1,hbe={types:{key:"type",base:NZ,typeMap:{style:DZ}},json:{write:!0}},jZ={types:{key:"type",base:LZ,typeMap:{style:k8}},json:{write:!0}},Yv=new me("white"),dbe=new me([255,255,255,0]);function pbe(e){return e.r===0&&e.g===0&&e.b===0}var n6;let Zv=n6=class extends Xs{constructor(e){super(e),this.colorMixMode=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?d8(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new n6(e)}};h([qe({multiply:"multiply",replace:"replace",tint:"tint"})],Zv.prototype,"colorMixMode",void 0),Zv=n6=h([O("esri.symbols.support.Symbol3DFillMaterial")],Zv);function fbe(e,t=!1){return e<=sR?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function lLe(e){return(GV(e)?e.byteLength/8:e.length)<=sR?Array.from(e):new Float64Array(e)}function uLe(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function h2(e=vbe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function L8(e,t,i,r,n,s,a=h2()){return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=n,a[5]=s,a}function cLe(e,t=h2()){return mbe(e,0,e.length/3,t)}function mbe(e,t,i,r=h2()){return FZ(r,s6),ybe(r,e,t,i),r}function hLe(e,t=fbe(24)){const[i,r,n,s,a,l]=e;return t[0]=i,t[1]=r,t[2]=n,t[3]=i,t[4]=r,t[5]=l,t[6]=i,t[7]=a,t[8]=n,t[9]=i,t[10]=a,t[11]=l,t[12]=s,t[13]=r,t[14]=n,t[15]=s,t[16]=r,t[17]=l,t[18]=s,t[19]=a,t[20]=n,t[21]=s,t[22]=a,t[23]=l,t}function dLe(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Lt(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function pLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function fLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function mLe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function ybe(e,t,i=0,r=t.length/3){let n=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5];for(let m=0;m<r;m++)n=Math.min(n,t[i+3*m]),s=Math.min(s,t[i+3*m+1]),a=Math.min(a,t[i+3*m+2]),l=Math.max(l,t[i+3*m]),u=Math.max(u,t[i+3*m+1]),d=Math.max(d,t[i+3*m+2]);e[0]=n,e[1]=s,e[2]=a,e[3]=l,e[4]=u,e[5]=d}function yLe(e,t,i){const r=t.length;let n=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5];if(i)for(let m=0;m<r;m++){const v=t[m];n=Math.min(n,v[0]),s=Math.min(s,v[1]),a=Math.min(a,v[2]),l=Math.max(l,v[0]),u=Math.max(u,v[1]),d=Math.max(d,v[2])}else for(let m=0;m<r;m++){const v=t[m];n=Math.min(n,v[0]),s=Math.min(s,v[1]),l=Math.max(l,v[0]),u=Math.max(u,v[1])}e[0]=n,e[1]=s,e[2]=a,e[3]=l,e[4]=u,e[5]=d}function gLe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function d2(e){return e[0]>=e[3]?0:e[3]-e[0]}function p2(e){return e[1]>=e[4]?0:e[4]-e[1]}function f2(e){return e[2]>=e[5]?0:e[5]-e[2]}function vLe(e){const t=d2(e),i=f2(e),r=p2(e);return Math.sqrt(t*t+i*i+r*r)}function bLe(e,t=[0,0,0]){return t[0]=e[0]+d2(e)/2,t[1]=e[1]+p2(e)/2,t[2]=e[2]+f2(e)/2,t}function wLe(e,t=[0,0,0]){return t[0]=d2(e),t[1]=p2(e),t[2]=f2(e),t}function _Le(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function gbe(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function SLe(e,t){return t==null||gbe(e,t)}function xLe(e,t,i,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+r,n[3]=e[3]+t,n[4]=e[4]+i,n[5]=e[5]+r,n}function MLe(e,t,i=e){const r=e[0]+d2(e)/2,n=e[1]+p2(e)/2,s=e[2]+f2(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=n+(e[1]-n)*t,i[2]=s+(e[2]-s)*t,i[3]=r+(e[3]-r)*t,i[4]=n+(e[4]-n)*t,i[5]=s+(e[5]-s)*t,i}function TLe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ELe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function CLe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function FZ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ILe(e){return e?FZ(e,s6):h2(s6)}function $Le(e,t){return t||(t=Or()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function ALe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function RLe(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function uj(e){return e.length===6}function PLe(e){return d2(e)===0&&p2(e)===0&&f2(e)===0}function OLe(e,t,i){if(e==null||t==null)return e===t;if(!uj(e)||!uj(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const s6=[1/0,1/0,1/0,-1/0,-1/0,-1/0],vbe=[0,0,0,0,0,0];h2();function kLe(e,{isPrimitive:t,width:i,depth:r,height:n}){const s=t?10:1;if(i==null&&n==null&&r==null)return[s*e[0],s*e[1],s*e[2]];const a=Gg(i,r,n);let l;for(let u=0;u<3;u++){const d=a[u];if(d!=null){l=d/e[u];break}}for(let u=0;u<3;u++)a[u]==null&&(a[u]=e[u]*l);return a}const bbe=L8(-.5,-.5,-.5,.5,.5,.5),wbe=L8(-.5,-.5,0,.5,.5,1),_be=L8(-.5,-.5,0,.5,.5,.5);function LLe(e){switch(e){case"sphere":case"cube":case"diamond":return bbe;case"cylinder":case"cone":case"inverted-cone":return wbe;case"tetrahedron":return _be;default:return}}const N8=["butt","square","round"],Sbe=[...N8,"none"],zZ=["miter","bevel","round"];var a6;let ip=a6=class extends ue{constructor(e){super(e),this.color=new me([0,0,0,1]),this.size=Ha(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new a6(e)}};h([f(ud({colorRequiredOnWrite:!0}))],ip.prototype,"color",void 0),h([f({...$l,json:{write:{isRequired:!0}}})],ip.prototype,"size",void 0),h([f(jZ)],ip.prototype,"pattern",void 0),h([f({type:N8,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ip.prototype,"patternCap",void 0),ip=a6=h([O("esri.symbols.support.Symbol3DOutline")],ip);var ES;let mu=ES=class extends Ol{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new ES(e)}static fromSimpleFillSymbol(e){var r,n,s;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new k8({style:e.outline.style}):null,i={size:((r=e.outline)==null?void 0:r.width)??0,color:(((n=e.outline)==null?void 0:n.color)??Yv).clone(),pattern:t};return t&&((s=e.outline)!=null&&s.cap)&&(i.patternCap=e.outline.cap),new ES({material:new Zv({color:(e.color??dbe).clone()}),pattern:e.style&&e.style!=="solid"?new DZ({style:e.style}):null,outline:i})}};h([qe({Fill:"fill"},{readOnly:!0})],mu.prototype,"type",void 0),h([f({type:Zv,json:{write:!0}})],mu.prototype,"material",void 0),h([f(hbe)],mu.prototype,"pattern",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mu.prototype,"castShadows",void 0),h([f({type:ip,json:{write:!0}})],mu.prototype,"outline",void 0),h([f(OZ)],mu.prototype,"edges",void 0),mu=ES=h([O("esri.symbols.FillSymbol3DLayer")],mu);const Pf=mu;var o6;const xbe=Kr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let rp=o6=class extends ue{constructor(e){super(e)}readHref(e,t,i){return e?Dg(e,i):t.dataURI}writeHref(e,t,i,r){e&&(Tf(e)?t.dataURI=e:(t.href=Qb(e,r),Vn(t.href)&&(t.href=ms(t.href))))}clone(){return new o6({href:this.href,primitive:this.primitive})}};h([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],rp.prototype,"href",void 0),h([He("href")],rp.prototype,"readHref",null),h([Re("href",{href:{type:String},dataURI:{type:String}})],rp.prototype,"writeHref",null),h([qe(xbe)],rp.prototype,"primitive",void 0),rp=o6=h([O("esri.symbols.support.IconSymbol3DLayerResource")],rp);const NLe="circle";var l6;let Iy=l6=class extends De{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new l6({x:this.x,y:this.y})}};h([f({type:Number})],Iy.prototype,"x",void 0),h([f({type:Number})],Iy.prototype,"y",void 0),Iy=l6=h([O("esri.symbols.support.Symbol3DAnchorPosition2D")],Iy);var u6;let X1=u6=class extends ue{constructor(e){super(e),this.color=new me([0,0,0,1]),this.size=Ha(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new u6(e)}};h([f(ud({colorRequiredOnWrite:!0}))],X1.prototype,"color",void 0),h([f({...$l,json:{write:{isRequired:!0}}})],X1.prototype,"size",void 0),X1=u6=h([O("esri.symbols.support.Symbol3DIconOutline")],X1);var Qm;const UZ="esri.symbols.IconSymbol3DLayer";let yo=Qm=class extends Ol{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Qm({anchor:this.anchor,anchorPosition:H(this.anchorPosition),enabled:this.enabled,material:H(this.material),outline:H(this.outline),resource:H(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Yv,i=cj(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Yv).clone()}:null;return new Qm({size:e.size,angle:e.angle,resource:{primitive:Tbe(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||pbe(e.color)?Yv:e.color,i=cj(e);return new Qm({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new Qm({resource:{href:uH({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};h([f({type:Xs,json:{write:!0}})],yo.prototype,"material",void 0),h([f({type:rp,json:{write:!0}})],yo.prototype,"resource",void 0),h([qe({Icon:"icon"},{readOnly:!0})],yo.prototype,"type",void 0),h([f({...$l,json:{write:{isRequired:!0}}})],yo.prototype,"size",void 0),h([qe({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],yo.prototype,"anchor",void 0),h([f({type:Iy,json:{type:[Number],read:{reader:e=>new Iy({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yo.prototype,"anchorPosition",void 0),h([f({type:X1,json:{write:!0}})],yo.prototype,"outline",void 0),h([f({type:Number,json:{write:!0,default:0}})],yo.prototype,"angle",void 0),yo=Qm=h([O(UZ)],yo);const qp=yo;function cj(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=hj(e.xoffset),n=hj(e.yoffset);return(r||n)&&t&&i?{x:-r/t,y:n/i}:null}function hj(e){return isFinite(e)?e:0}const Mbe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Tbe(e){return Mbe[e]||(ce.getLogger(UZ).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Ebe=["begin","end","begin-end"],GZ=["arrow","circle","square","diamond","cross","x"];let np=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],np.prototype,"type",void 0),h([f({type:Ebe,json:{default:"begin-end",write:!0}})],np.prototype,"placement",void 0),h([f({type:GZ,json:{default:"arrow",write:!0}})],np.prototype,"style",void 0),h([f({type:me,json:{type:[zt],default:null,write:!0}})],np.prototype,"color",void 0),np=h([O("esri.symbols.LineStyleMarker3D")],np);const c6=np;var CS;let tl=CS=class extends Ol{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ha(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new CS(e)}static fromSimpleLineSymbol(e){var i;const t={enabled:!0,size:e.width??Ha(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new k8({style:e.style}):null,material:new Xs({color:(e.color||Yv).clone()}),marker:e.marker?new c6({placement:e.marker.placement,style:e.marker.style,color:((i=e.marker.color)==null?void 0:i.clone())??null}):null};return new CS(t)}};h([f({type:Xs,json:{write:!0}})],tl.prototype,"material",void 0),h([qe({Line:"line"},{readOnly:!0})],tl.prototype,"type",void 0),h([f({type:zZ,json:{write:!0,default:"miter"}})],tl.prototype,"join",void 0),h([f({type:N8,json:{write:!0,default:"butt"}})],tl.prototype,"cap",void 0),h([f({...$l,json:{write:{isRequired:!0}}})],tl.prototype,"size",void 0),h([f(jZ)],tl.prototype,"pattern",void 0),h([f({types:{key:"type",base:c6,typeMap:{style:c6}},json:{write:!0}})],tl.prototype,"marker",void 0),tl=CS=h([O("esri.symbols.LineSymbol3DLayer")],tl);const Vg=tl;var h6;const Cbe=Kr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Q1=h6=class extends ue{clone(){return new h6({href:this.href,primitive:this.primitive})}};h([f({type:String,json:{read:$R,write:hf}})],Q1.prototype,"href",void 0),h([qe(Cbe)],Q1.prototype,"primitive",void 0),Q1=h6=h([O("esri.symbols.support.ObjectSymbol3DLayerResource")],Q1);const jLe="sphere";var d6;let Op=d6=class extends De{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new d6({x:this.x,y:this.y,z:this.z})}};h([f({type:Number})],Op.prototype,"x",void 0),h([f({type:Number})],Op.prototype,"y",void 0),h([f({type:Number})],Op.prototype,"z",void 0),Op=d6=h([O("esri.symbols.support.Symbol3DAnchorPosition3D")],Op);var p6;let wn=p6=class extends Ol{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,i;return new p6({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};h([f({type:Xs,json:{write:!0}})],wn.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],wn.prototype,"castShadows",void 0),h([f({type:Q1,json:{write:!0}})],wn.prototype,"resource",void 0),h([qe({Object:"object"},{readOnly:!0})],wn.prototype,"type",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"width",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"height",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"depth",void 0),h([qe({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],wn.prototype,"anchor",void 0),h([f({type:Op,json:{type:[Number],read:{reader:e=>new Op({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],wn.prototype,"anchorPosition",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"heading",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"tilt",void 0),h([f({type:Number,json:{write:!0}})],wn.prototype,"roll",void 0),h([f({readOnly:!0})],wn.prototype,"isPrimitive",null),wn=p6=h([O("esri.symbols.ObjectSymbol3DLayer")],wn);const D8=wn;var f6;let Nn=f6=class extends Ol{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new f6({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};h([f({type:Xs,json:{write:!0}})],Nn.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Nn.prototype,"castShadows",void 0),h([qe({Path:"path"},{readOnly:!0})],Nn.prototype,"type",void 0),h([f({type:["circle","quad"],json:{write:!0,default:"circle"}})],Nn.prototype,"profile",void 0),h([f({type:zZ,json:{write:!0,default:"miter"}})],Nn.prototype,"join",void 0),h([f({type:Sbe,json:{write:!0,default:"butt"}})],Nn.prototype,"cap",void 0),h([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Nn.prototype,"width",void 0),h([He("width",["width","size","height"])],Nn.prototype,"readWidth",null),h([f({type:Number,json:{write:!0}})],Nn.prototype,"height",void 0),h([He("height",["height","size","width"])],Nn.prototype,"readHeight",null),h([f({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Nn.prototype,"anchor",void 0),h([f({type:["heading","all"],json:{write:!0,default:"all"}})],Nn.prototype,"profileRotation",void 0),Nn=f6=h([O("esri.symbols.PathSymbol3DLayer")],Nn);const j8=Nn,Ibe=["none","underline","line-through"],$be=["normal","italic","oblique"],Abe=["normal","lighter","bold","bolder"],VZ={type:Number,cast:e=>{const t=Un(e);return t===0?1:ia(t,.1,4)},nonNullable:!0},Rbe=["left","right","center"],Pbe=["baseline","top","middle","bottom"],BZ={type:Rbe,nonNullable:!0},HZ={type:Pbe,nonNullable:!0},FLe=8;var m6;let yu=m6=class extends ue{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Ot(e)}clone(){return new m6({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};h([f({type:Ibe,json:{default:"none",write:!0}})],yu.prototype,"decoration",void 0),h([f({type:String,json:{write:!0}})],yu.prototype,"family",void 0),h([f({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],yu.prototype,"size",void 0),h([Gt("size")],yu.prototype,"castSize",null),h([f({type:$be,json:{default:"normal",write:!0}})],yu.prototype,"style",void 0),h([f({type:Abe,json:{default:"normal",write:!0}})],yu.prototype,"weight",void 0),yu=m6=h([O("esri.symbols.Font")],yu);const R5=yu;var y6;let $y=y6=class extends ue{constructor(){super(...arguments),this.color=new me([0,0,0,1]),this.size=0}clone(){const e={color:H(this.color),size:this.size};return new y6(e)}};h([f(ud())],$y.prototype,"color",void 0),h([f($l)],$y.prototype,"size",void 0),$y=y6=h([O("esri.symbols.support.Symbol3DHalo")],$y);let Kv=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.color=null}};h([f(ud())],Kv.prototype,"color",void 0),Kv=h([O("esri.symbols.support.Symbol3DTextBackground")],Kv);var IS;let ts=IS=class extends Ol{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const n={...r,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new IS({enabled:this.enabled,font:this.font&&H(this.font),halo:this.halo&&H(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:H(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new IS({font:e.font!=null?e.font.clone():new R5,halo:Obe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Xs({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Kv({color:e.backgroundColor.clone()}):null})}};function Obe(e,t){return e&&t!=null&&t>0?new $y({color:H(e),size:t}):null}h([f({type:R5,json:{write:!0}})],ts.prototype,"font",null),h([Re("font")],ts.prototype,"writeFont",null),h([f({type:$y,json:{write:!0}})],ts.prototype,"halo",void 0),h([f({...BZ,json:{default:"center",write:!0}})],ts.prototype,"horizontalAlignment",void 0),h([f({...VZ,json:{default:1,write:!0}})],ts.prototype,"lineHeight",void 0),h([f({type:Xs,json:{write:!0}})],ts.prototype,"material",void 0),h([f({type:Kv,json:{write:!0}})],ts.prototype,"background",void 0),h([f($l)],ts.prototype,"size",null),h([f({type:String,json:{write:!0}})],ts.prototype,"text",void 0),h([qe({Text:"text"},{readOnly:!0})],ts.prototype,"type",void 0),h([f({...HZ,json:{default:"baseline",write:!0}})],ts.prototype,"verticalAlignment",void 0),ts=IS=h([O("esri.symbols.TextSymbol3DLayer")],ts);const Bg=ts;var g6;let Qc=g6=class extends Ol{constructor(e){super(e),this.color=v6.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new g6({color:H(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};h([f({type:me,nonNullable:!0,json:{type:[zt],write:(e,t,i)=>t[i]=e.toArray(me.AlphaMode.UNLESS_OPAQUE),default:()=>v6.clone(),defaultEquals:e=>e.toCss(!0)===v6.toCss(!0)}})],Qc.prototype,"color",void 0),h([qe({Water:"water"},{readOnly:!0})],Qc.prototype,"type",void 0),h([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Qc.prototype,"waterbodySize",void 0),h([f({type:Number,json:{write:!0,default:null}})],Qc.prototype,"waveDirection",void 0),h([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Qc.prototype,"waveStrength",void 0),Qc=g6=h([O("esri.symbols.WaterSymbol3DLayer")],Qc);const qZ=Qc,v6=new me([0,119,190]);var b6;let sp=b6=class extends De{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new b6({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};h([f({type:String})],sp.prototype,"name",void 0),h([f({type:String})],sp.prototype,"styleUrl",void 0),h([f({type:String})],sp.prototype,"styleName",void 0),h([f({type:wr})],sp.prototype,"portal",void 0),sp=b6=h([O("esri.symbols.support.StyleOrigin")],sp);const w6=sp;var _6;let Jv=_6=class extends De{constructor(){super(...arguments),this.url=""}clone(){return new _6({url:this.url})}};h([f({type:String})],Jv.prototype,"url",void 0),Jv=_6=h([O("esri.symbols.support.Thumbnail")],Jv);const WZ={icon:qp,object:D8,line:Vg,path:j8,fill:Pf,extrude:kZ,text:Bg,water:qZ},kbe=Ce.ofType({base:Ol,key:"type",typeMap:WZ,errorContext:"symbol-layer"});let il=class extends hn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,n=r||Ce;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&ce.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Wu(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const n=Dg(t.styleUrl,r);return new w6({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new w6({portal:(r==null?void 0:r.portal)||wr.getDefault(),styleName:t.styleName,name:t.name});r!=null&&r.messages&&r.messages.push(new Lo("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,n){if(t.styleUrl&&t.name){let s=Qb(t.styleUrl,n);Vn(s)&&(s=ms(s)),i.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&(n!=null&&n.portal)&&!lH(t.portal.restUrl,n.portal.restUrl)?n!=null&&n.messages&&n.messages.push(new Lo("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Ol||t&&WZ[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};h([f({json:{read:!1,write:!1}})],il.prototype,"color",null),h([f({type:kbe,nonNullable:!0,json:{write:!0}}),Gt(_Y)],il.prototype,"symbolLayers",null),h([f({type:w6})],il.prototype,"styleOrigin",void 0),h([He("styleOrigin")],il.prototype,"readStyleOrigin",null),h([Re("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],il.prototype,"writeStyleOrigin",null),h([f({type:Jv,json:{read:!1}})],il.prototype,"thumbnail",void 0),h([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],il.prototype,"type",void 0),il=h([O("esri.symbols.Symbol3D")],il);const m2=il;let ev=class extends ue{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};h([f({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],ev.prototype,"type",void 0),h([f({readOnly:!0})],ev.prototype,"visible",void 0),ev=h([O("esri.symbols.callouts.Callout3D")],ev);const YZ=ev;var S6;let $S=S6=class extends ue{constructor(e){super(e),this.color=new me("white")}clone(){return new S6({color:H(this.color)})}};h([f(ud({colorRequiredOnWrite:!0}))],$S.prototype,"color",void 0),$S=S6=h([O("esri.symbols.callouts.LineCallout3DBorder")],$S);const Lbe=$S;var x6;let eh=x6=class extends YZ{constructor(e){super(e),this.type="line",this.color=new me([0,0,0,1]),this.size=Ha(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new x6({color:H(this.color),size:this.size,border:H(this.border)})}};h([qe({line:"line"})],eh.prototype,"type",void 0),h([f(ud({colorRequiredOnWrite:!0}))],eh.prototype,"color",void 0),h([f({...$l,json:{write:{isRequired:!0}}})],eh.prototype,"size",void 0),h([f({type:Lbe,json:{write:!0}})],eh.prototype,"border",void 0),h([f({readOnly:!0})],eh.prototype,"visible",null),eh=x6=h([O("esri.symbols.callouts.LineCallout3D")],eh);const ZZ=eh;function F8(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function KZ(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!(t!=null&&t.visible)&&!!F8(e)}function VLe(e){return e.type==="point-3d"||e.type==="label-3d"}function BLe(e){return e.horizontalAlignment==="center"}const JZ={types:{key:"type",base:YZ,typeMap:{line:ZZ}},json:{write:!0}};var M6;let ey=M6=class extends ue{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new M6({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};h([f({...$l,json:{write:{isRequired:!0}}})],ey.prototype,"screenLength",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ey.prototype,"minWorldLength",void 0),h([f({type:Number,json:{write:!0}})],ey.prototype,"maxWorldLength",void 0),ey=M6=h([O("esri.symbols.support.Symbol3DVerticalOffset")],ey);const z8=ey;var AS;const XZ=Ce.ofType({base:null,key:"type",typeMap:{text:Bg}});let th=AS=class extends m2{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new XZ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return KZ(this)}hasVisibleVerticalOffset(){return F8(this)}clone(){return new AS({styleOrigin:H(this.styleOrigin),symbolLayers:H(this.symbolLayers),thumbnail:H(this.thumbnail),callout:H(this.callout),verticalOffset:H(this.verticalOffset)})}static fromTextSymbol(e){return new AS({symbolLayers:new Ce([Bg.fromTextSymbol(e)])})}};h([f({type:z8,json:{write:!0}})],th.prototype,"verticalOffset",void 0),h([f(JZ)],th.prototype,"callout",void 0),h([f({json:{read:!1,write:!1}})],th.prototype,"styleOrigin",void 0),h([f({type:XZ})],th.prototype,"symbolLayers",void 0),h([qe({LabelSymbol3D:"label-3d"},{readOnly:!0})],th.prototype,"type",void 0),th=AS=h([O("esri.symbols.LabelSymbol3D")],th);const P5=th;var RS;const QZ=Ce.ofType({base:null,key:"type",typeMap:{line:Vg,path:j8}}),Nbe=Ce.ofType({base:null,key:"type",typeMap:{line:Vg,path:j8}});let tv=RS=class extends m2{constructor(e){super(e),this.symbolLayers=new QZ,this.type="line-3d"}clone(){return new RS({styleOrigin:H(this.styleOrigin),symbolLayers:H(this.symbolLayers),thumbnail:H(this.thumbnail)})}static fromSimpleLineSymbol(e){return new RS({symbolLayers:new Ce([Vg.fromSimpleLineSymbol(e)])})}};h([f({type:QZ,json:{type:Nbe}})],tv.prototype,"symbolLayers",void 0),h([qe({LineSymbol3D:"line-3d"},{readOnly:!0})],tv.prototype,"type",void 0),tv=RS=h([O("esri.symbols.LineSymbol3D")],tv);const Of=tv;var PS;const eK=Ce.ofType({base:null,key:"type",typeMap:{fill:Pf}});let iv=PS=class extends m2{constructor(e){super(e),this.symbolLayers=new eK,this.type="mesh-3d"}clone(){return new PS({styleOrigin:H(this.styleOrigin),symbolLayers:H(this.symbolLayers),thumbnail:H(this.thumbnail)})}static fromSimpleFillSymbol(e){return new PS({symbolLayers:new Ce([Pf.fromSimpleFillSymbol(e)])})}};h([f({type:eK})],iv.prototype,"symbolLayers",void 0),h([qe({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],iv.prototype,"type",void 0),iv=PS=h([O("esri.symbols.MeshSymbol3D")],iv);const y2=iv;let rv=class extends hn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};h([qe({esriSLS:"simple-line"},{readOnly:!0})],rv.prototype,"type",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],rv.prototype,"width",void 0),rv=h([O("esri.symbols.LineSymbol")],rv);const Dbe=rv;var T6;let rl=T6=class extends ue{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){(r==null?void 0:r.origin)==="web-map"||(t[i]=e)}clone(){return new T6({color:H(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};h([f({type:["begin","end","begin-end"],json:{write:!0}})],rl.prototype,"placement",void 0),h([qe({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],rl.prototype,"type",void 0),h([f({type:GZ})],rl.prototype,"style",void 0),h([Re("style")],rl.prototype,"writeStyle",null),h([f({type:me,value:null,json:{write:{allowNull:!0}}})],rl.prototype,"color",null),h([He("color")],rl.prototype,"readColor",null),h([Re("color")],rl.prototype,"writeColor",null),rl=T6=h([O("esri.symbols.LineSymbolMarker")],rl);const jbe=rl;var E6;const sC=new It({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let gu=E6=class extends Dbe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,n,s){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),i!=null&&(a.width=Ot(i)),r!=null&&(a.cap=r),n!=null&&(a.join=n),s!=null&&(a.miterLimit=Ot(s)),a}clone(){var e;return new E6({color:H(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};h([qe({esriSLS:"simple-line"},{readOnly:!0})],gu.prototype,"type",void 0),h([f({type:sC.apiValues,json:{read:sC.read,write:sC.write}})],gu.prototype,"style",void 0),h([f({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],gu.prototype,"cap",void 0),h([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null?void 0:i.origin)==null})}}})],gu.prototype,"join",void 0),h([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":jbe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],gu.prototype,"marker",void 0),h([f({type:Number,json:{read:!1,write:!1}})],gu.prototype,"miterLimit",void 0),gu=E6=h([O("esri.symbols.SimpleLineSymbol")],gu);const pi=gu;let nv=class extends hn{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":pi}},json:{default:null,write:!0}})],nv.prototype,"outline",void 0),h([f({type:["simple-fill","picture-fill"],readOnly:!0})],nv.prototype,"type",void 0),nv=h([O("esri.symbols.FillSymbol")],nv);const tK=nv;function Fbe(e,t,i){return t.imageData?uH({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):iK(t.url,i)}function iK(e,t){if(!Vn(e)){const i=Ube(t);if(i)return cf(i,"images",e)}return Dg(e,t)}function zbe(e,t,i,r){if(Tf(e)){const n=cg(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,i&&i.imageData===t.imageData&&i.url&&hf(i.url,t,"url",r)}else hf(e,t,"url",r)}const rK={json:{read:{source:["imageData","url"],reader:Fbe},write:{writer(e,t,i,r){zbe(e,t,this.source,r)}}}},nK={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=iK(t.url,i)),r}}}};function Ube(e){var n,s;if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(n=i.parsedUrl)==null?void 0:n.path:r==="map-image"||r==="tile"?(s=e.url)==null?void 0:s.path:null}var C6;let xa=C6=class extends tK{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),i!=null&&(n.width=Ot(i)),r!=null&&(n.height=Ot(r)),n}clone(){const e=new C6({color:H(this.color),height:this.height,outline:H(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",H(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};h([qe({esriPFS:"picture-fill"},{readOnly:!0})],xa.prototype,"type",void 0),h([f(rK)],xa.prototype,"url",void 0),h([f({type:Number,json:{write:!0}})],xa.prototype,"xscale",void 0),h([f({type:Number,json:{write:!0}})],xa.prototype,"yscale",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xa.prototype,"width",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xa.prototype,"height",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xa.prototype,"xoffset",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xa.prototype,"yoffset",void 0),h([f(nK)],xa.prototype,"source",void 0),xa=C6=h([O("esri.symbols.PictureFillSymbol")],xa);const U8=xa;let ih=class extends hn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};h([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ih.prototype,"angle",void 0),h([f({type:["simple-marker","picture-marker"],readOnly:!0})],ih.prototype,"type",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],ih.prototype,"xoffset",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],ih.prototype,"yoffset",void 0),h([f({cast:e=>e==="auto"?e:Un(Ot(e)),json:{write:!0}})],ih.prototype,"size",void 0),ih=h([O("esri.symbols.MarkerSymbol")],ih);const sK=ih;var I6;let go=I6=class extends sK{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=Ot(t)),i!=null&&(r.height=Ot(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new I6({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",H(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};h([f({json:{write:!1}})],go.prototype,"color",void 0),h([qe({esriPMS:"picture-marker"},{readOnly:!0})],go.prototype,"type",void 0),h([f(rK)],go.prototype,"url",void 0),h([f(nK)],go.prototype,"source",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],go.prototype,"height",void 0),h([He("height",["height","size"])],go.prototype,"readHeight",null),h([f({type:Number,cast:Ot,json:{write:!0}})],go.prototype,"width",void 0),h([f({json:{write:!1}})],go.prototype,"size",void 0),go=I6=h([O("esri.symbols.PictureMarkerSymbol")],go);const Sl=go;var ap;const aK=Ce.ofType({base:null,key:"type",typeMap:{icon:qp,object:D8,text:Bg}});let op=ap=class extends m2{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new aK,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return KZ(this)}hasVisibleVerticalOffset(){return F8(this)}clone(){return new ap({verticalOffset:H(this.verticalOffset),callout:H(this.callout),styleOrigin:H(this.styleOrigin),symbolLayers:H(this.symbolLayers),thumbnail:H(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new ap({symbolLayers:new Ce([qp.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new ap({symbolLayers:new Ce([qp.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var r,n;if(((n=(r=e.data)==null?void 0:r.symbol)==null?void 0:n.type)!=="CIMPointSymbol")return null;const i=e.data.symbol;return new ap(i!=null&&i.callout?{symbolLayers:new Ce([qp.fromCIMSymbol(e)]),callout:new ZZ({size:.5,color:new me([0,0,0])}),verticalOffset:new z8({screenLength:40})}:{symbolLayers:new Ce([qp.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new ap({symbolLayers:new Ce([Bg.fromTextSymbol(e)])})}};h([f({type:z8,json:{write:!0}})],op.prototype,"verticalOffset",void 0),h([f(JZ)],op.prototype,"callout",void 0),h([f({type:aK,json:{origins:{"web-scene":{write:!0}}}})],op.prototype,"symbolLayers",void 0),h([qe({PointSymbol3D:"point-3d"},{readOnly:!0})],op.prototype,"type",void 0),op=ap=h([O("esri.symbols.PointSymbol3D")],op);const Nu=op;var sv;const oK=Ce.ofType({base:null,key:"type",typeMap:{extrude:kZ,fill:Pf,icon:qp,line:Vg,object:D8,text:Bg,water:qZ}});let av=sv=class extends m2{constructor(e){super(e),this.symbolLayers=new oK,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&of(ce.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&of(ce.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Tl(()=>this.symbolLayers,"after-add",({item:t})=>e(t),El))}clone(){return new sv({styleOrigin:H(this.styleOrigin),symbolLayers:H(this.symbolLayers),thumbnail:H(this.thumbnail)})}static fromJSON(e){var i;const t=new sv;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),n=t.symbolLayers.at(1);!n.enabled||(i=e.symbolLayers)!=null&&i[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:n.size,color:n.material!=null?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new sv({symbolLayers:new Ce([Pf.fromSimpleFillSymbol(e)])})}};h([f({type:oK,json:{write:!0}})],av.prototype,"symbolLayers",void 0),h([qe({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],av.prototype,"type",void 0),av=sv=h([O("esri.symbols.PolygonSymbol3D")],av);const cd=av;var $6;const aC=new It({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let lp=$6=class extends tK{constructor(...e){super(...e),this.color=new me([0,0,0,.25]),this.outline=new pi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new $6({color:H(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};h([f()],lp.prototype,"color",void 0),h([f()],lp.prototype,"outline",void 0),h([qe({esriSFS:"simple-fill"},{readOnly:!0})],lp.prototype,"type",void 0),h([f({type:aC.apiValues,json:{read:aC.read,write:aC.write}})],lp.prototype,"style",void 0),lp=$6=h([O("esri.symbols.SimpleFillSymbol")],lp);const Ae=lp;var A6;const oC=new It({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let nl=A6=class extends sK{constructor(...e){super(...e),this.color=new me([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new pi}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=Ot(t)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new A6({angle:this.angle,color:H(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};h([f()],nl.prototype,"color",void 0),h([Re("color")],nl.prototype,"writeColor",null),h([qe({esriSMS:"simple-marker"},{readOnly:!0})],nl.prototype,"type",void 0),h([f()],nl.prototype,"size",void 0),h([f({type:oC.apiValues,json:{read:oC.read,write:oC.write}})],nl.prototype,"style",void 0),h([f({type:String,json:{write:!0}})],nl.prototype,"path",null),h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":pi}},json:{default:null,write:!0}})],nl.prototype,"outline",void 0),nl=A6=h([O("esri.symbols.SimpleMarkerSymbol")],nl);const $n=nl;var R6;let xi=R6=class extends hn{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new R5,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return Ot(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new R6({angle:this.angle,backgroundColor:H(this.backgroundColor),borderLineColor:H(this.borderLineColor),borderLineSize:this.borderLineSize,color:H(this.color),font:this.font&&this.font.clone(),haloColor:H(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,i;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};h([f({type:me,json:{write:!0}})],xi.prototype,"backgroundColor",void 0),h([f({type:me,json:{write:!0}})],xi.prototype,"borderLineColor",void 0),h([f({type:Number,json:{write:!0},cast:Ot})],xi.prototype,"borderLineSize",void 0),h([f({type:R5,json:{write:!0}})],xi.prototype,"font",void 0),h([f({...BZ,json:{write:!0}})],xi.prototype,"horizontalAlignment",void 0),h([f({type:Boolean,json:{write:!0}})],xi.prototype,"kerning",void 0),h([f({type:me,json:{write:!0}})],xi.prototype,"haloColor",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xi.prototype,"haloSize",void 0),h([f({type:Boolean,json:{write:!0}})],xi.prototype,"rightToLeft",void 0),h([f({type:Boolean,json:{write:!0}})],xi.prototype,"rotated",void 0),h([f({type:String,json:{write:!0}})],xi.prototype,"text",void 0),h([qe({esriTS:"text"},{readOnly:!0})],xi.prototype,"type",void 0),h([f({...HZ,json:{write:!0}})],xi.prototype,"verticalAlignment",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xi.prototype,"xoffset",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],xi.prototype,"yoffset",void 0),h([f({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],xi.prototype,"angle",void 0),h([f({type:Number,json:{write:!0}})],xi.prototype,"width",void 0),h([f({type:Number})],xi.prototype,"lineWidth",void 0),h([Re("lineWidth")],xi.prototype,"writeLineWidth",null),h([Gt("lineWidth")],xi.prototype,"castLineWidth",null),h([f(VZ)],xi.prototype,"lineHeight",void 0),h([Re("lineHeight")],xi.prototype,"writeLineHeight",null),xi=R6=h([O("esri.symbols.TextSymbol")],xi);const kf=xi;var P6;let vo=P6=class extends hn{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:wr.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new P6({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if((t==null?void 0:t.type)!=="cim")throw new z("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const a=i&&t.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await ve(()=>import("./webStyleSymbolUtils-4pj4_PRs.js"),__vite__mapDeps([179,180,181]));ii(e);const n=r(this,{portal:this.portal},e);n.catch(a=>{ce.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const s=await n;return t!=null&&t.set(i,s.clone()),s}};h([f({json:{write:!1}})],vo.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],vo.prototype,"styleName",void 0),h([f({type:wr,json:{write:!1}})],vo.prototype,"portal",void 0),h([f({type:String,json:{read:$R,write:hf}})],vo.prototype,"styleUrl",void 0),h([f({type:Jv,json:{read:!1}})],vo.prototype,"thumbnail",void 0),h([f({type:String,json:{write:!0}})],vo.prototype,"name",void 0),h([qe({styleSymbolReference:"web-style"},{readOnly:!0})],vo.prototype,"type",void 0),h([f()],vo.prototype,"_fetchCacheKey",null),vo=P6=h([O("esri.symbols.WebStyleSymbol")],vo);const ko=vo;function YLe(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function lK(e){switch(e==null?void 0:e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Wp={base:hn,key:"type",typeMap:{"simple-fill":Ae,"picture-fill":U8,"picture-marker":Sl,"simple-line":pi,"simple-marker":$n,text:kf,"label-3d":P5,"line-3d":Of,"mesh-3d":y2,"point-3d":Nu,"polygon-3d":cd,"web-style":ko,cim:Ee},errorContext:"symbol"},ZLe={base:hn,key:"type",typeMap:{"picture-marker":Sl,"simple-marker":$n,"point-3d":Nu,cim:Ee},errorContext:"symbol"},KLe={base:hn,key:"type",typeMap:{"simple-line":pi,"line-3d":Of,cim:Ee},errorContext:"symbol"},JLe={base:hn,key:"type",typeMap:{"simple-fill":Ae,"picture-fill":U8,"polygon-3d":cd,cim:Ee},errorContext:"symbol"},Gbe={base:hn,key:"type",typeMap:{"picture-marker":Sl,"simple-marker":$n,text:kf,"web-style":ko,cim:Ee},errorContext:"symbol"},Vbe=Og({types:Wp}),uK={base:hn,key:"type",typeMap:{"simple-fill":Ae,"picture-fill":U8,"picture-marker":Sl,"simple-line":pi,"simple-marker":$n,text:kf,"line-3d":Of,"mesh-3d":y2,"point-3d":Nu,"polygon-3d":cd,"web-style":ko,cim:Ee},errorContext:"symbol"},Bbe={base:hn,key:"type",typeMap:{text:kf,"label-3d":P5},errorContext:"symbol"},dj={base:hn,key:"type",typeMap:{"line-3d":Of,"mesh-3d":y2,"point-3d":Nu,"polygon-3d":cd,"web-style":ko,cim:Ee},errorContext:"symbol"},Hbe={base:hn,key:"type",typeMap:{"label-3d":P5},errorContext:"symbol"},cK=Bu(Wp);var O6;function qbe(e){if(!e)return null;const t={};for(const i in e){const r=yf(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function Wbe(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let is=O6=class extends Xt.ClonableMixin(ue){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:W_(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&joe(ce.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new O6({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:Wbe(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:ue.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(n.action=r),e==="attributes"&&(n.attributeName=r),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([Pn(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),Pn(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};h([f({value:null,json:{read:qbe}})],is.prototype,"aggregateGeometries",null),h([f({value:null})],is.prototype,"attributes",null),h([f({value:null,types:i2,json:{read:yf}})],is.prototype,"geometry",null),h([f({type:Boolean})],is.prototype,"isAggregate",void 0),h([f({clonable:"reference"})],is.prototype,"layer",void 0),h([f({clonable:"reference"})],is.prototype,"origin",void 0),h([f({type:Il})],is.prototype,"popupTemplate",void 0),h([f({clonable:"reference"})],is.prototype,"sourceLayer",void 0),h([f({value:null,types:Wp})],is.prototype,"symbol",null),h([f({clonable:!1,json:{read:!1,write:!1}})],is.prototype,"_version",void 0),h([f({type:Boolean,value:!0})],is.prototype,"visible",null),is=O6=h([O("esri.Graphic")],is);const Zu=is;let Xv=class extends qv{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};h([dq({Type:Zu,ensureType:Gi(Zu)})],Xv.prototype,"itemType",void 0),Xv=h([O("esri.support.GraphicsCollection")],Xv);let rh=class extends De{constructor(t){super(t),this.view=null,this.baseLayerViews=new Ce,this.referenceLayerViews=new Ce,this._loadingHandle=Ge(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},ir)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){var t;return((t=this.view)==null?void 0:t.suspended)??!0}get updating(){var i,r,n;if((i=this.view)!=null&&i.suspended)return!1;const t=(n=(r=this.view)==null?void 0:r.map)==null?void 0:n.basemap;return!!(t!=null&&t.loaded)&&(this.baseLayerViews.some(s=>s.updating)||this.referenceLayerViews.some(s=>s.updating))}};h([f({constructOnly:!0})],rh.prototype,"view",void 0),h([f({readOnly:!0})],rh.prototype,"baseLayerViews",void 0),h([f({readOnly:!0})],rh.prototype,"referenceLayerViews",void 0),h([f({readOnly:!0})],rh.prototype,"suspended",null),h([f({type:Boolean,readOnly:!0})],rh.prototype,"updating",null),rh=h([O("esri.views.BasemapView")],rh);const Ybe=rh;function Zbe(e){return"tryRecycleWith"in e}function Kbe(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let Jbe=class{constructor(t,i,r){this.layer=t,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._deferred=Ua(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,ps(this._controller.signal,()=>{const n=new z("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(n)})}tryRecycle(t){if(!this.done||!this.layerView||!Zbe(this.layerView))return null;const i=this.layer.type,r=this._controller.signal;for(let n=0;n<t.length;n++){const s=t[n];if(s.type!==i)continue;const a=this.layerView.tryRecycleWith(s,{signal:r});if(a){t.splice(n,1),this.layer=s;const l=this.layerView,u=l.view;return this.promise=Promise.race([a.then(()=>(ii(this._controller.signal),s.emit("layerview-destroy",{view:u,layerView:l}),u.emit("layerview-destroy",{view:u,layerView:l}),s.emit("layerview-create",{view:u,layerView:l}),u.emit("layerview-create",{view:u,layerView:l}),l)),new Promise((d,m)=>ps(this._controller.signal,()=>m(li())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:t}),r.emit("layerview-destroy",{layer:i,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var n,s;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:r}=this;this._map=r.map;try{let a,l;if(await i.load({signal:t}),i.prefetchResources&&await i.prefetchResources({signal:t}),Qbe(i))a=await i.createLayerView(r,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new z("layer:view-not-supported","No layerview implementation was found");const m=await this.layerViewImporter.importLayerView(i);ii(t),a="default"in m?new m.default({layer:i,view:r}):new m({layer:i,view:r})}const u=()=>{l=$i(l),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};l=ps(t,u),ii(t);try{await a.when()}catch(m){throw u(),m}if(!((s=(n=this._map)==null?void 0:n.allLayers)==null?void 0:s.includes(i)))return u(),void this._deferred.reject(new z("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=a,i.emit("layerview-create",{view:r,layerView:a}),r.emit("layerview-create",{layer:i,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){i.emit("layerview-create-error",{view:r,error:a}),r.emit("layerview-create-error",{layer:i,error:a}),this.done=!0,this._deferred.reject(new z("layerview:create-error","layerview creation failed",{layer:i,error:a}))}}},Ma=class extends De{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new tf,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const n of i)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Ua(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Xb(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var u,d,m;if(this.destroyed)return;const i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,n=[],s=this.view.ready,a=v=>{if(v!=null){for(const b of v)if(b){r.add(b);const _=this._layerLayerViewInfoMap.get(b);_&&s?_.start():_||this._recyclingInfoMap.has(b)||n.push(b),"layers"in b&&b.layers&&a(b.layers)}}};for(const v of this._rootCollectionNames)a(vl(this,v));for(const[v,b]of this._layerLayerViewInfoMap)if(!r.has(v)){this._layerLayerViewInfoMap.delete(b.layer);const _=b.tryRecycle(n);_?(this.notifyChange("updating"),this._recyclingInfoMap.set(b.layer,b),_.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(b.layer),this._layerLayerViewInfoMap.set(b.layer,b),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(b.layer),b.destroy(),this._reschedule()})):b.destroy()}for(const[v,b]of this._recyclingInfoMap)r.has(v)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(b.layer),b.destroy());for(const v of n)this._createLayerView(v);this._refreshCollections();const l=[(u=i==null?void 0:i.ground)==null?void 0:u.layers,(d=i==null?void 0:i.basemap)==null?void 0:d.baseLayers,(m=i==null?void 0:i.basemap)==null?void 0:m.referenceLayers,i==null?void 0:i.layers].filter(v=>!!v);r.forEach(v=>"layers"in v&&l.push(v.layers)),this.addHandles(l.map(v=>this._watchUpdatingTracking.addOnCollectionChange(()=>v,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Tl(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Ge(()=>{const t=this.view,i=t==null?void 0:t.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,t==null?void 0:t.ready]},()=>this._reschedule(),cs)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),QE(this._recyclingInfoMap),QE(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(li()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Uae(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(QE(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new z("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,i){var s;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(t);if(!(r!=null&&r.done))return!0;const n=r.layerView;return!(!n||!i||n.parent===i)||!!(r.done&&n&&"layers"in t&&((s=t.layers)!=null&&s.length))&&t.layers.some(a=>this.isCreatingLayerViewsForLayer(a,n))}_refreshCollections(){for(const[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(vl(this,t),vl(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,r){if(!t||!i)return void(i&&i.removeAll());let n=0;for(const s of t){const a=this._layerLayerViewInfoMap.get(s);if(!(a!=null&&a.layerView))continue;const l=a.layerView;l.layer=s,l.parent=r,i.at(n)!==l&&i.splice(n,0,l),"layers"in s&&Kbe(l)&&this._populateLayerViewsOwners(s.layers,l.layerViews,l),n+=1}n<i.length&&i.splice(n,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const i=new Jbe(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),r=>{r&&(Vi(r)||r.name==="cancelled:layerview-create")||ce.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};h([f()],Ma.prototype,"_workPromise",void 0),h([f({readOnly:!0})],Ma.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],Ma.prototype,"_layersToLayerViews",null),h([f({readOnly:!0})],Ma.prototype,"_rootCollectionNames",null),h([f()],Ma.prototype,"layerViewImporter",void 0),h([f()],Ma.prototype,"supportsGround",void 0),h([f({readOnly:!0})],Ma.prototype,"updating",null),h([f({readOnly:!0})],Ma.prototype,"updatingRemaining",null),h([f({constructOnly:!0})],Ma.prototype,"view",void 0),Ma=h([O("esri.views.LayerViewManager")],Ma);const Xbe=Ma;function Qbe(e){return e.createLayerView!==T5.prototype.createLayerView}let Fs=class extends De{constructor(t){super(t),this.factor=1.5,this.offset=Zr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};h([f({type:Number})],Fs.prototype,"factor",void 0),h([f({nonNullable:!0})],Fs.prototype,"offset",void 0),h([f()],Fs.prototype,"position",void 0),h([f({type:Number,range:{min:0}})],Fs.prototype,"size",void 0),h([f()],Fs.prototype,"maskUrl",void 0),h([f()],Fs.prototype,"maskEnabled",void 0),h([f()],Fs.prototype,"overlayUrl",void 0),h([f()],Fs.prototype,"overlayEnabled",void 0),h([f({readOnly:!0})],Fs.prototype,"version",null),h([f({type:Boolean})],Fs.prototype,"visible",void 0),Fs=h([O("esri.views.Magnifier")],Fs);const hK=Fs;let OS=class{constructor(t){this._observable=new r2,this._map=new Map(t)}get size(){return Xe(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const i=this._map.delete(t);return i&&this._observable.notify(),i}entries(){return Xe(this._observable),this._map.entries()}forEach(t,i){Xe(this._observable),this._map.forEach((r,n)=>t.call(i,r,n,this),i)}get(t){return Xe(this._observable),this._map.get(t)}has(t){return Xe(this._observable),this._map.has(t)}keys(){return Xe(this._observable),this._map.keys()}set(t,i){return this._map.set(t,i),this._observable.notify(),this}values(){return Xe(this._observable),this._map.values()}[Symbol.iterator](){return Xe(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var k6;let Yp=k6=class extends ue{constructor(e){super(e),this.name=null,this.code=null}clone(){return new k6({name:this.name,code:this.code})}};h([f({type:String,json:{write:{isRequired:!0}}})],Yp.prototype,"name",void 0),h([f({type:[String,Number],json:{write:{isRequired:!0}}})],Yp.prototype,"code",void 0),Yp=k6=h([O("esri.layers.support.CodedValue")],Yp);const e2e=new It({inherited:"inherited",codedValue:"coded-value",range:"range"});let ov=class extends ue{constructor(t){super(t),this.name=null,this.type=null}};h([f({type:String,json:{write:!0}})],ov.prototype,"name",void 0),h([qe(e2e),f({json:{write:{isRequired:!0}}})],ov.prototype,"type",void 0),ov=h([O("esri.layers.support.Domain")],ov);const O5=ov;var L6;let lv=L6=class extends O5{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(r=>(String(r.code)===i&&(t=r.name),!!t))}return t}clone(){return new L6({codedValues:H(this.codedValues),name:this.name})}};h([f({type:[Yp],json:{write:{isRequired:!0}}})],lv.prototype,"codedValues",void 0),h([qe({codedValue:"coded-value"})],lv.prototype,"type",void 0),lv=L6=h([O("esri.layers.support.CodedValueDomain")],lv);const k5=lv;var N6;let kS=N6=class extends O5{constructor(e){super(e),this.type="inherited"}clone(){return new N6}};h([qe({inherited:"inherited"})],kS.prototype,"type",void 0),kS=N6=h([O("esri.layers.support.InheritedDomain")],kS);const dK=kS;var D6;let ty=D6=class extends O5{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new D6({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};h([f({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],ty.prototype,"maxValue",void 0),h([f({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var i;return(i=t.range)==null?void 0:i[0]}},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],ty.prototype,"minValue",void 0),h([qe({range:"range"})],ty.prototype,"type",void 0),ty=D6=h([O("esri.layers.support.RangeDomain")],ty);const pK=ty,t2e={key:"type",base:O5,typeMap:{range:pK,"coded-value":k5,inherited:dK}};function i2e(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return pK.fromJSON(e);case"codedValue":return k5.fromJSON(e);case"inherited":return dK.fromJSON(e)}return null}const r2e=new It({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var j6;const n2e=new It({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let _n=j6=class extends ue{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return(i==null?void 0:i.value)??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch{}return i?n2e.fromJSON(i.fieldValueType):null}clone(){var e;return new j6({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};h([f({type:String,json:{write:!0}})],_n.prototype,"alias",void 0),h([f({type:[String,Number],json:{write:{allowNull:!0}}})],_n.prototype,"defaultValue",void 0),h([f()],_n.prototype,"description",void 0),h([He("description")],_n.prototype,"readDescription",null),h([f({types:t2e,json:{read:{reader:i2e},write:!0}})],_n.prototype,"domain",void 0),h([f({type:Boolean,json:{write:!0}})],_n.prototype,"editable",void 0),h([f({type:zt,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],_n.prototype,"length",void 0),h([f({type:String,json:{write:!0}})],_n.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0}})],_n.prototype,"nullable",void 0),h([qe(r2e)],_n.prototype,"type",void 0),h([f()],_n.prototype,"valueType",void 0),h([He("valueType",["description"])],_n.prototype,"readValueType",null),h([f({type:Boolean,json:{read:!1}})],_n.prototype,"visible",void 0),_n=j6=h([O("esri.layers.support.Field")],_n);const L5=_n;var F6;let iy=F6=class extends ue{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new F6({mapLayerId:e,gdbVersion:t})}};h([qe({mapLayer:"map-layer"}),f({json:{write:{isRequired:!0}}})],iy.prototype,"type",void 0),h([f({type:zt,json:{write:{isRequired:!0}}})],iy.prototype,"mapLayerId",void 0),h([f({type:String,json:{write:!0}})],iy.prototype,"gdbVersion",void 0),iy=F6=h([O("esri.layers.support.source.MapLayerSource")],iy);var z6;let vu=z6=class extends ue{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:r,geometryType:n}=this,s={workspaceId:e,query:t,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:n};return new z6(s)}};h([qe({queryTable:"query-table"}),f({json:{write:{isRequired:!0}}})],vu.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],vu.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],vu.prototype,"query",void 0),h([f({type:String,json:{write:!0}})],vu.prototype,"oidFields",void 0),h([f({type:it,json:{write:!0}})],vu.prototype,"spatialReference",void 0),h([qe(WR)],vu.prototype,"geometryType",void 0),vu=z6=h([O("esri.layers.support.source.QueryTableDataSource")],vu);var U6;let ry=U6=class extends ue{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new U6({workspaceId:e,dataSourceName:t})}};h([qe({raster:"raster"}),f({json:{write:{isRequired:!0}}})],ry.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],ry.prototype,"dataSourceName",void 0),h([f({type:String,json:{write:!0}})],ry.prototype,"workspaceId",void 0),ry=U6=h([O("esri.layers.support.source.RasterDataSource")],ry);var G6;let up=G6=class extends ue{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new G6({workspaceId:e,gdbVersion:t,dataSourceName:i})}};h([qe({table:"table"}),f({json:{write:{isRequired:!0}}})],up.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],up.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],up.prototype,"gdbVersion",void 0),h([f({type:String,json:{write:!0}})],up.prototype,"dataSourceName",void 0),up=G6=h([O("esri.layers.support.source.TableDataSource")],up);var V6,B6;const s2e=Kr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let zs=V6=class extends ue{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return pj()(e,t,i)}castLeftTableSource(e){return Bu(H6(),e)}readRightTableSource(e,t,i){return pj()(e,t,i)}castRightTableSource(e){return Bu(H6(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:n}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:n};return new V6(s)}};h([qe({joinTable:"join-table"}),f({json:{write:{isRequired:!0}}})],zs.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],zs.prototype,"leftTableKey",void 0),h([f({type:String,json:{write:!0}})],zs.prototype,"rightTableKey",void 0),h([f({json:{write:!0}})],zs.prototype,"leftTableSource",void 0),h([He("leftTableSource")],zs.prototype,"readLeftTableSource",null),h([Gt("leftTableSource")],zs.prototype,"castLeftTableSource",null),h([f({json:{write:!0}})],zs.prototype,"rightTableSource",void 0),h([He("rightTableSource")],zs.prototype,"readRightTableSource",null),h([Gt("rightTableSource")],zs.prototype,"castRightTableSource",null),h([qe(s2e)],zs.prototype,"joinType",void 0),zs=V6=h([O("esri.layers.support.source.JoinTableDataSource")],zs);let lC=null;function pj(){return lC||(lC=Og({types:H6()})),lC}let uC=null;function H6(){return uC||(uC={key:"type",base:null,typeMap:{"data-layer":pl,"map-layer":iy}}),uC}const a2e={key:"type",base:null,typeMap:{"join-table":zs,"query-table":vu,raster:ry,table:up}};let pl=B6=class extends ue{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new B6({fields:e,dataSource:t})}};h([qe({dataLayer:"data-layer"}),f({json:{write:{isRequired:!0}}})],pl.prototype,"type",void 0),h([f({type:[L5],json:{write:!0}})],pl.prototype,"fields",void 0),h([f({types:a2e,json:{write:!0}})],pl.prototype,"dataSource",void 0),pl=B6=h([O("esri.layers.support.source.DataLayerSource")],pl),pl.from=Gi(pl);let cp=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};h([f({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],cp.prototype,"onFields",void 0),h([f({type:String,json:{write:!0}})],cp.prototype,"operator",void 0),h([f({type:String,json:{write:!0}})],cp.prototype,"searchTerm",void 0),h([f({type:String,json:{write:!0}})],cp.prototype,"searchType",void 0),cp=h([O("esri.rest.support.FullTextSearch")],cp);const fK=cp;var q6;const fj=new It({upperLeft:"upper-left",lowerLeft:"lower-left"});let hp=q6=class extends ue{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new q6(H({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};h([f({type:Lt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],hp.prototype,"extent",void 0),h([f({type:["view","edit"],json:{write:!0}})],hp.prototype,"mode",void 0),h([f({type:String,json:{read:fj.read,write:fj.write}})],hp.prototype,"originPosition",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],hp.prototype,"tolerance",void 0),hp=q6=h([O("esri.rest.support.QuantizationParameters")],hp);const mK=hp,o2e=new It({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var W6;const mj=new It({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let bo=W6=class extends ue{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=H(e))}clone(){return new W6({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:H(this.statisticParameters)})}};h([f({type:Number,json:{write:!0}})],bo.prototype,"maxPointCount",void 0),h([f({type:Number,json:{write:!0}})],bo.prototype,"maxRecordCount",void 0),h([f({type:Number,json:{write:!0}})],bo.prototype,"maxVertexCount",void 0),h([f({type:String,json:{write:!0}})],bo.prototype,"onStatisticField",void 0),h([f({type:String,json:{write:!0}})],bo.prototype,"outStatisticFieldName",void 0),h([f({type:String,json:{read:{source:"statisticType",reader:mj.read},write:{target:"statisticType",writer:mj.write}}})],bo.prototype,"statisticType",void 0),h([f({type:Object})],bo.prototype,"statisticParameters",void 0),h([Re("statisticParameters")],bo.prototype,"writeStatisticParameters",null),bo=W6=h([O("esri.rest.support.StatisticDefinition")],bo);const l2e=bo;var LS;const u2e=new It({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Je=LS=class extends ue{static from(e){return qb(LS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const r in e){const n=e[r];Array.isArray(n)?i[r]=n.map(s=>s instanceof Date?s.getTime():s):n instanceof Date?i[r]=n.getTime():i[r]=n}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new LS(H({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Je.MAX_MAX_RECORD_COUNT_FACTOR=5,h([f({json:{write:!0}})],Je.prototype,"aggregateIds",void 0),h([f({type:Boolean,json:{write:!0}})],Je.prototype,"cacheHint",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"compactGeometryEnabled",void 0),h([f({json:{write:!0}})],Je.prototype,"datumTransformation",void 0),h([Gt("datumTransformation")],Je.prototype,"castDatumTransformation",null),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"defaultSpatialReferenceEnabled",void 0),h([f({type:Number,json:{write:!0}})],Je.prototype,"distance",void 0),h([f({type:pl,json:{write:!0}})],Je.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],Je.prototype,"formatOf3DObjects",void 0),h([f({type:[fK],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Je.prototype,"fullText",void 0),h([f({type:String,json:{write:!0}})],Je.prototype,"gdbVersion",void 0),h([f({types:i2,json:{read:yf,write:!0}})],Je.prototype,"geometry",void 0),h([f({type:Number,json:{write:!0}})],Je.prototype,"geometryPrecision",void 0),h([f({type:[String],json:{write:!0}})],Je.prototype,"groupByFieldsForStatistics",void 0),h([f({type:String,json:{write:!0}})],Je.prototype,"having",void 0),h([f({type:Date})],Je.prototype,"historicMoment",void 0),h([Re("historicMoment")],Je.prototype,"writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],Je.prototype,"maxAllowableOffset",void 0),h([f({type:Number,cast:e=>e<1?1:e>Je.MAX_MAX_RECORD_COUNT_FACTOR?Je.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Je.prototype,"maxRecordCountFactor",void 0),h([f({type:["xyFootprint"],json:{write:!0}})],Je.prototype,"multipatchOption",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Je.prototype,"num",void 0),h([f({json:{write:!0}})],Je.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Je.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],Je.prototype,"outFields",void 0),h([f({type:it,json:{name:"outSR",write:!0}})],Je.prototype,"outSpatialReference",void 0),h([f({type:[l2e],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Je.prototype,"outStatistics",void 0),h([f({json:{write:!0}})],Je.prototype,"parameterValues",void 0),h([Re("parameterValues")],Je.prototype,"writeParameterValues",null),h([f({type:Qe,json:{write:!0}})],Je.prototype,"pixelSize",void 0),h([f({type:mK,json:{write:!0}})],Je.prototype,"quantizationParameters",void 0),h([f({type:[Object],json:{write:!0}})],Je.prototype,"rangeValues",void 0),h([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Je.prototype,"relationParameter",void 0),h([f({type:String,json:{write:!0}})],Je.prototype,"resultType",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"returnCentroid",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"returnDistinctValues",void 0),h([f({type:Boolean,json:{default:!0,write:!0}})],Je.prototype,"returnExceededLimitFeatures",void 0),h([f({type:Boolean,json:{write:!0}})],Je.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"returnQueryGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Je.prototype,"returnZ",void 0),h([f({type:Boolean,json:{write:!0}})],Je.prototype,"returnTrueCurves",void 0),h([f({type:it,json:{write:!0}})],Je.prototype,"sourceSpatialReference",void 0),h([qe(o2e,{ignoreUnknown:!1,name:"spatialRel"})],Je.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Je.prototype,"start",void 0),h([Re("start"),Re("num")],Je.prototype,"writeStart",null),h([f({type:String,json:{write:!0}})],Je.prototype,"sqlFormat",void 0),h([f({type:String,json:{write:!0}})],Je.prototype,"text",void 0),h([f({type:Yu,json:{write:!0}})],Je.prototype,"timeExtent",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Je.prototype,"timeReferenceUnknownClient",void 0),h([qe(u2e,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],Je.prototype,"units",void 0),h([f({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],Je.prototype,"where",void 0),h([Re("where")],Je.prototype,"writeWhere",null),Je=LS=h([O("esri.rest.support.Query")],Je);const Ks=Je;function c_(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let sl=class extends Va.EventedAccessor{constructor(t){super(t),this._selectionMap=new OS,this._sources=new Ce,this._trashCan=[],this._layerEditHandles=new Ce,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([Ge(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Tl(()=>this.sources,"change",i=>{const r=this._selectionMap;for(const n of i.removed)r.delete(n);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new Ce;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(i=>"sublayers"in i&&i.sublayers?i.sublayers:null).forEach(i=>{(c_(i)&&!Oge(i)||Kd(i))&&t.add(i)}),this.sources=t)})}destroy(){this._layerEditHandles.drain($i)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[i,r]=t;return{layer:i,selection:[...r.selection]}})}get count(){let t=0;for(const i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){Wu(t,this._sources)}async getSelectedFeatures(t,i={},r="layerView"){const{view:n,selections:s}=this,a=(t!==void 0?s.filter(l=>t.includes(l.layer)):s).filter(l=>l.selection.length>0).map(async l=>{const{layer:u,selection:d}=l,m=Kd(u)?u.parent:u;if(m==null||!gj(m))return null;if(r==="layer")return vj(m,d,i);if(yj(m))return null;const v=await n.whenLayerView(m).catch(()=>null);return v?vj(v,d,i):null});return(await Promise.all(a)).filter(l=>l!=null)}updateSelection(t){const i=new Map;for(const[s,a]of this._selectionMap)i.set(s,[...a.selection]);let r=!1;const n=t.current.concat(t.added);for(const s of n){const a=s.sourceLayer,l=s.getObjectId();if(this.sources.includes(a)&&(c_(a)||Kd(a))&&l!==null){const u=Pg(i,a,()=>[]);u.includes(l)||(u.push(l),r=!0)}}for(const s of t.removed){const a=s.sourceLayer,l=s.getObjectId();if(this.sources.includes(a)&&(c_(a)||Kd(a))&&l!==null){const u=i.get(a),d=u==null?void 0:u.indexOf(l);d!==void 0&&d>=0&&(u==null||u.splice(d,1),r=!0)}}if(r){const{_selectionMap:s,_trashCan:a}=this,l=[];for(const[u,d]of i){const m=s.get(u);m!==void 0&&a.push(m),s.set(u,{selection:d}),l.push({layer:u,selection:d,...vL(m!==void 0?m.selection:[],d)})}this._onSelectionChange(l)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){const i=this._selectionMap.get(t);return i==null?void 0:i.selection}appendToSelection(t,i){const r=this._selectionMap.get(t),n=r!==void 0?[...r.selection]:[];for(const s of i)n.includes(s)||n.push(s);this._setSelection(t,n)}removeFromSelection(t,i){const r=this._selectionMap.get(t);if(!r)return;const n=[];for(const s of r.selection)i.includes(s)||n.push(s);this._setSelection(t,n)}toggleInSelection(t,i){const r=this._selectionMap.get(t);if(!r||r.selection.length===0)return void this._setSelection(t,i);const n=new Set(r.selection),s=new Set(i),a=vle(n,s);this._setSelection(t,Array.from(a))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const i=[];for(const[r,n]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var a;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const l=this._trashCan.pop();(a=l==null?void 0:l.highlightHandle)==null||a.remove()}const{sources:t,view:i,_selectionMap:r,showHighlight:n}=this,s=this._vizTaskId;for(const l of t){const u=r.get(l),d=Kd(l)?l.parent:l;if(d!=null&&gj(d)){if(yj(d))continue;i.whenLayerView(d).then(m=>{var v;(v=u==null?void 0:u.highlightHandle)==null||v.remove(),u!=null&&n&&s===this._vizTaskId&&"highlight"in m&&typeof m.highlight=="function"&&u.selection.length>0&&(u.highlightHandle=m.highlight(u.selection,this.highlightName))}).catch(()=>{var m;(m=u==null?void 0:u.highlightHandle)==null||m.remove()})}}}_refreshListeners(){this._layerEditHandles.drain($i);for(const t of this.sources){const i=Kd(t)?t.parent:t;if(i!=null&&c_(i)){const r=i.on("edits",n=>{this._handleEditChanges(n,t)});this._layerEditHandles.push(r)}}}_handleEditChanges(t,i){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(i)){const r=t.deletedFeatures.filter(n=>n.error==null).map(n=>n.objectId).filter(Fa);this.removeFromSelection(i,r)}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const r=this._selectionMap.get(t);if(r===void 0||!h2e(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(t,{selection:[...i]});const n={layer:t,selection:[...i],...vL(r!==void 0?r.selection:[],i)};this._onSelectionChange([n])}}};h([f({readOnly:!0,nonNullable:!0})],sl.prototype,"selections",null),h([f({readOnly:!0,nonNullable:!0})],sl.prototype,"count",null),h([f({constructOnly:!0,nonNullable:!0})],sl.prototype,"view",void 0),h([f({readOnly:!0,nonNullable:!0})],sl.prototype,"hasSelection",null),h([f()],sl.prototype,"showHighlight",void 0),h([f()],sl.prototype,"sources",null),h([f()],sl.prototype,"highlightName",void 0),sl=h([O("esri.views.SelectionManager")],sl);const yj=e=>{var t;return Kd(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},c2e=e=>e.layer!==void 0,gj=e=>(e==null?void 0:e.when)!==void 0,h2e=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let n=0;n<i.length;n++)if(i[n]!==r[n])return!1}return!0},vj=async(e,t,i={})=>{let r;if(c2e(e)){const n=e;r=n===void 0?null:await n.queryFeatures(new Ks({...i,objectIds:t})).then(s=>({data:s,layer:e.layer}))}else{const n=e;r=n===void 0?null:await n.queryFeatures(new Ks({...i,objectIds:t})).then(s=>({data:s,layer:n}))}return r},d2e=sl;let uv=class extends Xt.ClonableMixin(De){constructor(t){super(t),this.accentColor=new me([255,127,0]),this.textColor=new me([255,255,255])}};h([f({type:me,nonNullable:!0})],uv.prototype,"accentColor",void 0),h([f({type:me,nonNullable:!0})],uv.prototype,"textColor",void 0),uv=h([O("esri.views.Theme")],uv);const Y6=uv;var bj;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(bj||(bj={}));const yK=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],gK={};function vK(e){return!!gK[e]}function p2e(e){for(const t of e)if(!vK(t))return!1;return!0}yK.forEach(e=>{gK[e]=!0});let bK=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:i,priority:r},n)=>{var s;return(s=this.inputManager)==null?void 0:s.installHandlers(n,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((t,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,i,r,n){const s=Array.isArray(t)?t:t.split(",");if(!p2e(s))return s.some(vK)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,l;Array.isArray(i)?l=i:(a=i,l=[]),typeof r=="function"?a=r:n=r,n=n??Gh.DEFAULT;const u=this._createUniqueGroupName(),d=new f2e(this.view,s,l,a);this._handlers.set(u,{handler:d,priority:n});for(const m of s){const v=this._handlerCounts.get(m)||0;this._handlerCounts.set(m,v+1)}return this.inputManager&&this.inputManager.installHandlers(u,[d],n),jt(()=>this._removeHandler(u,s))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,i){if(this._handlers.has(t)){this._handlers.delete(t);for(const r of i){const n=this._handlerCounts.get(r);n===void 0||(n===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},f2e=class extends kr{constructor(t,i,r,n){super(!0),this._latestDragStart=void 0,this.view=t;for(const s of i)switch(s){case"click":this.registerIncoming("click",r,a=>n(g2e(t,a)));break;case"double-click":this.registerIncoming("double-click",r,a=>n(v2e(t,a)));break;case"immediate-click":this.registerIncoming("immediate-click",r,a=>n(b2e(t,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,a=>n(w2e(t,a)));break;case"hold":this.registerIncoming("hold",r,a=>n(_2e(t,a)));break;case"drag":this.registerIncoming("drag",r,a=>{const l=this._wrapDrag(a);l&&n(l)});break;case"key-down":this.registerIncoming("key-down",r,a=>n(S2e(a)));break;case"key-up":this.registerIncoming("key-up",r,a=>n(x2e(a)));break;case"pointer-down":this.registerIncoming("pointer-down",r,a=>n(h1(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,a=>n(h1(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,a=>n(h1(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,a=>n(M2e(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,a=>n(T2e(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,a=>n(h1(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,a=>n(h1(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,a=>{n(E2e(a))});break;case"focus":this.registerIncoming("focus",r,a=>{n(m2e(a))});break;case"blur":this.registerIncoming("blur",r,a=>{n(y2e(a))})}}_wrapDrag(t){const i=t.data,{x:r,y:n}=i.center,{action:s,pointerType:a,button:l}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const u=i.pointer.native,d=i.buttons,{cancelable:m,timestamp:v}=t,b={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:r,y:n,origin:b,pointerType:a,button:l,buttons:d,radius:i.radius,angle:BB(i.angle),native:u,timestamp:v,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:_=>t.async(_),preventDefault:()=>t.preventDefault()}}};function m2e(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function y2e(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function g2e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:l,eventId:u}=t.data,{cancelable:d,timestamp:m}=t;return{type:"click",pointerType:i,button:r,buttons:n,x:s,y:a,native:l,timestamp:m,screenPoint:Zr(s,a),mapPoint:g2(e,s,a),eventId:u,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function v2e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:l,eventId:u}=t.data,{cancelable:d,timestamp:m}=t;return{type:"double-click",pointerType:i,button:r,buttons:n,x:s,y:a,native:l,timestamp:m,mapPoint:g2(e,s,a),eventId:u,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:v=>t.async(v),preventDefault:()=>t.preventDefault()}}function b2e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:l,eventId:u}=t.data,d=l.pointerId,{cancelable:m,timestamp:v}=t;return{type:"immediate-click",pointerId:d,pointerType:i,button:r,buttons:n,x:s,y:a,native:l,timestamp:v,mapPoint:g2(e,s,a),eventId:u,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:b=>t.async(b),preventDefault:()=>t.preventDefault()}}function w2e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:l,eventId:u}=t.data,d=l.pointerId,{cancelable:m,timestamp:v}=t;return{type:"immediate-double-click",pointerId:d,pointerType:i,button:r,buttons:n,x:s,y:a,native:l,timestamp:v,mapPoint:g2(e,s,a),eventId:u,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:b=>t.async(b),preventDefault:()=>t.preventDefault()}}function _2e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:a,native:l}=t.data,{cancelable:u,timestamp:d}=t;return{type:"hold",pointerType:i,button:r,buttons:n,x:s,y:a,native:l,timestamp:d,mapPoint:g2(e,s,a),cancelable:u,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function g2(e,t,i){return e.toMap(Zr(t,i),{exclude:[]})}function S2e(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:n,timestamp:s}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:s,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:a=>e.async(a),preventDefault:()=>e.preventDefault()}}function x2e(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:n}=e;return{type:"key-up",key:t,native:i,timestamp:n,cancelable:r,stopPropagation:()=>e.stopPropagation(),async:s=>e.async(s),preventDefault:()=>e.preventDefault()}}function h1(e,t){const{x:i,y:r,button:n,buttons:s,native:a,eventId:l}=e.data,u=a.pointerId,d=a.pointerType,{cancelable:m,timestamp:v}=e;return{type:t,x:i,y:r,pointerId:u,pointerType:d,button:n,buttons:s,native:a,timestamp:v,eventId:l,cancelable:m,stopPropagation:()=>e.stopPropagation(),async:b=>e.async(b),preventDefault:()=>e.preventDefault()}}function M2e(e){const{x:t,y:i,buttons:r,native:n,eventId:s}=e.data.currentEvent,{button:a}=e.data.startEvent,l=e.data.startEvent.native.pointerId,u=e.data.startEvent.native.pointerType,d=e.data.action,m={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:v,timestamp:b}=e;return{type:"pointer-drag",x:t,y:i,pointerId:l,pointerType:u,button:a,buttons:r,action:d,origin:m,native:n,timestamp:b,eventId:s,cancelable:v,stopPropagation:()=>e.stopPropagation(),async:_=>e.async(_),preventDefault:()=>e.preventDefault()}}function T2e(e){const{cancelable:t,data:i,timestamp:r}=e,{x:n,y:s,deltaY:a,native:l}=i;return{type:"mouse-wheel",x:n,y:s,deltaY:a,native:l,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:u=>e.async(u),preventDefault:()=>e.preventDefault()}}function E2e(e){const{action:t,state:i,device:r}=e.data,{cancelable:n,timestamp:s}=e,{buttons:a,axes:l}=i;return{type:"gamepad",device:r,timestamp:s,action:t,buttons:a,axes:l,cancelable:n,stopPropagation:()=>e.stopPropagation(),async:u=>e.async(u),preventDefault:()=>e.preventDefault()}}var Ib,wj,_j;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Ib||(Ib={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(wj||(wj={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(_j||(_j={}));function C2e(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return ce.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()}),e.on("after-remove",t=>{const i=t.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function Z6(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(Ib.USER)&&e.getEditableFlag(Ib.MANAGER)}function al(e){return Zr(e.x,e.y)}function wK(e,t){var r;const i=(r=e instanceof HTMLElement?e:e.surface)==null?void 0:r.getBoundingClientRect();return i?Zr(t.clientX-i.left,t.clientY-i.top):Zr(0,0)}function _K(e,t){return t instanceof Event?wK(e,t):al(t)}function SK(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let I2e=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,i){const r=()=>t.stopPropagation();switch(t.type){case"pointer-move":xj(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!Mj(t))break;const n=al(t),s=Am(n,t.pointerType,i.forEachTool);if(s==null)break;const a=s.manipulator,l=s.tool;a==null||l==null||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,t,i),a!=null&&l!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:l,start:n,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:n}),r());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!Mj(t))break;const n=this._grabbedManipulators.get(t.pointerId),s=n==null?void 0:n.manipulator,a=n==null?void 0:n.tool;if(s==null||a==null)break;const l=al(t);l.x=ia(l.x,0,i.view.width),l.y=ia(l.y,0,i.view.height);const u=n.start,d=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,d?s.events.emit("drag",{action:"update",start:u,screenPoint:l}):s.events.emit("drag",{action:"start",start:u,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:s,start:u}));break;case"end":s.dragging=!1,d&&s.events.emit("drag",{action:"end",start:u,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}r();break}case"immediate-click":{const n=al(t),s=Am(n,t.pointerType,i.forEachTool);if($2e(t)||i.forEachTool(d=>{if((s==null||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let m=!1;d.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,m=!0)}),m&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}),s==null)break;const{manipulator:a,tool:l}=s;if(!a.interactive)break;a.selectable&&l.automaticManipulatorSelection&&(a.selected=!a.selected,l.onManipulatorSelectionChanged&&l.onManipulatorSelectionChanged());const u=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:r}),cC(a,r);break}case"click":{const n=al(t),s=Am(n,t.pointerType,i.forEachTool),a=s==null?void 0:s.manipulator;if(a==null||!a.interactive)break;const l=t.native.shiftKey;a.events.emit(t.type,{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:l}),r();break}case"double-click":{const n=al(t),s=Am(n,t.pointerType,i.forEachTool),a=s!=null?s.manipulator:null;if(a==null||!a.interactive)break;const l=t.native.shiftKey;a.events.emit("double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:r}),cC(a,r);break}case"immediate-double-click":{const n=al(t),s=Am(n,t.pointerType,i.forEachTool),a=s!=null?s.manipulator:null;if(a==null||!a.interactive)break;const l=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:n,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:r}),t.pointerType==="mouse"&&cC(a,r);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(t,i,r){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:al(i)}),this._grabbedManipulators.forEach(({manipulator:n},s)=>{n===t&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(t,i){var n;const r=(n=this._grabbedManipulators.get(t.pointerId))==null?void 0:n.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:al(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=Sj(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=Sj(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:n})=>{i.add(n)}),this._hoveredManipulators.forEach(({tool:n})=>{r.add(n)}),t(n=>{n.hasGrabbedManipulators=i.has(n),n.hasHoveredManipulators=r.has(n);const s=this._grabbedManipulators.values(),a=Foe(s,({tool:l})=>l===n);n.firstGrabbedManipulator=a!=null?a.manipulator:null})}clearPointers(t,{forEachTool:i,setActiveTool:r},n=!0,s){const a=(l,u)=>l===t&&(s==null||s===u);this._grabbedManipulators.forEach(({tool:l,manipulator:u,pointerType:d},m)=>{a(l,u)&&(this._grabbedManipulators.delete(m),u.grabbing=!1,u.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:l,manipulator:u},d)=>{a(l,u)&&(this._draggedManipulators.delete(d),u.dragging=!1,u.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:l,manipulator:u},d)=>{a(l,u)&&(this._hoveredManipulators.delete(d),u.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(Zr(i.x,i.y),r,i.pointerType,t)})}handleHoverEvent(t,i){const r=t.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!xj(t.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(al(t),t.pointerId,t.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(t,i,r,n){var l;let s=Am(t,r,n);const a=(l=this._hoveredManipulators.get(i))==null?void 0:l.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&a===s.manipulator||(a!=null&&(a.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(n))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:i},r)=>{t===r&&(this._hoveredManipulators.delete(t),i.hovering=!1)})}};function Sj(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Am(e,t,i){let r=null;return i(n=>{if(n.manipulators==null||!Z6(n))return!1;const s=n.manipulators.intersect(e,t);return s!=null&&(r={tool:n,manipulator:s},!0)}),r}function xj(e){return e==="mouse"}function Mj(e){return e.pointerType!=="mouse"||e.button===0}function $2e(e){return!!e.native.shiftKey}function cC(e,t){e!=null&&e.consumesClicks&&t()}const Tj="attached",hC="tools",A2e=1e3;let ol=class extends De{constructor(t){super(t),this._updatingHandles=new tf,this._clock=Lg,this._manipulatorState=new I2e,this.tools=new Ce,this.cursor=null,this._interacting=!1,this._interactingTimeout=A2e,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const r of this.tools.items)if(i(r))return}}initialize(){this.addHandles([this.view.on(yK,t=>{this._handleInputEvent(t)},Gh.TOOL),...C2e(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void ce.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const i=this.activeTool;this._set("activeTool",t),i!=null&&i.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const r of this.tools){this._updateToolEditableFlag(r);const n=Z6(r);this.activeTool!=null&&n||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!n)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=$i(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([Ge(()=>{const{state:i}=this.view;return"camera"in i&&i.camera},()=>this._forEachManipulator(i=>i.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",i=>this._forEachManipulator(r=>r.onElevationChange(i)))],Tj):this.addHandles(Ge(()=>this.view.extent,()=>this._forEachManipulator(i=>i.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(Tj),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:r})=>t(r,i))})}_handleInputEvent(t){let i=!1;const r={...t,stopPropagation:()=>{i=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r):this._forEachTool(n=>{!i&&n.visible&&n.handleInputEvent(r)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(hC),this._forEachTool(t=>{if(t instanceof De){const i=Ge(()=>[t.cursor,t.visible,t.editable],()=>{Z6(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,hC)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],hC)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var i;(i=t.setEditableFlag)==null||i.call(t,Ib.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};h([f({constructOnly:!0,nonNullable:!0})],ol.prototype,"view",void 0),h([f({value:null})],ol.prototype,"activeTool",null),h([f({readOnly:!0,type:Ce})],ol.prototype,"tools",void 0),h([f({readOnly:!0})],ol.prototype,"cursor",void 0),h([f({readOnly:!0})],ol.prototype,"updating",null),h([f()],ol.prototype,"_interacting",void 0),h([f({readOnly:!0})],ol.prototype,"interacting",null),ol=h([O("esri.views.ToolViewManager")],ol);const R2e=new me("cyan"),P2e=1,O2e=.25,k2e=new me("black"),L2e=.4,N2e=.2,dNe=.25,xK="default",D2e="temporary",j2e=new me("yellow");var K6;let Us=K6=class extends De{constructor(e){super(e),this.name=xK,this.color=R2e.clone(),this.haloColor=null,this.haloOpacity=P2e,this.fillOpacity=O2e,this.shadowColor=k2e.clone(),this.shadowOpacity=L2e,this.shadowDifference=N2e,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){var e,t;return new K6({...this,color:this.color.clone(),haloColor:(e=this.haloColor)==null?void 0:e.clone(),shadowColor:(t=this.shadowColor)==null?void 0:t.clone()})}assignFrom(e){var t;this.color=e.color.clone(),this.haloColor=(t=e.haloColor)==null?void 0:t.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};h([f({type:String,constructOnly:!0,nonNullable:!0})],Us.prototype,"name",void 0),h([f({type:me,nonNullable:!0})],Us.prototype,"color",void 0),h([f({type:me})],Us.prototype,"haloColor",void 0),h([f({nonNullable:!0})],Us.prototype,"haloOpacity",void 0),h([f({nonNullable:!0})],Us.prototype,"fillOpacity",void 0),h([f({type:me,nonNullable:!0})],Us.prototype,"shadowColor",void 0),h([f({nonNullable:!0})],Us.prototype,"shadowOpacity",void 0),h([f({nonNullable:!0})],Us.prototype,"shadowDifference",void 0),h([f({nonNullable:!0})],Us.prototype,"haloWidth",void 0),h([f({nonNullable:!0})],Us.prototype,"haloBlur",void 0),Us=K6=h([O("esri.views.support.HighlightOptions")],Us);const Bh=Us;function F2e(){return new(Ce.ofType(Bh))([new Bh({name:xK}),new Bh({name:D2e,color:j2e})])}let ny=class extends De{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":z2e.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return U2e[this.deviceType]}};h([f({nonNullable:!0,readOnly:!0})],ny.prototype,"nativeIndex",void 0),h([f({type:String,readOnly:!0})],ny.prototype,"deviceType",null),h([f({type:Number,readOnly:!0})],ny.prototype,"axisThreshold",null),ny=h([O("esri.views.input.gamepad.GamepadInputDevice")],ny);const G8=ny,z2e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),U2e={standard:.15,spacemouse:.025,unknown:0};let cv=class extends De{constructor(...t){super(...t),this.devices=new Ce,this.enabledFocusMode="document"}};h([f({type:Ce.ofType(G8),readOnly:!0})],cv.prototype,"devices",void 0),h([f({type:["document","view","none"]})],cv.prototype,"enabledFocusMode",void 0),cv=h([O("esri.views.input.gamepad.GamepadSettings")],cv);const G2e=cv;let NS=class extends De{constructor(){super(...arguments),this.gamepad=new G2e}};h([f({readOnly:!0})],NS.prototype,"gamepad",void 0),NS=h([O("esri.views.input.Input")],NS);const V2e=NS,MK=()=>Dt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,dC=()=>f({type:["pan","rotate","zoom","none"],nonNullable:!0});let dp=class extends De{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};h([dC()],dp.prototype,"dragPrimary",void 0),h([dC()],dp.prototype,"dragSecondary",void 0),h([dC()],dp.prototype,"dragTertiary",void 0),h([f({type:["zoom","none"],nonNullable:!0})],dp.prototype,"mouseWheel",void 0),dp=h([O("esri.views.navigation.NavigationActionMap")],dp);const V8=dp;let nh=class extends De{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};h([f({type:Boolean,nonNullable:!0})],nh.prototype,"enabled",void 0),h([f({type:G8})],nh.prototype,"device",void 0),h([f({type:["pan","zoom"],nonNullable:!0})],nh.prototype,"mode",void 0),h([f({type:["forward-down","forward-up"],nonNullable:!0})],nh.prototype,"tiltDirection",void 0),h([f({type:Number,nonNullable:!0})],nh.prototype,"velocityFactor",void 0),nh=h([O("esri.views.navigation.gamepad.GamepadSettings")],nh);const TK=nh;let sh=class extends De{constructor(t){super(t),this.actionMap=new V8,this.browserTouchPanEnabled=!0,this.gamepad=new TK,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!MK()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){Noe(ce.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};h([f({type:V8,nonNullable:!0})],sh.prototype,"actionMap",void 0),h([f({type:Boolean})],sh.prototype,"browserTouchPanEnabled",void 0),h([f({type:TK,nonNullable:!0})],sh.prototype,"gamepad",void 0),h([f({type:Boolean})],sh.prototype,"momentumEnabled",void 0),h([f({type:Boolean})],sh.prototype,"mouseWheelZoomEnabled",null),sh=h([O("esri.views.navigation.Navigation")],sh);const N5=sh;function bNe(e,t,i){const r=EK(e),n=t,s=B2e(r,n,i);if(r){const a=E5.deriveUnitFromSR(r,e.spatialReference).heightUnit;if(!i&&a!==r.heightUnit){const l=new z("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${a})`,{horizontalUnit:a});return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:l})}}if(!H2e(e)||s===us.Unsupported)return new z("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(s){case us.Units:{const a=(r==null?void 0:r.heightUnit)||"unknown",l=(n==null?void 0:n.heightUnit)||"unknown",u=new z("layerview:incompatible-height-unit",`The vertical units of the layer (${a}) must match the vertical units of the scene (${l})`,{layerUnit:a,sceneUnit:l});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:u})}case us.HeightModel:{const a=(r==null?void 0:r.heightModel)||"unknown",l=(n==null?void 0:n.heightModel)||"unknown",u=new z("layerview:incompatible-height-model",`The height model of the layer (${a}) must match the height model of the scene (${l})`,{layerHeightModel:a,sceneHeightModel:l});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:u})}case us.CRS:{const a=(r==null?void 0:r.vertCRS)||"unknown",l=(n==null?void 0:n.vertCRS)||"unknown",u=new z("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${a}) must match the vertical datum of the scene (${l})`,{layerDatum:a,sceneDatum:l});return new z("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:u})}}return null}function B2e(e,t,i){if(!Ej(e)||!Ej(t))return us.Unsupported;if(e==null||t==null)return us.Ok;if(!i&&e.heightUnit!==t.heightUnit)return us.Units;if(e.heightModel!==t.heightModel)return us.HeightModel;switch(e.heightModel){case"gravity-related-height":return us.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?us.Ok:us.CRS;default:return us.Unsupported}}var us;function Ej(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function H2e(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!$K(e)}function EK(e){var r;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?n5(e.url):void 0;return!(((r=e.spatialReference)==null?void 0:r.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&CK(e)&&e.heightModelInfo?e.heightModelInfo:$K(e)?E5.deriveUnitFromSR(W2e,e.spatialReference):null}function CK(e){return"heightModelInfo"in e}function IK(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function $K(e){return IK(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):AK(e)}function q2e(e){return e.layers!=null||AK(e)||IK(e)||CK(e)}function AK(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(us||(us={}));const W2e=new E5({heightModel:"gravity-related-height"});var Ku;function Cj(e){return e===Ku.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Ku||(Ku={}));let J6,pC=null;async function Y2e(e){pC||(pC=ve(()=>import("./geometryServiceUtils-C7JQ6uYa.js"),[]).then(t=>J6=t)),await pC,ii(e)}async function RK(e,t,i,r){if(!e)return null;const n=e.spatialReference;return ec()||Do(n,t)?ad(e,t):J6?J6.projectGeometry(e,t,i,r):(await Promise.race([Y2e(r),qu(r)]),RK(e,t,i,r))}let oi=class extends De{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Yh(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,n,s,a;const t=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t==null?void 0:t.basemap,layers:(n=t==null?void 0:t.basemap)==null?void 0:n.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(s=t==null?void 0:t.ground)==null?void 0:s.layers},{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,r=>{const n=this._getSupportedSpatialReferences(r);if(n.length>0){const s=this._narrowDownSpatialReferenceCandidates(t,n);s!=null&&(t=s)}return(t==null?void 0:t.length)===1})&&(t==null?void 0:t.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(t);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var s,a;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=(s=this.map)==null?void 0:s.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const n=this._collectLayers([{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.baseLayers},{layers:t==null?void 0:t.layers}],l=>{var u;return!(!("tileInfo"in l)||!((u=l.tileInfo)!=null&&u.spatialReference.equals(i)))&&(r=l,!0)},l=>"tileInfo"in l);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:n}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let t={};const i=this._collectLayers(this.mapCollections,n=>{var a,l;const s=EK(n);return!!s&&(t={heightModelInfo:s,vcsWkid:(a=n.spatialReference)==null?void 0:a.vcsWkid,latestVcsWkid:(l=n.spatialReference)==null?void 0:l.latestVcsWkid},!0)},n=>q2e(n));return{...t,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],i=this._collectLayers(this.mapCollections,r=>{const n="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:n[0],a=n.find(l=>l.spatialReference.equals(this.spatialReference))??s;if(a)return t.push({extent:a,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const l of n)t.push({extent:l,layer:r});return!1});return{candidates:t,updating:i}}get _extentTask(){const{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(t),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Yh(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:n2(async s=>{try{const a=await RK(r.extent,n,"portalItem"in r.layer?r.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(Rn(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;const r=new Array;for(const n of t)for(const s of i){if(!n.spatialReference.equals(s.spatialReference))continue;const a=K2e(n.viewingMode,s.viewingMode);if(a!==!1){r.push({spatialReference:n.spatialReference,viewingMode:a});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(t){const i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:r})=>r.equals(i))&&(t=t.filter(({spatialReference:r})=>r.equals(i))),t.length>1&&t.some(({viewingMode:r})=>r!==Ku.Local)&&(t=t.filter(({viewingMode:r})=>r!==Ku.Local)),t[0])}_getSupportedSpatialReferences(t){const i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const n of i){const s=this.getSpatialReferenceSupport(n,t);if(s!=null){const a=s.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:l,viewingMode:u}of a)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!l.equals(this.userSpatialReference)||r.push({spatialReference:l,viewingMode:u})}}return r}_pickExtentCandidate(t){const i=this.spatialReference;return t.find(({extent:r})=>i.equals(r.spatialReference))||t[0]}_collectLayers(t,i,r=()=>!0){var s;switch(this._loadMaybe((s=this.map)==null?void 0:s.call(this))){case"loading":return!0;case"failed":return!1}const n=new Z2e(r,i);for(const a of t)if(this._collectCollection(a,n),n.done||n.preloading===this.sourcePreloadCount)break;return n.updating}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of t.layers)if(i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{Vi(i)}),"loading"):t.loadStatus:"loaded"}};h([f()],oi.prototype,"required",void 0),h([f({constructOnly:!0})],oi.prototype,"map",void 0),h([f({constructOnly:!0})],oi.prototype,"getSpatialReferenceSupport",void 0),h([f()],oi.prototype,"defaultSpatialReference",void 0),h([f()],oi.prototype,"userSpatialReference",void 0),h([f()],oi.prototype,"sourcePreloadCount",void 0),h([f()],oi.prototype,"priorityCollection",void 0),h([f()],oi.prototype,"requiresExtentInSpatialReference",void 0),h([f()],oi.prototype,"suspended",void 0),h([f({readOnly:!0})],oi.prototype,"ready",null),h([f({readOnly:!0})],oi.prototype,"heightModelInfoReady",null),h([f({readOnly:!0})],oi.prototype,"spatialReference",null),h([f({readOnly:!0})],oi.prototype,"extent",null),h([f({readOnly:!0})],oi.prototype,"heightModelInfo",null),h([f({readOnly:!0})],oi.prototype,"vcsWkid",null),h([f({readOnly:!0})],oi.prototype,"latestVcsWkid",null),h([f({readOnly:!0})],oi.prototype,"viewingMode",null),h([f({readOnly:!0})],oi.prototype,"tileInfo",null),h([f({readOnly:!0})],oi.prototype,"mapCollections",null),h([f({readOnly:!0})],oi.prototype,"_spatialReferenceTask",null),h([f({readOnly:!0})],oi.prototype,"_tileInfoTask",null),h([f({readOnly:!0})],oi.prototype,"_heightModelInfoTask",null),h([f({readOnly:!0})],oi.prototype,"_extentCandidatesTask",null),h([f()],oi.prototype,"_extentTask",null),h([f()],oi.prototype,"_projectExtentTask",void 0),oi=h([O("esri.views.support.DefaultsFromMap")],oi);let Z2e=class{constructor(t,i){this.layerFilter=t,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function K2e(e,t){return e!=null?t!=null?e===t&&e:e:t}let sy=class extends De{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};h([f()],sy.prototype,"featureTitleFields",void 0),h([f()],sy.prototype,"utilityNetworkFields",void 0),h([f()],sy.prototype,"globalIdField",void 0),sy=h([O("esri.views.support.RequiredFieldsOptions")],sy);const J2e=sy;var hv;let Fe=hv=class extends Va.EventedMixin(u2.EsriPromiseMixin(De)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new kg,this.updatingHandles=new tf,this.allLayerViews=new vb({getCollections:()=>{var t,i,r;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:Q2e}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Xv,this.analyses=new sx,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Ce,this.magnifier=new hK,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new V2e,this.navigation=new N5,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new bK(this),this.persistableViewModels=new Ce,this.requiredFieldsOptions=new J2e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(Ge(()=>this.preconditionsReady,t=>{var r,n;const i=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,hv.views.add(this)):(this._lockedSpatialReference=null,hv.views.remove(this)),this.notifyChange("spatialReference"),!t&&i)(r=this.toolViewManager)==null||r.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(n=this.layerViewManager)==null||n.clear(),this._teardown();else if(t&&!i){try{this._startup()}catch(s){return void queueMicrotask(()=>{this.fatalError=new z("startup-error",null,s)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},El))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,gg(()=>this.ready)))),this.basemapView=new Ybe({view:this}),this.layerViewManager=new Xbe({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ol({view:this}),this.selectionManager=new d2e({view:this}),this.addHandles([Pn(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{ce.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),Ge(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},cs),Ge(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},El),Ge(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},cs)])}destroy(){var e,t;this.destroyed||(hv.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=vi(this.graphics),this.analyses=vi(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),vi(this.analysisViewManager),this.toolViewManager=vi(this.toolViewManager),this.layerViewManager=vi(this.layerViewManager),this.selectionManager=vi(this.selectionManager),this.basemapView=vi(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=vi(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ce.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new oi({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??F2e()}set highlights(e){this._set("highlights",Wu(e,this._get("highlights"),Ce.ofType(Bh)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Ba.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(ce.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Ba.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,t,i,r;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const n=!("loaded"in this.map)||this.map.loaded,s=this.map.ground.loaded,a=((t=this.map.basemap)==null?void 0:t.loaded)??!0;return n&&a&&s&&!((i=this.map)!=null&&i.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=n2(l=>fR(J("view-readyState-waiting-delay"),null,l)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(r=this._readyStateWaitingTask)!=null&&r.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Yh(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var t,i;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((i=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&i.heightModelInfo)){const r=e.clone();return r.vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,r}return e}set spatialReference(e){const t=!br(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Cl}set timeZone(e){this._userTimeZone=e,gfe(e)||ce.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Y6}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new z("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&ce.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Pn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};Fe.views=new Ce,h([f()],Fe.prototype,"_userSpatialReference",void 0),h([f()],Fe.prototype,"activeTool",null),h([f({readOnly:!0})],Fe.prototype,"allLayerViews",void 0),h([f()],Fe.prototype,"groundView",void 0),h([f()],Fe.prototype,"animation",null),h([f()],Fe.prototype,"basemapView",void 0),h([f()],Fe.prototype,"center",null),h([f()],Fe.prototype,"defaultsFromMapSettings",null),h([f()],Fe.prototype,"defaultsFromMap",null),h([f()],Fe.prototype,"displayFilterEnabled",void 0),h([f()],Fe.prototype,"fatalError",void 0),h([f({type:Lt})],Fe.prototype,"extent",null),h([f(JD(Xv,"graphics"))],Fe.prototype,"graphics",void 0),h([f(JD(sx,"analyses"))],Fe.prototype,"analyses",void 0),h([f({readOnly:!0,type:E5})],Fe.prototype,"heightModelInfo",null),h([f({type:Ce.ofType(Bh)})],Fe.prototype,"highlights",null),h([f({readOnly:!0})],Fe.prototype,"interacting",null),h([f({readOnly:!0})],Fe.prototype,"navigating",null),h([f({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Fe.prototype,"preconditionsReady",null),h([f({readOnly:!0})],Fe.prototype,"typeSpecificPreconditionsReady",void 0),h([f({type:Ce,readOnly:!0})],Fe.prototype,"layerViews",void 0),h([f()],Fe.prototype,"resolution",null),h([f({type:hK})],Fe.prototype,"magnifier",void 0),h([f({value:null,type:nZ})],Fe.prototype,"map",null),h([f()],Fe.prototype,"padding",void 0),h([f({readOnly:!0})],Fe.prototype,"ready",void 0),h([f()],Fe.prototype,"_readyStateWaitingTask",void 0),h([f({readOnly:!0})],Fe.prototype,"readyState",null),h([f({type:it})],Fe.prototype,"spatialReference",null),h([f()],Fe.prototype,"stationary",null),h([f({readOnly:!0})],Fe.prototype,"supportsGround",void 0),h([f({type:Yu})],Fe.prototype,"timeExtent",null),h([f({type:String,nonNullable:!0})],Fe.prototype,"timeZone",null),h([f()],Fe.prototype,"tools",null),h([f()],Fe.prototype,"toolViewManager",void 0),h([f({readOnly:!0})],Fe.prototype,"type",void 0),h([f({type:Number})],Fe.prototype,"scale",void 0),h([f({readOnly:!0})],Fe.prototype,"updating",void 0),h([f({readOnly:!0})],Fe.prototype,"initialExtentRequired",void 0),h([f({readOnly:!0})],Fe.prototype,"initialExtent",null),h([f()],Fe.prototype,"cursor",null),h([f({readOnly:!0})],Fe.prototype,"input",void 0),h([f({type:N5,nonNullable:!0})],Fe.prototype,"navigation",void 0),h([f()],Fe.prototype,"layerViewManager",void 0),h([f()],Fe.prototype,"analysisViewManager",void 0),h([f()],Fe.prototype,"selectionManager",void 0),h([f()],Fe.prototype,"width",void 0),h([f()],Fe.prototype,"height",void 0),h([f({readOnly:!0})],Fe.prototype,"resizing",void 0),h([f({value:null,readOnly:!0})],Fe.prototype,"size",null),h([f({readOnly:!0})],Fe.prototype,"suspended",void 0),h([f({readOnly:!0})],Fe.prototype,"viewEvents",void 0),h([f({readOnly:!0})],Fe.prototype,"persistableViewModels",void 0),h([f()],Fe.prototype,"_isValid",void 0),h([f()],Fe.prototype,"_readyCycleForced",void 0),h([f()],Fe.prototype,"_lockedSpatialReference",void 0),h([f()],Fe.prototype,"_userTimeZone",void 0),h([f()],Fe.prototype,"_lockedTimeZone",void 0),h([f()],Fe.prototype,"_userTimeExtent",void 0),h([f()],Fe.prototype,"_lockedTimeExtent",void 0),h([f({type:Y6})],Fe.prototype,"theme",void 0),h([f({readOnly:!0,type:Y6})],Fe.prototype,"effectiveTheme",null),Fe=hv=h([O("esri.views.View")],Fe);const fC=globalThis.$arcgis;fC&&!fC.views&&Object.defineProperty(fC,"views",{configurable:!1,enumerable:!0,writable:!1,value:Fe.views});const X2e=Fe;function Q2e(e){return e.layerViews}function Zy(e,t){return e[0]=t[0],e[1]=t[1],e}function qr(e,t,i){return e[0]=t,e[1]=i,e}function PK(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function $b(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function OK(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function kK(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function ewe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function twe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function iwe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function rwe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function nwe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function v2(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function swe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function D5(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function cx(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function hx(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function LK(e){const t=e[0],i=e[1];return t*t+i*i}function NK(e,t){return e[0]=-t[0],e[1]=-t[1],e}function awe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function X6(e,t){const i=t[0],r=t[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function DK(e,t){return e[0]*t[0]+e[1]*t[1]}function jK(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function owe(e,t,i,r){const n=t[0],s=t[1];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e}function lwe(e,t=1){const i=2*x5()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function uwe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e}function fl(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e}function cwe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e}function hwe(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e}function dwe(e,t,i,r){const n=t[0]-i[0],s=t[1]-i[1],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l-s*a+i[0],e[1]=n*a+s*l+i[1],e}function pwe(e,t){const i=e[0],r=e[1],n=t[0],s=t[1];let a=i*i+r*r;a>0&&(a=1/Math.sqrt(a));let l=n*n+s*s;l>0&&(l=1/Math.sqrt(l));const u=(i*n+r*s)*a*l;return u>1?0:u<-1?Math.PI:Math.acos(u)}function fwe(e){return"vec2("+e[0]+", "+e[1]+")"}function mwe(e,t){return e[0]===t[0]&&e[1]===t[1]}function ywe(e,t){const i=e[0],r=e[1],n=t[0],s=t[1],a=Hn();return Math.abs(i-n)<=a*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-s)<=a*Math.max(1,Math.abs(r),Math.abs(s))}function gwe(e,t,i,r,n){let s=t[0]-i[0],a=t[1]-i[1];const l=(r[0]*s+r[1]*a)*(n-1);return s=r[0]*l,a=r[1]*l,e[0]=t[0]+s,e[1]=t[1]+a,e}const vwe=hx,B8=$b,bwe=OK,wwe=kK,_we=D5,Swe=cx,xwe=LK;Object.freeze(Object.defineProperty({__proto__:null,add:PK,angle:pwe,ceil:ewe,copy:Zy,cross:jK,dist:_we,distance:D5,div:wwe,divide:kK,dot:DK,equals:ywe,exactEquals:mwe,floor:twe,inverse:awe,len:vwe,length:hx,lerp:owe,max:rwe,min:iwe,mul:bwe,multiply:OK,negate:NK,normalize:X6,projectAndScale:gwe,random:lwe,rotate:dwe,round:nwe,scale:v2,scaleAndAdd:swe,set:qr,sqrDist:Swe,sqrLen:xwe,squaredDistance:cx,squaredLength:LK,str:fwe,sub:B8,subtract:$b,transformMat2:uwe,transformMat2d:fl,transformMat3:cwe,transformMat4:hwe},Symbol.toStringTag,{value:"Module"}));function Ui(){return[0,0]}function Mwe(e){return[e[0],e[1]]}function b2(e,t){return[e,t]}function Twe(e,t){return[e,t]}function Ewe(e,t=Ui()){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Cwe(e,t){return new Float64Array(e,t,2)}function FK(){return Ui()}function zK(){return b2(1,1)}function UK(){return b2(1,0)}function GK(){return b2(0,1)}const Iwe=FK(),$we=zK(),Awe=UK(),Rwe=GK();Object.freeze(Object.defineProperty({__proto__:null,ONES:$we,UNIT_X:Awe,UNIT_Y:Rwe,ZEROS:Iwe,clone:Mwe,create:Ui,createView:Cwe,freeze:Twe,fromArray:Ewe,fromValues:b2,ones:zK,unitX:UK,unitY:GK,zeros:FK},Symbol.toStringTag,{value:"Module"}));function Pwe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Owe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function kwe(e,t,i,r,n,s,a){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e}function H8(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5];let u=i*s-r*n;return u?(u=1/u,e[0]=s*u,e[1]=-r*u,e[2]=-n*u,e[3]=i*u,e[4]=(n*l-s*a)*u,e[5]=(r*a-i*l)*u,e):null}function Lwe(e){return e[0]*e[3]-e[1]*e[2]}function VK(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=i[0],m=i[1],v=i[2],b=i[3],_=i[4],S=i[5];return e[0]=r*d+s*m,e[1]=n*d+a*m,e[2]=r*v+s*b,e[3]=n*v+a*b,e[4]=r*_+s*S+l,e[5]=n*_+a*S+u,e}function j5(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=Math.sin(i),m=Math.cos(i);return e[0]=r*m+s*d,e[1]=n*m+a*d,e[2]=r*-d+s*m,e[3]=n*-d+a*m,e[4]=l,e[5]=u,e}function q8(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=i[0],m=i[1];return e[0]=r*d,e[1]=n*d,e[2]=s*m,e[3]=a*m,e[4]=l,e[5]=u,e}function Ab(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=i[0],m=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e[4]=r*d+s*m+l,e[5]=n*d+a*m+u,e}function BK(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function HK(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function W8(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Nwe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Dwe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function jwe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function qK(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function Fwe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function zwe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e}function Uwe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Gwe(e,t){const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],l=e[5],u=t[0],d=t[1],m=t[2],v=t[3],b=t[4],_=t[5],S=Hn();return Math.abs(i-u)<=S*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-d)<=S*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-m)<=S*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(s-v)<=S*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(a-b)<=S*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-_)<=S*Math.max(1,Math.abs(l),Math.abs(_))}const Vwe=VK,Bwe=qK;Object.freeze(Object.defineProperty({__proto__:null,add:jwe,copy:Pwe,determinant:Lwe,equals:Gwe,exactEquals:Uwe,frob:Dwe,fromRotation:BK,fromScaling:HK,fromTranslation:W8,identity:Owe,invert:H8,mul:Vwe,multiply:VK,multiplyScalar:Fwe,multiplyScalarAndAdd:zwe,rotate:j5,scale:q8,set:kwe,str:Nwe,sub:Bwe,subtract:qK,translate:Ab},Symbol.toStringTag,{value:"Module"}));function ju(){return[1,0,0,1,0,0]}function Hwe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function qwe(e,t,i,r,n,s){return[e,t,i,r,n,s]}function Wwe(e,t){return new Float64Array(e,t,6)}const Ywe=ju();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Ywe,clone:Hwe,create:ju,createView:Wwe,fromValues:qwe},Symbol.toStringTag,{value:"Module"}));const h_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new $o({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:it.WebMercator}),minus180Line:new $o({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:it.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new $o({paths:[[[180,-180],[180,180]]],spatialReference:it.WGS84}),minus180Line:new $o({paths:[[[-180,-180],[-180,180]]],spatialReference:it.WGS84})}};function Zp(e,t){return Math.ceil((e-t)/(2*t))}function WK(e,t){const i=Qv(e);for(const r of i)for(const n of r)n[0]+=t;return e}function Qv(e){return Qp(e)?e.rings:e.paths}function F5(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function w2(e){return typeof e=="string"?Ai(e):H(e)}function z5(e,t,i){const r={};for(const n in e){if(n==="declaredClass")continue;const s=e[n];if(s!=null&&typeof s!="function")if(Array.isArray(s))r[n]=s.map(a=>z5(a));else if(typeof s=="object")if(s.toJSON){const a=s.toJSON(i==null?void 0:i[n]);r[n]=t?a:JSON.stringify(a)}else r[n]=t?s:JSON.stringify(s);else r[n]=s}return r}async function Zwe(e,t,i,r){const n=w2(e),s=t[0].spatialReference,a={...r,responseType:"json",query:{...n.query,f:"json",sr:z3(s),target:JSON.stringify({geometryType:t2(t[0]),geometries:t}),cutter:JSON.stringify(i)}},l=await Ct(n.path+"/cut",a),{cutIndexes:u,geometries:d=[]}=l.data;return{cutIndexes:u,geometries:d.map(m=>{const v=yf(m);return v.spatialReference=s,v})}}function Kwe(e){return{geometryType:t2(e[0]),geometries:e.map(t=>t.toJSON())}}function YK(e,t,i){const r=Dhe(t);return e.map(n=>{const s=r.fromJSON(n);return s.spatialReference=i,s})}async function Jwe(e,t,i){const r=typeof e=="string"?Ai(e):e,n=t[0].spatialReference,s=t2(t[0]),a={...i,query:{...r.query,f:"json",sr:z3(n),geometries:JSON.stringify(Kwe(t))}},{data:l}=await Ct(r.path+"/simplify",a);return YK(l.geometries,s,n)}const ZK=()=>ce.getLogger("esri.geometry.support.normalizeUtils");function Xwe(e){return e.type==="polygon"}function Qwe(e){return e[0].type==="polygon"}function e_e(e){return e[0].type==="polyline"}function Ij(e){const t=[];let i=0,r=0;for(let n=0;n<e.length;n++){const s=e[n];let a=null;for(let l=0;l<s.length;l++)a=s[l],t.push(a),l===0?(i=a[0],r=i):(i=Math.min(i,a[0]),r=Math.max(r,a[0]));a&&t.push([(i+r)/2,0])}return t}function t_e(e,t){if(!(e instanceof $o||e instanceof ra)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw ZK().error(n),new z(n)}const i=Qv(e),r=[];for(const n of i){const s=[];r.push(s),s.push([n[0][0],n[0][1]]);for(let a=0;a<n.length-1;a++){const l=n[a][0],u=n[a][1],d=n[a+1][0],m=n[a+1][1],v=Math.sqrt((d-l)*(d-l)+(m-u)*(m-u)),b=(m-u)/v,_=(d-l)/v,S=v/t;if(S>1){for(let A=1;A<=S-1;A++){const P=A*t,N=_*P+l,D=b*P+u;s.push([N,D])}const M=(v+Math.floor(S-1)*t)/2,T=_*M+l,E=b*M+u;s.push([T,E])}s.push([d,m])}}return Xwe(e)?new ra({rings:r,spatialReference:e.spatialReference}):new $o({paths:r,spatialReference:e.spatialReference})}function $j(e,t,i){if(t){const r=t_e(e,1e6);e=Ey(r,!0)}return i&&(e=WK(e,i)),e}function Aj(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const n=Zp(r,t);e[0]=r+n*(-2*t)}else if(r<i){const n=Zp(r,i);e[0]=r+n*(-2*i)}}else{const r=e.x;if(r>t){const n=Zp(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<i){const n=Zp(r,i);e=e.clone().offset(n*(-2*i),0)}}return e}function i_e(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const n=t.cutIndexes[r],s=t.geometries[r],a=Qv(s);for(let l=0;l<a.length;l++){const u=a[l];u.some(d=>{if(d[0]<180)return!0;{let m=0;for(let b=0;b<u.length;b++){const _=u[b][0];m=_>m?_:m}m=Number(m.toFixed(9));const v=-360*Zp(m,180);for(let b=0;b<u.length;b++){const _=s.getPoint(l,b);s.setPoint(l,b,_.clone().offset(v,0))}return!0}})}if(n===i){if(Qwe(e))for(const l of Qv(s))e[n]=e[n].addRing(l);else if(e_e(e))for(const l of Qv(s))e[n]=e[n].addPath(l)}else i=n,e[n]=s}return e}async function r_e(e,t,i){if(!Array.isArray(e))return r_e([e],t);t&&typeof t!="string"&&ZK().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof t=="string"?t:(t==null?void 0:t.url)??Dt.geometryServiceUrl;let n,s,a,l,u,d,m,v,b=0;const _=[],S=[];for(const N of e)if(N!=null)if(n||(n=N.spatialReference,s=Bn(n),a=n.isWebMercator,d=a?102100:4326,l=h_[d].maxX,u=h_[d].minX,m=h_[d].plus180Line,v=h_[d].minus180Line),s)if(N.type==="mesh")S.push(N);else if(N.type==="point")S.push(Aj(N.clone(),l,u));else if(N.type==="multipoint"){const D=N.clone();D.points=D.points.map(k=>Aj(k,l,u)),S.push(D)}else if(N.type==="extent"){const D=N.clone()._normalize(!1,!1,s);S.push(D.rings?new ra(D):D)}else if(N.extent){const D=N.extent,k=Zp(D.xmin,u)*(2*l);let q=k===0?N.clone():WK(N.clone(),k);D.offset(k,0);let{xmin:X,xmax:re}=D;X=Number(X.toFixed(9)),re=Number(re.toFixed(9)),D.intersects(m)&&re!==l?(b=re>b?re:b,q=$j(q,a),_.push(q),S.push("cut")):D.intersects(v)&&X!==u?(b=re*(2*l)>b?re*(2*l):b,q=$j(q,a,360),_.push(q),S.push("cut")):S.push(q)}else S.push(N.clone());else S.push(N);else S.push(N);let M=Zp(b,l),T=-90;const E=M,A=new $o;for(;M>0;){const N=360*M-180;A.addPath([[N,T],[N,-1*T]]),T*=-1,M--}if(_.length>0&&E>0){const N=i_e(_,await Zwe(r,_,A,i)),D=[],k=[];for(let re=0;re<S.length;re++){const W=S[re];if(W!=="cut")k.push(W);else{const be=N.shift(),ae=e[re];ae!=null&&ae.type==="polygon"&&ae.rings&&ae.rings.length>1&&be.rings.length>=ae.rings.length?(D.push(be),k.push("simplify")):k.push(a?_l(be):be)}}if(!D.length)return k;const q=await Jwe(r,D,i),X=[];for(let re=0;re<k.length;re++){const W=k[re];W!=="simplify"?X.push(W):X.push(a?_l(q.shift()):q.shift())}return X}const P=[];for(let N=0;N<S.length;N++){const D=S[N];if(D!=="cut")P.push(D);else{const k=_.shift();P.push(a===!0?_l(k):k)}}return P}function n_e(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&Bn(e.spatialReference);if(!i)return t;const[r,n]=i.valid,s=2*n,{width:a}=t;let l,{xmin:u,xmax:d}=t;if([u,d]=[d,u],e.type==="extent"||a===0||a<=n||a>s||u<r||d>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;l=Ij(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;l=Ij(e.paths);break;case"multipoint":l=e.points}const m=t.clone();for(let v=0;v<l.length;v++){let b=l[v][0];b<0?(b+=n,d=Math.max(b,d)):(b-=n,u=Math.min(b,u))}return m.xmin=u,m.xmax=d,m.width<a?(m.xmin-=n,m.xmax-=n,m):t}function Y8(e,t,i){const r=Bn(i);if(r==null)return e;const[n,s]=r.valid,a=2*s;let l=0,u=0;t>s?l=Math.ceil(Math.abs(t-s)/a):t<n&&(l=-Math.ceil(Math.abs(t-n)/a)),e>s?u=Math.ceil(Math.abs(e-s)/a):e<n&&(u=-Math.ceil(Math.abs(e-n)/a));let d=e+(l-u)*a;const m=d-t;return m>s?d-=a:m<n&&(d+=a),d}function xNe(e,t){const i=Bn(t);if(i){const[r,n]=i.valid,s=n-r;if(e<r)for(;e<r;)e+=s;if(e>n)for(;e>n;)e-=s}return e}const KK=96,JK=39.37,s_e=180/Math.PI;function XK(e){return e.wkid?e:e.spatialReference||it.WGS84}function Z8(e,t){return t.type?qr(e,t.x,t.y):Zy(e,t)}function QK(e){return Ss(e)}function U5(e,t,i=0){let r=e.width,n=e.height;if(i!==0){const l=Oh(i),u=Math.abs(Math.cos(l)),d=Math.abs(Math.sin(l));r=e.width*u+e.height*d,n=e.width*d+e.height*u}const s=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(r/s,n/a)*p_e(e.spatialReference)}async function dv(e,t,i,r){var l,u,d;let n,s;if(!e||Array.isArray(e)&&!e.length)return null;if(Ce.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const m=e.every(_=>"attributes"in _),v=e.some(_=>!_.geometry);let b=e;if(m&&v&&t&&t.allLayerViews){const _=new Map;for(const E of e){const A=E.layer,P=_.get(A)||[],N=E.attributes[A.objectIdField];N!=null&&P.push(N),_.set(A,P)}const S=[];_.forEach((E,A)=>{var N;const P=(N=t.allLayerViews)==null?void 0:N.find(D=>D.layer.id===A.id);if(P&&"queryFeatures"in P){const D=A.createQuery();D.objectIds=E,D.returnGeometry=!0,S.push(P.queryFeatures(D))}});const M=await Promise.all(S),T=[];for(const E of M)if(E&&E.features&&E.features.length)for(const A of E.features)A.geometry!=null&&T.push(A.geometry);b=T}for(const _ of b)r=await dv(_,t,i,r);return r}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")n=new Qe(e);else if(e instanceof Qu)n=e;else if("geometry"in e){if(e.geometry)n=e.geometry;else if(e.layer){const m=e.layer,v=(l=t.allLayerViews)==null?void 0:l.find(b=>b.layer.id===m.id);if(v&&"queryFeatures"in v){const b=m.createQuery();b.objectIds=[e.attributes[m.objectIdField]],b.returnGeometry=!0;const _=await v.queryFeatures(b);n=(d=(u=_==null?void 0:_.features)==null?void 0:u[0])==null?void 0:d.geometry}}}if(n==null)return null;switch(n.type){case"point":s=new Lt({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=n_e(n);break;default:s=n.extent}if(!s)return null;ec()||Do(s.spatialReference,i)||await qu();const a=ad(s,i);if(!a)return null;if(r){const m=a.center,v=m.clone();v.x=Y8(m.x,r.center.x,i),v.x!==m.x&&a.centerAt(v),r=r.union(a)}else r=a;return r}function a_e(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const i=e.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(e)&&e.length&&e.every(i=>"layer"in i)){let i=0,r=0;for(const n of e){const s=n.layer;s!=null&&s.minScale&&s.maxScale&&(i=s.minScale<i?s.minScale:i,r=s.maxScale>r?s.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function Rj(e,t){const i=XK(e);return br(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:ad(e,t)}async function o_e(e,t){var T;if(!e||!t)return new ys({targetGeometry:new Qe,scale:0,rotation:0});let i=t.spatialReference;const{constraints:r,padding:n,viewpoint:s,size:a}=t,l=[n?a[0]-n.left-n.right:a[0],n?a[1]-n.top-n.bottom:a[1]];let u=null;e instanceof ys?u=e:e.viewpoint?u=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(u=e.target);let d=null;u!=null&&u.targetGeometry?d=u.targetGeometry:e instanceof Lt?d=e:e instanceof Qu?d=await dv(e,t,i):e&&(d=await dv(e.center,t,i)||await dv(e.target,t,i)||await dv(e,t,i)),!d&&(s!=null&&s.targetGeometry)?d=s.targetGeometry:!d&&t.extent&&(d=t.extent),i||(i=XK(t.spatialReference||t.extent||d)),ec()||br(d.spatialReference,i)||Do(d.spatialReference,i)||await qu();const m=Rj(d,i),v="center"in m?m.center:m;t.pickClosestTarget!==!1&&v.type==="point"&&((T=s.targetGeometry)==null?void 0:T.type)==="point"&&(v.x=Y8(v.x,s.targetGeometry.x,v.spatialReference));let b=0;u?b=u.rotation:e.hasOwnProperty("rotation")?b=e.rotation:s&&(b=s.rotation);let _=0;_=(u==null?void 0:u.targetGeometry)!=null&&u.targetGeometry.type==="point"?u.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(e.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?s.scale:U5(Rj(d.extent,i),l,b);const S=a_e(e.target??e);S&&(S.min&&S.min<_?_=S.min:S.max&&S.max>_&&(_=S.max));let M=new ys({targetGeometry:v,scale:_,rotation:b});return r&&(M=r.fit(M),r.constrainByGeometry(M),r.rotationEnabled||(M.rotation=s.rotation)),M}function An(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function l_e(e,t,i){return i?qr(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):v2(e,t,.5)}const u_e=function(){const e=Ui();return function(t,i,r){const n=i.targetGeometry;Z8(e,n);const s=.5*Hg(i);return t.xmin=e[0]-s*r[0],t.ymin=e[1]-s*r[1],t.xmax=e[0]+s*r[0],t.ymax=e[1]+s*r[1],t.spatialReference=n.spatialReference,t}}();function c_e(e,t,i,r,n){var s;return Q6(e,t,i.center),e.scale=U5(i,r),(s=n==null?void 0:n.constraints)==null||s.constrain(e),e}function h_e(e,t,i,r){return X8(e,t,i,r),H8(e,e)}const eJ=function(){const e=Ui();return function(t,i,r){return B8(t,f_e(t,i),l_e(e,i,r))}}(),d_e=function(){const e=ju(),t=Ui();return function(i,r,n,s){const a=Hg(r),l=K8(r);return qr(t,a,a),HK(e,t),j5(e,e,l),Ab(e,e,eJ(t,n,s)),Ab(e,e,[0,s.top-s.bottom]),qr(i,e[4],e[5])}}();function Hg(e){var t;return e.scale*tJ((t=e.targetGeometry)==null?void 0:t.spatialReference)}function tJ(e){return Js(e)?1/(QK(e)*JK*KK):1}function K8(e){return C8(e.rotation)||0}function p_e(e){return Js(e)?QK(e)*JK*KK:1}function f_e(e,t){return v2(e,t,.5)}const J8=function(){const e=Ui(),t=Ui(),i=Ui();return function(r,n,s,a,l,u){return NK(e,n),v2(t,s,.5*u),qr(i,1/a*u,-1/a*u),W8(r,t),l&&j5(r,r,l),q8(r,r,i),Ab(r,r,e),r}}(),X8=function(){const e=Ui();return function(t,i,r,n){const s=Hg(i),a=K8(i);return Z8(e,i.targetGeometry),J8(t,e,r,s,a,n)}}(),m_e=function(){const e=Ui();return function(t,i,r,n){const s=Hg(i);return Z8(e,i.targetGeometry),J8(t,e,r,s,0,n)}}();function iJ(e){const t=Bn(e);return t?t.valid[1]-t.valid[0]:0}function y_e(e,t){return Math.round(iJ(e)/t)}const g_e=function(){const e=Ui(),t=Ui(),i=[0,0,0];return function(r,n,s){$b(e,r,n),X6(e,e),$b(t,r,s),X6(t,t),jK(i,e,t);let a=Math.acos(DK(e,t)/(hx(e)*hx(t)))*s_e;return i[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),v_e=function(){const e=Ui();return function(t,i,r,n){const s=t.targetGeometry;return An(t,i),d_e(e,i,r,n),s.x+=e[0],s.y+=e[1],t}}(),Q6=function(e,t,i){An(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},b_e=function(){const e=Ui();return function(t,i,r,n,s){s||(s="center"),B8(e,r,n),v2(e,e,.5);const a=e[0],l=e[1];switch(s){case"center":qr(e,0,0);break;case"left":qr(e,-a,0);break;case"top":qr(e,0,l);break;case"right":qr(e,a,0);break;case"bottom":qr(e,0,-l);break;case"top-left":qr(e,-a,l);break;case"bottom-left":qr(e,-a,-l);break;case"top-right":qr(e,a,l);break;case"bottom-right":qr(e,a,-l)}return G5(t,i,e),t}}();function MNe(e,t,i){return An(e,t),e.rotation+=i,e}function w_e(e,t,i){return An(e,t),e.rotation=i,e}const __e=function(){const e=Ui();return function(t,i,r,n,s){return An(t,i),isNaN(r)||r===0||(nJ(e,n,i,s),t.scale=i.scale*r,sJ(e,e,t,s),G5(t,t,qr(e,e[0]-n[0],n[1]-e[1]))),t}}();function Pj(e,t,i){return An(e,t),e.scale=i,e}const rJ=function(){const e=Ui();return function(t,i,r,n,s,a){return An(t,i),isNaN(r)||r===0||(nJ(e,s,i,a),t.scale=i.scale*r,t.rotation+=n,sJ(e,e,t,a),G5(t,t,qr(e,e[0]-s[0],s[1]-e[1]))),t}}(),TNe=function(){const e=Ui(),t=Ui();return function(i,r,n,s,a,l,u){return eJ(t,l,u),PK(e,a,t),s?rJ(i,r,n,s,e,l):__e(i,r,n,e,l)}}(),nJ=function(){const e=ju();return function(t,i,r,n){return fl(t,i,h_e(e,r,n,1))}}(),sJ=function(){const e=ju();return function(t,i,r,n){return fl(t,i,X8(e,r,n,1))}}(),G5=function(){const e=Ui(),t=ju();return function(i,r,n){An(i,r);const s=Hg(r),a=i.targetGeometry;return BK(t,K8(r)),q8(t,t,b2(s,s)),fl(e,n,t),a.x+=e[0],a.y+=e[1],i}}();function aJ(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function S_e(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function x_e(e,t,i,r,n,s){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=n,a[5]=s,a}function M_e(e,t){return new Float32Array(e,t,6)}function oJ(e,t,i,r){const n=t[r],s=t[r+1];e[r]=i[0]*n+i[2]*s+i[4],e[r+1]=i[1]*n+i[3]*s+i[5]}function T_e(e,t,i,r=0,n=0,s=2){const a=n||t.length/s;for(let l=r;l<a;l++)oJ(e,t,i,l*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:S_e,create:aJ,createView:M_e,fromValues:x_e,transform:oJ,transformMany:T_e},Symbol.toStringTag,{value:"Module"}));function E_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function C_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function lJ(e,t,i,r,n,s,a,l,u,d){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=a,e[6]=l,e[7]=u,e[8]=d,e}function uJ(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function I_e(e,t){if(e===t){const i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function $_e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],m=t[8],v=m*a-l*d,b=-m*s+l*u,_=d*s-a*u;let S=i*v+r*b+n*_;return S?(S=1/S,e[0]=v*S,e[1]=(-m*r+n*d)*S,e[2]=(l*r-n*a)*S,e[3]=b*S,e[4]=(m*i-n*u)*S,e[5]=(-l*i+n*s)*S,e[6]=_*S,e[7]=(-d*i+r*u)*S,e[8]=(a*i-r*s)*S,e):null}function A_e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],m=t[8];return e[0]=a*m-l*d,e[1]=n*d-r*m,e[2]=r*l-n*a,e[3]=l*u-s*m,e[4]=i*m-n*u,e[5]=n*s-i*l,e[6]=s*d-a*u,e[7]=r*u-i*d,e[8]=i*a-r*s,e}function R_e(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*(d*s-a*u)+i*(-d*n+a*l)+r*(u*n-s*l)}function Q8(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=t[6],m=t[7],v=t[8],b=i[0],_=i[1],S=i[2],M=i[3],T=i[4],E=i[5],A=i[6],P=i[7],N=i[8];return e[0]=b*r+_*a+S*d,e[1]=b*n+_*l+S*m,e[2]=b*s+_*u+S*v,e[3]=M*r+T*a+E*d,e[4]=M*n+T*l+E*m,e[5]=M*s+T*u+E*v,e[6]=A*r+P*a+N*d,e[7]=A*n+P*l+N*m,e[8]=A*s+P*u+N*v,e}function e4(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=t[6],m=t[7],v=t[8],b=i[0],_=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=a,e[4]=l,e[5]=u,e[6]=b*r+_*a+d,e[7]=b*n+_*l+m,e[8]=b*s+_*u+v,e}function cJ(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3],l=t[4],u=t[5],d=t[6],m=t[7],v=t[8],b=Math.sin(i),_=Math.cos(i);return e[0]=_*r+b*a,e[1]=_*n+b*l,e[2]=_*s+b*u,e[3]=_*a-b*r,e[4]=_*l-b*n,e[5]=_*u-b*s,e[6]=d,e[7]=m,e[8]=v,e}function P_e(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function O_e(e,t,i){const r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function k_e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function L_e(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function N_e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function D_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function j_e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=i+i,l=r+r,u=n+n,d=i*a,m=r*a,v=r*l,b=n*a,_=n*l,S=n*u,M=s*a,T=s*l,E=s*u;return e[0]=1-v-S,e[3]=m-E,e[6]=b+T,e[1]=m+E,e[4]=1-d-S,e[7]=_-M,e[2]=b-T,e[5]=_+M,e[8]=1-d-v,e}function F_e(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],l=t[6],u=t[8],d=t[9],m=t[10],v=m*a-l*d,b=-m*s+l*u,_=d*s-a*u,S=i*v+r*b+n*_;if(!S)return null;const M=1/S;return e[0]=v*M,e[1]=(-m*r+n*d)*M,e[2]=(l*r-n*a)*M,e[3]=b*M,e[4]=(m*i-n*u)*M,e[5]=(-l*i+n*s)*M,e[6]=_*M,e[7]=(-d*i+r*u)*M,e[8]=(a*i-r*s)*M,e}function z_e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],m=t[8],v=t[9],b=t[10],_=t[11],S=t[12],M=t[13],T=t[14],E=t[15],A=i*l-r*a,P=i*u-n*a,N=i*d-s*a,D=r*u-n*l,k=r*d-s*l,q=n*d-s*u,X=m*M-v*S,re=m*T-b*S,W=m*E-_*S,be=v*T-b*M,ae=v*E-_*M,$e=b*E-_*T;let Me=A*$e-P*ae+N*be+D*W-k*re+q*X;return Me?(Me=1/Me,e[0]=(l*$e-u*ae+d*be)*Me,e[1]=(u*W-a*$e-d*re)*Me,e[2]=(a*ae-l*W+d*X)*Me,e[3]=(n*ae-r*$e-s*be)*Me,e[4]=(i*$e-n*W+s*re)*Me,e[5]=(r*W-i*ae-s*X)*Me,e[6]=(M*q-T*k+E*D)*Me,e[7]=(T*N-S*q-E*P)*Me,e[8]=(S*k-M*N+E*A)*Me,e):null}function U_e(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function G_e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function V_e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function B_e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function hJ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function H_e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function q_e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e}function W_e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Y_e(e,t){const i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8],v=t[0],b=t[1],_=t[2],S=t[3],M=t[4],T=t[5],E=t[6],A=t[7],P=t[8],N=Hn();return Math.abs(i-v)<=N*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-b)<=N*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-_)<=N*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(s-S)<=N*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(a-M)<=N*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-T)<=N*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-E)<=N*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(d-A)<=N*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-P)<=N*Math.max(1,Math.abs(m),Math.abs(P))}function Z_e(e){const t=Hn(),i=e[0],r=e[1],n=e[2],s=e[3],a=e[4],l=e[5],u=e[6],d=e[7],m=e[8];return Math.abs(1-(i*i+s*s+u*u))<=t&&Math.abs(1-(r*r+a*a+d*d))<=t&&Math.abs(1-(n*n+l*l+m*m))<=t}const K_e=Q8,J_e=hJ;Object.freeze(Object.defineProperty({__proto__:null,add:B_e,adjoint:A_e,copy:C_e,determinant:R_e,equals:Y_e,exactEquals:W_e,frob:V_e,fromMat2d:D_e,fromMat4:E_e,fromQuat:j_e,fromRotation:L_e,fromScaling:N_e,fromTranslation:k_e,identity:uJ,invert:$_e,isOrthoNormal:Z_e,mul:K_e,multiply:Q8,multiplyScalar:H_e,multiplyScalarAndAdd:q_e,normalFromMat4:z_e,normalFromMat4Legacy:F_e,projection:U_e,rotate:cJ,scale:P_e,scaleByVec2:O_e,set:lJ,str:G_e,sub:J_e,subtract:hJ,translate:e4,transpose:I_e},Symbol.toStringTag,{value:"Module"}));function DS(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function X_e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Q_e(e,t,i,r,n,s,a,l,u){const d=new Float32Array(9);return d[0]=e,d[1]=t,d[2]=i,d[3]=r,d[4]=n,d[5]=s,d[6]=a,d[7]=l,d[8]=u,d}function eSe(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:X_e,create:DS,createView:eSe,fromValues:Q_e},Symbol.toStringTag,{value:"Module"}));function dJ(){return new Float32Array(2)}function tSe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Tg(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function iSe(e,t){return new Float32Array(e,t,2)}function pJ(){return dJ()}function fJ(){return Tg(1,1)}function mJ(){return Tg(1,0)}function yJ(){return Tg(0,1)}const rSe=pJ(),nSe=fJ(),sSe=mJ(),aSe=yJ();Object.freeze(Object.defineProperty({__proto__:null,ONES:nSe,UNIT_X:sSe,UNIT_Y:aSe,ZEROS:rSe,clone:tSe,create:dJ,createView:iSe,fromValues:Tg,ones:fJ,unitX:mJ,unitY:yJ,zeros:pJ},Symbol.toStringTag,{value:"Module"}));function oSe(e){return e instanceof Float32Array&&e.length>=2}function lSe(e){return Array.isArray(e)&&e.length>=2}function mC(e){return oSe(e)||lSe(e)}var t4;const ru=[0,0];let bu=t4=class extends ue{constructor(e){super(e),this._viewpoint2D={center:Ui(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Lt,this.id=0,this.inverseTransform=ju(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=ju(),this.transformNoRotation=ju(),this.displayMat3=DS(),this.displayViewMat3=DS(),this.viewMat3=DS(),this.viewMat2d=aJ(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=An(i,e.viewpoint),this._set("size",Zy(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new t4({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return mC(t)?fl(e,t,this.inverseTransform):(ru[0]=t,ru[1]=i,fl(e,ru,this.inverseTransform))}toScreen(e,t,i){return mC(t)?fl(e,t,this.transform):(ru[0]=t,ru[1]=i,fl(e,ru,this.transform))}toScreenNoRotation(e,t,i){return mC(t)?fl(e,t,this.transformNoRotation):(ru[0]=t,ru[1]=i,fl(e,ru,this.transformNoRotation))}wrapMapCoordinate(e,t){Zy(e,t);const[i]=t,[r]=this.center,{extent:n,spatialReference:s}=this;let{xmin:a,xmax:l}=n;if(s.isWrappable){const u=iJ(s)/2;a=Math.max(a,r-u),l=Math.min(l,r+u)}return(i<a||i>l)&&(e[0]=Y8(i,r,s)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return J8(e,i,n,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),a=new ys({targetGeometry:new Qe(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",a),!s||!t||!i)return;this.resolution=Hg(a),this.rotation=r,this.scale=i,this.spatialReference=t,Zy(this.center,e);const l=s[0]!==0?2/s[0]:0,u=s[1]!==0?-2/s[1]:0;lJ(this.displayMat3,l,0,0,0,u,0,-1,1,1);const d=uJ(this.viewMat3),m=Tg(s[0]/2,s[1]/2),v=Tg(-s[0]/2,-s[1]/2),b=C8(r);e4(d,d,m),cJ(d,d,b),e4(d,d,v),Q8(this.displayViewMat3,this.displayMat3,d);const _=W8(this.viewMat2d,m);return j5(_,_,b),Ab(_,_,v),u_e(this.extent,a,s),X8(this.transform,a,s,n),H8(this.inverseTransform,this.transform),m_e(this.transformNoRotation,a,s,n),this.worldScreenWidth=y_e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};h([f({readOnly:!0})],bu.prototype,"id",void 0),h([f({value:1,json:{write:!0}})],bu.prototype,"pixelRatio",null),h([f({json:{write:!0}})],bu.prototype,"size",null),h([f()],bu.prototype,"spatialReference",void 0),h([f({type:ys,json:{write:!0}})],bu.prototype,"viewpoint",null),h([f({readOnly:!0})],bu.prototype,"visibleArea",null),bu=t4=h([O("esri.views.2d.ViewState")],bu);const Oj=bu;var i4,r4;let ku=i4=class extends De{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new i4({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};h([f()],ku.prototype,"left",void 0),h([f()],ku.prototype,"top",void 0),h([f()],ku.prototype,"right",void 0),h([f()],ku.prototype,"bottom",void 0),ku=i4=h([O("esri.views.2d.PaddedViewState.Padding")],ku);let ay=r4=class extends Oj{constructor(...e){super(...e),this.paddedViewState=new Oj,this._updateContent=(()=>{const t=Ui();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const n=this.paddedViewState;qr(t,r.left+r.right,r.top+r.bottom),$b(t,i,t),Zy(n.size,t);const s=n.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(Ge(()=>[this.size,this.padding],()=>this._updateContent(),El)),this.padding=new ku,this.size=[0,0]}set padding(e){this._set("padding",e||new ku)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=v_e(e.clone(),e,this._get("size"),i));const{targetGeometry:r,rotation:n,scale:s}=t,{x:a,y:l,spatialReference:u}=r,d=this._viewpoint2D;d.center[0]=a,d.center[1]=l,d.rotation=n,d.scale=s,d.spatialReference=u,this._update()}}clone(){return new r4({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};h([f()],ay.prototype,"paddedViewState",void 0),h([f({type:ku})],ay.prototype,"padding",null),h([f()],ay.prototype,"viewpoint",null),ay=r4=h([O("esri.views.2d.PaddedViewState")],ay);const eP=ay;var an;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(an||(an={}));const gJ=Symbol("Yield");let uSe=class{constructor(){this._tasks=new Array,this._runningTasks=_g(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return gJ;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,i,r){return++this._runningTasks.value,new Promise((n,s)=>this._tasks.push(new kj(n,s,t,i,r))).finally(()=>--this._runningTasks.value)}unshift(t,i,r){return++this._runningTasks.value,new Promise((n,s)=>this._tasks.unshift(new kj(n,s,t,i,r))).finally(()=>--this._runningTasks.value)}_process(t){var r;if(this._tasks.length===0)return!1;const i=this._tasks.shift();try{const n=Rn(i.signal);if(n&&!i.abortCallback)i.reject(li());else{const s=n?(r=i.abortCallback)==null?void 0:r.call(i,li()):i.callback(t);Pl(s)?s.then(i.resolve,i.reject):i.resolve(s)}}catch(n){i.reject(n)}return!0}cancelAll(){const t=li();for(const i of this._tasks)if(i.abortCallback){const r=i.abortCallback(t);i.resolve(r)}else i.reject(t);this._tasks.length=0}},kj=class{constructor(t,i,r,n=void 0,s=void 0){this.resolve=t,this.reject=i,this.callback=r,this.signal=n,this.abortCallback=s}},pv=class extends De{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};h([f()],pv.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),h([f()],pv.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),pv=h([O("esri.views.support.debugFlags")],pv);const cSe=new pv;function hSe(){return new dx.Scheduler}var yt;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(yt||(yt={}));const Ca=0,Lj=new Map([[yt.RESOURCE_CONTROLLER_IMMEDIATE,Ca],[yt.RESOURCE_CONTROLLER,4],[yt.SLIDE,Ca],[yt.STREAM_DATA_LOADER,Ca],[yt.ELEVATION_QUERY,Ca],[yt.TERRAIN_SURFACE,1],[yt.SURFACE_GEOMETRY_UPDATES,1],[yt.LOD_RENDERER,2],[yt.GRAPHICS_CORE,2],[yt.I3S_CONTROLLER,2],[yt.POINT_CLOUD_LAYER,2],[yt.FEATURE_TILE_FETCHER,2],[yt.CLOUDS_GENERATOR,2],[yt.OVERLAY,4],[yt.STAGE,4],[yt.GRAPHICS_DECONFLICTOR,4],[yt.FILTER_VISIBILITY,4],[yt.SCALE_VISIBILITY,4],[yt.FRUSTUM_VISIBILITY,4],[yt.POINT_OF_INTEREST_FREQUENT,6],[yt.POINT_OF_INTEREST_INFREQUENT,30],[yt.LABELER,8],[yt.FEATURE_QUERY_ENGINE,8],[yt.FEATURE_TILE_TREE,16],[yt.FEATURE_TILE_TREE_ACTIVE,Ca],[yt.ELEVATION_ALIGNMENT,12],[yt.ELEVATION_ALIGNMENT_SCENE,14],[yt.TEXT_TEXTURE_ATLAS,12],[yt.TEXTURE_UNLOAD,12],[yt.LINE_OF_SIGHT_TOOL,16],[yt.LINE_OF_SIGHT_TOOL_INTERACTIVE,Ca],[yt.SNAPPING,Ca],[yt.SHADOW_ACCUMULATOR,30],[yt.MAPVIEW_FETCH_QUEUE,Ca],[yt.MAPVIEW_LAYERVIEW_UPDATE,2],[yt.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Ca]]);function Nj(e){return Lj.has(e)?Lj.get(e):typeof e=="number"?e:1}const dSe=6.5,Dj=1,pSe=30,fSe=1e3/30,mSe=100,jj=.9;var dx,Nd;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(s=>s.needsUpdate)}constructor(){this._updating=_g(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Lv("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new r,this._state=an.INTERACTING,this._tasks=new zh,this._runQueue=new zh,this._load=0,this._idleStateCallbacks=new zh,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=Ge(()=>cSe.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,ir);for(const s of Object.keys(yt))this.performanceInfo.tasks.set(yt[s],new Lv(yt[s]))}destroy(){this._tasks.toArray().forEach(s=>s.remove()),this._tasks.clear(),$i(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(s){this._updatingChanged(),s&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(s,a){const l=new i(this,s,a);return this._tasks.push(l),this._updatingChanged(),this.performanceInfo.tasks.has(s)||this.performanceInfo.tasks.set(s,new Lv(s)),l}registerIdleStateCallbacks(s,a){const l={idleBegin:s,idleEnd:a};this._idleStateCallbacks.push(l),this.state===an.IDLE&&this._idleUpdatesStartFired&&l.idleBegin();const u=this;return{remove:()=>this._removeIdleStateCallbacks(l),set idleBegin(d){u._idleUpdatesStartFired&&(l.idleEnd(),u._state===an.IDLE&&d()),l.idleBegin=d},set idleEnd(d){l.idleEnd=d}}}get load(){return this._load}set state(s){this._state!==s&&(this._state=s,this.state!==an.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return this._state}frame(s){this._startFrameTaskTimes();const a=this._updateBudget(s);if(a){const l=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-l)}else this._recordFrameTaskTimes(0);return a}_updateBudget(s){this._test&&(this._test.usedBudget=0),++this._frameNumber;let a=dSe,l=s.frameDuration,u=Dj;switch(this.state){case an.IDLE:a=0,l=Math.max(mSe,s.frameDuration),u=pSe;break;case an.INTERACTING:l=Math.max(fSe,s.frameDuration);case an.ANIMATING:}return l=l-s.elapsedFrameTime-a,this.state!==an.IDLE&&l<Dj&&!this._forceTask?(this._forceTask=!0,!1):(l=Math.max(l,u),this._budget.reset(l,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case an.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(s=>s.idleBegin())),this._runIdle();break;case an.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(s){this._idleUpdatesStartFired&&s.idleEnd(),this._idleStateCallbacks.removeUnordered(s)}removeTask(s){this._tasks.removeUnordered(s),this._runQueue.removeUnordered(s),this._updatingChanged()}_updateTask(s){this._tasks.forAll(a=>{a.name===s&&a.setPriority(s)})}_getState(s){if(this._runQueue.some(l=>l.name===s))return Nd.SCHEDULED;let a=Nd.IDLE;return this._tasks.forAll(l=>{l.name===s&&l.needsUpdate&&(l.schedulePriority<=1?a=Nd.READY:a!==Nd.READY&&(a=Nd.WAITING))}),a}_getRuntime(s){let a=0;return this._tasks.forAll(l=>{l.name===s&&(a+=l.runtime)}),a}_resetRuntimes(){this._tasks.forAll(s=>s.runtime=0)}_getRunning(){const s=new Map;if(this._tasks.forAll(l=>{l.needsUpdate&&s.set(l.name,(s.get(l.name)||0)+1)}),s.size===0)return null;let a="";return s.forEach((l,u)=>{a+=l>1?` ${l}x ${u}`:` ${u}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const s=this._tasks.reduce((a,l)=>l.needsUpdate?++a:a,0);this._load=this._load*jj+s*(1-jj)}_schedule(){for(this._runQueue.filterInPlace(s=>!!s.needsUpdate||(s.schedulePriority=s.basePriority,!1)),this._tasks.forAll(s=>{s.basePriority===Ca&&s.needsUpdate&&!this._runQueue.includes(s)&&s.blockFrame!==this._frameNumber&&this._runQueue.unshift(s)});this._runQueue.length===0;){let s=!1,a=0;if(this._tasks.forAll(l=>{l.needsUpdate&&l.schedulePriority!==0&&l.basePriority!==Ca&&l.blockFrame!==this._frameNumber&&(s=!0,a=Math.max(a,l.basePriority),l.schedulePriority===1?(l.schedulePriority=0,this._runQueue.push(l)):--l.schedulePriority)}),!s)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const s=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===gJ&&(a.blockFrame=this._frameNumber)}catch(u){ce.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,u),a.blockFrame=this._frameNumber}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,yt.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const l=this._budget.now()-s;if(a.runtime+=l,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+l),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const s of Object.keys(yt))this._frameTaskTimes.set(yt[s],0)}_recordFrameTaskTimes(s){this._frameTaskTimes.forEach((a,l)=>this.performanceInfo.tasks.get(l).push(a)),this.performanceInfo.total.push(s)}get test(){return this._test}}e.Scheduler=t;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(s,a,l){this._scheduler=s,this.name=a,this.blockFrame=0,this.runtime=0,this._queue=new uSe,this._handles=new kg,this._basePriority=Nj(a),this.schedulePriority=this._basePriority,this._task=_g(l??this._queue),this._handles.add(Pn(()=>this.task.running,u=>s.taskRunningChanged(u)))}remove(){this.processQueue(vJ),this._scheduler.removeTask(this),this.schedule=Fj.schedule,this.reschedule=Fj.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(s){if(this.name===s)return;this.name=s;const a=Nj(s);this._basePriority!==Ca&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(s){this.setPriority(s)}get needsUpdate(){return this.updating||this.task.running}schedule(s,a,l){return this._queue.push(s,a,l)}reschedule(s,a,l){return this._queue.unshift(s,a,l)}processQueue(s){return this._queue.runTask(s)}}class r{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=an.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(s){return!this.done&&(s()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(s){this._enabled=s}reset(s,a){this._begin=this.now(),this._budget=s,this._state=a,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=r})(dx||(dx={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Nd||(Nd={}));const vJ=(()=>{const e=new dx.Budget;return e.enabled=!1,e})();let ySe=class{remove(){}processQueue(){}schedule(t,i,r){try{if(Rn(i)){const n=li();return r?Promise.resolve(r(n)):Promise.reject(n)}return gI(t(vJ))}catch(n){return Promise.reject(n)}}reschedule(t,i,r){return this.schedule(t,i,r)}};const Fj=new ySe;let gSe=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=hSe(),this._schedulerHandle=Pn(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||Pl(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var l,u,d;if(this._updateRequested=!1,(l=this.view)==null?void 0:l.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:s,state:{id:a}}=this.view;r==null||r.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),(u=this.view.graphicsTileStore)==null||u.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=an.ANIMATING:this.view.interacting?this._scheduler.state=an.INTERACTING:this._scheduler.state=an.IDLE,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==an.IDLE||((d=this._frameTaskHandle)==null||d.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new eP,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=Ge(()=>t.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=lg(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var n;if(!t.attached)return void this.requestUpdate();const i=this.view.state,r=t.lastUpdateId;r!=null&&(this.stationary||t.moving)||(t.moving=!0),r!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((n=t.layerViews)==null||n.forEach(this._updateLayerView,this))}},ah=class extends u2{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Ua(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new z("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,i){i||(i=Pl(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};h([f({readOnly:!0})],ah.prototype,"done",null),h([f({readOnly:!0,type:String})],ah.prototype,"state",void 0),h([f()],ah.prototype,"target",void 0),ah=h([O("esri.views.ViewAnimation")],ah),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(ah||(ah={}));const n4=ah;let jS=class extends De{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,i){if(!t)return void ce.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new n4;this.view.animation=r,await gg(()=>this.view.ready,i);const n={...i,animate:(i==null?void 0:i.animate)??!MK(),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:s,spatialReference:a,size:l,viewpoint:u,constraints:d,padding:m,allLayerViews:v}=this.view,b=o_e(t,{extent:s,spatialReference:a,size:l,viewpoint:u,constraints:d,padding:m,allLayerViews:v,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(b),this._gotoTask={},n.animate?this._gotoAnimated(b,n):this._gotoImmediate(b,n)}_gotoImmediate(t,i){const r=this._gotoTask,n=this.view.animation,s=t.then(a=>{if(ii(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=a,n.finish()});return this._cancellableGoTo(r,n,s,i)}_gotoAnimated(t,i){const r=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const s=t.then(a=>{if(ii(i),r!==this._gotoTask)throw new z("view:goto-interrupted","Goto was interrupted");return n.update(a),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,s,i)}_cancellableGoTo(t,i,r,n){const s=()=>t===this._gotoTask;return rle(r,n).finally(()=>{s()&&(i.done||i.stop())})}};h([f({constructOnly:!0})],jS.prototype,"view",void 0),jS=h([O("esri.views.2d.GoToManager")],jS);function vSe(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let n,s,a,l;const u=[0,0],d=bSe(e);for(let b=0;b<d.length;b++){const _=d[b];for(let S=0;S<_.length-1;S++){ihe(u,r,_,S);const M=D5(r,u);(n==null||M<n)&&(n=M,s=[...u],a=b,l=S)}}if(n==null||!s||a==null||l==null)throw new z("nearest-coordinate:failed","Failed to find the nearest coordinate");const[m,v]=s;return{coordinate:new Qe({x:m,y:v,spatialReference:i}),distance:n}}function bSe(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var s4;let kp=s4=class extends Rf.NumericIdentifiableMixin(De){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return ad(this.geometry,this.spatialReference)}catch(e){return ce.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?e2(this.normalizedGeometry,i):FR(this.normalizedGeometry,i))return e;const{coordinate:r}=vSe(this.normalizedGeometry,i);return r&&(e.targetGeometry=r),e}clone(){var e,t;return new s4({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};h([f({constructOnly:!0})],kp.prototype,"geometry",void 0),h([f({readOnly:!0})],kp.prototype,"normalizedGeometry",null),h([f({constructOnly:!0})],kp.prototype,"spatialReference",void 0),kp=s4=h([O("esri.views.2d.constraints.GeometryConstraint")],kp);var a4;let fv=a4=class extends Rf.NumericIdentifiableMixin(De){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new a4({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};h([f()],fv.prototype,"enabled",void 0),h([f()],fv.prototype,"rotationEnabled",void 0),fv=a4=h([O("esri.views.2d.constraints.RotationConstraint")],fv);const bJ=fv;var o4;let rs=o4=class extends Rf.NumericIdentifiableMixin(De){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,a=-1,l=-1,u=!1,d=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(t!=null&&t.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map(m=>m.clone()),t.sort((m,v)=>v.scale-m.scale),t.forEach((m,v)=>m.level=v);for(const m of t)!u&&i>0&&i>=m.scale&&(a=m.level,u=!0),!d&&r>0&&r>=m.scale&&(l=e?e.level:-1,d=!0),e=m;n===-1&&(n=i===0?0:a),s===-1&&(s=r===0?t.length-1:l),n=Math.max(n,0),n=Math.min(n,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),n>s&&([n,s]=[s,n]),i=t[n].scale,r=t[s].scale,t.splice(0,n),t.splice(s-n+1,t.length),t.forEach((m,v)=>{this._lodByScale[m.scale]=m,this._scales[v]=m.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=e.targetGeometry,s=t&&t.targetGeometry,a=r!==0&&e.scale<r,l=i!==0&&e.scale>i;if(a||l){const u=l?i:r;if(t&&s){const d=(u-t.scale)/(e.scale-t.scale);n.x=s.x+(n.x-s.x)*d,n.y=s.y+(n.y-s.y)*d}e.scale=u}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],r===e)return n+this.effectiveMinZoom+1;if(i>e&&r<e)return n+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new o4({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};h([f({readOnly:!0})],rs.prototype,"effectiveLODs",void 0),h([f({readOnly:!0})],rs.prototype,"effectiveMinZoom",void 0),h([f({readOnly:!0})],rs.prototype,"effectiveMaxZoom",void 0),h([f({readOnly:!0})],rs.prototype,"effectiveMinScale",void 0),h([f({readOnly:!0})],rs.prototype,"effectiveMaxScale",void 0),h([f()],rs.prototype,"lods",void 0),h([f()],rs.prototype,"minZoom",void 0),h([f()],rs.prototype,"maxZoom",void 0),h([f()],rs.prototype,"minScale",void 0),h([f()],rs.prototype,"maxScale",void 0),h([f()],rs.prototype,"snapToZoom",void 0),rs=o4=h([O("esri.views.2d.constraints.ZoomConstraint")],rs);const wJ=rs,wSe={base:null,key:"type",typeMap:{extent:Lt,polygon:ra}};let Ki=class extends De{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Ce}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,i,r;return`${(t=this._zoom)==null?void 0:t.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===t.spatialReference?t:new kp({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new bJ({rotationEnabled:this.rotationEnabled})}get _zoom(){var u;const t=this._get("_zoom"),i=this.lods||((u=this.view)==null?void 0:u.constraintsInfo.lods),r=this.minZoom,n=this.maxZoom,s=this.minScale,a=this.maxScale,l=this.snapToZoom;return t&&t.lods===i&&t.minZoom===r&&t.maxZoom===n&&t.minScale===s&&t.maxScale===a&&t.snapToZoom===l?t:new wJ({lods:i,minZoom:r,maxZoom:n,minScale:s,maxScale:a,snapToZoom:l})}canZoomInTo(t){const i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){const i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(r=>r.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};h([f({readOnly:!0})],Ki.prototype,"effectiveLODs",null),h([f({readOnly:!0})],Ki.prototype,"effectiveMinScale",null),h([f({readOnly:!0})],Ki.prototype,"effectiveMaxScale",null),h([f({readOnly:!0})],Ki.prototype,"effectiveMinZoom",null),h([f({readOnly:!0})],Ki.prototype,"effectiveMaxZoom",null),h([f({types:wSe,value:null})],Ki.prototype,"geometry",null),h([f({type:[Zs]})],Ki.prototype,"lods",void 0),h([f()],Ki.prototype,"minScale",void 0),h([f()],Ki.prototype,"maxScale",void 0),h([f()],Ki.prototype,"minZoom",void 0),h([f()],Ki.prototype,"maxZoom",void 0),h([f()],Ki.prototype,"rotationEnabled",void 0),h([f()],Ki.prototype,"snapToZoom",void 0),h([f({type:Ce})],Ki.prototype,"customConstraints",void 0),h([f()],Ki.prototype,"view",void 0),h([f({readOnly:!0})],Ki.prototype,"version",null),h([f({type:kp,readOnly:!0})],Ki.prototype,"_geometry",null),h([f({type:bJ})],Ki.prototype,"_rotation",null),h([f({readOnly:!0,type:wJ})],Ki.prototype,"_zoom",null),Ki=h([O("esri.views.2d.MapViewConstraints")],Ki);const zj=Ki;let Sn=class extends De{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Ge(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},El)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Qe({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void ce.getLogger(this).error(new z("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:n}))}const r=this.viewpoint;Q6(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void ce.getLogger(this).error(new z("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void ce.getLogger(this).error(new z("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;c_e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const i=this.viewpoint;w_e(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;Pj(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var s;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?r=new z("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(r=new z("mapview:invalid-viewpoint","geometry not defined"))}catch(a){r=new z("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a})}if(r)return void ce.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new ys({targetGeometry:new Qe,scale:0,rotation:0});An(n,i),(s=this.constraints)==null||s.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var n,s;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const a=this._get("extent");return void(a&&(this._set("extent",void 0),this._set("center",a.center)))}const i=((n=this.constraints)==null?void 0:n.zoomToScale(t))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;Pj(r,r,i),this.viewpoint=r,this._set("zoom",((s=this.constraints)==null?void 0:s.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,n=this._get("center"),s=this._get("extent"),a=this._get("scale"),l=this._get("rotation"),u=this._get("viewpoint"),d=this._get("zoom"),m=d!=null&&r!=null&&r.zoomToScale(d)||void 0;let v,b,_;const S=u==null?void 0:u.rotation,M=u==null?void 0:u.targetGeometry;(M==null?void 0:M.type)==="extent"?v=M:(M==null?void 0:M.type)==="point"&&(b=M,_=u==null?void 0:u.scale);const T=s??v;return{center:n??b??(T==null?void 0:T.center),rotation:l??S,scale:(a??m??_??(T&&U5(T,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,r,n){var a;const s=t.targetGeometry;try{this._project(t,r)}catch(l){ce.getLogger(this).warn(new Lo("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:r,error:l})),t.targetGeometry=n||new Qe({x:0,y:0,spatialReference:r})}(a=this.constraints)==null||a.fit(t),this._set("state",new eP({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,i],spatialReference:r,rotation:n,scale:s}=this.state.paddedViewState,a=new Qe({x:t,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",n),this._set("scale",s),this._set("state",null)}changeSpatialReference(t){var u;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const d=i.viewpoint.clone();d.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=d}const r=i.clone(),[n,s]=i.center;let a=null;try{a=this._project(new Qe({x:n,y:s,spatialReference:i.spatialReference}),t)}catch(d){PR()||ce.getLogger(this).warn(new Lo("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a==null?void 0:a.toJSON(),spatialReference:t,error:d}))}a||(a=new Qe({x:0,y:0,spatialReference:t}));const l=Q6(new ys({targetGeometry:new Qe,scale:0,rotation:0}),i.viewpoint,a);r.viewpoint=l;try{const m=[i.size[0]/2,i.size[1]/2],v=[m[0]+20,m[1]],b=i.toMap([0,0],v),{x:_,y:S}=this._project(new Qe({x:b[0],y:b[1],spatialReference:i.spatialReference}),t);b[0]=_,b[1]=S,r.toScreen(b,b);const M=g_e(m,b,v),T=Math.hypot(b[0]-m[0],b[1]-m[1])/20;!Number.isFinite(T)||Math.abs(T)>4?(l.rotation=0,l.targetGeometry=new Qe({x:0,y:0,spatialReference:t})):(l.scale*=T,l.scale>J("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite(M)?M:0)}catch{}(u=this._get("constraints"))==null||u.constrain(l,void 0),this._get("state").viewpoint=l}resize(t,i){var a;if(!this.ready)return;const r=this.state;let n=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();r.size=[t,i],b_e(n,n,s,this.state.paddedViewState.size,this.resizeAlign),n=((a=this.constraints)==null?void 0:a.constrain(n,void 0))??n,this.state.viewpoint=n}toMap(t){if(!this.ready)return null;const i=[0,0],[r,n]=this.state.toMap(i,[t.x,t.y]),s=this.state.spatialReference;return new Qe({x:r,y:n,spatialReference:s})}toScreen(t,i){if(!this.ready)return null;const r=this._project(t,this.state.spatialReference),n=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),Zr(n[0],n[1])}_project(t,i){var s;const r=(t==null?void 0:t.targetGeometry)||t;if(!i)return t;if(!r)return null;if(i.imageCoordinateSystem||(s=r.spatialReference)!=null&&s.imageCoordinateSystem||br(i,r.spatialReference))return t;const n=ad(r,i);if(!n)throw new z("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return _Se(t)?(t.targetGeometry=n,t):n}};function _Se(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}h([f({type:Qe})],Sn.prototype,"center",null),h([f()],Sn.prototype,"constraints",void 0),h([f({type:Lt})],Sn.prototype,"extent",null),h([f({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],Sn.prototype,"padding",null),h([f()],Sn.prototype,"ready",void 0),h([f()],Sn.prototype,"resizeAlign",void 0),h([f({readOnly:!0})],Sn.prototype,"resolution",null),h([f({type:Number})],Sn.prototype,"rotation",null),h([f({type:Number})],Sn.prototype,"scale",null),h([f({readOnly:!0})],Sn.prototype,"state",void 0),h([f({type:ys})],Sn.prototype,"viewpoint",null),h([f({readOnly:!0})],Sn.prototype,"visibleArea",null),h([f()],Sn.prototype,"zoom",null),Sn=h([O("esri.views.2d.ViewStateManager")],Sn);function _J(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function SJ(e,t){return t.some(i=>_J(e,i))}function Uj(e,{dragPrimary:t,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(n=>n.value===e).map(n=>n.key)}let Gj=class extends kr{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(t,i){_J(t.data,"primary")&&(t.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},SSe=class extends kr{constructor(t,i,r){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",r,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:r}=i;if(r!==this.pointerType)return;t.stopPropagation();const{action:n,delta:s}=i,{view:a}=this,{mapViewNavigation:l}=a;switch(n){case"begin":{const{scale:u}=a;this._startScale=u,this._currentScale=u,this._previousDelta=s,l.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const u=1.015**s.y,d=this._startScale*u,m=d/this._currentScale;l.setViewpointImmediate(m),this._currentScale=d;break}case"end":{const{constraints:u}=a,{effectiveLODs:d,snapToZoom:m}=u;if(!m||!d)return void l.end();const v=u.snapScale(this._currentScale),b=(s.y>0?Math.max(v,u.snapToPreviousScale(this._startScale)):Math.min(v,u.snapToNextScale(this._startScale)))/this._currentScale;l.zoom(b).then(()=>{l.end()});break}}}},V5=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const i=t.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var i,r;this._startEvent=t,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},xSe=class extends kr{constructor(t,i,r){super(!0),this.view=t,this.pointerActions=i,this.registerIncoming("drag",r,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new V5({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&SJ(r.data,this.pointerActions)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},MSe=class extends kr{constructor(t,i,r){super(!0),this._view=t,this.pointerActions=i;const n=this._view.mapViewNavigation;this._dragEventSeparator=new V5({start:(s,a)=>{n.rotate.begin(this._view,a.data),a.stopPropagation()},update:(s,a)=>{n.rotate.update(this._view,a.data),a.stopPropagation()},end:(s,a)=>{n.rotate.end(),a.stopPropagation()},condition:(s,a)=>s===1&&SJ(a.data,this.pointerActions)}),this.registerIncoming("drag",r,s=>this._dragEventSeparator.handle(s))}};function xJ(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function TSe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function ESe(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function CSe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function MJ(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function TJ(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function EJ(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function ISe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function $Se(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function ASe(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function RSe(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function PSe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function OSe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function kSe(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e}function LSe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function CJ(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function NSe(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function IJ(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}function $J(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function AJ(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function DSe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function jSe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function l4(e,t){const i=t[0],r=t[1],n=t[2];let s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function RJ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function FSe(e,t,i){const r=t[0],n=t[1],s=t[2],a=i[0],l=i[1],u=i[2];return e[0]=n*u-s*l,e[1]=s*a-r*u,e[2]=r*l-n*a,e}function zSe(e,t,i){const r=t[0],n=t[1],s=t[2],a=i[0],l=i[1],u=i[2],d=n*u-s*l,m=s*a-r*u,v=r*l-n*a,b=Math.sqrt(d*d+m*m+v*v);return e[0]=d/b,e[1]=m/b,e[2]=v/b,e}function USe(e,t,i,r){const n=t[0],s=t[1],a=t[2];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e[2]=a+r*(i[2]-a),e}function GSe(e,t,i,r,n,s){const a=s*s,l=a*(2*s-3)+1,u=a*(s-2)+s,d=a*(s-1),m=a*(3-2*s);return e[0]=t[0]*l+i[0]*u+r[0]*d+n[0]*m,e[1]=t[1]*l+i[1]*u+r[1]*d+n[1]*m,e[2]=t[2]*l+i[2]*u+r[2]*d+n[2]*m,e}function VSe(e,t,i,r,n,s){const a=1-s,l=a*a,u=s*s,d=l*a,m=3*s*l,v=3*u*a,b=u*s;return e[0]=t[0]*d+i[0]*m+r[0]*v+n[0]*b,e[1]=t[1]*d+i[1]*m+r[1]*v+n[1]*b,e[2]=t[2]*d+i[2]*m+r[2]*v+n[2]*b,e}function BSe(e,t=1){const i=x5,r=2*i()*Math.PI,n=2*i()-1,s=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*s,e[1]=Math.sin(r)*s,e[2]=n*t,e}function HSe(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=i[0]*r+i[4]*n+i[8]*s+i[12],e[1]=i[1]*r+i[5]*n+i[9]*s+i[13],e[2]=i[2]*r+i[6]*n+i[10]*s+i[14],e}function qSe(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=r*i[0]+n*i[3]+s*i[6],e[1]=r*i[1]+n*i[4]+s*i[7],e[2]=r*i[2]+n*i[5]+s*i[8],e}function WSe(e,t,i){const r=i[0],n=i[1],s=i[2],a=i[3],l=t[0],u=t[1],d=t[2],m=n*d-s*u,v=s*l-r*d,b=r*u-n*l,_=n*b-s*v,S=s*m-r*b,M=r*v-n*m,T=2*a;return e[0]=l+m*T+2*_,e[1]=u+v*T+2*S,e[2]=d+b*T+2*M,e}function YSe(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0],s[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),s[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function ZSe(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),s[1]=n[1],s[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function KSe(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),s[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),s[2]=n[2],e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function JSe(e,t){l4(Vj,e),l4(Bj,t);const i=RJ(Vj,Bj);return i>1?0:i<-1?Math.PI:Math.acos(i)}const Vj=sd(),Bj=sd();function XSe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function QSe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function e3e(e,t){if(e===t)return!0;const i=e[0],r=e[1],n=e[2],s=t[0],a=t[1],l=t[2],u=Hn();return Math.abs(i-s)<=u*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=u*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=u*Math.max(1,Math.abs(n),Math.abs(l))}function t3e(e,t,i){const r=i[0]-t[0],n=i[1]-t[1],s=i[2]-t[2];let a=r*r+n*n+s*s;return a>0?(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=s*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const i3e=MJ,r3e=TJ,n3e=EJ,s3e=IJ,a3e=$J,o3e=xJ,l3e=AJ;Object.freeze(Object.defineProperty({__proto__:null,abs:ASe,add:CSe,angle:JSe,bezier:VSe,ceil:ISe,clamp:kSe,copy:TSe,cross:FSe,crossAndNormalize:zSe,direction:t3e,dist:s3e,distance:IJ,div:n3e,divide:EJ,dot:RJ,equals:e3e,exactEquals:QSe,floor:$Se,hermite:GSe,inverse:jSe,len:o3e,length:xJ,lerp:USe,max:OSe,min:PSe,mul:r3e,multiply:TJ,negate:DSe,normalize:l4,random:BSe,rotateX:YSe,rotateY:ZSe,rotateZ:KSe,round:LSe,scale:CJ,scaleAndAdd:NSe,set:ESe,sign:RSe,sqrDist:a3e,sqrLen:l3e,squaredDistance:$J,squaredLength:AJ,str:XSe,sub:i3e,subtract:MJ,transformMat3:qSe,transformMat4:HSe,transformQuat:WSe},Symbol.toStringTag,{value:"Module"}));function ao(e){let t=e*e;return e<0&&(t*=-1),t}function u3e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function c3e(e,t,i){const r=i,n=e.state,s=e.device,a=t.tiltDirection==="forward-down"?1:-1,l=1;return s.deviceType==="standard"?(r.translation[0]=ao(n.axes[0]),r.translation[1]=ao(n.axes[1]),r.translation[2]=ao(n.buttons[7])-ao(n.buttons[6]),r.heading=ao(n.axes[2]),r.tilt=ao(n.axes[3])):s.deviceType==="spacemouse"&&(r.translation[0]=1.2*ao(n.axes[0]),r.translation[1]=1.2*ao(n.axes[1]),r.translation[2]=2*-ao(n.axes[2]),r.heading=1.2*ao(n.axes[5]),r.tilt=1.2*ao(n.axes[3])),r.tilt*=a,CJ(r.translation,r.translation,l),r}function h3e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let d3e=class extends kr{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new kg,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([Ge(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=lg({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},ir)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){var r;const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,u3e(this._transformation)):(this._currentDevice=t.data.device,c3e(t.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(t){var v;const i=this._transformation;if(h3e(i))return void((v=this._frameTask)==null?void 0:v.pause());const r=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,s=f3e*n*t;G5(r,r,[i.translation[0]*s,-i.translation[1]*s]);const a=1+i.translation[2]*m3e*t,l=this._view.constraints.rotationEnabled?-i.heading*p3e*t:0,u=this._view.size,d=[u[0]/2,u[1]];rJ(r,r,a,l,d,u);const m=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=m}};const p3e=.06,f3e=.7,m3e=6e-4;function PJ(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),jt(()=>document.removeEventListener("visibilitychange",t))}let y3e=class extends kr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const s=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;n.stopPropagation(),n.preventDefault();const a=n.type==="key-down";if(this._pressedKeys[a?"add":"delete"](s),a){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const l=this._timeout===void 0,u=this._pressedKeys.size>0;l||u?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=PJ(n=>n?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const i=this._currentDirection!=null;if(t!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},g3e=class extends kr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",r,n=>this._handleKeyUp(n)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=PJ(n=>n?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,i){for(const r of t)this._keyToDirection.set(r,i)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const r=t.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection.get(t.data.key);if(this._pressed=n!=null,this._pressed){if(t.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var Ay;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Ay||(Ay={}));let v3e=class extends kr{constructor(t,i,r){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),i.zoomIn.forEach(n=>this._keysToZoomAction[n]=Ay.IN),i.zoomOut.forEach(n=>this._keysToZoomAction[n]=Ay.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=t.data;if(!(r in this._keysToZoomAction))return;const n=this._keysToZoomAction[r],{mapViewNavigation:s}=this.view;let a=null;switch(n){case Ay.IN:a=s.zoomIn();break;case Ay.OUT:a=s.zoomOut();break;default:return}s.begin(),a.then(()=>s.end()),t.stopPropagation()}};const b3e=.6;let w3e=class extends kr{constructor(t,i){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:n,deltaY:s}=t.data,a=1/b3e**(1/60*s),l=i.zoom(a,[r,n]);l&&(this._canZoom=!1,l.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}},_3e=class extends kr{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new V5({start:(r,n)=>{i.pinch.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{i.pinch.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{i.pinch.end(this.view),n.stopPropagation()},condition:r=>r>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function Hj(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value||1:0),axes:t.axes.map(i=>M3e(i,e.axisThreshold))}:{buttons:[],axes:[]}}function S3e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function x3e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function M3e(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}let T3e=class{constructor(t,i){this._element=t,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const a=s.gamepad,l=a.index,u=this._inputDevices[l];u&&(this._emitGamepadEvent(a,Hj(u),!1),this._inputDevices.splice(l,1),this._latestUpdate.splice(l,1),this._input.gamepad.devices.remove(u),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=r&&n,this.supported&&(qj(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const i=new G8(t);i.deviceType!=="unknown"&&(this._inputDevices[t.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=lg({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!i;qj(n=>{const s=this._inputDevices[n.index];if(!s)return;const a=this._latestUpdate[n.index],l=Hj(s),u=r||x3e(l);a&&(a.timestamp===n.timestamp||!a.active&&u||S3e(a.state,l))||this._emitGamepadEvent(n,l,!u)})}_emitGamepadEvent(t,i,r){const n=this._latestUpdate[t.index],s=n&&n.active;if(!s&&!r)return;const a=!s&&r?"start":s&&r?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[t.index],state:i,action:a})}};function E3e(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function qj(e){for(const t of navigator.getGamepads())E3e(t)&&e(t)}const Wj=J("edge"),C3e=J("chrome"),I3e=J("ff"),$3e=J("safari"),Yj="esri-view-surface",Rm={touchNone:`${Yj}--touch-none`,touchPan:`${Yj}--touch-pan`};let OJ=class kJ{constructor(t,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new T3e(t,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=vi(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const r=this._active[i];this._element.removeEventListener(yC[i],r),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&yC[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(yC[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1)}setPointerCapture(t,i){i?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Rm.touchNone:Rm.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Rm.touchPan:Rm.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Rm.touchNone),this._element.classList.remove(Rm.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const r=wK(this._element,t);return kJ.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(t,i){const{key:r}=i;r&&t==="key-up"&&this._keyDownState.delete(r);const n={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&t==="key-down"&&this._keyDownState.add(n.key),this._callback(t,n)}_handlePointer(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,r)}_handlePointerPreventDefault(t,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,r)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&J("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:Wj&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}Wj?r*=.7:C3e||$3e?r*=.6:I3e&&(r*=1.375);const n=100,s=Math.abs(r);s>n&&(r=r/s*200/(1+Math.exp(-.02*(s-n))));const a=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(t,a)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const r={native:i};i.preventDefault(),this._callback(t,r)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};OJ.test={disableSubpixelCoordinates:!1};const yC={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let A3e=class extends kr{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const ln={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function px(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function R3e(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}function P3e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Zr()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[P,N]=e,[D,k]=[N.x-P.x,N.y-P.y];return t.radius=Math.sqrt(D*D+k*k)/2,t.center.x=(P.x+N.x)/2,t.center.y=(P.y+N.y)/2,t}let i=0,r=0;for(let P=0;P<e.length;P++)i+=e[P].x,r+=e[P].y;i/=e.length,r/=e.length;const n=e.map(P=>P.x-i),s=e.map(P=>P.y-r);let a=0,l=0,u=0,d=0,m=0,v=0,b=0;for(let P=0;P<n.length;P++){const N=n[P],D=s[P],k=N*N,q=D*D;a+=k,l+=q,u+=N*D,d+=k*N,m+=q*D,v+=N*q,b+=D*k}const _=.5*(d+v),S=.5*(m+b),M=a*l-u*u,T=(_*l-S*u)/M,E=(a*S-u*_)/M,A=Zr(T+i,E+r);return{radius:Math.sqrt(T*T+E*E+(a+l)/e.length),center:A}}function rf(e){const{native:t}=e,{pointerId:i,button:r,pointerType:n}=t;return n==="mouse"?`${i}:${r}`:`${n}`}let O3e=class extends kr{constructor(t=ln.maximumDoubleClickDelay,i=ln.maximumDoubleClickDistance,r=ln.maximumDoubleTouchDelay,n=ln.maximumDoubleTouchDistance,s=Lg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=s,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Zr(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new V5({start:(a,l)=>this._dragStart(a,l),update:(a,l)=>this._dragUpdate(l),end:(a,l)=>this._dragEnd(l)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=$i(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout=$i(i.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:n}=i,{center:s}=r;this._dragStartCenter=s;const a=gC("begin",Zr(0,0),r);this._doubleTapDrag.emit(a,void 0,n),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,s=gC("update",Zr(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=t,{center:n}=i,s=gC("end",Zr(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,r=rf(i),n=this._pointerState.get(r),{pointerType:s}=i.native;if(n){const a=s==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(r),px(n.event.data,i)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:i}=t,{pointerType:r}=i.native,n=rf(i),s=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(n),s);this._pointerState.set(n,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function gC(e,t,i){const{button:r,buttons:n,pointer:s,pointers:a,pointerType:l,timestamp:u}=i;return{action:e,delta:t,button:r,buttons:n,pointer:s,pointers:a,pointerType:l,timestamp:u}}let k3e=class extends kr{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,r,n){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:n,pointers:L3e(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(t){const i=t.native.pointerId,r=d_(this._activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,n);const s=FS(n,LJ(this._activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(r)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,r=this._activePointerMap.get(i);r?r.event=t:this._addPointer(t)}_removePointer(t){const i=d_(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=d_(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=FS(r,i)-t,r.lastAngle=FS(r,i)-t})}_emitEvent(t,i,r){const n=d_(this._activePointerMap);this._drag.emit(this._createPayload(t,i,n,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,r=t.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,r=i.currentEvent,n=t.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function LJ(e){const t=[];return e.forEach(i=>{t.push(Zr(i.event.x,i.event.y))}),P3e(t)}function d_(e){const t=LJ(e);let i=0;return e.forEach(r=>{let n=FS(r,t),s=n-r.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=r.lastAngle+s,r.lastAngle=n;const a=n-r.initialAngle;i+=a}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function L3e(e){const t=new Map;return e.forEach((i,r)=>t.set(r,i.event)),t}function FS(e,t){const i=e.event,r=i.x-t.center.x,n=i.y-t.center.y;return Math.atan2(n,r)}var Zj;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(Zj||(Zj={}));let N3e=class extends kr{constructor(t=ln.maximumDoubleClickDelay,i=ln.maximumDoubleClickDistance,r=ln.maximumDoubleTouchDelay,n=ln.maximumDoubleTouchDistance,s=Lg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=rf(i);if(!this._pointerState.has(r)){const n={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(i.native)}}_handlePointerUp(t){const i=t.data,r=rf(i),n=this._pointerState.get(r);if(n&&n.downButton===i.native.button){const s=n.immediateDoubleClick,a=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),px(s,t.data)>a?this._startImmediateDoubleClick(t,n):(this._immediateDoubleClick.emit(t.data,void 0,s.modifiers),this._removeState(i))):px(n,t.data)>a?this._removeState(i):this._startImmediateDoubleClick(t,n)}}_startImmediateDoubleClick(t,i){const r=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),r)}}_removeState(t){const i=rf(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},D3e=class extends kr{constructor(t=ln.maximumClickDelay,i=ln.movementUntilMouseDrag,r=ln.movementUntilPenDrag,n=ln.movementUntilTouchDrag,s=ln.holdDelay,a=Lg){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=r,this._movementUntilTouchDrag=n,this._holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",l=>this._handlePointerDown(l)),this.registerIncoming("pointer-up",l=>this._handlePointerLoss(l,"pointer-up")),this.registerIncoming("pointer-capture-lost",l=>this._handlePointerLoss(l,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",l=>this._handlePointerLoss(l,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",l=>this._handlePointerMove(l)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=$i(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,r=i.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const a=this._pointerState.get(r);if(a){if(!a.isDragging){const l=a.previousEvent;this._pointerHold.emit(l,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const i=t.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(p_("update",n,i),void 0,n.modifiers):R3e(i,n.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),n.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const i=t.data,r=i.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(p_("start",n,i)):this._pointerDrag.emit(p_("start",n,n.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const r=t.data,n=r.native.pointerId,s=this._pointerState.get(n);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(p_("end",s,i==="pointer-up"?r:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===r.native.button&&t.timestamp-s.startTimestamp<=this._maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function p_(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}let j3e=class extends kr{constructor(t=ln.maximumDoubleClickDelay,i=ln.maximumDoubleClickDistance,r=ln.maximumDoubleTouchDelay,n=ln.maximumDoubleTouchDistance,s=Lg){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",a=>this._handleImmediateClick(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=$i(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,i){const r=this._pointerState.get(t);r&&(r.doubleClickTimer=$i(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const i=t.data,{pointerType:r}=i.native,n=F3e(i);if(!this._pointerState.has(n))return void this._startClick(t);const s=this._pointerState.get(n),{data:a,modifiers:l}=s.event,u=r==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;px(a,i)>u?(this._clearDoubleClickTimer(n,!0),this._startClick(t)):(this._clearDoubleClickTimer(n,!1),s.pointerDownCount===2&&this._doubleClick.emit(a,void 0,l))}_handlePointerDown(t){const i=rf(t.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(t){const{data:i}=t,{native:{pointerType:r}}=i,n=rf(i),s=r==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),s);this._pointerState.set(n,{event:t,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function F3e(e){const{pointerId:t,pointerType:i,button:r}=e.native;return i==="mouse"?`${t}:${r}`:`${i}`}const f_={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},Kj=Symbol("handles");let pp=class extends De{initialize(){const t=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([Pn(()=>!t(),()=>this._disconnect()),Pn(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(Kj),this._inputManager=vi(this._inputManager)}_connect(){const t=this.view.surface,i=new OJ(t,this.view.input),r=[new N3e,new D3e,new j3e,new k3e(this.view.navigation),new O3e],n=new ba({eventSource:i,recognizers:r}),s=new xSe(this.view,["primary"]),a=new MSe(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new A3e],Gh.INTERNAL),n.installHandlers("navigation",[new _3e(this.view),new d3e(this.view),new w3e(this.view),new Gj(this.view),new Gj(this.view,[f_.counter]),s,new y3e(this.view,f_.pan),new v3e(this.view,f_.zoom),new g3e(this.view,f_.rotate),a,new SSe(this.view,"touch")],Gh.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,this.addHandles([Ge(()=>{var l,u;return(u=(l=this.view)==null?void 0:l.navigation)==null?void 0:u.browserTouchPanEnabled},l=>{this._source&&(this._source.browserTouchPanningEnabled=!l)},ir),Ge(()=>{const{actionMap:l}=this.view.navigation;return{panActions:Uj("pan",l),rotateActions:Uj("rotate",l)}},({panActions:l,rotateActions:u})=>{s.pointerActions=l,a.pointerActions=u},cs)],Kj)}get test(){}};h([f()],pp.prototype,"view",void 0),h([f()],pp.prototype,"latestPointerType",null),h([f()],pp.prototype,"latestPointerLocation",null),h([f()],pp.prototype,"multiTouchActive",null),pp=h([O("esri.views.2d.input.MapViewInputManager")],pp);const z3e=pp,Jj=160;let mv=class extends De{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=Jj&&this.clear()},Jj))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};h([f()],mv.prototype,"_timer",void 0),h([f()],mv.prototype,"stationary",null),mv=h([O("esri.views.2d.support.StationaryManager")],mv);const U3e=e=>{let t=class extends e{constructor(...i){super(...i),this.fullOpacity=1,this.stateManager=new Sn({constraints:new zj({view:this})}),this.goToManager=new jS({view:this}),this.stationaryManager=new mv,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new gSe(this),this.inputManager=new z3e({view:this}),this.viewEvents=new bK(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Ge(()=>this.viewpoint,()=>this.stationaryManager.flip(),El),this.on("resize",r=>this.stateManager.resize(r.width,r.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var i;return((i=this.stateManager)==null?void 0:i.extent)??null}set extent(i){this.stateManager.extent=i}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(i){const r=this._get("animation");if(i===r)return;if(r&&r.stop(),i!==this.animationManager.animation&&this.animationManager.stop(),!i||i.isFulfilled())return void this._set("animation",null);this._set("animation",i);const n=()=>{var s;this.destroyed||i===this._get("animation")&&(this._set("animation",null),(s=this.frameTask)==null||s.requestFrame())};i.when(n,n)}get constraints(){var i;return(i=this.stateManager)==null?void 0:i.constraints}set constraints(i){i.view=this;const r=this.stateManager.constraints;this.stateManager.constraints=i,r==null||r.destroy()}get padding(){var i;return(i=this.stateManager)==null?void 0:i.padding}set padding(i){this.stateManager&&(this.stateManager.padding=i)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(i){this.stateManager.resizeAlign=i}get rotation(){return this.stateManager.rotation??0}set rotation(i){const{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=i,this.constraints.rotationEnabled=r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(i){this.stateManager.viewpoint=i,this.frameTask.requestFrame()}on(i,r,n,s){return this.inputManager&&this.viewEvents.on(i,r,n,s)||super.on(i,r)}hasEventListener(i){return super.hasEventListener(i)||this.viewEvents.hasHandler(i)}goTo(i,r){return this.goToManager.goTo(i,r)}};return h([f({readOnly:!0})],t.prototype,"animationManager",void 0),h([f({readOnly:!0})],t.prototype,"fullOpacity",void 0),h([f()],t.prototype,"stateManager",void 0),h([f()],t.prototype,"constraintsInfo",null),h([f()],t.prototype,"extent",null),h([f()],t.prototype,"goToManager",void 0),h([f({readOnly:!0})],t.prototype,"state",null),h([f({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),h([f()],t.prototype,"renderingOptions",void 0),h([f({readOnly:!0})],t.prototype,"interacting",null),h([f()],t.prototype,"stationary",null),h([f()],t.prototype,"animation",null),h([f({type:zj})],t.prototype,"constraints",null),h([f({readOnly:!0})],t.prototype,"inputManager",void 0),h([f()],t.prototype,"padding",null),h([f()],t.prototype,"resizeAlign",null),h([f()],t.prototype,"rotation",null),h([f({readOnly:!0})],t.prototype,"viewEvents",void 0),h([f({type:ys})],t.prototype,"viewpoint",null),t=h([O("esri.views.Viewport2DMixin")],t),t};let Xj=class{constructor(t){this._view=t,this.viewpoint=new ys({targetGeometry:new Qe,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,i]=this._view.size;return Math.sqrt(t*t+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return tJ(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,i){i.pan=jH(this.center,t.center);let r=Math.abs(t.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=Oh(r),i.sourceZoom=this.scale,i.targetZoom=t.scale}interpolate(t,i,r){const{pan:n,rotate:s,zoom:a,zoomOffset:l}=r,{center:u}=this;u.spatialReference=t.center.spatialReference,u.x=I1(t.center.x,i.center.x,n),u.y=I1(t.center.y,i.center.y,n),this.viewpoint.scale=I1(t.scale,i.scale+l,a);let d=t.rotation;const m=i.rotation;Math.abs(m-d)>=180&&(d+=360*(d<m?1:-1)),this.viewpoint.rotation=I1(d,m,s)}copyFrom(t){An(this.viewpoint,t.viewpoint),this._view=t.view}};function oy(e,t,i,r){const n=3*e,s=3*(i-e)-n,a=1-n-s,l=3*t,u=3*(r-t)-l,d=1-l-u;function m(S){return((a*S+s)*S+n)*S}function v(S){return((d*S+u)*S+l)*S}function b(S){return(3*a*S+2*s)*S+n}function _(S,M){let T,E,A,P,N,D;for(A=S,D=0;D<8;D++){if(P=m(A)-S,Math.abs(P)<M)return A;if(N=b(A),Math.abs(N)<1e-6)break;A-=P/N}if(T=0,E=1,A=S,A<T)return T;if(A>E)return E;for(;T<E;){if(P=m(A),Math.abs(P-S)<M)return A;S>P?T=A:E=A,A=.5*(E-T)+T}return A}return function(S,M=1e-6){return v(_(S,M))}}const Aa={};Aa.ease=oy(.25,.1,.25,1),Aa.linear=oy(0,0,1,1),Aa.easeIn=Aa["ease-in"]=oy(.42,0,1,1),Aa.easeOut=Aa["ease-out"]=oy(0,0,.58,1),Aa.easeInOut=Aa["ease-in-out"]=oy(.42,0,.58,1);const G3e=e=>e,B5=e=>e*e,tP=e=>1-B5(1-e),V3e=e=>e<.5?B5(2*e)/2:(tP(2*(e-.5))+1)/2,iP=e=>e*e*e,NJ=e=>1-iP(1-e),B3e=e=>e<.5?iP(2*e)/2:(NJ(2*(e-.5))+1)/2,rP=e=>e*e*e*e,DJ=e=>1-rP(1-e),H3e=e=>e<.5?rP(2*e)/2:(DJ(2*(e-.5))+1)/2,nP=e=>e*e*e*e*e,jJ=e=>1-nP(1-e),q3e=e=>e<.5?nP(2*e)/2:(jJ(2*(e-.5))+1)/2,sP=e=>1-Math.cos(e*Math.PI/2),FJ=e=>1-sP(1-e),W3e=e=>e<.5?sP(2*e)/2:(FJ(2*(e-.5))+1)/2,aP=e=>2**(10*(e-1)),oP=e=>1-aP(1-e),Y3e=e=>e<.5?aP(2*e)/2:(oP(2*(e-.5))+1)/2,lP=e=>-(Math.sqrt(1-e*e)-1),zJ=e=>1-lP(1-e),Z3e=e=>e<.5?lP(2*e)/2:(zJ(2*(e-.5))+1)/2;function Ya(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function Za(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const K3e=Za(Ya(1),1),J3e=Za(Ya(1),0),u4=Za(Ya(1),.5),X3e=Za(Ya(2),1),Q3e=Za(Ya(2),0),exe=Za(Ya(2),.5),txe=Za(Ya(3),1),ixe=Za(Ya(3),0),rxe=Za(Ya(3),.5),nxe=Za(Ya(4),1),sxe=Za(Ya(4),0),axe=Za(Ya(4),.5),Qj={linear:G3e,"in-quad":B5,"out-quad":tP,"in-out-quad":V3e,"in-coast-quad":K3e,"out-coast-quad":J3e,"in-out-coast-quad":u4,"in-cubic":iP,"out-cubic":NJ,"in-out-cubic":B3e,"in-coast-cubic":X3e,"out-coast-cubic":Q3e,"in-out-coast-cubic":exe,"in-quart":rP,"out-quart":DJ,"in-out-quart":H3e,"in-coast-quart":txe,"out-coast-quart":ixe,"in-out-coast-quart":rxe,"in-quint":nP,"out-quint":jJ,"in-out-quint":q3e,"in-coast-quint":nxe,"out-coast-quint":sxe,"in-out-coast-quint":axe,"in-sine":sP,"out-sine":FJ,"in-out-sine":W3e,"in-expo":aP,"out-expo":oP,"in-out-expo":Y3e,"in-circ":lP,"out-circ":zJ,"in-out-circ":Z3e,ease:e=>Aa.ease(e),"ease-in":e=>Aa.easeIn(e),"ease-out":e=>Aa.easeOut(e),"ease-in-out":e=>Aa.easeInOut(e)};let oxe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const fx={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},UJ={maxDuration:4e3};let lxe=class GJ{constructor(t){this._createCamera=t,this.compared=new oxe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:fx.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new GJ(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,i,r){this.source!==t&&this.source.copyFrom(t),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??fx.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const i=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Hn()}get hasFov(){return Math.abs(this.compared.fov)>Hn()}get hasRotate(){return this.compared.rotate>Hn()}},uxe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},cxe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let r=0,n=0;const s=this.definition,a=this.segments.reduce((l,u)=>l||u.definition.hasZoom,!1);for(let l=0;l<this.segments.length;l++){const u=this.segments[l],d=u.definition;if(t<=u.time||l===this.segments.length-1){if(this.segmentInterpolateComponentsAt(u,u.time===0?0:t/u.time,i),s.hasPan&&!isNaN(i.pan)&&isFinite(s.compared.pan)?i.pan=(r+d.compared.pan*i.pan)/s.compared.pan:i.pan=1,s.hasRotate&&!isNaN(i.rotate)&&isFinite(s.compared.rotate)?i.rotate=(n+d.compared.rotate*i.rotate)/s.compared.rotate:i.rotate=1,a&&!isNaN(i.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:m,targetZoom:v}=d.compared,b=i.zoom*(v-m)+m,_=this.segments[0].definition.compared.sourceZoom,S=this.segments[this.segments.length-1].definition.compared.targetZoom,M=Math.abs(v-_)>Math.abs(m-_)?v:m;i.zoomOffset=M-S,i.zoom=(b-_)/(M-_)}else i.zoom=1;return i}t-=u.time,r+=d.compared.pan,n+=d.compared.rotate}}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r)}},vC=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,r=i.sourceZoom,n=i.targetZoom;this._zoomSign=r>n?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(r);const s=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*s}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:n,hasRotate:s}=this.definition;let a=0,l=0;r&&(n&&(a=(i/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(l=this._zoomSign*(Math.log(t/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const u=this.definition.desiredPixelFlow;if(r&&n&&s){const d=a+l+a*l;this._zoomPixelFlow=a*l/d*u,this._panPixelFlow=l/d*u,this._rotatePixelFlow=a/d*u}else if(r&&n){const d=1+a;this._zoomPixelFlow=a/d*u,this._panPixelFlow=1/d*u}else if(r&&s){const d=1+l;this._zoomPixelFlow=l/d*u,this._rotatePixelFlow=1/d*u}else if(n&&s){const d=this._panPixelsAtSource/this._rotatePixels,m=1+d;this._panPixelFlow=d/m*u,this._rotatePixelFlow=1/m*u}else n?this._panPixelFlow=u:r?this._zoomPixelFlow=u:s&&(this._rotatePixelFlow=u);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/hxe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=t*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-t-i)/(r-i)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+t*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),i.zoom=this._interpolateComponentsZoom(t),i.pan=this._interpolateComponentsPan(t),i.rotate=this._interpolateComponentsRotate(t),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(t)}};const hxe=Oh(45);function dxe(e,t,i){const r=t-e.compared.sourceZoom,n=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+n)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*n)}function pxe(e,t,i){const r=1/t,n=Math.log(e.compared.sourceZoom*r),s=1/e.desiredPixelFlow,a=1/Math.LN2,l=t-e.compared.sourceZoom,u=1/l,d=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(l))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*s*a*u*d-e.halfWindowSize*n*s*a*u+e.halfWindowSize*n*s*a*d/(l*l)}function fxe(e,t,i){const r=t-e.compared.sourceZoom,n=1/r,s=1/t,a=Math.log(e.compared.sourceZoom*s),l=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*l+2*n*a+2*s-2*a*l/(r*r)-l/(t*t))/(e.desiredPixelFlow*Math.LN2)}function mxe(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function yxe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function gxe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function vxe(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function bxe(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function wxe(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function _xe(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function Sxe(e,t,i){const r=Math.log(t/e.compared.targetZoom),n=1/e.desiredPixelFlow,s=1/Math.LN2,a=-t+e.compared.targetZoom,l=1/a,u=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*n*s*l+e.halfWindowSize*r*n*s*u/(a*a)+e.halfWindowSize*n*s*l*u/t}function xxe(e,t,i){const r=t-e.compared.targetZoom,n=1/r,s=1/t,a=Math.log(t/e.compared.targetZoom),l=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*l-2*n*a+2*s+2*a*l/(r*r)-l/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Mxe(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function Txe(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Exe(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Cxe(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,n=e.halfWindowPanAtZoom(r),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*n);return e.compared.sourceZoom<=e.compared.targetZoom?s*(i-n):s*(i+n)}function Ixe(e,t){let i=$xe(e,t);const r={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},n=r.ascensionFactor===0,s=r.descensionFactor===0,a=n?mxe:dxe,l=n?yxe:pxe,u=n?gxe:fxe,d=s?Mxe:_xe,m=s?Txe:Sxe,v=s?Exe:xxe,b=N=>a(e,N,r)+vxe(e,N,r)+d(e,N,r),_=N=>l(e,N,r)+bxe(e,N,r)+m(e,N,r),S=N=>u(e,N,r)+wxe(e,N,r)+v(e,N,r);let M=b(i);const T=Cxe(e);let E;const A=t.maximumIterations||20,P=t.maximumDistance!=null?t.maximumDistance:1/0;for(E=0;E<A;E++){const N=t.desiredSlope??1e-6;let D=_(i);Math.abs(D)>N&&(D+=N);const k=D/S(i);if(isNaN(k)||i>=P&&k<0){if(!isFinite(P))return null;i=P,M=b(i);break}if(i-=k,i<e.compared.sourceZoom||i<e.compared.targetZoom)return null;const q=b(i);if(Math.abs(q-M)/M<=.005)break;M=q}return M>T*(1-.3)||i<e.compared.sourceZoom||i<e.compared.targetZoom?null:i}function $xe(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?t.maximumDistance!=null?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}let Axe=class extends cxe{constructor(t,i){super(),this._preallocSegments=[new vC,new vC,new vC],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,i)}update(t,i){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const r=i!=null&&i.apex?Ixe(t,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,i,r){t.interpolateComponentsAt(i,r),t===this._ascensionSegment?r.zoom=tP(r.zoom):t===this._descensionSegment&&(r.zoom=B5(r.zoom))}_updateWithApex(t,i){const[r,n,s]=this._preallocSegments,a=(i==null?void 0:i.ascensionFactor)??.5,l=Math.min(1-a,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),u=1-a-l;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=t,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentEnd=a,r.update(),this._ascensionSegment=r,this.segments.push(r),u>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=t,n.definition.compared.targetZoom=t,n.definition.compared.pan=this.definition.compared.pan*u,n.definition.compared.rotate=this.definition.compared.rotate*u,n.definition.segmentStart=r.definition.segmentEnd,n.definition.segmentEnd=r.definition.segmentEnd+u,n.update(),this.segments.push(n)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=t,s.definition.compared.pan=this.definition.compared.pan*l,s.definition.compared.rotate=this.definition.compared.rotate*l,s.definition.segmentStart=a+u,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const Rxe=new uxe;let Pxe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=u4,this.definition=new lxe(t),this.path=new Axe}update(t,i,r){this.definition.update(t,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(ale(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?u4:oP)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const r=this.path.interpolateComponentsAt(t,Rxe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(t){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(r-i)}_applyTimeSettings(t,i){const r=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??fx.minDuration/r,s=i.maxDuration??fx.maxDuration/r;return t=i.duration!=null?i.duration:Math.min(Math.max(t/r,n),s)}};const Oxe=2e3,kxe=64;let Lxe=class{constructor(t){this._view=t,this._animation=new Pxe(()=>new Xj(this._view)),this._current=new Xj(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,i,r={}){An(this._current.viewpoint,t),An(this._source.viewpoint,t),An(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(t,i){this._animation.cameraAt(i,this._current),An(t,this._current.viewpoint)}},ly=class extends De{constructor(t){super(t),this._animation=null,this._destinationViewState=new eP,this.updateFunction=null,this.easing=Qj.ease,this.viewpoint=new ys({targetGeometry:new Qe,scale:0,rotation:0}),this._updateTask=lg({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new Lxe(t.view)}destroy(){this._updateTask=$i(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,r){this.stop();const n=this.viewpoint;An(n,i);const s=t.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(Math.min(i.scale,s.scale)*kxe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??UJ.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?Qj[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,Nxe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const r=new n4({target:t.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var r,n;const i=this.animation;if(i&&i.state!==n4.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const s=performance.now()-this._startTime,a=this._transition.duration,l=a>0?s/a:1,u=l>=1;this._transition.applyRatio(this.viewpoint,l),u&&((n=this.animation)==null||n.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function Nxe(e,t,i,r){if((t==null?void 0:t.duration)!=null)return!0;const{time:n,isLinear:s}=e,a=(t==null?void 0:t.speedFactor)||1;if(n>((t==null?void 0:t.maxDuration)??UJ.maxDuration/a))return!1;if(s){const u=Ui(),d=Zr(...r.toScreen(u,...i.center)),m=Zr(...i.toScreen(u,...r.center)),v=m!=null&&m.x>-1*i.size[0]&&m.x<(1.5+.5)*i.size[0]&&m.y>-1*i.size[1]&&m.y<(1.5+.5)*i.size[1],b=d!=null&&d.x>-1*r.size[0]&&d.x<(1.5+.5)*r.size[0]&&d.y>-1*r.size[1]&&d.y<(1.5+.5)*r.size[1];if(n>Oxe/a&&!v&&!b)return!1}return!0}h([f()],ly.prototype,"easing",void 0),h([f()],ly.prototype,"view",void 0),h([f()],ly.prototype,"viewpoint",void 0),ly=h([O("esri.views.2d.AnimationManager")],ly);const Dxe=ly;function yi(){return Promise.all([ve(()=>import("./webglDeps-C9AfL3Hw.js"),__vite__mapDeps([182,133,183,184,185])),ve(()=>import("./mapViewDeps-3iDSesSx.js"),__vite__mapDeps([186,69,70,14,71,72,73,68,187,76,188,183,133,184,137,116,189,94,190,121,80,18,19,74,82,191,77,78,79,192,4,182,185,193,89,194,67,16,11,23,22,195,126,127,114,135,196,56,197,81,198,199,75,200,45,86,65,201,202,203,204,129,205,206]))])}const d1=()=>yi().then(()=>ve(()=>import("./TileLayerView2D-CHHzBPVt.js"),__vite__mapDeps([207,72,69,70,14,71,73,68,192,4,190,189,184,133,94,121,80,18,19,193,188,183,137,116,187,76,74,82,89,194,67,16,11,23,22,56,77,78,79,126,127,114,200,45,86,65,208,209,204,210,211,202,203,212,213,214,215,216,217]))),Dd=()=>yi().then(()=>ve(()=>import("./FeatureLayerView2D-Czh8rfNx.js").then(e=>e.F),__vite__mapDeps([218,190,18,14,19,219,220,221,16,11,25,210,203,69,70,71,72,73,68,183,133,204,189,184,94,121,80,187,76,188,137,116,74,82,89,191,222,88,214,217,212]))),eF={"base-dynamic":()=>yi().then(()=>ve(()=>import("./BaseDynamicLayerView2D-C5enqHkp.js"),__vite__mapDeps([223,224,189,68,184,133,94,190,121,80,18,14,19,209,188,183,137,116,76,210,225,212]))),"base-tile":d1,"bing-maps":d1,catalog:()=>yi().then(()=>ve(()=>import("./CatalogLayerView2D-0d7bVSAa.js"),__vite__mapDeps([226,210,190]))),"catalog-dynamic-group":()=>yi().then(()=>ve(()=>import("./CatalogDynamicGroupLayerView2D--D8i1OJm.js"),__vite__mapDeps([227,210,190]))),"catalog-footprint":()=>yi().then(()=>ve(()=>import("./CatalogFootprintLayerView2D-DPBaRf2b.js"),__vite__mapDeps([228,218,190,18,14,19,219,220,221,16,11,25,210,203,69,70,71,72,73,68,183,133,204,189,184,94,121,80,187,76,188,137,116,74,82,89,191,222,88,214,217,212]))),csv:Dd,"geo-rss":()=>yi().then(()=>ve(()=>import("./GeoRSSLayerView2D-Dry-xEnl.js"),__vite__mapDeps([229,210,190,201,202,203,69,70,14,71,72,73,68,183,133,204,189,184,94,121,80,18,19,187,76,188,137,116,74,82,200,192,4,67,16,11,23,22,45,86,65]))),feature:Dd,geojson:Dd,parquet:Dd,graphics:()=>yi().then(()=>ve(()=>import("./GraphicsLayerView2D-BfDC0ROA.js"),__vite__mapDeps([230,210,190,201,202,203,69,70,14,71,72,73,68,183,133,204,189,184,94,121,80,18,19,187,76,188,137,116,74,82,200,192,4,67,16,11,23,22,45,86,65]))),group:()=>yi().then(()=>ve(()=>import("./GroupLayerView2D-B19c5JGO.js"),__vite__mapDeps([231,210,190]))),imagery:()=>yi().then(()=>ve(()=>import("./ImageryLayerView2D-g7DRN_Mg.js"),__vite__mapDeps([232,233,133,100,189,68,184,94,190,121,80,18,14,19,210,200,69,70,71,72,73,192,4,67,16,11,23,22,187,76,188,183,137,116,74,82,45,86,65,211,202,203,204,224,209,225,103,219,217,212]))),"imagery-tile":()=>yi().then(()=>ve(()=>import("./ImageryTileLayerView2D-sOv8cyn_.js"),__vite__mapDeps([234,235,233,133,100,189,68,184,94,190,121,80,18,14,19,210,236,198,79,183,204,237,103,219,217,212]))),kml:()=>yi().then(()=>ve(()=>import("./KMLLayerView2D-DIR9dt0C.js"),__vite__mapDeps([238,239,209,190,188,183,133,184,137,116,76,224,189,68,94,121,80,18,14,19,210,201,202,203,69,70,71,72,73,204,187,74,82,200,192,4,67,16,11,23,22,45,86,65,103,198,79,195,182,185,126,127,114,194,135,236]))),"knowledge-graph":()=>yi().then(()=>ve(()=>import("./KnowledgeGraphLayerView2D-Ds6VUasG.js"),__vite__mapDeps([240,210,190]))),"link-chart":()=>yi().then(()=>ve(()=>import("./KnowledgeGraphLayerView2D-Ds6VUasG.js"),__vite__mapDeps([240,210,190]))),"knowledge-graph-sublayer":Dd,"map-image":()=>yi().then(()=>ve(()=>import("./MapImageLayerView2D-46bY8GeK.js"),__vite__mapDeps([241,224,189,68,184,133,94,190,121,80,18,14,19,209,188,183,137,116,76,210,200,69,70,71,72,73,192,4,67,16,11,23,22,187,74,82,45,86,65,211,202,203,204,225,242,214,216,219,212,213,215,217]))),"map-notes":()=>yi().then(()=>ve(()=>import("./MapNotesLayerView2D-CdbCgJz5.js"),__vite__mapDeps([243,210,190,201,202,203,69,70,14,71,72,73,68,183,133,204,189,184,94,121,80,18,19,187,76,188,137,116,74,82,200,192,4,67,16,11,23,22,45,86,65]))),media:()=>yi().then(()=>ve(()=>import("./MediaLayerView2D-V_oa9PSz.js"),__vite__mapDeps([244,245,86,45,72,69,70,14,71,73,68,192,4,190,189,184,133,94,121,80,18,19,193,188,183,137,116,187,76,74,82,89,194,67,16,11,23,22,56,77,78,79,126,127,114,200,65,197,81,246,199,210]))),"ogc-feature":()=>yi().then(()=>ve(()=>import("./OGCFeatureLayerView2D-Bb9tbyTC.js"),__vite__mapDeps([247,218,190,18,14,19,219,220,221,16,11,25,210,203,69,70,71,72,73,68,183,133,204,189,184,94,121,80,187,76,188,137,116,74,82,89,191,222,88,214,217,212]))),"open-street-map":d1,"oriented-imagery":Dd,route:()=>yi().then(()=>ve(()=>import("./RouteLayerView2D-DtN4R2QP.js"),__vite__mapDeps([248,249,250,210,190,201,202,203,69,70,14,71,72,73,68,183,133,204,189,184,94,121,80,18,19,187,76,188,137,116,74,82,200,192,4,67,16,11,23,22,45,86,65]))),stream:()=>yi().then(()=>ve(()=>import("./StreamLayerView2D-B12onB7t.js"),__vite__mapDeps([251,218,190,18,14,19,219,220,221,16,11,25,210,203,69,70,71,72,73,68,183,133,204,189,184,94,121,80,187,76,188,137,116,74,82,89,191,222,88,214,217,212]))),"subtype-group":()=>yi().then(()=>ve(()=>import("./SubtypeGroupLayerView2D-EiBeeAWI.js"),__vite__mapDeps([252,218,190,18,14,19,219,220,221,16,11,25,210,203,69,70,71,72,73,68,183,133,204,189,184,94,121,80,187,76,188,137,116,74,82,89,191,222,88,214,217,212]))),tile:d1,"vector-tile":()=>yi().then(()=>ve(()=>import("./VectorTileLayerView2D-Bw4j7lg9.js"),__vite__mapDeps([253,73,56,71,72,133,121,189,68,184,94,190,80,18,14,19,204,28,122,210,212]))),video:()=>yi().then(()=>ve(()=>import("./VideoLayerView2D-DC8kN_eU.js"),__vite__mapDeps([254,255,256,246,94,189,68,184,133,190,121,80,18,14,19,187,69,70,71,72,73,76,188,183,137,116,74,82,199,210,201,202,203,204,200,192,4,67,16,11,23,22,45,86,65]))),wcs:()=>yi().then(()=>ve(()=>import("./ImageryTileLayerView2D-sOv8cyn_.js"),__vite__mapDeps([234,235,233,133,100,189,68,184,94,190,121,80,18,14,19,210,236,198,79,183,204,237,103,219,217,212]))),"web-tile":d1,wfs:Dd,wms:()=>yi().then(()=>ve(()=>import("./WMSLayerView2D-00szxO5j.js"),__vite__mapDeps([257,224,189,68,184,133,94,190,121,80,18,14,19,209,188,183,137,116,76,210,225,212,258,219]))),wmts:()=>yi().then(()=>ve(()=>import("./WMTSLayerView2D-B9iszDcF.js"),__vite__mapDeps([259,208,209,190,188,183,133,184,137,116,76,189,68,94,121,80,18,14,19,204,210,212]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function jxe(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new z(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const tF={hasLayerViewModule:e=>eF[e.type]!=null,importLayerView:e=>{const t=eF[e.type];if(t==null)throw jxe(e);return t(e)}};let Al=class fp{static getId(t,i,r,n){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${r}/${n}`}constructor(t,i,r,n){this.set(t,i,r,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|t<<8|r}acquire(t,i,r,n){this.set(t,i,r,n)}contains(t){const i=t.level-this.level;return i>=0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}containsChild(t){const i=t.level-this.level;return i>0&&this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new fp(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,r,n){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[s,a,l,u]=t.split("/");this.level=parseFloat(s),this.row=parseFloat(a),this.col=parseFloat(l),this.world=parseFloat(u)}else this.level=+t,this.row=+i,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new fp(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,i,r){const n=this.clone();return n.col+=t,n.row+=i,r.normalizeKey(n),n}getChildKeys(){const t=this.level+1,i=this.row<<1,r=this.col<<1,n=this.world;return[new fp(t,i,r,n),new fp(t,i,r+1,n),new fp(t,i+1,r,n),new fp(t,i+1,r+1,n)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Al.pool=new Mf(Al,null,null,25,50);function Pm(e,t){return[e,t]}function jd(e,t,i){return e[0]=t,e[1]=i,e}function Fxe(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}const oo=new Al("0/0/0/0");let zxe=class VJ{static create(t,i,r=null){const n=Bn(t.spatialReference),s=i.origin||Pm(t.origin.x,t.origin.y),a=Pm(t.size[0]*i.resolution,t.size[1]*i.resolution),l=Pm(-1/0,-1/0),u=Pm(1/0,1/0),d=Pm(1/0,1/0);r!=null&&(jd(l,Math.max(0,Math.floor((r.xmin-s[0])/a[0])),Math.max(0,Math.floor((s[1]-r.ymax)/a[1]))),jd(u,Math.max(0,Math.floor((r.xmax-s[0])/a[0])),Math.max(0,Math.floor((s[1]-r.ymin)/a[1]))),jd(d,u[0]-l[0]+1,u[1]-l[1]+1));const{cols:m,rows:v}=i;let b,_,S,M;return!r&&m&&v&&(jd(l,m[0],v[0]),jd(u,m[1],v[1]),jd(d,m[1]-m[0]+1,v[1]-v[0]+1)),t.isWrappable?(b=Pm(Math.ceil(Math.round((n.valid[1]-n.valid[0])/i.resolution)/t.size[0]),d[1]),_=!0,S=n.origin,M=n.valid):(b=d,_=!1),new VJ(i.level,i.resolution,i.scale,s,l,u,d,a,b,_,S,M)}constructor(t,i,r,n,s,a,l,u,d,m,v,b){this.level=t,this.resolution=i,this.scale=r,this.origin=n,this.first=s,this.last=a,this.size=l,this.norm=u,this.worldSize=d,this.wrap=m,this._spatialReferenceOrigin=v,this._spatialReferenceValid=b}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}normalizeKey(t){if(!this.wrap)return;const i=this.worldSize[0],r=t.col;r<0?(t.col=r+i,t.world-=1):r>=i&&(t.col=r-i,t.world+=1)}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const i=this.origin[0]+t*this.norm[0],r=this._spatialReferenceOrigin,n=this._spatialReferenceValid;return this.wrap&&r&&n?i===r[0]?n[0]:this.origin[0]===r[0]&&t===this.worldSize[0]?n[1]:i:i}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,r=!1){oo.set(i);const n=r?oo.col:this.denormalizeCol(oo.col,oo.world),s=oo.row;return Fxe(t,this.getXForColumn(n),this.getYForRow(s+1),this.getXForColumn(n+1),this.getYForRow(s)),t}getTileCoords(t,i,r=!1){oo.set(i);const n=r?oo.col:this.denormalizeCol(oo.col,oo.world);return Array.isArray(t)?jd(t,this.getXForColumn(n),this.getYForRow(oo.row)):(t.x=this.getXForColumn(n),t.y=this.getYForRow(oo.row)),t}},Rb=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:i,colFrom:r,colTo:n}of this.spans)for(let s=r;s<=n;s++){const a=t.getWorldForColumn(s);yield new Al(t.level,i,t.normalizeCol(s),a)}}forEach(t,i){const{spans:r,lodInfo:n}=this,{level:s}=n;if(r.length!==0)for(const{row:a,colFrom:l,colTo:u}of r)for(let d=l;d<=u;d++)t.call(i,s,a,n.normalizeCol(d),n.getWorldForColumn(d))}};Rb.pool=new Mf(Rb);let bC=class{constructor(t,i,r){this.row=t,this.colFrom=i,this.colTo=r}};const _i=new Al("0/0/0/0");let Uxe=class BJ{static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[r,n]=t,[s,a]=i,l=s-r,u=a-n,d=u!==0?l/u:0,m=(Math.ceil(n)-n)*d,v=(Math.floor(n)-n)*d;return new BJ(r,Math.floor(n),Math.ceil(a),d,l<0?m:v,l<0?v:m,l<0?s:r,l<0?r:s)}constructor(t,i,r,n,s,a,l,u){this.x=t,this.ymin=i,this.ymax=r,this.invM=n,this.leftAdjust=s,this.rightAdjust=a,this.leftBound=l,this.rightBound=u}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const ks=[[0,0],[0,0],[0,0],[0,0]],Gxe=1e-6;let Vxe=class{constructor(t,i=null,r=t.lods[0].level,n=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=t.lods.filter(l=>l.level>=r&&l.level<=n);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const a=this._lodInfos=s.map(l=>zxe.create(t,l,i));s.forEach((l,u)=>{this._infoByLevel[l.level]=a[u],this._infoByScale[l.scale]=a[u],this.scales[u]=l.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,r=!1){_i.set(i);const n=this._infoByLevel[_i.level];return n?n.getTileBounds(t,_i,r):t}getTileCoords(t,i,r=!1){_i.set(i);const n=this._infoByLevel[_i.level];return n?n.getTileCoords(t,_i,r):t}getTileCoverage(t,i=192,r=!0,n="closest"){if(!r&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const s=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=Rb.pool.acquire(s),l=this._wrap;let u,d,m,v=1/0,b=-1/0;const _=a.spans;ks[0][0]=ks[0][1]=ks[1][1]=ks[3][0]=-i,ks[1][0]=ks[2][0]=t.size[0]+i,ks[2][1]=ks[3][1]=t.size[1]+i;for(const E of ks)t.toMap(E,E),E[0]=s.getColumnForX(E[0]),E[1]=s.getRowForY(E[1]);const S=[];let M=3;for(let E=0;E<4;E++){if(ks[E][1]===ks[M][1]){M=E;continue}const A=Uxe.create(ks[E],ks[M]);v=Math.min(A.ymin,v),b=Math.max(A.ymax,b),S[A.ymin]===void 0&&(S[A.ymin]=[]),S[A.ymin].push(A),M=E}if(v==null||b==null||b-v>100)return null;let T=[];for(u=v;u<b;){S[u]!=null&&(T=T.concat(S[u])),d=1/0,m=-1/0;for(let E=T.length-1;E>=0;E--){const A=T[E];d=Math.min(d,A.getLeftCol()),m=Math.max(m,A.getRightCol())}if(d=Math.floor(d),m=Math.floor(m),u>=s.first[1]&&u<=s.last[1])if(l)if(s.size[0]<s.worldSize[0]){const E=Math.floor(m/s.worldSize[0]);for(let A=Math.floor(d/s.worldSize[0]);A<=E;A++)_.push(new bC(u,Math.max(s.getFirstColumnForWorld(A),d),Math.min(s.getLastColumnForWorld(A),m)))}else _.push(new bC(u,d,m));else d>s.last[0]||m<s.first[0]||(d=Math.max(d,s.first[0]),m=Math.min(m,s.last[0]),_.push(new bC(u,d,m)));u+=1;for(let E=T.length-1;E>=0;E--){const A=T[E];A.ymax>=u?A.incrRow():T.splice(E,1)}}return a}getTileParentId(t){_i.set(t);const i=this._infoByLevel[_i.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(_i,this._lodInfos[r],_i),_i.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){_i.set(i);const r=this._infoByLevel[_i.level],n=t.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(_i,n,_i);const a=n.denormalizeCol(_i.col,_i.world);for(const l of t.spans)if(l.row===_i.row&&l.colFrom<=a&&l.colTo>=a)return!0}if(n.resolution<r.resolution){const[a,l,u,d]=t.spans.reduce((M,T)=>(M[0]=Math.min(M[0],T.row),M[1]=Math.max(M[1],T.row),M[2]=Math.min(M[2],T.colFrom),M[3]=Math.max(M[3],T.colTo),M),[1/0,-1/0,1/0,-1/0]),m=r.denormalizeCol(_i.col,_i.world),v=n.getColumnForX(r.getXForColumn(m)),b=n.getRowForY(r.getYForRow(_i.row)),_=n.getColumnForX(r.getXForColumn(m+1))-1,S=n.getRowForY(r.getYForRow(_i.row+1))-1;return!(v>d||_<u||b>l||S<a)}const s=n.denormalizeCol(_i.col,_i.world);return t.spans.some(a=>a.row===_i.row&&a.colFrom<=s&&a.colTo>=s)}normalizeBounds(t,i,r){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const n=Bn(this.tileInfo.spatialReference),s=-r*(n.valid[1]-n.valid[0]);t[0]+=s,t[2]+=s}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(t>i[r]+Gxe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((r,n)=>Math.abs(n-t)<Math.abs(r-t)?n:r,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let r=i.length-1;r>=0;r--)if(t<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-t)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,i,r){const n=this._infoByLevel[r.level];return t.set(r),i.resolution<n.resolution?null:(i.resolution===n.resolution||(t.level=i.level,t.col=Math.floor(r.col*n.resolution/i.resolution+.01),t.row=Math.floor(r.row*n.resolution/i.resolution+.01)),t)}},Bxe=class{constructor(t,i){this.item=t,this.controller=i,this.promise=null}},Hxe=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new OS,this._controllers=new OS,this._processingItems=new OS,this._pausedSignal=_g(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new q3(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&i&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=$i(this._schedule),this._task=$i(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,r)=>t(r))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,i){const r=this.get(t);if(r)return r;const n=new AbortController;let s=null;i&&(s=ps(i,()=>n.abort()));const a=()=>{const m=this._processingItems.get(t);m&&m.controller.abort(),l(),d.reject(li())},l=()=>{u.remove(),s!=null&&s.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},u=pR(n.signal,a),d=Ua();return this._deferreds.set(t,d),this._controllers.set(t,n),d.promise.then(l,l),this._queue.push(t),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var i;const t=this._queue.popLast();return t&&((i=this._deferreds.get(t))==null||i.reject(li()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Xb(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let i;const r=new AbortController,n=new Bxe(t,r);this._processingItems.set(t,n);try{i=this.process(t,r.signal)}catch(s){this._processError(n,s)}Pl(i)?(n.promise=i,i.then(s=>this._processResult(n,s),s=>this._processError(n,s))):this._processResult(n,i)}get test(){}};const iF=[0,0];let wu=class extends De{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:i,scheduler:r,priority:n}=this;this._queue=new Hxe({concurrency:t,scheduler:r,priority:n,process:(s,a)=>{const l=this._keyToItem.get(s);return i(l,{signal:a})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=vi(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const i=typeof t=="string"?t:t.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const i=t.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),n=this.tileInfoView.getTileScale(t.key),s=Pg(this._tilesByScale,n,()=>new Set),a=()=>{s.delete(t.key),s.size===0&&this._tilesByScale.delete(n),this._keyToItem.delete(i)};return s.add(t.key),this._keyToItem.set(i,t),r.then(a,a),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const i=new Set;for(const a of t)i.add(this._keyToItem.get(a).key);const r=this.state.scale;let n,s=Number.POSITIVE_INFINITY;for(const[a,l]of this._tilesByScale)if(kB(l,u=>i.has(u))){const u=Math.abs(a-r);u<s&&(n=l,s=u)}return this._getClosestTileKey(n,t).id}_getClosestTileKey(t,i){const r=this.tileInfoView,n=this.state.center;let s,a=Number.POSITIVE_INFINITY;for(const l of t)if(i.has(l.id)){r.getTileCoords(iF,l);const u=D5(iF,n);u<a&&(a=u,s=l)}return s}};h([f({constructOnly:!0})],wu.prototype,"concurrency",void 0),h([f({constructOnly:!0})],wu.prototype,"priority",void 0),h([f({constructOnly:!0})],wu.prototype,"process",void 0),h([f({constructOnly:!0})],wu.prototype,"scheduler",void 0),h([f()],wu.prototype,"state",void 0),h([f({constructOnly:!0})],wu.prototype,"tileInfoView",void 0),wu=h([O("esri.views.2d.tiling.TileQueue")],wu);const yDe=wu;let qxe=class{constructor(t,i,r){this.maxSize=t,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return;const r=i.key.level,n=this._tileKeysPerLevel[r];rF(this._tilePerId,t);for(let s=0;s<n.length;s++)if(n[s].id===t){n.splice(s,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,t);const n=i.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(i)}prune(t,i,r){let n=this._tilePerId.size;if(n<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&s>=0;)s!==t&&(n=this._pruneAroundCenterTile(n,i,r,s)),s--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,i,r,t))}_pruneAroundCenterTile(t,i,r,n){const s=this._tileKeysPerLevel[n];if(!s||s.length===0)return t;const{size:a,origin:l}=this._tileInfoView.tileInfo,u=r*a[0],d=r*a[1],m=[0,0],v=[0,0];for(s.sort((b,_)=>(m[0]=l.x+u*(b.col+.5),m[1]=l.y-d*(b.row+.5),v[0]=l.x+u*(_.col+.5),v[1]=l.y-d*(_.row+.5),cx(m,i)-cx(v,i)));s.length>0;){const b=s.pop();if(this._removeTile(b.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this._removedFunc&&i&&this._removedFunc(i),rF(this._tilePerId,t)}};function rF(e,t){e.delete(t)}const Fd=new Al(0,0,0,0),nu=new Map,p1=[],wC=[];let vDe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new qxe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){var E,A;const{resampling:i,tileIndex:r}=this,{scale:n,center:s,resolution:a}=t.state,{minScale:l,maxScale:u}=this.tileInfoView,d=!t.stationary&&n>this._previousScale;if(this._previousScale=n,!i&&(n>l||n<u))return this.tiles.length=0,void this.clear();const m=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!m)return this.tiles.length=0,void this.clear();const{spans:v,lodInfo:b}=m,{level:_}=b;this.tiles.length=0,r.forEach(P=>P.visible=!0);let S=0,M=0;if(v.length>0)for(const{row:P,colFrom:N,colTo:D}of v)for(let k=N;k<=D;k++){S++;const q=Fd.set(_,P,b.normalizeCol(k),b.getWorldForColumn(k)).id;let X=r.get(q);if(X)X.isReady?(nu.set(q,X),M++):d||this._addParentTile(q,nu);else{if((E=this._tileCache)!=null&&E.has(q)){if(X=this._tileCache.pop(q),this.tileIndex.set(q,X),X.isReady){nu.set(q,X),M++;continue}}else X=this.acquireTile(Fd),this.tileIndex.set(q,X);d||this._addParentTile(q,nu)}}const T=M===S;for(const[P,N]of r){if(nu.has(P))continue;Fd.set(P);const D=this.tileInfoView.intersects(m,Fd),k=this.cachePolicy==="purge"?Fd.level!==_:Fd.level>_;!D||!d&&T?!k&&D||p1.push(N):N.isReady?k&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Fd,_)?p1.push(N):wC.push(N):k&&p1.push(N)}for(const P of wC)P.isReady&&nu.set(P.key.id,P);for(const P of p1)this._tileCache?this._tileCache.add(P):this.releaseTile(P),r.delete(P.key.id);for(const P of nu.values())this.tiles.push(P);for(const P of r.values())nu.has(P.key.id)||(P.visible=!1);(A=this._tileCache)==null||A.prune(_,s,a),Rb.pool.release(m),wC.length=0,p1.length=0,nu.clear()}clear(){const{tileIndex:t}=this;for(const i of t.values())this.releaseTile(i);t.clear()}refresh(t){var i;for(const r of this.tileIndex.values())t(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){var s;let r=t,n=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(n=this.tileIndex.get(r),n==null?void 0:n.isReady){i.has(n.key.id)||i.set(n.key.id,n);break}}else if((s=this._tileCache)!=null&&s.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n==null?void 0:n.isReady)){i.has(n.key.id)||i.set(n.key.id,n);break}}_hasReadyAncestor(t,i){const r=Or();this.tileInfoView.getTileBounds(r,t,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=i&&n.key.level<t.level){const s=Or();if(this.tileInfoView.getTileBounds(s,n.key,!0),_he(s,r))return!0}return!1}};function Wxe(e,t,i,r,n){HJ(e,t,i||0,r||e.length-1,n||Yxe)}function HJ(e,t,i,r,n){for(;r>i;){if(r-i>600){var s=r-i+1,a=t-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);HJ(e,t,Math.max(i,Math.floor(t-a*u/s+d)),Math.min(r,Math.floor(t+(s-a)*u/s+d)),n)}var m=e[t],v=i,b=r;for(f1(e,i,t),n(e[r],m)>0&&f1(e,i,r);v<b;){for(f1(e,v,b),v++,b--;n(e[v],m)<0;)v++;for(;n(e[b],m)>0;)b--}n(e[i],m)===0?f1(e,i,b):f1(e,++b,r),b<=t&&(i=b+1),t<=b&&(r=b-1)}}function f1(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function Yxe(e,t){return e<t?-1:e>t?1:0}function mx(e,t){if(!(this instanceof mx))return new mx(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function Zxe(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function Om(e,t){yv(e,0,e.children.length,t,e)}function yv(e,t,i,r,n){n||(n=uy(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,a=t;a<i;a++)s=e.children[a],gv(n,e.leaf?r(s):s);return n}function gv(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function nF(e,t){return e.minX-t.minX}function sF(e,t){return e.minY-t.minY}function _C(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m_(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Kxe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Jxe(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function SC(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y_(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function uy(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function aF(e,t,i,r,n){for(var s,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=r||(s=t+Math.ceil((i-t)/r/2)*r,Wxe(e,s,t,i,n),a.push(t,s,s,i))}mx.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!y_(e,t))return i;for(var n,s,a,l,u=[];t;){for(n=0,s=t.children.length;n<s;n++)a=t.children[n],y_(e,l=t.leaf?r(a):a)&&(t.leaf?i.push(a):SC(e,l)?this._all(a,i):u.push(a));t=u.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!y_(e,t))return!1;for(var r,n,s,a,l=[];t;){for(r=0,n=t.children.length;r<n;r++)if(s=t.children[r],y_(e,a=t.leaf?i(s):s)){if(t.leaf||SC(e,a))return!0;l.push(s)}t=l.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=uy([]),this},remove:function(e,t){if(e==null)return this;for(var i,r,n,s,a=this.data,l=this.toBBox(e),u=[],d=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],i=d.pop(),s=!0),a.leaf&&(n=Zxe(e,a.children,t))!==-1)return a.children.splice(n,1),u.push(a),this._condense(u),this;s||a.leaf||!SC(a,l)?r?(i++,a=r.children[i],s=!1):a=null:(u.push(a),d.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:nF,compareMinY:sF,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n,s=i-t+1,a=this._maxEntries;if(s<=a)return Om(n=uy(e.slice(t,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(n=uy([])).leaf=!1,n.height=r;var l,u,d,m,v=Math.ceil(s/a),b=v*Math.ceil(Math.sqrt(a));for(aF(e,t,i,b,this.compareMinX),l=t;l<=i;l+=b)for(aF(e,l,d=Math.min(l+b-1,i),v,this.compareMinY),u=l;u<=d;u+=v)m=Math.min(u+v-1,d),n.children.push(this._build(e,u,m,r-1));return Om(n,this.toBBox),n},_chooseSubtree:function(e,t,i,r){for(var n,s,a,l,u,d,m,v;r.push(t),!t.leaf&&r.length-1!==i;){for(m=v=1/0,n=0,s=t.children.length;n<s;n++)u=_C(a=t.children[n]),(d=Kxe(e,a)-u)<v?(v=d,m=u<m?u:m,l=a):d===v&&u<m&&(m=u,l=a);t=l||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),s=[],a=this._chooseSubtree(n,this.data,t,s);for(a.children.push(e),gv(a,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=uy(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Om(i,this.toBBox),Om(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=uy([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Om(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,s,a,l,u,d,m;for(u=d=1/0,r=t;r<=i-t;r++)a=Jxe(n=yv(e,0,r,this.toBBox),s=yv(e,r,i,this.toBBox)),l=_C(n)+_C(s),a<u?(u=a,m=r,d=l<d?l:d):a===u&&l<d&&(d=l,m=r);return m},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:nF,n=e.leaf?this.compareMinY:sF;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,n)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n,s,a=this.toBBox,l=yv(e,0,t,a),u=yv(e,i-t,i,a),d=m_(l)+m_(u);for(n=t;n<i-t;n++)s=e.children[n],gv(l,e.leaf?a(s):s),d+=m_(l);for(n=i-t-1;n>=t;n--)s=e.children[n],gv(u,e.leaf?a(s):s),d+=m_(u);return d},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)gv(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Om(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function Xxe(e,{timeZone:t,timeExtent:i}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let oF=class qJ{constructor(t,i){this.key=new Al(0,0,0,0),this.bounds=Or(),this.objectIds=new Set,this.key.set(i);const r=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=t.zoomToScale(r.level-1),this.maxScale=t.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return bhe(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return Xxe(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),i=Gn.acquire();for(let r=0;r<t.length;r++)i[r]=new qJ(this.tileInfoView,t[r]);return i}getQuantizationParameters(){return mK.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const zd={added:[],removed:[]},xC=new Set,Qxe=new Al(0,0,0,0);function e5e(e,t){const i=Bn(t);if(!i)return null;const[r,n]=i.valid;return e[2]>n?[Or([e[0],e[1],n,e[3]]),Or([r,e[1],r+e[2]-n,e[3]])]:e[0]<r?[Or([r,e[1],e[2],e[3]]),Or([n-(r-e[0]),e[1],n,e[3]])]:null}let t5e=class extends Va{constructor(t){super(),this._tiles=new Map,this._index=mx(9,J("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||UR(t)===0||GR(t)===0)return[];const i=e5e(t,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const r of t.added)if(!this.has(r)){const n=new oF(this.tileScheme,r);this._tiles.set(r,n),this._index.insert(n),i.added.push(n)}for(const r of t.removed)if(this.has(r)){const n=this.get(r);this._tiles.delete(r),this._index.remove(n),i.removed.push(n)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:r,lodInfo:n}=i,{level:s}=n;if(r.length>0)for(const{row:a,colFrom:l,colTo:u}of r)for(let d=l;d<=u;d++){const m=Qxe.set(s,a,n.normalizeCol(d),n.getWorldForColumn(d)).id;if(xC.add(m),!this.has(m)){const v=new oF(this.tileScheme,m);this._tiles.set(m,v),this._index.insert(v),this.tiles.push(v),zd.added.push(v)}}for(let a=this.tiles.length-1;a>=0;a--){const l=this.tiles[a];xC.has(l.id)||(this._tiles.delete(l.id),this.tiles.splice(a,1),this._index.remove(l),zd.removed.push(l))}(zd.added.length||zd.removed.length)&&this.emit("update",zd),Rb.pool.release(i),xC.clear(),zd.added.length=0,zd.removed.length=0}};const _De=1e-30,lF=512,g_=16777216,SDe=8,xDe=29,MDe=24,TDe=4,EDe=0,CDe=0,IDe=0,$De=1,ADe=2,RDe=3,PDe=4,ODe=5,kDe=6,LDe=12,NDe=13,DDe=5,i5e=6,jDe=5,FDe=6;var uF;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(uF||(uF={}));const WJ=6,r5e=1<<WJ,zDe=r5e<<1,n5e=1.05,UDe=3,GDe=1,VDe=3,BDe=3,HDe=5,qDe=6,WDe=1.15,s5e=4,YDe=128,a5e=256,ZDe=a5e-2*s5e,KDe=2,JDe=128,XDe=1,QDe=10,eje=1024,tje=128,ije=4,rje=1,nje=1<<20,sje=.75,aje=10,oje=.75,lje=256,uje=32,cje=512,hje=0,dje=1,o5e=1,pje=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],fje=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m1=256;var cF,hF,dF,pF,c4,fF,mF,ct,h4,eb,Ar,yx,La,gi,Ue,Pb,Au,yF,gF,vF;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(cF||(cF={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(hF||(hF={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(dF||(dF={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(pF||(pF={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(c4||(c4={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(fF||(fF={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(mF||(mF={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(ct||(ct={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(h4||(h4={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(eb||(eb={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(Ar||(Ar={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(yx||(yx={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(La||(La={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(gi||(gi={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(Ue||(Ue={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(Pb||(Pb={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(Au||(Au={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(yF||(yF={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(gF||(gF={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(vF||(vF={}));const mje=33984;var gx,bF,wF;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(gx||(gx={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(bF||(bF={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(wF||(wF={}));const yje=33306;var Hr,_F,SF,xF,MF,TF,EF;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(Hr||(Hr={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(_F||(_F={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(SF||(SF={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(xF||(xF={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(MF||(MF={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(TF||(TF={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(EF||(EF={}));const l5e=()=>ce.getLogger("esri.views.webgl.checkWebGLError");function u5e(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const YJ=!!J("enable-feature:webgl-debug");function ZJ(){return YJ}function gje(){return YJ}function km(e){if(ZJ()){const t=e.getError();if(t){const i=u5e(e,t),r=new Error().stack;l5e().error(new z("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}var d4;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(d4||(d4={}));function c5e(e){switch(e){case ct.BYTE:case ct.UNSIGNED_BYTE:return 1;case ct.SHORT:case ct.UNSIGNED_SHORT:case ct.HALF_FLOAT:return 2;case ct.FLOAT:case ct.INT:case ct.UNSIGNED_INT:return 4}}function h5e(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function vje(e,t,i,r,n=0){var a;const s=e.gl;e.bindBuffer(i);for(const l of r){const u=t.get(l.name);if(u==null){console.warn(`There is no location for vertex attribute '${l.name}' defined.`);continue}const d=n*l.stride;if(l.count<=4)s.vertexAttribPointer(u,l.count,l.type,l.normalized,l.stride,l.offset+d),s.enableVertexAttribArray(u),l.divisor>0&&e.gl.vertexAttribDivisor(u,l.divisor);else if(l.count===9)for(let m=0;m<3;m++)s.vertexAttribPointer(u+m,3,l.type,l.normalized,l.stride,l.offset+12*m+d),s.enableVertexAttribArray(u+m),l.divisor>0&&e.gl.vertexAttribDivisor(u+m,l.divisor);else if(l.count===16)for(let m=0;m<4;m++)s.vertexAttribPointer(u+m,4,l.type,l.normalized,l.stride,l.offset+16*m+d),s.enableVertexAttribArray(u+m),l.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(u+m,l.divisor));else console.error("Unsupported vertex attribute element count: "+l.count);if(ZJ()){const m=h5e(e),v=c5e(l.type),b=l.offset,_=Math.round(v/b)!==v/b?`. Offset not a multiple of stride. DataType requires ${v} bytes, but descriptor has an offset of ${b}`:"";m&&console.error(`Unable to bind vertex attribute "${l.name}" with baseInstanceOffset ${d}${_}:`,m,l)}}}function bje(e,t,i,r){var s,a,l;const n=e.gl;e.bindBuffer(i);for(const u of r){const d=t.get(u.name);if(u.count<=4)n.disableVertexAttribArray(d),u.divisor&&u.divisor>0&&((s=e.gl)==null||s.vertexAttribDivisor(d,0));else if(u.count===9)for(let m=0;m<3;m++)n.disableVertexAttribArray(d+m),u.divisor&&u.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(d+m,0));else if(u.count===16)for(let m=0;m<4;m++)n.disableVertexAttribArray(d+m),u.divisor&&u.divisor>0&&((l=e.gl)==null||l.vertexAttribDivisor(d+m,0));else console.error("Unsupported vertex attribute element count: "+u.count)}e.unbindBuffer(c4.ARRAY_BUFFER)}function d5e(e){switch(e){case gi.ALPHA:case gi.LUMINANCE:case gi.RED:case gi.RED_INTEGER:case Ue.R8:case Ue.R8I:case Ue.R8UI:case Ue.R8_SNORM:case Au.STENCIL_INDEX8:return 1;case gi.LUMINANCE_ALPHA:case gi.RG:case gi.RG_INTEGER:case Ue.RGBA4:case Ue.R16F:case Ue.R16I:case Ue.R16UI:case Ue.RG8:case Ue.RG8I:case Ue.RG8UI:case Ue.RG8_SNORM:case Ue.RGB565:case Ue.RGB5_A1:case Au.DEPTH_COMPONENT16:return 2;case gi.DEPTH_COMPONENT:case gi.RGB:case gi.RGB_INTEGER:case Ue.RGB8:case Ue.RGB8I:case Ue.RGB8UI:case Ue.RGB8_SNORM:case Ue.SRGB8:case Au.DEPTH_COMPONENT24:return 3;case gi.DEPTH_STENCIL:case gi.DEPTH24_STENCIL8:case gi.RGBA:case gi.RGBA_INTEGER:case Ue.RGBA8:case Ue.R32F:case Ue.R11F_G11F_B10F:case Ue.RG16F:case Ue.R32I:case Ue.R32UI:case Ue.RG16I:case Ue.RG16UI:case Ue.RGBA8I:case Ue.RGBA8UI:case Ue.RGBA8_SNORM:case Ue.SRGB8_ALPHA8:case Ue.RGB9_E5:case Ue.RGB10_A2UI:case Ue.RGB10_A2:case Au.DEPTH_STENCIL:case Au.DEPTH_COMPONENT32F:case Au.DEPTH24_STENCIL8:return 4;case Au.DEPTH32F_STENCIL8:return 5;case Ue.RGB16F:case Ue.RGB16I:case Ue.RGB16UI:return 6;case Ue.RG32F:case Ue.RG32I:case Ue.RG32UI:case Ue.RGBA16F:case Ue.RGBA16I:case Ue.RGBA16UI:return 8;case Ue.RGB32F:case Ue.RGB32I:case Ue.RGB32UI:return 12;case Ue.RGBA32F:case Ue.RGBA32I:case Ue.RGBA32UI:return 16;case Hr.COMPRESSED_RGB_S3TC_DXT1_EXT:case Hr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Hr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Hr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Hr.COMPRESSED_R11_EAC:case Hr.COMPRESSED_SIGNED_R11_EAC:case Hr.COMPRESSED_RGB8_ETC2:case Hr.COMPRESSED_SRGB8_ETC2:case Hr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Hr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Hr.COMPRESSED_RG11_EAC:case Hr.COMPRESSED_SIGNED_RG11_EAC:case Hr.COMPRESSED_RGBA8_ETC2_EAC:case Hr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let KJ=class{constructor(t=0,i=t){this.width=t,this.height=i,this.target=La.TEXTURE_2D,this.pixelFormat=gi.RGBA,this.dataType=Pb.UNSIGNED_BYTE,this.samplingMode=Ar.LINEAR,this.wrapMode=yx.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}};function p5e(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:d5e(e.internalFormat))*(e.target===La.TEXTURE_CUBE_MAP?6:1))}const f5e=()=>ce.getLogger("esri/views/webgl/textureUtils");function v_(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&f5e().error("Negative dimension parameters are not allowed!")}function m5e(e){return e in Ue}function y5e(e){return e in Hr}function cy(e){return e!=null&&"type"in e&&e.type==="compressed"}function g5e(e){return e!=null&&"byteLength"in e}function CF(e){return e!=null&&!cy(e)&&!g5e(e)}function Lm(e){return e===La.TEXTURE_3D||e===La.TEXTURE_2D_ARRAY}function IF(e,t,i,r=1){let n=Math.max(t,i);return e===La.TEXTURE_3D&&(n=Math.max(n,r)),Math.floor(Math.log2(n))+1}function b_(e){if(e.internalFormat!=null)return e.internalFormat===gi.DEPTH_STENCIL?gi.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case Pb.FLOAT:switch(e.pixelFormat){case gi.RGBA:return Ue.RGBA32F;case gi.RGB:return Ue.RGB32F;default:throw new z("Unable to derive format")}case Pb.UNSIGNED_BYTE:switch(e.pixelFormat){case gi.RGBA:return Ue.RGBA8;case gi.RGB:return Ue.RGB8}}return e.internalFormat=e.pixelFormat===gi.DEPTH_STENCIL?gi.DEPTH24_STENCIL8:e.pixelFormat}function v5e(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}let b5e=class JJ extends KJ{constructor(t,i){switch(super(),this.context=t,Object.assign(this,i),this.internalFormat){case Ue.R16F:case Ue.R16I:case Ue.R16UI:case Ue.R32F:case Ue.R32I:case Ue.R32UI:case Ue.R8_SNORM:case Ue.R8:case Ue.R8I:case Ue.R8UI:this.pixelFormat=gi.RED}}static validate(t,i){return new JJ(t,i)}};const Fc=()=>ce.getLogger("esri/views/webgl/Texture");let p4=class Dn{constructor(t,i=null,r=null){if(this.type=d4.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=_g(null),"context"in t)this._descriptor=t,r=i;else{const n=b5e.validate(t,i);if(!n)throw new z("Texture descriptor invalid");this._descriptor=n}this._descriptor.target===La.TEXTURE_CUBE_MAP?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return p5e(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return this._compressionAbortController.value!==null}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(gx.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,i){const r=this._descriptor;if(r.width!==t||r.height!==i){if(this._wasImmutablyAllocated)throw new z("Immutable textures can't be resized!");r.width=t,r.height=i,this._descriptor.target===La.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!cy(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in Hr&&(this._descriptor.internalFormat=void 0),this._setData(t),!cy(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(t,i,r,n,s,a,l=0){a||Fc().error("An attempt to use uninitialized data!"),this._glName||Fc().error("An attempt to update uninitialized texture!");const u=this._descriptor;u.internalFormat=b_(u);const{context:d,pixelFormat:m,dataType:v,target:b,isImmutable:_}=u;if(_&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");const S=d.bindTexture(this,Dn.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+n>u.width||r+s>u.height)&&Fc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:M}=d;l&&(n&&s||Fc().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),M.pixelStorei(M.UNPACK_SKIP_ROWS,l)),CF(a)?M.texSubImage2D(b,t,i,r,n,s,m,v,a):cy(a)?M.compressedTexSubImage2D(b,t,i,r,n,s,u.internalFormat,a.levels[t]):M.texSubImage2D(b,t,i,r,n,s,m,v,a),l&&M.pixelStorei(M.UNPACK_SKIP_ROWS,0),d.bindTexture(S,Dn.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,r,n,s,a,l,u){u||Fc().error("An attempt to use uninitialized data!"),this._glName||Fc().error("An attempt to update an uninitialized texture!");const d=this._descriptor;d.internalFormat=b_(d);const{context:m,pixelFormat:v,dataType:b,isImmutable:_,target:S}=d;if(_&&!this._wasImmutablyAllocated)throw new z("Cannot update immutable texture before allocation!");Lm(S)||Fc().warn("Attempting to set 3D texture data on a non-3D texture");const M=m.bindTexture(this,Dn.TEXTURE_UNIT_FOR_UPDATES);m.setActiveTexture(Dn.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||n<0||i+s>d.width||r+a>d.height||n+l>d.depth)&&Fc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:T}=m;if(cy(u))u=u.levels[t],T.compressedTexSubImage3D(S,t,i,r,n,s,a,l,d.internalFormat,u);else{const E=u;T.texSubImage3D(S,t,i,r,n,s,a,l,v,b,E)}m.bindTexture(M,Dn.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,v_(t)}t.samplingMode===Ar.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=Ar.LINEAR_MIPMAP_NEAREST):t.samplingMode===Ar.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Ar.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,Dn.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Dn.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,Dn.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new z("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,v_(t)}t.samplingMode===Ar.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=Ar.LINEAR):t.samplingMode===Ar.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Ar.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,v_(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=Yh(this._compressionAbortController.value))}_setData(t,i){var u;const r=this._descriptor,n=(u=r.context)==null?void 0:u.gl;if(!n)return;km(n),this._glName||(this._glName=n.createTexture(),this._glName&&r.context.instanceCounter.increment(gx.Texture,this)),v_(r);const s=r.context.bindTexture(this,Dn.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(Dn.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),km(n);const a=i??r.target,l=Lm(a);if(CF(t))this._setDataFromTexImageSource(t,a);else{const{width:d,height:m,depth:v}=r;if(d==null||m==null)throw new z("Width and height must be specified!");if(l&&v==null)throw new z("Depth must be specified!");if(r.internalFormat=b_(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(a,r.internalFormat,r.hasMipmap,d,m,v),cy(t)){if(!y5e(r.internalFormat))throw new z("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,r.internalFormat,a)}else this._texImage(a,0,r.internalFormat,d,m,v,t),km(n),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),km(n),r.context.bindTexture(s,Dn.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let i=La.TEXTURE_CUBE_MAP_POSITIVE_X;i<=La.TEXTURE_CUBE_MAP_NEGATIVE_Z;i++)this._setData(t,i)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:n}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,i),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_setDataFromTexImageSource(t,i){const{gl:r}=this._descriptor.context,n=this._descriptor;n.internalFormat=b_(n);const s=Lm(i),{width:a,height:l,depth:u}=v5e(t);n.width&&n.height,n.width||(n.width=a),n.height||(n.height=l),s&&n.depth,s&&(n.depth=u),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,n.internalFormat,n.hasMipmap,a,l,u),this._texImage(i,0,n.internalFormat,a,l,u,t),km(r),n.hasMipmap&&(this.generateMipmap(),km(r))}_setDataFromCompressedSource(t,i,r){const n=this._descriptor,{width:s,height:a,depth:l}=n,u=t.levels,d=IF(r,s,a,l),m=Math.min(d,u.length)-1;this._descriptor.context.gl.texParameteri(n.target,n.context.gl.TEXTURE_MAX_LEVEL,m),this._forEachMipmapLevel((v,b,_,S)=>{const M=u[Math.min(v,u.length-1)];this._compressedTexImage(r,v,i,b,_,S,M)},m)}_texStorage(t,i,r,n,s,a){const{gl:l}=this._descriptor.context;if(!m5e(i))throw new z("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const u=r?IF(t,n,s,a):1;if(Lm(t)){if(a==null)throw new z("Missing depth dimension for 3D texture upload");l.texStorage3D(t,u,i,n,s,a)}else l.texStorage2D(t,u,i,n,s);this._wasImmutablyAllocated=!0}_texImage(t,i,r,n,s,a,l){const u=this._descriptor.context.gl,d=Lm(t),{isImmutable:m,pixelFormat:v,dataType:b}=this._descriptor;if(m){if(l!=null){const _=l;if(d){if(a==null)throw new z("Missing depth dimension for 3D texture upload");u.texSubImage3D(t,i,0,0,0,n,s,a,v,b,_)}else u.texSubImage2D(t,i,0,0,n,s,v,b,_)}}else{const _=l;if(d){if(a==null)throw new z("Missing depth dimension for 3D texture upload");u.texImage3D(t,i,r,n,s,a,0,v,b,_)}else u.texImage2D(t,i,r,n,s,0,v,b,_)}}_compressedTexImage(t,i,r,n,s,a,l){const u=this._descriptor.context.gl,d=Lm(t);if(this._descriptor.isImmutable){if(l!=null)if(d){if(a==null)throw new z("Missing depth dimension for 3D texture upload");u.compressedTexSubImage3D(t,i,0,0,0,n,s,a,r,l)}else u.compressedTexSubImage2D(t,i,0,0,n,s,r,l)}else if(d){if(a==null)throw new z("Missing depth dimension for 3D texture upload");u.compressedTexImage3D(t,i,r,n,s,a,0,l)}else u.compressedTexImage2D(t,i,r,n,s,0,l)}async _compressOnWorker(t){var n,s;if(!Dn.compressionWorkerHandle||!Dn.compressionWorkerHandle.isCompressible(t))return;const i=(n=this._descriptor.context)==null?void 0:n.gl.getExtension("WEBGL_compressed_texture_etc"),r=(s=this._descriptor.context)==null?void 0:s.gl.getExtension("WEBGL_compressed_texture_s3tc");if(i||r){const a=new AbortController;this._compressionAbortController.value=a;const l={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!i,hasS3TC:!!r};Dn.compressionWorkerHandle.invoke(l,this._compressionAbortController.value.signal).then(u=>{u&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=u.internalFormat,this._setData(u.compressedTexture)),a===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(u=>{Vi(u)||a!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,i=1/0){let{width:r,height:n,depth:s,hasMipmap:a,target:l}=this._descriptor;const u=l===La.TEXTURE_3D;if(r==null||n==null||u&&s==null)throw new z("Missing texture dimensions for mipmap calculation");for(let d=0;t(d,r,n,s),a&&(r!==1||n!==1||u&&s!==1)&&!(d>=i);++d)r=Math.max(1,r>>1),n=Math.max(1,n>>1),u&&(s=Math.max(1,s>>1))}_applySamplingMode(){var s;const t=this._descriptor,i=(s=t.context)==null?void 0:s.gl;let r=t.samplingMode,n=t.samplingMode;r===Ar.LINEAR_MIPMAP_NEAREST||r===Ar.LINEAR_MIPMAP_LINEAR?(r=Ar.LINEAR,t.hasMipmap||(n=Ar.LINEAR)):r!==Ar.NEAREST_MIPMAP_NEAREST&&r!==Ar.NEAREST_MIPMAP_LINEAR||(r=Ar.NEAREST,t.hasMipmap||(n=Ar.NEAREST)),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,n)}_applyWrapMode(){var r;const t=this._descriptor,i=(r=t.context)==null?void 0:r.gl;typeof t.wrapMode=="number"?(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode)):(i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode.s),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,i=t.context.capabilities.textureFilterAnisotropic;i&&t.context.gl.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};p4.TEXTURE_UNIT_FOR_UPDATES=0,p4.compressionWorkerHandle=null;const MC=()=>ce.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function w5e(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const _5e=[0,0,0,0];let XJ=class{constructor(){this.type="single",this._highlightOptions=new Bh,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*m1),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,i){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,i5e),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var t;(t=this._shadeTex)==null||t.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<WJ)-1,activeGradient:this}]}_updateGradientTexture(t){const i=S5e(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,w5e(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,n=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,s=r.outlinePosition-r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2,l=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,u=Math.sqrt(Math.PI/2)*o5e,d=Math.abs(n)>u?Math.round(10*(Math.abs(n)-u))/10:0,m=Math.abs(l)>u?Math.round(10*(Math.abs(l)-u))/10:0;let v;d&&!m?MC().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&m?MC().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&m&&MC().error("The highlight is "+Math.max(d,m)+"px away from the edge of the feature; consider reducing some width values.");const b=[void 0,void 0,void 0,void 0];function _(M,T,E){b[0]=(1-E)*M[0]+E*T[0],b[1]=(1-E)*M[1]+E*T[1],b[2]=(1-E)*M[2]+E*T[2],b[3]=(1-E)*M[3]+E*T[3]}const{_texelData:S}=this;for(let M=0;M<m1;++M)v=n+M/(m1-1)*(l-n),v<n?(b[0]=0,b[1]=0,b[2]=0,b[3]=0):v<s?_(_5e,r.outlineColor,(v-n)/(s-n)):v<a?[b[0],b[1],b[2],b[3]]=r.outlineColor:v<l?_(r.outlineColor,r.fillColor,(v-a)/(l-a)):[b[0],b[1],b[2],b[3]]=r.fillColor,S[4*M]=255*b[0],S[4*M+1]=255*b[1],S[4*M+2]=255*b[2],S[4*M+3]=255*b[3];if(this._minMaxDistance[0]=n,this._minMaxDistance[1]=l,!this._shadeTex){const M=new KJ;M.wrapMode=yx.CLAMP_TO_EDGE,M.width=m1,M.height=1,this._shadeTex=new p4(t,M)}this._shadeTex.updateData(0,0,0,m1,1,this._texelData)}};function S5e(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let x5e=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let i=0;i<t.length;i++)this.gradients[i]||(this.gradients[i]=new XJ),this.gradients[i].setHighlightOptions(t[i]);for(let i=t.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const i=[];for(let r=0;r<this.gradients.length;r++){const n=this.gradients[r];i.push({activeReasons:t,activeGradient:n}),t<<=1}return i}};var $F,AF,RF,PF,OF,kF,vx,LF,NF;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})($F||($F={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(AF||(AF={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(RF||(RF={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(PF||(PF={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(OF||(OF={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(kF||(kF={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(vx||(vx={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(LF||(LF={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(NF||(NF={}));const QJ={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:h4.EQUAL,mask:255,op:{fail:eb.KEEP,zFail:eb.KEEP,zPass:eb.REPLACE}}}},M5e={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},T5e={...QJ,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function E5e({pixelRatio:e,state:t,displayLevel:i,requiredLevel:r},n){const s=1/2**(i-n.key.level),a=1/2**(r-n.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:n.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:n.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:a,tileOffset:[n.x,n.y],currentScale:t.scale,currentZoom:i,metersPerSRUnit:Ss(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function eX(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="highlight"}function tX(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="hittest"}function C5e(e){if(!tX(e))return null;const{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}}function I5e(e){if(!eX(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function xje(e,t,i){const r={};for(const n in i)i[n]instanceof Function?r[n]=i[n](e,t):r[n]=i[n];return r}function Mje(e,t){const{attributeView:i,context:r}=e;return{storage:i.getUniforms(r),view:E5e(e,t),hittestRequest:C5e(e),highlight:I5e(e)}}function Tje(e){return{inside:e.selection===vx.InsideEffect,outside:e.selection===vx.OutsideEffect}}function $5e(e){return tX(e)?M5e:eX(e)&&e.passOptions.stepType==="clear"?T5e:QJ}function Eje(e){const{row:t,col:i}=e.key,r=i*lF,n=t*lF;return{tileOffsetFromLocalOrigin:[r%g_,n%g_],maxIntsToLocalOrigin:[Math.floor(r/g_),Math.floor(n/g_)]}}const A5e=new It({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function Cje(e){return A5e.toJSON(e)}function Ije(e){const{bandCount:t,attributeTable:i,colormap:r,pixelType:n}=e.raster.rasterInfo;return t===1&&(i!=null||r!=null||n==="u8"||n==="s8")}function R5e(e,t){return t==null?(e==null||e.destroy(),null):((e==null?void 0:e.type)==="single"&&Array.isArray(t)&&(e.destroy(),e=null),(e==null?void 0:e.type)!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new x5e:new XJ),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function $je(e,t,i,r){const{painter:n,highlightGradient:s}=e,{highlight:a}=n.effects;if(!s)return;const l=e.passOptions,u=s.getReasonsWithGradients();for(let d=0;d<u.length;d++){const m={...e,passOptions:{type:"highlight",activeGradient:u[d].activeGradient,activeReasons:u[d].activeReasons,stepType:"burn",highlightAll:t}};if(a.bind(m),i(m),d<u.length-1){let b=0;for(let _=d+1;_<u.length;_++)b|=u[_].activeReasons;i({...e,passOptions:{type:"highlight",activeGradient:u[d].activeGradient,activeReasons:b,stepType:"clear",highlightAll:t}})}const v={...e,passOptions:{type:"highlight",activeGradient:u[d].activeGradient,activeReasons:u[d].activeReasons,stepType:"draw",highlightAll:t}};n.setPipelineState($5e(e)),n.updatePipelineState(e.context),a.draw(v),a.unbind()}e.passOptions=l}function Aje(e){if(!e)return[];let t=j1e(e)?[e]:Ce.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return t=t==null?void 0:t.filter(Fa),((t==null?void 0:t.length)??0)===0?[]:t}const w_=e=>parseFloat(e)/100;function P5e(e,t,i){const r=typeof e.left=="string"?w_(e.left)*t:e.left,n=typeof e.right=="string"?w_(e.right)*t:e.right,s=typeof e.top=="string"?w_(e.top)*i:e.top,a=typeof e.bottom=="string"?w_(e.bottom)*i:e.bottom,l=s;return{xmin:r,xmax:Math.max(t-n,r),ymin:l,ymax:Math.max(i-a,s)}}function iX(e,t,i,r){switch(t.type){case"rect":{const{width:n,height:s}=e,{xmin:a,xmax:l,ymin:u,ymax:d}=P5e(t,n,s),{x:m,y:v}=i;return m>a&&m<l&&v>u&&v<d}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||zR(t.path,[i.x,i.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?FR(t.geometry,r):e2(t.geometry,r))}}function O5e(e){if(!e.highlights)return null;const t=e.highlights.findIndex(i=>i.name==="default");return t===-1?null:e.highlights.items[t]}function k5e(e,t){if(!e.highlights){if(!t)return;e.highlights=new Ce([new Bh])}const i=e.highlights.findIndex(r=>r.name==="default");t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),e.highlights.length===0&&(e.highlights=null))}async function L5e(e,t,i){const r=SK(t)?_K(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const s=new Set;let a=!1,l=null,u=null;i!=null&&i.include?jF(i.include,DF(e,b=>{n.add(b),TC(b,_=>s.add(_))},(b,_)=>{s.add(b),n.add(_)},b=>{l||(l=new Set),l.add(b)},b=>n.add(b),()=>a=!0)):(a=!0,n=new Set(e.allLayerViews),n.forEach(b=>{TC(b,_=>s.add(_))})),i!=null&&i.exclude&&jF(i.exclude,DF(e,b=>{n.delete(b),TC(b,_=>s.delete(_))},b=>s.delete(b),b=>{u||(u=new Set),u.add(b)}));const d=e.toMap(r),m=e.allLayerViews.filter(b=>!b.suspended&&n.has(b)&&b.clips.every(_=>iX(e,_,r,d))).reverse();let v=[...a?e.graphicsView.hitTest(d).map(b=>({type:"graphic",graphic:b,layer:null,mapPoint:d})):[],...await Promise.all(m.map(b=>b.hitTest(d,r)).toArray())].filter(Fa).flat().filter(Fa);return v=v.filter(b=>{var _;return b.type!=="graphic"||((_=b.layer)==null?void 0:_.type)!=="subtype-group"||s.has(b.graphic.layer)}),l&&(v=v.filter(b=>!("graphic"in b)||!b.graphic||(l==null?void 0:l.has(f4(b.graphic))))),u&&(v=v.filter(b=>!("graphic"in b)||!b.graphic||!(u!=null&&u.has(f4(b.graphic))))),{screenPoint:r,results:v}}function DF(e,t,i,r,n,s){return a=>{if(a instanceof Zu){if(a.layer===e)s==null||s();else{const l=e.allLayerViews.find(u=>u.layer===a.layer);l&&(n==null||n(l))}r(f4(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const l=e.allLayerViews.find(u=>u.layer===a.parent);l&&i(a,l)}else{const l=e.allLayerViews.find(u=>u.layer===a);l&&t(l)}}}function jF(e,t){if(e)if(x3(e))for(const i of e)if(x3(i))for(const r of i)t(r);else t(i);else t(e)}function f4(e){var i,r;const t=e.getObjectId();return t?`${((i=e.layer)==null?void 0:i.uid)??((r=e.sourceLayer)==null?void 0:r.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function TC({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(i=>{t(i)})}let y1=null,bx=!0;function N5e(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(bx)try{return new ImageData(e,t)}catch{bx=!1}return rX(e,t,i)}function Rje(e,t,i,r){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(bx)try{return new ImageData(e,t,i)}catch{bx=!1}const n=rX(t,i,r);return n.data.set(e,0),n}function D5e(){return y1||(y1=document.createElement("canvas"),y1.width=1,y1.height=1),y1}function rX(e,t,i){return i||(i=D5e()),i.getContext("2d").createImageData(e,t)}async function j5e(e,t){const i=window.URL.createObjectURL(e);try{const{data:r}=await Ct(i,{...t,responseType:"image"});return r}catch(r){throw Vi(r)?r:new z("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function Pje(e,t){const{arrayBuffer:i,mediaType:r}=await F5e(e,t),n=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:s,parseGif:a}=await ve(()=>import("./gif-BAK8Fpvo.js"),[]);if(s(i))return a(i,t)}if(n){const{isAnimatedPNG:s,parseApng:a}=await ve(()=>import("./apng-Cz5SpYj9.js"),__vite__mapDeps([260,1]));if(s(i))return a(i,t)}return j5e(new Blob([i],{type:r}),t)}async function F5e(e,t){var n;const i=cg(e);if(i!=null&&i.isBase64)return{arrayBuffer:iH(i.data),mediaType:i.mediaType};const r=await Ct(e,{responseType:"array-buffer",...t});return{arrayBuffer:r.data,mediaType:((n=r.getHeader)==null?void 0:n.call(r,"Content-Type"))??""}}function nX(e,t,i){const{ctx:r,canvas:n}=aX(e,i),s=r.getImageData(0,0,e.width,e.height),a=lX(n,t);return oX(n),{dataUrl:a,data:s}}function sX(e,t){const{ctx:i,canvas:r}=aX(e,t),n=i.getImageData(0,0,e.width,e.height);return oX(r),n}function aX(e,t){const i=z5e();t.premultipliedAlpha&&B5e(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&V5e(r),{ctx:r,canvas:i}}function oX(e){e.width=0,e.height=0}function z5e(){return EC==null&&(EC=document.createElement("canvas")),EC}let EC=null;function lX(e,t){const i=H5e[t.format],r=t.quality/100;return e.toDataURL(i,r)}function uX(e,t){const i=G5e(e),r=W5e[i];return{format:i,quality:ia(t??r,0,100)}}function cX(e,t){return t/Math.max(e[0],e[1])}function U5e(e,t,i,r=0,n=0,s=e.width-r,a=e.height-n,l=!1){const{data:u}=e,{width:d,height:m,data:v}=t,b=s/d,_=a/m,S=Math.ceil(b/2),M=Math.ceil(_/2),T=e.width;for(let E=0;E<m;E++)for(let A=0;A<d;A++){const P=4*(A+(l?m-E-1:E)*d);let N=0,D=0,k=0,q=0,X=0,re=0;const W=(E+.5)*_;for(let be=Math.floor(E*_);be<(E+1)*_;be++){const ae=Math.abs(W-(be+.5))/M,$e=(A+.5)*b,Me=ae*ae;for(let Ke=Math.floor(A*b);Ke<(A+1)*b;Ke++){const ee=Math.abs($e-(Ke+.5))/S,we=Math.sqrt(Me+ee*ee);if(we>=1)continue;let xe=2*we*we*we-3*we*we+1;const tt=4*(r+Ke+(n+be)*T);re+=xe*u[tt+3],D+=xe,!i&&u[tt+3]<255&&(xe=xe*u[tt+3]/255),k+=xe*u[tt],q+=xe*u[tt+1],X+=xe*u[tt+2],N+=xe}}v[P]=k/N,v[P+1]=q/N,v[P+2]=X/N,v[P+3]=re/D}return t}function G5e(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return q5e}}function V5e(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function B5e(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const n=t[r+3];if(n!==255&&n>0){const s=255/n;t[r]=t[r]*s,t[r+1]=t[r+1]*s,t[r+2]=t[r+2]*s}}}const H5e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},FF=98,q5e="png",W5e={png:100,jpg:FF,jpeg:FF},Oje=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:N5e,encode:nX,encodeData:sX,getFormatAndQuality:uX,getMaximumResolutionScale:cX,resampleHermite:U5e,toDataUrl:lX},Symbol.toStringTag,{value:"Module"})),hX={flipY:!0,premultipliedAlpha:!0};async function Y5e(e,t){const i=await dX(e,t),{format:r,quality:n}=uX(t==null?void 0:t.format,t==null?void 0:t.quality);return nX(i,{format:r,quality:n},hX)}async function Z5e(e,t){const i=await dX(e,t);return sX(i,hX)}function dX(e,t){const i=X5e(t||{},J5e(e.stage,e.size),e.size,e.padding),r=K5e(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t==null?void 0:t.rotation)}function K5e(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach(r=>{const n=t.find(s=>s.layer.id===r.id);n!=null&&n.container&&i.push(n.container)}),i}function J5e(e,t){return Math.min(4,cX(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function X5e(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;e.width!=null&&e.height!=null?n=[e.width,e.height]:e.width==null&&e.height!=null?n=[e.height,e.height]:e.width!=null&&e.height==null?n=[e.width,e.width]:e.width==null&&e.height==null&&(n=null);const s=i[0]-(r.left+r.right),a=i[1]-(r.top+r.bottom);let l,u,d=e.area||{x:0,y:0,width:s,height:a};if(n){const m=s/a,v=n[0]/n[1];if(v>m){const b=d.width/v;d={x:d.x,y:Math.round(d.y+(d.height-b)/2),width:d.width,height:Math.round(b)}}else{const b=d.height*v;d={x:Math.round(d.x+(d.width-b)/2),y:d.y,width:Math.round(b),height:d.height}}}else n=[d.width,d.height];return n[0]>d.width?(l=Math.min(n[0]/d.width,t),u=n[0]/d.width/l):(l=1,u=n[0]/d.width),{cropArea:{x:Math.round((d.x+r.left)*l),y:Math.round((d.y+r.top)*l),width:Math.round(d.width*l),height:Math.round(d.height*l)},outputScale:u,resolutionScale:l}}const Q5e=e=>e.includes("Brush");let pX=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),Q5e(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function eMe(e,t){const i=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return i?{getUnmaskedRendererWebGL:()=>e.getParameter(i.UNMASKED_RENDERER_WEBGL)}:null}let zF;function m4(){return zF??(zF=rMe()),zF}let tMe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function iMe(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=t.getContext("webgl2"),i!=null&&(e.majorPerformanceCaveat=!0)),i==null)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(e.supportsHighPrecisionFragment=r.precision>0),i}function rMe(){var i;const e=new tMe,t=iMe(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,e.unmaskedRenderer=((i=eMe(t,{debugRendererInfo:!0}))==null?void 0:i.getUnmaskedRendererWebGL())??"unknown"),e}function nMe(e){const t=m4();return t.available?e==="3d"&&t.majorPerformanceCaveat?new z("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new z("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new z("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new z("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function sMe(e){return e&&"nodeType"in e}function aMe(e){return e&&typeof e.render=="function"}const UF={component:"esri-component"};let mp=class extends De{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,i;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((i=this.node)==null?void 0:i.id)}set id(t){this._set("id",t)}set node(t){const i=this._get("node");t!==i&&(t&&t.classList.add(UF.component),i&&i.classList.remove(UF.component),this._set("node",t))}castNode(t){var i;return(i=this.widget)==null||i.destroy(),t?typeof t=="string"||sMe(t)?(this._set("widget",null),g8(t)):(aMe(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};h([f()],mp.prototype,"id",null),h([f()],mp.prototype,"node",null),h([Gt("node")],mp.prototype,"castNode",null),h([f({readOnly:!0})],mp.prototype,"widget",void 0),mp=h([O("esri.views.ui.Component")],mp);const zS=mp,fX="calcite-mode-";function oMe(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function lMe(){return oMe().startsWith("dark")}function uMe(){return`${fX}${lMe()?"dark":"light"}`}function cMe(e){hMe(e),e.classList.add(uMe())}function hMe(e){Array.from(e.classList).forEach(t=>{t.startsWith(fX)&&e.classList.remove(t)})}const dMe={left:0,top:0,bottom:0,right:0},mX={bottom:30,top:15,right:15,left:15},su="esri-ui",es={ui:su,corner:`${su}-corner`,innerContainer:`${su}-inner-container`,manualContainer:`${su}-manual-container`,cornerContainer:`${su}-corner-container`,topLeft:`${su}-top-left`,topRight:`${su}-top-right`,bottomLeft:`${su}-bottom-left`,bottomRight:`${su}-bottom-right`};function pMe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function __(e){return e===0?"0":`${e}px`}function CC(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function IC(e,{top:t,bottom:i,left:r,right:n}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=n}let ll=class extends Va.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=gs(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&IC(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&IC(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Ge(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,ir),Ge(()=>this.padding,this._applyUIPadding,ir),Ge(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},ir),QR(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const i=this._get("container");t!==i&&(t&&(t.classList.add(es.ui),cMe(t),this._attachContainers(t)),i&&(i.classList.remove(es.ui),IC(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",t))}get height(){var s;const t=((s=this.view)==null?void 0:s.height)??0;if(t===0)return t;const i=this._getViewPadding(),{top:r,bottom:n}=i;return Math.max(t-r-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...mX,...t}}get width(){var s;const t=((s=this.view)==null?void 0:s.width)??0;if(t===0)return t;const i=this._getViewPadding(),{left:r,right:n}=i;return Math.max(t-r-n,0)}add(t,i){let r,n,s;if(Array.isArray(t))return void t.forEach(l=>this.add(l,i));const a=CC(t);a&&({index:r,position:i,component:t,key:n}=a),i&&typeof i=="object"&&({index:r,key:n,position:i,internal:s}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,r,n,s)}remove(t,i){var n,s;if(!t)return;if(Array.isArray(t))return t.map(a=>this.remove(a,i));const r=this._find(t);if(r){if(this._componentMap.has(r)&&((n=this._componentMap.get(r))==null?void 0:n.key)!==i)return;const a=this._components.indexOf(r),l=r.node.parentNode;return l==null||l.removeChild(r.node),this._componentMap.delete(r),(s=r.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(a,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(const s of t)this.empty(s,i);return}const r=this._positionNameToContainerLookup[t??"manual"],n=Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(s=>{var a;return s==null?!1:!(((a=this._componentMap.get(s))==null?void 0:a.internal)??!1)||i.removeInternal});for(const s of n)this.remove(s)}move(t,i){if(Array.isArray(t)&&t.forEach(a=>this.move(a,i)),!t)return;let r;const n=CC(t)||CC(i);if(n&&(r=n.index,i=n.position,t=n.component||t),i&&!this._isValidPosition(i))return;const s=this.remove(t);s&&this.add(s,{position:i,index:r})}find(t){if(!t)return null;const i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(t,i):this._components.filter(r=>{var n;return i.includeInternal||!((n=this._componentMap.get(r))!=null&&n.internal)}).map(({widget:r,node:n})=>r??n)}getPosition(t){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,r,n,s){t instanceof zS||(t=new zS({node:t}));const{widget:a}=t;a!=null&&a instanceof De&&a.addHandles(jt(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:i,index:r}),this._components.push(t),this._componentMap.set(t,{key:n,internal:s})}_find(t){return t?t instanceof zS?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??dMe}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(es.innerContainer,es.cornerContainer);const i=document.createElement("div");i.classList.add(es.innerContainer,es.manualContainer);const r=document.createElement("div");r.classList.add(es.topLeft,es.corner),t.appendChild(r);const n=document.createElement("div");n.classList.add(es.topRight,es.corner),t.appendChild(n);const s=document.createElement("div");s.classList.add(es.bottomLeft,es.corner),t.appendChild(s);const a=document.createElement("div");a.classList.add(es.bottomRight,es.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=i;const l=Rye();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":s,"bottom-right":a,"top-leading":l?n:r,"top-trailing":l?r:n,"bottom-leading":l?a:s,"bottom-trailing":l?s:a},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){var d,m;const i=t.position??"manual",{component:r,index:n}=t,s=this._positionNameToContainerLookup[i],a=n!=null&&n>-1;if(pMe(r.widget)&&r.widget.startup(),!a)return void s.appendChild(r.node);const l=Array.from(s.children);if(n===0){const{firstChild:v}=s;return void(v?(d=v.parentNode)==null?void 0:d.insertBefore(r.node,v):s.appendChild(r.node))}if(n>=l.length)return void s.appendChild(r.node);const u=l[n];(m=u.parentNode)==null||m.insertBefore(r.node,u)}_toPixelPosition(t){return{top:__(t.top),left:__(t.left),right:__(t.right),bottom:__(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return this._components.find(({node:i})=>i===t)??null}_getComponentsAtPosition(t,i){const r=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(Fa).filter(n=>{var s;return i.includeInternal||!((s=this._componentMap.get(n))!=null&&s.internal)}).map(({widget:n,node:s})=>n??s)}};h([f()],ll.prototype,"_locale",void 0),h([f()],ll.prototype,"container",null),h([f()],ll.prototype,"height",null),h([f({value:mX})],ll.prototype,"padding",null),h([Gt("padding")],ll.prototype,"castPadding",null),h([f()],ll.prototype,"view",void 0),h([f()],ll.prototype,"width",null),ll=h([O("esri.views.ui.UI")],ll);const fMe=ll,mMe="randomUUID"in crypto;function H5(){if(mMe)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function jje(){return`{${H5().toUpperCase()}}`}function Fje(){return`{${H5()}}`}function yMe(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const gMe={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},vMe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}},bMe=e=>({...vMe,...e}),wMe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},_Me=(e,t)=>e.find(t),GF=(e,t,i=!1)=>{let r=e;return t.forEach((n,s)=>{const a=r!=null&&r.children?_Me(r.children,l=>l.domNode===n):void 0;i&&!a&&s!==t.length-1||(r=a)}),r},SMe=e=>{let t;const i={...gMe,...e},r=bMe(i),n=r.performanceLogger;let s,a=!0,l=!1;const u=[],d=[],m=(b,_,S)=>{var E;let M;r.eventHandlerInterceptor=(A,P,N,D)=>function(k){let q;n("domEvent",k);const X=wMe(k.currentTarget,M.domNode),re=X.some(be=>{var ae;return customElements.get((ae=be==null?void 0:be.tagName)==null?void 0:ae.toLowerCase())});if(k.eventPhase===Event.CAPTURING_PHASE||!re)X.reverse(),q=GF(M.getLastRender(),X);else{const be=k.composedPath(),ae=be.slice(be.indexOf(k.currentTarget),be.indexOf(M.domNode)).reverse();q=GF(M.getLastRender(),ae,!0)}let W;return q&&(W=i.handleInterceptedEvent(t,q,this,k)),n("domEventProcessed",k),W},(E=i.postProcessProjectionOptions)==null||E.call(i,r);const T=S();M=b(_,T,r),r.eventHandlerInterceptor=void 0,u.push(M),d.push(S),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(M,T)};let v=()=>{if(s=void 0,a){a=!1,n("renderStart",void 0);for(let b=0;b<u.length;b++){const _=d[b]();n("rendered",void 0);try{u[b].update(_)}catch(S){console.error(S)}n("patched",void 0)}n("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,u,d)),t={renderNow:v,scheduleRender:()=>{s||l||(s=requestAnimationFrame(v))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(b,_)=>{m(Nh.append,b,_)},insertBefore:(b,_)=>{m(Nh.insertBefore,b,_)},merge:(b,_)=>{m(Nh.merge,b,_)},replace:(b,_)=>{m(Nh.replace,b,_)},detach:b=>{for(let _=0;_<d.length;_++)if(d[_]===b)return d.splice(_,1),u.splice(_,1)[0];throw new Error("renderFunction was not found")}},t};var xMe=":",bf=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function MMe(e,t){let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function TMe(e,t,i){const{subscribe:r}=EMe(t);return r(n=>{n.some(a=>MMe(e,a.target))&&i()})}var $C={};function EMe(e){const t=e.join(","),i=$C[t];if(i!==void 0)return i;const r=new Set,n=new MutationObserver(a=>r.forEach(l=>l(a)));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const s={subscribe(a){return r.add(a),()=>{r.delete(a),r.size===0&&(n.disconnect(),$C[t]=void 0)}}};return $C[t]=s,s}function CMe(e,t){var r,n;let i=e;for(;i;){const s=(r=i.closest)==null?void 0:r.call(i,t);if(s)return s;const a=(n=i.getRootNode)==null?void 0:n.call(i);if(a===globalThis.document)return null;i=a.host}return null}function IMe(e,t,i){const r=CMe(e,`[${t}]`);return(r==null?void 0:r.getAttribute(t))??i}function Li(e,t,...i){try{return e==null?void 0:e.call(t,...i)}catch(r){console.error(r,e)}}async function y4(e,t,...i){try{const r=e==null?void 0:e.call(t,...i);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var $Me=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],AMe=new Set($Me),wx="en",RMe={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function PMe(e,t,i=""){const r=`${t}/${i}`,n=`${r}${e}.json`;return AC[n]??(AC[n]=yX(e,r)),await AC[n]}var AC={};async function yX(e,t){const i=`${t}${e}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===wx?{}:await yX(wx,t)}function gX(e){var i;const t=IMe(e,"lang",((i=globalThis.navigator)==null?void 0:i.language)||wx);return{lang:t,t9nLocale:vX(t)}}function vX(e){const[t,i]=e.split("-"),r=t.toLowerCase();let n=r;return i&&(n=`${r}-${i.toUpperCase()}`),n=RMe[n]??n,AMe.has(n)?n:i?vX(r):wx}function OMe(e,t,i,r){let n;const s=()=>void kMe(e,t(),r).then(a=>{((n==null?void 0:n.lang)!==a.lang||n.t9nLocale!==a.t9nLocale||n.t9nStrings!==a.t9nStrings)&&i(a),n=a}).catch(console.error);return queueMicrotask(s),TMe(e,["lang"],s)}async function kMe(e,t,i=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:n}=gX(e),s=`${t}/${i}/t9n`,l=i===null?{}:await PMe(n,s,"messages.");return{lang:r,t9nLocale:n,t9nStrings:l}}var bX=e=>e.replace(LMe,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),LMe=/[A-Z]+(?![a-z])|[A-Z]/gu;function NMe(e,t){const i=t/DMe;let r=0;const n=setInterval(()=>{r+=i,r>=t&&(clearInterval(n),e())},i);return n}var DMe=4;function jMe(e){return e!==void 0}function wX(e){var i,r;let t=e;for(;t=t.parentNode??t.host;)if((i=t==null?void 0:t.constructor)!=null&&i.lumina){const n=t;return(r=n.manager)!=null&&r.loadedCalled||n._offspring.push(e),n._postLoad.promise}return!1}var US=Object.defineProperty;function FMe(e){const t=e.split(xMe);return t.length===1?[t[0],bX(t[0])]:t}var zMe=globalThis.HTMLElement??FMe,ag;ag=class extends zMe{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new bf,this._postLoaded=new bf,this._offspring=[],this._saveInstanceProperties();const t=this.constructor;t._LitConstructor?this._initializeComponent({a:t._LitConstructor}):t._loadPromise.then(this._initializeComponent.bind(this)).catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})})}static _initializePrototype(){var t,i,r;(t=this._properties)==null||t.forEach(this._bindProp,this),(i=this._asyncMethods)==null||i.forEach(this._bindAsync,this),(r=this._syncMethods)==null||r.forEach(this._bindSync,this)}static _bindProp(t){US(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this._store[t]},set(i){this._store[t]=i}})}static _bindAsync(t){US(this.prototype,t,{async value(...i){return this._litElement||await this._postLoaded.promise,await this._litElement[t](...i)},configurable:!0})}static _bindSync(t){US(this.prototype,t,{value(...i){return this._litElement[t](...i)},configurable:!0})}get manager(){var t;return(t=this._litElement)==null?void 0:t.manager}_saveInstanceProperties(){var r;const t=this.constructor,i=this;(r=t._properties)==null||r.forEach(n=>{Object.hasOwn(this,n)&&(this._store[n]=i[n],delete i[n])})}attributeChangedCallback(t,i,r){var n;(n=this._litElement)==null||n.attributeChangedCallback(t,i,r),this._litElement||this._pendingAttributes.push(t)}connectedCallback(){var t,i;this._litElement?(i=(t=this._litElement).connectedCallback)==null||i.call(t):queueMicrotask(()=>{this._ancestorLoad=wX(this)})}disconnectedCallback(){var t,i;(i=(t=this._litElement)==null?void 0:t.disconnectedCallback)==null||i.call(t)}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(t){var v;const i=this.constructor,r=i._name,n=this._store,s=Object.values(t).find(b=>b.tagName===r),a=`${r}--lazy`;let l=s;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);GMe(l),!i._LitConstructor&&(i._LitConstructor=s,customElements.define(a,s)),s.lazy=this;const d=document.createElement(a);s.lazy=void 0,this._litElement=d,this._store=d,this._pendingAttributes.forEach(b=>{const _=this.getAttribute(b);d.attributeChangedCallback(b,null,_)}),Object.entries(n).forEach(UMe,d);const m=this.isConnected;(m||this._ancestorLoad)&&((v=d.connectedCallback)==null||v.call(d),m||d.disconnectedCallback())}addController(){}requestUpdate(){var t;(t=this._litElement)==null||t.requestUpdate()}},ag.lumina=!0;function UMe([e,t]){this[e]=t}function GMe(e){const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(n,s){i.setAttribute.call(this.el,n,s)},t.removeAttribute=function(n){i.removeAttribute.call(this.el,n)},US(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))}var VF={};function VMe(e,t){var i;if(t){const r=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(r,([n,s])=>s.noAccessor?void 0:[n,[(s.readOnly?2048:0)|(s.state?32:16)]]).filter(jMe))}else{const r=e.constructor,n=((i=r.__registerControllers)==null?void 0:i.call(r,e))??void 0;if(r.__registerControllers=void 0,typeof n!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(n).filter(([s,[a]])=>(a&63)!==0))}}function BMe(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var HMe=(e,t)=>{var i,r;return(r=(i=e.manager.internals.members)==null?void 0:i[t])==null?void 0:r[0]},uP=Symbol.for("controller"),qMe=e=>typeof e=="object"&&e!==null&&(uP in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),vv;function Ry(e){vv!==e&&(vv=e,queueMicrotask(()=>{vv===e&&(vv=void 0)}))}function q5(e){return vv}var yp=[];function _X(e){if(e===void 0){yp=[];return}const t=yp.indexOf(e);yp=t===-1?[...yp,e]:yp.slice(0,t+1),queueMicrotask(()=>{yp=[]})}function SX(){return yp}var Py;function WMe(e){Py!==e&&(Py=e,queueMicrotask(()=>{Py===e&&(Py=void 0)}))}function YMe(){const e=Py;return Py=void 0,e}var ZMe=async(e,t)=>{const i=cP(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(n=>t(n,r))}return i.exports},KMe=async e=>{const t=cP(e);return await t.ready,t},cP=e=>{const i=q5().manager.internals.resolveExports(e);if(i!==void 0)return i;if(qMe(e))return e;const r=YMe();if(r!==void 0)return r},g4={readOnly:!1},_x=new WeakMap,xX;xX=uP;var hP=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new bf,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[xX]=!0,this.ready=this._ready.promise,this._exports=HF(this),this._exportWatchers=new Set;const t=e??q5();this.component=t,this.component.addController(this),this.component.manager===void 0||(_X(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Li),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?HF(e):e,this._exportWatchers.forEach(Li)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return Ry(this.component),ZMe}get useRef(){return Ry(this.component),KMe}get useRefSync(){return Ry(this.component),cP}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Li(e.hostConnected,e),this._callbacks.hostConnected.forEach(Li),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Li(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Li),this._lifecycleCleanups.forEach(Li),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await y4(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(y4)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Li(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Li),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Li(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(BF,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Li(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(BF,e)}triggerDestroy(){const e=this;e.hostDestroy&&Li(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Li)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){Ry(this.component);const t=Li(e);(Array.isArray(t)?t:[t]).forEach(r=>{typeof r=="function"?this._lifecycleCleanups.push(r):typeof r=="object"&&typeof r.remove=="function"&&this._lifecycleCleanups.push(r.remove)})}};function BF(e){Li(e,void 0,this)}var JMe=hP;function HF(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,r,n){if(!(XMe.has(r)&&r in i&&i[r]===t)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,n)},set:(i,r,n,s)=>Reflect.set(i,r,n,s)});return t}var XMe=new Set(["exports","_exports"]);function QMe(e,t,i){const r=Object.keys(e),n=r.length;Lu===void 0&&queueMicrotask(dP),Lu??(Lu=new Map);let s=Lu.get(e);return s===void 0&&(s={callbacks:[],keyCount:n},Lu.set(e,s)),s.keyCount!==n&&(s.callbacks.forEach(a=>a(r)),s.callbacks=[],s.keyCount=n),s.callbacks.push(a=>{const l=d=>Li(t,null,d),u=a[n];u===void 0?l(void 0):e[u]===i?l(u):l(void 0)}),i}var Lu=void 0;function dP(){Array.from((Lu==null?void 0:Lu.entries())??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Lu=void 0}function pP(e,t,i){var r;const n=t,s=e.manager.internals;(r=s.allWatchers)[n]??(r[n]=[]);const a=s.allWatchers[n],l=i,u=(d,m,v)=>Li(l,null,d,m,v);return a.push(u),()=>{const d=a.indexOf(u);d!==-1&&a.splice(d,1)}}var eTe=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[r]])=>{var n;r&2048&&((n=t.setters)[i]??(n[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=v4,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,i,r)=>{if(g4.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=v4,this.keyTrackers=[],i.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;i!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,i){const r=this.component,n=HMe(r,t);let s;do s=Object.getOwnPropertyDescriptor(e,t);while(!s&&(e=Object.getPrototypeOf(e)));if(!s)return;const a=s.get,l=s.set,u=S_ in a,d=S_ in l;if(u&&d)return;const m=!u,v=!d,b=m?function(){let M=a.call(this);const T=_x.get(this);if(T===void 0)return M;const E=T.manager.internals;M=E.accessorGetter[t](M,t);const A=E.getters[t]??qF;for(let P=0;P<A.length;P++)M=A[P](M,t);return M}:a,_=v?function(M){var N;const T=a.call(this),E=_x.get(this);if(E===void 0){l.call(this,M);return}let A=E.manager.isLit?M??void 0:BMe(M,n);const P=E.manager.internals;if(A===T)l.call(this,A);else{const D=P.setters[t]??qF;for(let k=0;k<D.length&&(A=D[k](A,T,t),A!==T);k++);A=P.accessorSetter[t](A,T,t),l.call(this,A),A!==T&&((N=P.enabledWatchers[t])==null||N.forEach(k=>k(A,T,t)))}P.keyTrackers.length>0&&(P==null||P.firePropTrackers(t,M))}:l;m&&(b[S_]=!0),v&&(_[S_]=!0),Object.defineProperty(e,t,{...s,get:b,set:_})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},qF=[],S_=Symbol(),v4=Symbol();function tTe(e,t,i){const r=e.manager.internals;return r.trackedValue!==v4&&r.trackedValue!==i&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=i,r.keyTrackers.push((n,s)=>Li(t,void 0,i===s?n:void 0)),i}function MX(e=[q5(),...SX()],t,i){const r=Array.isArray(e)?e:[e];let n=r.length+1;const s=l=>{n-=1,l!==void 0&&(n=Math.min(n,0)),n===0&&t(l)};r.forEach(l=>QMe(l,u=>s(u===void 0?void 0:{key:u,host:l,isReactive:!1}),i));const a=r.find(l=>"manager"in l&&typeof l.manager=="object"&&l.manager.component===l);return a&&tTe(a,l=>s(l===void 0?void 0:{key:l,host:a,isReactive:!0}),i),i}function iTe(e){g4.readOnly=!0;try{return e()}finally{g4.readOnly=!1}}var rTe=e=>(...t)=>{const i=SX(),r=new e(...t),n=r.exports;_X(i.at(-1));const s=r.component.manager.internals;s.markExports(r,n),r.watchExports(l=>s.markExports(r,l)),WMe(r);const a=[r.component,...i].reverse();return MX(a,l=>l===void 0?void 0:nTe(r,l,n),n)};function nTe(e,{host:t,key:i,isReactive:r},n){const s=t,a=s[i]!==e.exports,l=s[i]!==n,u=n!==e.exports;if(a&&!l&&u&&(s[i]=e.exports),t===e.component){if(r){const m=e.component.manager.internals;l&&m.markExports(e,s[i]),pP(e.component,i,v=>{v!==e.exports&&m.markExports(e,v)})}e.assignedProperty=r?void 0:i}e.watchExports(()=>{var b;if(s[i]===e.exports)return;const m=e.component.manager;((b=m.internals.setters[i])==null?void 0:b.includes(m.internals.readonlySetter))?iTe(()=>{s[i]=e.exports}):s[i]=e.exports})}var sTe=(e,t)=>new aTe(e,t),aTe=class extends JMe{constructor(e,t){const i="addController"in e,r=new Set;function n(u){var d;r.add(u),!(uP in u)&&e.renderRoot&&e.el.isConnected&&((d=u.hostConnected)==null||d.call(u))}function s(u){var d;r.delete(u),(d=u.controllerRemoved)==null||d.call(u)}const a=e;if(a.addController=n,a.removeController=s,!i){const u=t??e.constructor.__forceUpdate;a.requestUpdate=()=>u(e)}super(e),this.internals=new eTe(this.component),this.destroyed=!1,this._updatePromise=new bf,this._originalLifecycles={},this.isLit=i,this.component.manager=this,VMe(e,i),this._controllers=r,this.exports=void 0,this.hasDestroy=RC in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const l=this.internals;Object.keys(l.members).forEach(u=>{l.accessorGetter[u]=WF,l.accessorSetter[u]=WF,l.getSetProxy(u)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(l.enableReadonly),Ry(e),_x.set(e.el,e),_x.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),n=this._disconnectedCallback.bind(this),s=this._update.bind(this),a=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:n,hostUpdate:s,hostUpdated:a}):(e.connectedCallback=r,e.disconnectedCallback=n,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=s,e.componentDidUpdate=a),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){var t,i;if(this.destroyed){const r=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${RC} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,dP(),(t=e.enableReadonly)==null||t.call(e),this._controllers.forEach(lTe),(i=this._originalLifecycles._connectedCallback)==null||i.call(this.component)}_disconnectedCallback(){var e;this.destroyed||(this._controllers.forEach(uTe),(e=this._originalLifecycles._disconnectedCallback)==null||e.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var e;await Promise.allSettled(Array.from(this._controllers,cTe)),await((e=this._originalLifecycles._load)==null?void 0:e.call(this.component)),this.hasDestroy&&pP(this.component,RC,()=>this._setAutoDestroyTimeout())}_loaded(){var e;this._controllers.forEach(hTe),(e=this._originalLifecycles._loaded)==null||e.call(this.component)}_update(){var t;const e=this.component;return this._controllers.forEach(dTe,e.$changes),(t=this._originalLifecycles._willUpdate)==null?void 0:t.call(this.component)}_updated(){var t;const e=this.component;if(this._controllers.forEach(pTe,e.$changes),(t=this._originalLifecycles._updated)==null||t.call(this.component),this.isLit)e.$changes=new Map;else{const i=this._updatePromise;this._updatePromise=new bf,i.resolve(!0)}}async destroy(){var e;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(fTe),this._controllers.clear(),await((e=this._originalLifecycles._destroy)==null?void 0:e.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=NMe(e,oTe)}}},RC="autoDestroyDisabled",oTe=1e3,WF=e=>e;function lTe(e){"triggerConnected"in e?e.triggerConnected():Li(e.hostConnected,e)}function uTe(e){"triggerDisconnected"in e?e.triggerDisconnected():Li(e.hostDisconnected,e)}async function cTe(e){"triggerLoad"in e?await e.triggerLoad():await y4(e.hostLoad,e)}function hTe(e){"triggerLoaded"in e?e.triggerLoaded():Li(e.hostLoaded,e)}function dTe(e){"triggerUpdate"in e?e.triggerUpdate(this):Li(e.hostUpdate,e,this)}function pTe(e){"triggerUpdated"in e?e.triggerUpdated(this):Li(e.hostUpdated,e,this)}function fTe(e){"triggerDestroy"in e?e.triggerDestroy():Li(e.hostDestroy,e)}var mTe=e=>TX(void 0,e),zje=e=>t=>TX(t,e),yTe=class extends hP{constructor(e,t){super(e);const i=this.exports;try{Ry(this.component);const r=t(this.component,this),n=this.exports!==i;if(r instanceof Promise){n||this.setProvisionalExports(r);const s=r.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this._ready.reject(a),console.error(a)});this.onLoad(async()=>await s)}else(!n||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},TX=rTe(yTe),Uje=(e,t)=>new gTe(e,t),gTe=class extends hP{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},Gje=e=>(t={})=>mTe((i,r)=>{const n=gX(i.el),s={_lang:n.lang,_t9nLocale:n.t9nLocale,_loading:!0},a=i;r.onLifecycle(()=>OMe(i.el,()=>e("./assets"),({t9nLocale:u,t9nStrings:d,lang:m})=>{const v={...d,_lang:m,_t9nLocale:u,_loading:!1};r.exports=v;const b=d.componentLabel;typeof b=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=b)),l(a.messageOverrides)},t.name));function l(u){const d=r.exports,m=d._original??d,v=EX(m,u);u&&(v._original=m),r.exports=v}return"messageOverrides"in a&&r.onLifecycle(()=>pP(a,"messageOverrides",l)),t.blocking?(r.setProvisionalExports(s,!1),r.ready):s});function EX(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach(([r,n])=>{typeof n=="object"?i[r]=EX(e[r],n):i[r]=n??e[r]}),i}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GS=globalThis,fP=GS.ShadowRoot&&(GS.ShadyCSS===void 0||GS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,mP=Symbol(),YF=new WeakMap;let CX=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==mP)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(fP&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=YF.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&YF.set(i,t))}return t}toString(){return this.cssText}};const vTe=e=>new CX(typeof e=="string"?e:e+"",void 0,mP),Bje=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((r,n,s)=>r+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[s+1],e[0]);return new CX(i,e,mP)},bTe=(e,t)=>{if(fP)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),n=GS.litNonce;n!==void 0&&r.setAttribute("nonce",n),r.textContent=i.cssText,e.appendChild(r)}},ZF=fP?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return vTe(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:wTe,defineProperty:_Te,getOwnPropertyDescriptor:STe,getOwnPropertyNames:xTe,getOwnPropertySymbols:MTe,getPrototypeOf:TTe}=Object,Hh=globalThis,KF=Hh.trustedTypes,ETe=KF?KF.emptyScript:"",PC=Hh.reactiveElementPolyfillSupport,tb=(e,t)=>e,b4={toAttribute(e,t){switch(t){case Boolean:e=e?ETe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},IX=(e,t)=>!wTe(e,t),JF={attribute:!0,type:String,converter:b4,reflect:!1,useDefault:!1,hasChanged:IX};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Hh.litPropertyMetadata??(Hh.litPropertyMetadata=new WeakMap);let hy=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=JF){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(t,r,i);n!==void 0&&_Te(this.prototype,t,n)}}static getPropertyDescriptor(t,i,r){const{get:n,set:s}=STe(this.prototype,t)??{get(){return this[i]},set(a){this[i]=a}};return{get:n,set(a){const l=n==null?void 0:n.call(this);s==null||s.call(this,a),this.requestUpdate(t,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??JF}static _$Ei(){if(this.hasOwnProperty(tb("elementProperties")))return;const t=TTe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(tb("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(tb("properties"))){const i=this.properties,r=[...xTe(i),...MTe(i)];for(const n of r)this.createProperty(n,i[n])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,n]of i)this.elementProperties.set(r,n)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const n=this._$Eu(i,r);n!==void 0&&this._$Eh.set(n,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const n of r)i.unshift(ZF(n))}else t!==void 0&&i.push(ZF(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(i=>i(this))}addController(t){var i;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)==null||i.call(t))}removeController(t){var i;(i=this._$EO)==null||i.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return bTe(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$ET(t,i){var s;const r=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,r);if(n!==void 0&&r.reflect===!0){const a=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:b4).toAttribute(i,r.type);this._$Em=t,a==null?this.removeAttribute(n):this.setAttribute(n,a),this._$Em=null}}_$AK(t,i){var s,a;const r=this.constructor,n=r._$Eh.get(t);if(n!==void 0&&this._$Em!==n){const l=r.getPropertyOptions(n),u=typeof l.converter=="function"?{fromAttribute:l.converter}:((s=l.converter)==null?void 0:s.fromAttribute)!==void 0?l.converter:b4;this._$Em=n,this[n]=u.fromAttribute(i,l.type)??((a=this._$Ej)==null?void 0:a.get(n))??null,this._$Em=null}}requestUpdate(t,i,r){var n;if(t!==void 0){const s=this.constructor,a=this[t];if(r??(r=s.getPropertyOptions(t)),!((r.hasChanged??IX)(a,i)||r.useDefault&&r.reflect&&a===((n=this._$Ej)==null?void 0:n.get(t))&&!this.hasAttribute(s._$Eu(t,r))))return;this.C(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,i,{useDefault:r,reflect:n,wrapped:s},a){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,a??i??this[t]),s!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(i=void 0),this._$AL.set(t,i)),n===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,a]of this._$Ep)this[s]=a;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[s,a]of n){const{wrapped:l}=a,u=this[s];l!==!0||this._$AL.has(s)||u===void 0||this.C(s,void 0,a,u)}}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdate)==null?void 0:s.call(n)}),this.update(i)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(i)}willUpdate(t){}_$AE(t){var i;(i=this._$EO)==null||i.forEach(r=>{var n;return(n=r.hostUpdated)==null?void 0:n.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(t){}firstUpdated(t){}};hy.elementStyles=[],hy.shadowRootOptions={mode:"open"},hy[tb("elementProperties")]=new Map,hy[tb("finalized")]=new Map,PC==null||PC({ReactiveElement:hy}),(Hh.reactiveElementVersions??(Hh.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ib=globalThis,Sx=ib.trustedTypes,XF=Sx?Sx.createPolicy("lit-html",{createHTML:e=>e}):void 0,$X="$lit$",Ah=`lit$${Math.random().toFixed(9).slice(2)}$`,AX="?"+Ah,CTe=`<${AX}>`,wf=document,Ob=()=>wf.createComment(""),kb=e=>e===null||typeof e!="object"&&typeof e!="function",yP=Array.isArray,ITe=e=>yP(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",OC=`[ 	
\f\r]`,g1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,QF=/-->/g,ez=/>/g,Ud=RegExp(`>|${OC}(?:([^\\s"'>=/]+)(${OC}*=${OC}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),tz=/'/g,iz=/"/g,RX=/^(?:script|style|textarea|title)$/i,PX=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),qje=PX(1),Wje=PX(2),id=Symbol.for("lit-noChange"),Pr=Symbol.for("lit-nothing"),rz=new WeakMap,Kp=wf.createTreeWalker(wf,129);function OX(e,t){if(!yP(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return XF!==void 0?XF.createHTML(t):t}const $Te=(e,t)=>{const i=e.length-1,r=[];let n,s=t===2?"<svg>":t===3?"<math>":"",a=g1;for(let l=0;l<i;l++){const u=e[l];let d,m,v=-1,b=0;for(;b<u.length&&(a.lastIndex=b,m=a.exec(u),m!==null);)b=a.lastIndex,a===g1?m[1]==="!--"?a=QF:m[1]!==void 0?a=ez:m[2]!==void 0?(RX.test(m[2])&&(n=RegExp("</"+m[2],"g")),a=Ud):m[3]!==void 0&&(a=Ud):a===Ud?m[0]===">"?(a=n??g1,v=-1):m[1]===void 0?v=-2:(v=a.lastIndex-m[2].length,d=m[1],a=m[3]===void 0?Ud:m[3]==='"'?iz:tz):a===iz||a===tz?a=Ud:a===QF||a===ez?a=g1:(a=Ud,n=void 0);const _=a===Ud&&e[l+1].startsWith("/>")?" ":"";s+=a===g1?u+CTe:v>=0?(r.push(d),u.slice(0,v)+$X+u.slice(v)+Ah+_):u+Ah+(v===-2?l:_)}return[OX(e,s+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let w4=class kX{constructor({strings:t,_$litType$:i},r){let n;this.parts=[];let s=0,a=0;const l=t.length-1,u=this.parts,[d,m]=$Te(t,i);if(this.el=kX.createElement(d,r),Kp.currentNode=this.el.content,i===2||i===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(n=Kp.nextNode())!==null&&u.length<l;){if(n.nodeType===1){if(n.hasAttributes())for(const v of n.getAttributeNames())if(v.endsWith($X)){const b=m[a++],_=n.getAttribute(v).split(Ah),S=/([.?@])?(.*)/.exec(b);u.push({type:1,index:s,name:S[2],strings:_,ctor:S[1]==="."?RTe:S[1]==="?"?PTe:S[1]==="@"?OTe:Y5}),n.removeAttribute(v)}else v.startsWith(Ah)&&(u.push({type:6,index:s}),n.removeAttribute(v));if(RX.test(n.tagName)){const v=n.textContent.split(Ah),b=v.length-1;if(b>0){n.textContent=Sx?Sx.emptyScript:"";for(let _=0;_<b;_++)n.append(v[_],Ob()),Kp.nextNode(),u.push({type:2,index:++s});n.append(v[b],Ob())}}}else if(n.nodeType===8)if(n.data===AX)u.push({type:2,index:s});else{let v=-1;for(;(v=n.data.indexOf(Ah,v+1))!==-1;)u.push({type:7,index:s}),v+=Ah.length-1}s++}}static createElement(t,i){const r=wf.createElement("template");return r.innerHTML=t,r}};function Eg(e,t,i=e,r){var a,l;if(t===id)return t;let n=r!==void 0?(a=i._$Co)==null?void 0:a[r]:i._$Cl;const s=kb(t)?void 0:t._$litDirective$;return(n==null?void 0:n.constructor)!==s&&((l=n==null?void 0:n._$AO)==null||l.call(n,!1),s===void 0?n=void 0:(n=new s(e),n._$AT(e,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=n:i._$Cl=n),n!==void 0&&(t=Eg(e,n._$AS(e,t.values),n,r)),t}let ATe=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,n=((t==null?void 0:t.creationScope)??wf).importNode(i,!0);Kp.currentNode=n;let s=Kp.nextNode(),a=0,l=0,u=r[0];for(;u!==void 0;){if(a===u.index){let d;u.type===2?d=new W5(s,s.nextSibling,this,t):u.type===1?d=new u.ctor(s,u.name,u.strings,this,t):u.type===6&&(d=new kTe(s,this,t)),this._$AV.push(d),u=r[++l]}a!==(u==null?void 0:u.index)&&(s=Kp.nextNode(),a++)}return Kp.currentNode=wf,n}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}},W5=class LX{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,i,r,n){this.type=2,this._$AH=Pr,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=Eg(this,t,i),kb(t)?t===Pr||t==null||t===""?(this._$AH!==Pr&&this._$AR(),this._$AH=Pr):t!==this._$AH&&t!==id&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ITe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Pr&&kb(this._$AH)?this._$AA.nextSibling.data=t:this.T(wf.createTextNode(t)),this._$AH=t}$(t){var s;const{values:i,_$litType$:r}=t,n=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=w4.createElement(OX(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===n)this._$AH.p(i);else{const a=new ATe(n,this),l=a.u(this.options);a.p(i),this.T(l),this._$AH=a}}_$AC(t){let i=rz.get(t.strings);return i===void 0&&rz.set(t.strings,i=new w4(t)),i}k(t){yP(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,n=0;for(const s of t)n===i.length?i.push(r=new LX(this.O(Ob()),this.O(Ob()),this,this.options)):r=i[n],r._$AI(s),n++;n<i.length&&(this._$AR(r&&r._$AB.nextSibling,n),i.length=n)}_$AR(t=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);t&&t!==this._$AB;){const n=t.nextSibling;t.remove(),t=n}}setConnected(t){var i;this._$AM===void 0&&(this._$Cv=t,(i=this._$AP)==null||i.call(this,t))}},Y5=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,n,s){this.type=1,this._$AH=Pr,this._$AN=void 0,this.element=t,this.name=i,this._$AM=n,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Pr}_$AI(t,i=this,r,n){const s=this.strings;let a=!1;if(s===void 0)t=Eg(this,t,i,0),a=!kb(t)||t!==this._$AH&&t!==id,a&&(this._$AH=t);else{const l=t;let u,d;for(t=s[0],u=0;u<s.length-1;u++)d=Eg(this,l[r+u],i,u),d===id&&(d=this._$AH[u]),a||(a=!kb(d)||d!==this._$AH[u]),d===Pr?t=Pr:t!==Pr&&(t+=(d??"")+s[u+1]),this._$AH[u]=d}a&&!n&&this.j(t)}j(t){t===Pr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},RTe=class extends Y5{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Pr?void 0:t}},PTe=class extends Y5{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Pr)}},OTe=class extends Y5{constructor(t,i,r,n,s){super(t,i,r,n,s),this.type=5}_$AI(t,i=this){if((t=Eg(this,t,i,0)??Pr)===id)return;const r=this._$AH,n=t===Pr&&r!==Pr||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==Pr&&(r===Pr||n);n&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,t):this._$AH.handleEvent(t)}},kTe=class{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Eg(this,t)}};const eFe={I:W5},kC=ib.litHtmlPolyfillSupport;kC==null||kC(w4,W5),(ib.litHtmlVersions??(ib.litHtmlVersions=[])).push("3.3.0");const LTe=(e,t,i)=>{const r=(i==null?void 0:i.renderBefore)??t;let n=r._$litPart$;if(n===void 0){const s=(i==null?void 0:i.renderBefore)??null;r._$litPart$=n=new W5(t.insertBefore(Ob(),s),s,void 0,i??{})}return n._$AI(e),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nf=globalThis;let Ky=class extends hy{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const t=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=t.firstChild),t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=LTe(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return id}};var cV;Ky._$litElement$=!0,Ky.finalized=!0,(cV=nf.litElementHydrateSupport)==null||cV.call(nf,{LitElement:Ky});const LC=nf.litElementPolyfillSupport;LC==null||LC({LitElement:Ky});(nf.litElementVersions??(nf.litElementVersions=[])).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NX={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},DX=e=>(...t)=>({_$litDirective$:e,values:t});let jX=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NTe=DX(class extends jX{constructor(e){var t;if(super(e),e.type!==NX.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,n;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(t)}const i=e.element.classList;for(const s of this.st)s in t||(i.remove(s),this.st.delete(s));for(const s in t){const a=!!t[s];a===this.st.has(s)||(n=this.nt)!=null&&n.has(s)||(a?(i.add(s),this.st.add(s)):(i.remove(s),this.st.delete(s)))}return id}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const FX="important",DTe=" !"+FX,jTe=DX(class extends jX{constructor(e){var t;if(super(e),e.type!==NX.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const n=t[r];if(n!=null){this.ft.add(r);const s=typeof n=="string"&&n.endsWith(DTe);r.includes("-")||s?i.setProperty(r,s?n.slice(0,-11):n,s?FX:""):i[r]=n}}return id}});var zX=(e="",t={},i=q5())=>{const r={emit:n=>{e===""&&dP();const s=new CustomEvent(e,{detail:n,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(s),s}};return e===""&&MX(void 0,n=>{e=n.key},r),r},rFe=zX.bind(null,""),FTe=()=>{},af,zTe=(af=class extends Ky{constructor(){var i,r,n;super(),this.el=this.constructor.lazy??this,this.manager=sTe(this),this._postLoad=((i=this.constructor.lazy)==null?void 0:i._postLoad)??new bf,this._offspring=((r=this.constructor.lazy)==null?void 0:r._offspring)??[],this._postLoaded=((n=this.constructor.lazy)==null?void 0:n._postLoaded)??new bf,this._enableUpdating=this.enableUpdating,this.enableUpdating=FTe;const t=af.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){var n;const i=super.finalizeStyles(t),r=this.shadowRootOptions===VF;return((n=this.runtime)==null?void 0:n.commonStyles)===void 0||r?i:[this.runtime.commonStyles,...i]}static createProperty(t,i){const r=typeof i=="number"?i:Array.isArray(i)?i[0]:0,n=Array.isArray(i)?i[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?bX(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...n})}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})}))}createRenderRoot(){const t=this.el.shadowRoot,i=this.constructor,r=i.shadowRootOptions,s=t??(r===VF?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:s}),t)return Ky.prototype.createRenderRoot.call(this),t;if(this.isConnected){const a=s.getRootNode();a.adoptedStyleSheets=[...a.adoptedStyleSheets,...i.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return s}async _load(){const t=this.el._ancestorLoad??wX(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const i=this._offspring.filter(r=>{var n;return!((n=r.manager)!=null&&n.loadedCalled)});i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){var i;return this.$changes=t,((i=this._originalShouldUpdate)==null?void 0:i.call(this,t))??!0}listen(t,i,r){const n=(i==null?void 0:i.bind(this))??i;this.manager.onLifecycle(()=>(this.el.addEventListener(t,n,r),()=>this.el.removeEventListener(t,n,r)))}listenOn(t,i,r,n){const s=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(t.addEventListener(i,s,n),()=>t.removeEventListener(i,s,n)))}async componentOnReady(){return await this._postLoaded.promise,this}},af.lumina=!0,af);zTe.$createEvent=zX;function UTe(e){let t;const i=n=>{var s;t=new URL(n,((s=globalThis.location)==null?void 0:s.href)||void 0).href},r={...e,getAssetPath(n){var a;const s=new URL(n,t);return s.origin!==((a=globalThis.location)==null?void 0:a.origin)?s.href:s.pathname},setAssetPath:i,customElement(n,s){s.runtime=r,s.tagName=n,customElements.get(n)||customElements.define(n,s)}};return i(e.defaultAssetPath),r}var nFe=e=>typeof e=="object"&&e!=null?NTe(e):e,sFe=e=>typeof e=="object"&&e!=null?jTe(e):e,aFe=Pr;function oFe(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}var lFe={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */const GTe="calcite-mode-auto",VTe="calcite-mode-dark",uFe={rtl:"calcite--rtl"},cFe={filter:250,nextTick:0,resize:150,reposition:100};function nz(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(VTe)||e.contains(GTe)&&t?"dark":"light",r=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),n=a=>{s!==a&&r(a),s=a};let s=i();r(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>n(a.matches?"dark":"light")),new MutationObserver(()=>n(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Fu=globalThis.calciteConfig,hFe=(Fu==null?void 0:Fu.focusTrapStack)||[],dFe=(Fu==null?void 0:Fu.logLevel)||"info",sz="3.1.0",BTe="2025-03-26",HTe="d5f75fd64";function qTe(){if(Fu&&Fu.version)return;console.info(`Using Calcite Components ${sz} [Date: ${BTe}, Revision: ${HTe}]`);const e=Fu||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:sz,writable:!1}),globalThis.calciteConfig=e}const WTe=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;function YTe(){WTe()&&(document.readyState==="interactive"?nz():document.addEventListener("DOMContentLoaded",()=>nz(),{once:!0})),qTe()}YTe();const ZTe=UTe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.1.0/",hydratedAttribute:"calcite-hydrated"}),{customElement:pFe,getAssetPath:fFe,setAssetPath:KTe}=ZTe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */let UX=!1;const JTe=e=>{UX=!0,KTe(e)};let GX;function XTe(){UX||JTe(Oa(ki(GX)))}function Lf(e){var i;const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push((i=e[r])==null?void 0:i.call(e));return t.length>0?Promise.all(t):null}GX="components/assets";const VX=Symbol("widget"),BX=Symbol("widget-test-data"),QTe=[],eEe={},xx=new WeakMap;function HX(e,t){let i=t.children;if(i!=null&&i.length)for(let n=0;n<i.length;++n)i[n]=HX(e,i[n]);else i=QTe;const r=t.vnodeSelector;if(Mx(r)){const n=t.properties||eEe,s=n.key||r,a={key:s,afterCreate:tEe,afterUpdate:iEe,afterRemoved:qX,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function tEe(e,t,i,{parentWidget:r,widgetConstructor:n,widgetProperties:s}){var l;const a=new n(s);a.container=e,xx.set(e,a),(l=a.afterCreate)==null||l.call(a,a,e),r.addHandles(jt(()=>qX(e))),queueMicrotask(()=>{a[BX].projector.renderNow()})}function iEe(e,t,i,{widgetProperties:r}){var s;const n=xx.get(e);n&&(n.set(r),(s=n.afterUpdate)==null||s.call(n,n,e))}function qX(e){var i;const t=xx.get(e);t&&((i=t.afterRemoved)==null||i.call(t,t,e),t.destroy(),xx.delete(e))}function Mx(e){return typeof e=="function"&&e[VX]}const az=new Set;function rEe(e){az.add(e),e.finally(()=>az.delete(e))}var WX;const nEe="esri.widgets.Widget";let sEe=0;function YX(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(e[r]!=null&&t[r]!=null&&typeof e[r]=="object"&&typeof t[r]=="object"?YX(e[r],t[r]):e[r]=t[r]);return e}const aEe=SMe({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(r,n,s,a)=>{const l=t==null?void 0:t(r,n,s,a),u=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in s)||u){const d=r[2].toLowerCase()+r.slice(3),m=_=>l==null?void 0:l.call(s,_);s.addEventListener(d,m,u);const v=()=>s.removeEventListener(d,m,u),b=a.afterRemoved;a.afterRemoved=_=>{b==null||b(_),v()}}return l}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:s}=r,a=n===Event.CAPTURING_PHASE;let l=`on${s}${a?"capture":""}`;const u=t.properties;(u&&l in u||(l=`on${s[0].toUpperCase()}${s.slice(1)}${a?"Capture":""}`,u&&l in u))&&(dY(),e.scheduleRender(),u[l].call(u.bind||i,r))}});let NC=!1,fr=class extends u2.EsriPromiseMixin(Va.EventedAccessor){constructor(t,i){super(t,i),this._attached=!1,this._projector=aEe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=mR(async()=>{var u;if((u=this._messageBundleProps)!=null&&u.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:m,propertyName:v})=>{if(this.destroyed)return;let b=await h8(m);this.uiStrings&&Object.keys(this.uiStrings)&&(b=YX(H(b),this.uiStrings)),this[v]=b}));if(this.destroyed)return;for(const m of d)m.status==="rejected"&&ce.getLogger(this).error("widget-intl:locale-error",this.declaredClass,m.reason)}await this.loadLocale()}),XTe();const r="esri-widget-uid-"+H5(),n=this.render.bind(this);this._trackingTarget=new Qx(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{var v,b;if(!this._readyForTrueRender||this.destroyed)return null;const u=n()??s(),d=u.properties??(u.properties={});if(d.key??(d.key=r),Mx(u.vnodeSelector)){if(!this.visible)return s()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(v=d.styles).display??(v.display="");let m=0;return(b=u.children)==null||b.forEach(_=>{var S;Mx(_.vnodeSelector)||(_.properties??(_.properties={}),(S=_.properties).key??(S.key=`${this.id}--${m++}`))}),HX(this,u)};this.render=()=>{if(NC)return a();let u=$ye(this)??null;if(u)return u;this._trackingTarget.clear(),NC=!0;try{u=Hu(this._trackingTarget,a)}catch(d){throw ce.getLogger(this).error(d),d}finally{NC=!1}return u&&Aye(this,u),u};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),rEe(this._resourcesFetch)}normalizeCtorArgs(t,i){const r={...t};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const t=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(qL):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(vi(this._trackingTarget),vi(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,WE(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return g8(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+sEe++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(WX=VX,BX)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(WE(this),this._projector.scheduleRender())}classes(...t){return pY.apply(this,t)}renderNow(){WE(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Ge(()=>this.viewModel,(r,n)=>{n&&this.removeHandles("delegated-events"),r&&Xx(r)&&this.addHandles(this._delegatedEventNames.map(s=>Kb(r,s,a=>{this.emit(s,a)})),"delegated-events")},cs)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(qL),this.scheduleRender()};this.addHandles([QR(t),Ge(()=>this.uiStrings,t),Pn(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=t==null?void 0:t.parentNode)==null||i.removeChild(t)}};fr[WX]=!0,fr.vnodeSelector="div",h([f()],fr.prototype,"_readyForTrueRender",void 0),h([f({value:null})],fr.prototype,"container",null),h([Gt("container")],fr.prototype,"castContainer",null),h([f()],fr.prototype,"icon",null),h([f()],fr.prototype,"id",null),h([f()],fr.prototype,"label",null),h([f()],fr.prototype,"renderable",null),h([f()],fr.prototype,"uiStrings",void 0),h([f()],fr.prototype,"viewModel",void 0),h([f({value:!0})],fr.prototype,"visible",null),h([f()],fr.prototype,"key",void 0),h([f()],fr.prototype,"children",void 0),h([f()],fr.prototype,"afterCreate",void 0),h([f()],fr.prototype,"afterUpdate",void 0),h([f()],fr.prototype,"afterRemoved",void 0),fr=h([O(nEe)],fr);const ic=fr,oEe=new Map;function lEe(e){return oEe.get(e)}function oz(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function uEe(e,t){return e.length!==t.length||e.some((i,r)=>i.text!==t[r].text)}function v1(e,t,i){!i||!t||e.find(r=>r.layerView===t&&r.text===i)||e.push({text:i,layerView:t})}function cEe(e){return e.type==="bing-maps"}const au=[];let dy=class extends De{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Ce,this.view=null,this._allLayerViewsChange=i=>{var n;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=(n=this.view)==null?void 0:n.allLayerViews;r&&(this.addHandles(r.map(s=>Ge(()=>{var a;return[s.suspended,(a=s.layer)==null?void 0:a.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(s=>{s.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(s.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i!=null&&i.removed&&i.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([Tl(()=>{var i;return(i=this.view)==null?void 0:i.allLayerViews},"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Pn(()=>{var i;return((i=this.view)==null?void 0:i.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,i=t==null?void 0:t.allLayerViews;if(au.length=0,!t||!i)return void this._clear();i.forEach(n=>{var l,u;if(n.suspended||!((l=n.layer)!=null&&l.attributionVisible))return;const s=n.layer;if(oz(s,"user"))return void v1(au,n,s.copyright);if(s.hasAttributionData){if(this._fetchedAttributionData.has(n)){const d=this._fetchedAttributionData.get(n);return void(d?v1(au,n,this._getDynamicAttribution(d,t,s)):oz(s)&&v1(au,n,s.copyright))}return void this._fetchAttributionData(n)}const a="portalItem"in s?(u=s.portalItem)==null?void 0:u.accessInformation:void 0;v1(au,n,a||s.copyright)});const r=i.find(n=>{var s;return((s=n.layer)==null?void 0:s.type)==="integrated-mesh-3dtiles"});if(this.view&&r){const n=lEe(this.view);if(n){const s=n.getAttributionText();for(let a=0;a<s.length;++a)v1(au,r,s[a])}}uEe(this.items,au)&&(this.items.removeAll(),this.items.addMany(au)),au.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await KR(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const r=i.ok?this._createContributionIndex(i.value,cEe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,r)}this._updateAttributionItems()}_createContributionIndex(t,i){const r=t.contributors,n={};if(!r)return n;for(let s=0;s<r.length;s++){const a=r[s],l=a.coverageAreas;if(!l)return;for(const u of l){const d=u.bbox,m=u.zoomMin-(i&&u.zoomMin?1:0),v=u.zoomMax-(i&&u.zoomMax?1:0),b=new Lt({xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:it.WGS84}),_={extent:_l(b),attribution:a.attribution||"",score:u.score!=null?u.score:100,id:s};for(let S=m;S<=v;S++)n[S]??(n[S]=[]),n[S].push(_)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,i,r){var m;const{extent:n,scale:s}=i;let a=((m=r.tileInfo)==null?void 0:m.scaleToZoom(s))??0;if(a=Math.min(t.maxKey??0,Math.round(a)),!n||a==null||a<=-1)return"";const l=t[a],u=o5(n.center.clone().normalize(),it.WebMercator),d=new Set;return l?l.filter(v=>{const b=v.id,_=!d.has(b)&&u&&v.extent&&e2(v.extent,u);return _&&d.add(b),_}).sort((v,b)=>b.score-v.score||v.objectId-b.objectId).map(v=>v.attribution).join(", "):""}};h([f({readOnly:!0,type:Ce})],dy.prototype,"items",void 0),h([f({readOnly:!0})],dy.prototype,"state",null),h([f()],dy.prototype,"view",void 0),dy=h([O("esri.widgets.Attribution.AttributionViewModel")],dy);const ZX=dy,Ii={anchor:"esri-widget__anchor",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",loaderAnimation:"esri-widget__loader-animation",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function Tx(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:dEe(e[t])}}}function hEe(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function dEe(e){return function(t,...i){hEe(t)?Lye(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function qa(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var pEe=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},KX=function(e,t){for(var i=0,r=e.length;i<r;i++){var n=e[i];Array.isArray(n)?KX(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=pEe(n)),t.push(n))}},fEe=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return KX(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function Ie(e,t,...i){return typeof e!="function"||Mx(e)?fEe(e,t??null,...i):e(t,...i)}function gFe(...e){return e}const Nm="esri-attribution",Dm={base:Nm,poweredBy:`${Nm}__powered-by`,sources:`${Nm}__sources`,open:`${Nm}--open`,sourcesOpen:`${Nm}__sources--open`,link:`${Nm}__link`};let jn=class extends ic{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:n})=>this._checkSourceTextOverflow(n))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new ZX}initialize(){this.addHandles(Tl(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Dm.open]:this._isOpen};return Ie("div",{bind:this,class:this.classes(Dm.base,Ii.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return Ie("div",{class:Dm.poweredBy},"Powered by"," ",Ie("a",{class:Dm.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:n}=this,s={[Dm.sourcesOpen]:t,[Ii.interactive]:i};return Ie("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Dm.sources,s),innerHTML:n,tabIndex:r})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1;const{clientHeight:r,clientWidth:n,scrollWidth:s}=t,a=s>n,l=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,l&&(i=!0),this._isOpen){const u=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,u&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};h([f()],jn.prototype,"_isOpen",void 0),h([f()],jn.prototype,"_isInteractive",null),h([f()],jn.prototype,"_attributionTextOverflowed",void 0),h([f()],jn.prototype,"_prevSourceNodeHeight",void 0),h([f({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],jn.prototype,"attributionText",null),h([f()],jn.prototype,"icon",null),h([f()],jn.prototype,"itemDelimiter",void 0),h([f()],jn.prototype,"label",null),h([f(),qa("esri/widgets/Attribution/t9n/Attribution")],jn.prototype,"messages",void 0),h([f()],jn.prototype,"view",null),h([f({type:ZX})],jn.prototype,"viewModel",void 0),h([Tx()],jn.prototype,"_toggleState",null),jn=h([O("esri.widgets.Attribution")],jn);const mEe=jn;function yEe(){const e=J("mapview-essential-goto-duration");return e==null?e:e}function gEe(e){var t,i;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((i=e==null?void 0:e.spatialReference)==null?void 0:i.isGeographic)||!1}const gP=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:r}=this;return xB(r),this.goToOverride?this.goToOverride(r,i):r.goTo(i.target,i.options)}};return h([f()],t.prototype,"goToOverride",void 0),h([f()],t.prototype,"view",void 0),t=h([O("esri.widgets.support.GoTo")],t),t};let gp=class extends gP(De){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(ir)}destroy(){this.view=null}get canShowNorth(){return gEe(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,i;(t=this.view)!=null&&t.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:yEe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?Ge(()=>t==null?void 0:t.rotation,this._updateForRotation,ir):Ge(()=>t==null?void 0:t.camera,this._updateForCamera,ir))}_watchForView(t){this.addHandles(Ge(()=>this.view,this._updateRotationWatcher,t))}};h([f({readOnly:!0})],gp.prototype,"canShowNorth",null),h([f({readOnly:!0})],gp.prototype,"orientation",void 0),h([f({readOnly:!0})],gp.prototype,"state",null),h([f()],gp.prototype,"view",void 0),gp=h([O("esri.widgets.Compass.CompassViewModel")],gp);const JX=gp,lz="esri-compass",uz={base:lz,iconContainer:`${lz}__icon-container`};let _u=class extends ic{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new JX,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return Lf({button:()=>ve(()=>import("./index-qgtZKWjP.js"),__vite__mapDeps([261,262,263,264,265,266,267,268,269,270,271,272,273])),icon:()=>ve(()=>import("./index-9ifTNSNj.js").then(t=>t.i),__vite__mapDeps([265,266,263,267]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:i}=this.viewModel,{messages:r}=this;return Ie("div",{class:this.classes(uz.base,Ii.widget)},Ie("calcite-button",{class:Ii.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},Ie("div",{"aria-hidden":"true",class:uz.iconContainer,title:r.reset},Ie("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};h([f()],_u.prototype,"goToOverride",null),h([f()],_u.prototype,"icon",null),h([f()],_u.prototype,"label",null),h([f(),qa("esri/widgets/Compass/t9n/Compass")],_u.prototype,"messages",void 0),h([f()],_u.prototype,"view",null),h([f({type:JX})],_u.prototype,"viewModel",void 0),_u=h([O("esri.widgets.Compass")],_u);const vEe=_u,cz="esri-navigation-toggle",hz={base:cz,isLayoutHorizontal:`${cz}--horizontal`};let py=class extends De{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(Pn(()=>{var t,i;return(i=(t=this.view)==null?void 0:t.navigation)==null?void 0:i.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,i;return(t=this.view)!=null&&t.ready&&((i=this.view)==null?void 0:i.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var r,n;const t=(n=(r=this.view)==null?void 0:r.navigation)==null?void 0:n.actionMap;if(!t)return;const i=this._navigationMode==="pan";t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};h([f({readOnly:!0})],py.prototype,"state",null),h([f()],py.prototype,"_navigationMode",void 0),h([f()],py.prototype,"view",void 0),py=h([O("esri.widgets.NavigationToggle.NavigationToggleViewModel")],py);const XX=py;let Su=class extends ic{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new XX,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var n;const r=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan"?this._rotateButton:this._panButton;Nye(r),this.toggle()}}loadDependencies(){return Lf({button:()=>ve(()=>import("./index-qgtZKWjP.js"),__vite__mapDeps([261,262,263,264,265,266,267,268,269,270,271,272,273]))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var n,s;const t=((n=this.viewModel)==null?void 0:n.state)==="disabled",i=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan",r=this.messages.toggle;return Ie("div",{class:this.classes(hz.base,Ii.widget,{[hz.isLayoutHorizontal]:this.layout==="horizontal"})},Ie("calcite-button",{afterCreate:a=>{this._panButton=a},appearance:i?"outline-fill":"solid",class:Ii.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),Ie("calcite-button",{afterCreate:a=>{this._rotateButton=a},appearance:i?"solid":"outline-fill",class:Ii.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};h([f()],Su.prototype,"icon",null),h([f()],Su.prototype,"label",null),h([f({value:"vertical"})],Su.prototype,"layout",null),h([f(),qa("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Su.prototype,"messages",void 0),h([f()],Su.prototype,"view",null),h([f({type:XX})],Su.prototype,"viewModel",void 0),Su=h([O("esri.widgets.NavigationToggle")],Su);const bEe=Su;let vp=class extends De{get canZoomIn(){var r,n,s;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(s=(n=this.view)==null?void 0:n.constraints)==null?void 0:s.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var n;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const r=(n=t.constraints)==null?void 0:n.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,n;const t=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(t&&"then"in t||t==null?void 0:t.scale)??((n=this.view)==null?void 0:n.scale)??0}};h([f({readOnly:!0})],vp.prototype,"canZoomIn",null),h([f({readOnly:!0})],vp.prototype,"canZoomOut",null),h([f()],vp.prototype,"view",void 0),h([f()],vp.prototype,"_scale",null),vp=h([O("esri.widgets.Zoom.ZoomConditions2D")],vp);const wEe=vp;let fy=class extends De{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};h([f({readOnly:!0})],fy.prototype,"canZoomIn",null),h([f({readOnly:!0})],fy.prototype,"canZoomOut",null),h([f()],fy.prototype,"view",void 0),fy=h([O("esri.widgets.Zoom.ZoomConditions3D")],fy);const _Ee=fy;let oh=class extends De{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new wEe({view:t}):t.type==="3d"&&(this._zoomConditions=new _Ee({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():og(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():og(t.goTo({zoomFactor:.5})))}};h([f()],oh.prototype,"_zoomConditions",void 0),h([f()],oh.prototype,"canZoomIn",null),h([f()],oh.prototype,"canZoomOut",null),h([f({readOnly:!0})],oh.prototype,"state",null),h([f()],oh.prototype,"view",null),oh=h([O("esri.widgets.Zoom.ZoomViewModel")],oh);const QX=oh,dz={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let xu=class extends ic{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new QX,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return Lf({button:()=>ve(()=>import("./index-qgtZKWjP.js"),__vite__mapDeps([261,262,263,264,265,266,267,268,269,270,271,272,273]))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[dz.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:n,zoomOut:s}=this.messages;return Ie("div",{class:this.classes(dz.base,Ii.widget,t)},Ie("calcite-button",{class:Ii.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),Ie("calcite-button",{class:Ii.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};h([f()],xu.prototype,"icon",null),h([f()],xu.prototype,"label",null),h([f({value:"vertical"})],xu.prototype,"layout",null),h([f(),qa("esri/widgets/Zoom/t9n/Zoom")],xu.prototype,"messages",void 0),h([f()],xu.prototype,"view",null),h([f({type:QX})],xu.prototype,"viewModel",void 0),xu=h([O("esri.widgets.Zoom")],xu);const SEe=xu;function xEe(e){return(e==null?void 0:e.view)!==void 0}let VS=class extends fMe{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const n=this._find(r),s=n==null?void 0:n.widget;xEe(s)&&(s.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([Ge(()=>this.components,this._componentsWatcher,ir),Ge(()=>this.view,this._updateViewAwareWidgets,ir)])}_add(t,i,r,n,s){let a=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;a=this._createComponent(t)}super._add(a,i,r,n,s)}_removeComponents(t){t.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){const i=this._createWidget(t);return new zS({id:t,node:i})}_createWidget(t){const i=this.view;switch(t){case"attribution":return new mEe({view:i});case"compass":return new vEe({view:i});case"navigation-toggle":return new bEe({view:i});case"zoom":return new SEe({view:i})}}};h([f()],VS.prototype,"components",void 0),VS=h([O("esri.views.ui.DefaultUI")],VS);const eQ=VS;let BS=class extends eQ{constructor(t){super(t),this.components=["attribution","zoom"]}};h([f()],BS.prototype,"components",void 0),BS=h([O("esri.views.ui.2d.DefaultUI2D")],BS);const tQ=BS;let iQ=class _4{constructor(t,i,r=""){this.major=t,this.minor=i,this._context=r}lessThan(t,i){return this.major<t||t===this.major&&this.minor<i}greaterEqual(t,i){return!this.lessThan(t,i)}validate(t){if(this.major!==t.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new z(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new _4(this.major,this.minor,this._context)}static parse(t,i=""){const[r,n]=t.split("."),s=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!s.test(r))throw new z((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(n!=null&&n.match)||!s.test(n))throw new z((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(r,10),l=parseInt(n,10);return new _4(a,l,i)}},MEe=class extends iQ{constructor(t,i){super(t,i,"webmap")}};function DC(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}new MEe(2,33);var S4;let HS=S4=class extends ue{constructor(e){super(e),this.color=new me([0,0,0,1])}clone(){return new S4(H({color:this.color}))}};h([f({type:me,json:{write:!0}})],HS.prototype,"color",void 0),HS=S4=h([O("esri.webmap.background.ColorBackground")],HS);const TEe=HS;let rQ,nQ,sQ,aQ,oQ,lQ,uQ;async function EEe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:n,GridView2D:s,Stage:a}]=await Promise.all([ve(()=>import("./webglDeps-C9AfL3Hw.js"),__vite__mapDeps([182,133,183,184,185])),ve(()=>import("./mapViewDeps-3iDSesSx.js"),__vite__mapDeps([186,69,70,14,71,72,73,68,187,76,188,183,133,184,137,116,189,94,190,121,80,18,19,74,82,191,77,78,79,192,4,182,185,193,89,194,67,16,11,23,22,195,126,127,114,135,196,56,197,81,198,199,75,200,45,86,65,201,202,203,204,129,205,206]))]);nQ=e,sQ=t,aQ=i,oQ=r,lQ=n,uQ=s,rQ=a}let Mt=class extends U3e(Nme(hge(Jye(X2e)))){constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new vb({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new N5({actionMap:new V8({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new Ce,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new pX,this.type="2d",this.view2dType=null,this.ui=new tQ,this.test={takeScreenshot:async i=>Z5e(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},Bfe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=vi(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new t5e(this.featuresTilingScheme)}get constraintsInfo(){var r,n;const t=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(n=t==null?void 0:t.spatialReference)!=null&&n.equals(i)?t.lods:null,spatialReference:i}}get initialExtentRequired(){var l;if(!this.stateManager)return!1;const{scale:t,constraints:i,center:r,viewpoint:n,extent:s}=this;let a=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((l=this.map.initialViewProperties)!=null&&l.viewpoint))&&!s&&(i!=null&&i.effectiveLODs||(a=-1),(!r||t===0&&a===-1)&&((n==null?void 0:n.targetGeometry)==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const i=t.targetGeometry,r=this.spatialReference;return GW(i.spatialReference,r)}get background(){return DC(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get highlightOptions(){return O5e(this)}set highlightOptions(t){k5e(this,t)}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resolution(){return this.stateManager.resolution??0}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var r,n,s,a;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(l=>!l.destroyed&&!("layerViews"in l)&&l.updating===!0)||t);if(J("esri-2d-log-updating")){const l=this.allLayerViews.reduce((u,d)=>({...u,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(n=this.layerViewManager)==null?void 0:n.updating}
-> labelManager.updating: ${(s=this.labelManager)==null?void 0:s.updating}
-> graphicsView.updating: ${(a=this.graphicsView)==null?void 0:a.updating}
-> allLayerViews: ${JSON.stringify(l)}
-> updatingMagnifier: ${t}
`)}return i}get visibleArea(){const t=this.stateManager.visibleArea;return t&&new ra({rings:[t.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}async hitTest(t,i){return L5e(this,t,i)}async takeScreenshot(t){return Y5e(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const i=SK(t)?_K(this,t):t;return this.stateManager.toMap(i)}toScreen(t,i){return this.stateManager.toScreen(t,i)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((t=this.defaultsFromMap)==null?void 0:t.spatialReference)||null}getDefaultTimeZone(){return DC(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return DC(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(t){return tF.hasLayerViewModule(t)}importLayerView(t){return tF.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(ce.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var d;const i=this.toMap(t),r=await this.hitTest(t),n=this.allLayerViews.toArray().filter(m=>m.clips.every(v=>iX(this,v,t,i))).reverse(),s=new globalThis.Map(n.map(m=>[m.layer.uid,m])),a=[];let l=0,u=0;for(;l<r.results.length||u<n.length;){const m=r.results.at(l);if(m&&m.type!=="graphic"){++l;continue}const v=s.get((d=(m==null?void 0:m.layer)??(m==null?void 0:m.graphic.layer))==null?void 0:d.uid);if((!m||v)&&u<n.length&&n.at(u)!==v){const b=n.at(u);"fetchPopupFeaturesAtLocation"in b&&a.push({mapPoint:i,layerView:b}),++u}else m&&(a.push({graphic:m.graphic,layerView:v}),++l)}return{hits:a,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=nMe(this.type);if(J("safari")&&J("safari")<9&&(t=new z("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:J("safari")})),t!=null)throw ce.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return EEe()}_getDefaultViewpoint(){var T;const{constraints:t,initialExtent:i,map:r,padding:n,size:s}=this;if(!t)return null;const a=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,l=this.stateManager.getUserStartupOptions(this.size),u=a==null?void 0:a.viewpoint,d=((T=u==null?void 0:u.targetGeometry)==null?void 0:T.extent)??i,m=d==null?void 0:d.center,v=(u==null?void 0:u.rotation)??0,b=(u==null?void 0:u.scale)||d&&U5(d,[s[0]-n.left-n.right,s[1]-n.top-n.bottom]),_=l.center??m,S=l.rotation??v,M=l.scale??b;return _&&M?new ys({targetGeometry:_,scale:M,rotation:S}):null}_startup(){var l;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(l=this.defaultsFromMap.extent)==null?void 0:l.center),this.graphics.owner=this;const i=new rQ(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new lQ,this._magnifierView.magnifier=this.magnifier,this._gridView=new uQ;const r=new aQ({view:this});this._set("labelManager",r);const n=new Dxe({view:this});this._set("animationManager",n);const s=new oQ({view:this,animationManager:n});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("webgl-error",u=>this.fatalError=u.error),Ge(()=>this.stationary,u=>i.stationary=u,cs),Ge(()=>this.background,u=>{i.backgroundColor=u==null?void 0:u.color,this._magnifierView.backgroundColor=u==null?void 0:u.color},cs),Ge(()=>this.magnifier,u=>this._magnifierView.magnifier=u,cs),Ge(()=>this.grid,u=>this._gridView.grid=u,cs),Ge(()=>this.renderingOptions,u=>i.renderingOptions=u,cs),Ge(()=>this.highlights.items.map(u=>({name:u.name,options:{fillColor:u.color,haloColor:u.haloColor,fillOpacity:u.fillOpacity,haloOpacity:u.haloOpacity,haloWidth:u.haloWidth,haloBlur:u.haloBlur}})),()=>{i.highlightGradient=R5e(i.highlightGradient,this.highlights.items)},cs),Ge(()=>this.state.id,()=>i.state=this.state,cs)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const t=new Vxe(Oo.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const i=new nQ({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new sQ(t)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var a;const{allLayerViews:i,padding:r,size:n,stage:s}=this;return{allLayerViews:i,backgroundColor:t!=null&&t.ignoreBackground?null:(a=this.background)==null?void 0:a.color,padding:r,size:n,stage:s}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Mt.type="2d",h([f({constructOnly:!0})],Mt.prototype,"deactivatedWebGLExtensions",void 0),h([f({constructOnly:!0})],Mt.prototype,"debugWebGLExtensions",void 0),h([f({readOnly:!0})],Mt.prototype,"featuresTilingScheme",void 0),h([f({readOnly:!0})],Mt.prototype,"graphicsTileStore",null),h([f()],Mt.prototype,"graphicsView",void 0),h([f()],Mt.prototype,"constraintsInfo",null),h([f()],Mt.prototype,"initialExtentRequired",null),h([f()],Mt.prototype,"labelManager",void 0),h([f({type:N5,nonNullable:!0})],Mt.prototype,"navigation",void 0),h([f({constructOnly:!0})],Mt.prototype,"renderCanvas",void 0),h([f()],Mt.prototype,"renderingOptions",void 0),h([f({constructOnly:!0})],Mt.prototype,"supersampleScreenshotsEnabled",void 0),h([f({readOnly:!0})],Mt.prototype,"supportsGround",void 0),h([f()],Mt.prototype,"defaultsFromMapSettings",null),h([f({readOnly:!0})],Mt.prototype,"typeSpecificPreconditionsReady",null),h([f({type:TEe})],Mt.prototype,"background",null),h([f()],Mt.prototype,"center",null),h([f({type:Ce})],Mt.prototype,"floors",void 0),h([f()],Mt.prototype,"grid",void 0),h([f({type:Bh})],Mt.prototype,"highlightOptions",null),h([f()],Mt.prototype,"map",void 0),h([f()],Mt.prototype,"padding",null),h([f({readOnly:!0})],Mt.prototype,"rendering",null),h([f({readOnly:!0})],Mt.prototype,"resolution",null),h([f()],Mt.prototype,"scale",null),h([f({constructOnly:!0})],Mt.prototype,"spatialReferenceLocked",void 0),h([f({readOnly:!0})],Mt.prototype,"tileInfo",null),h([f({type:pX,readOnly:!0})],Mt.prototype,"timeline",void 0),h([f({readOnly:!0})],Mt.prototype,"type",void 0),h([f({readOnly:!0})],Mt.prototype,"updating",null),h([f({readOnly:!0})],Mt.prototype,"view2dType",void 0),h([f({readOnly:!0})],Mt.prototype,"visibleArea",null),h([f()],Mt.prototype,"zoom",null),h([f({readOnly:!0})],Mt.prototype,"navigating",null),h([f(),Gt(e=>e instanceof eQ?e:qb(tQ,e))],Mt.prototype,"ui",void 0),Mt=h([O("esri.views.View2D")],Mt);const CEe=Mt;let qS=class extends CEe{constructor(t){super(t),this.view2dType="map"}};h([f({readOnly:!0})],qS.prototype,"view2dType",void 0),qS=h([O("esri.views.MapView")],qS);const IEe=qS;let $Ee=class cQ{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(mI),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new cQ,r=this._originStores[wt.DEFAULTS];r&&r.forEach((n,s)=>{i.set(s,H(n),wt.DEFAULTS)});for(let n=wt.SERVICE;n<mI;n++){const s=this._originStores[n];s&&s.forEach((a,l)=>{t&&t.has(l)||i.set(l,H(a),n)})}return i}get(t,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,r=wt.USER){let n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const s=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),s!==i}return!1}delete(t,i=wt.USER){const r=this._originStores[i];if(!r)return;const n=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let s=i-1;s>=0;s--){const a=this._originStores[s];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,s);break}}}return n}has(t,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const r=this._originStores[i],n=r==null?void 0:r.get(t),s=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,i),s!==n}originOf(t){return this._propertyOriginMap.get(t)||wt.DEFAULTS}forEach(t){this._values.forEach(t)}};const hQ=e=>{let t=class extends e{constructor(...i){super(...i);const r=ws(this),n=r.store,s=new $Ee;r.store=s,ZB(r,n,s)}read(i,r){JB(this,i,r)}getAtOrigin(i,r){const n=jC(this),s=Ph(r);if(typeof i=="string")return n.get(i,s);const a={};return i.forEach(l=>{a[l]=n.get(l,s)}),a}originOf(i){return M3(this.originIdOf(i))}originIdOf(i){return jC(this).originOf(i)}revert(i,r){const n=jC(this),s=Ph(r),a=ws(this);let l;l=typeof i=="string"?i==="*"?n.keys(s):[i]:i,l.forEach(u=>{a.invalidate(u),n.revert(u,s),a.commit(u)})}};return t=h([O("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function jC(e){return ws(e).store}let pz=class extends hQ(De){};pz=h([O("esri.core.ReadOnlyMultiOriginJSONSupport")],pz);const AEe=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,r="user"){return FC(this).delete(i,Ph(r))}write(i,r){return QB(this,i=i||{},r),i}setAtOrigin(i,r,n){ws(this).setAtOrigin(i,r,Ph(n))}removeOrigin(i){const r=FC(this),n=Ph(i),s=r.keys(n);for(const a of s)r.originOf(a)===n&&r.set(a,r.get(a,n),wt.USER)}updateOrigin(i,r){const n=FC(this),s=Ph(r),a=vl(this,i);for(let l=s+1;l<mI;++l)n.delete(i,l);n.set(i,a,s)}toJSON(i){return this.write({},i)}};return t=h([O("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function FC(e){return ws(e).store}const vP=e=>{let t=class extends AEe(hQ(e)){constructor(...i){super(...i)}};return t=h([O("esri.core.MultiOriginJSONSupport")],t),t};let fz=class extends vP(De){};fz=h([O("esri.core.MultiOriginJSONSupport")],fz);const REe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},PEe={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}},bP=[252,146,31,255],OEe=[153,153,153,255],dQ={type:"esriSMS",style:"esriSMSCircle",size:6,color:bP,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},pQ={type:"esriSLS",style:"esriSLSSolid",width:.75,color:bP},fQ={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},kEe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},LEe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},NEe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},DEe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};function kFe(e){return{renderer:{type:"simple",symbol:e==="esriGeometryPoint"||e==="esriGeometryMultipoint"?dQ:e==="esriGeometryPolyline"?pQ:fQ}}}const jEe=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let FEe=1;function LFe(e,t){if(J("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let i=`this${mz(t)} = null;`;for(const n in e)i+=`this${mz(n)} = ${JSON.stringify(e[n])};`;const r=new Function(`
      return class AttributesClass$${FEe++} {
        constructor() {
          ${i};
        }
      }
    `)();return()=>new r}catch{return()=>({[t]:null,...e})}}function mz(e){return jEe.test(e)?`.${e}`:`["${e}"]`}function NFe(e={}){return[{name:"New Feature",description:"",prototype:{attributes:H(e)}}]}function zEe(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:REe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:PEe,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}var x4;const M4=new It({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Ur=x4=class extends ue{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,Zu)}writeGeometryType(e,t,i,r){if(e)return void M4.write(e,t,i,r);const{features:n}=this;if(n){for(const s of n)if((s==null?void 0:s.geometry)!=null)return void M4.write(s.geometry.type,t,i,r)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,r=yf(e);return r&&!i&&t.spatialReference&&(r.spatialReference=it.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(t.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new x4(this.cloneProperties())}cloneProperties(){return H({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const r=t.features[i];if(r.geometry){const n=e==null?void 0:e[i];r.geometry=(n==null?void 0:n.toJSON())||r.geometry}}return t}quantize(e){const{scale:[t,i],translate:[r,n]}=e,s=d=>Math.round((d-r)/t),a=d=>Math.round((n-d)/i),l=this.features,u=this._getQuantizationFunction(this.geometryType,s,a);for(let d=0,m=l.length;d<m;d++)u!=null&&u(l[d].geometry)||(l.splice(d,1),d--,m--);return this.transform=e,this}unquantize(){var b,_;const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[r,n],scale:[s,a]}=i,l=S=>S*s+r,u=S=>n-S*a;let d=null,m=null;if(this.hasZ&&((b=i==null?void 0:i.scale)==null?void 0:b[2])!=null){const{translate:[,,S],scale:[,,M]}=i;d=T=>T*M+S}if(this.hasM&&((_=i==null?void 0:i.scale)==null?void 0:_[3])!=null){const{translate:[,,,S],scale:[,,,M]}=i;m=T=>T==null?T:T*M+S}const v=this._getHydrationFunction(e,l,u,d,m);for(const{geometry:S}of t)S!=null&&v&&v(S);return this.transform=null,this}readFeaturesWithClass(e,t,i){var s;const r=it.fromJSON(t.spatialReference),n=[];for(let a=0;a<e.length;a++){const l=e[a],u=i.fromJSON(l),d=(s=l.geometry)==null?void 0:s.spatialReference;u.geometry==null||d||(u.geometry.spatialReference=r);const m=l.aggregateGeometries,v=u.aggregateGeometries;if(m&&v!=null)for(const b in v){const _=v[b],S=m[b],M=S==null?void 0:S.spatialReference;_==null||M||(_.spatialReference=r)}n.push(u)}return n}_quantizePoints(e,t,i){let r,n;const s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];if(a>0){const d=t(u[0]),m=i(u[1]);d===r&&m===n||(s.push([d-r,m-n]),r=d,n=m)}else r=t(u[0]),n=i(u[1]),s.push([r,n])}return s.length>0?s:null}_getQuantizationFunction(e,t,i){return e==="point"?r=>(r.x=t(r.x),r.y=i(r.y),r):e==="polyline"||e==="polygon"?r=>{const n=Qp(r)?r.rings:r.paths,s=[];for(let a=0,l=n.length;a<l;a++){const u=n[a],d=this._quantizePoints(u,t,i);d&&s.push(d)}return s.length>0?(Qp(r)?r.rings=s:r.paths=s,r):null}:e==="multipoint"?r=>{const n=this._quantizePoints(r.points,t,i);return n&&n.length>0?(r.points=n,r):null}:e==="extent"?r=>r:null}_getHydrationFunction(e,t,i,r,n){return e==="point"?s=>{s.x=t(s.x),s.y=i(s.y),r&&(s.z=r(s.z))}:e==="polyline"||e==="polygon"?s=>{const a=Qp(s)?s.rings:s.paths;let l,u;for(let d=0,m=a.length;d<m;d++){const v=a[d];for(let b=0,_=v.length;b<_;b++){const S=v[b];b>0?(l+=S[0],u+=S[1]):(l=S[0],u=S[1]),S[0]=t(l),S[1]=i(u)}}if(r&&n)for(let d=0,m=a.length;d<m;d++){const v=a[d];for(let b=0,_=v.length;b<_;b++){const S=v[b];S[2]=r(S[2]),S[3]=n(S[3])}}else if(r)for(let d=0,m=a.length;d<m;d++){const v=a[d];for(let b=0,_=v.length;b<_;b++){const S=v[b];S[2]=r(S[2])}}else if(n)for(let d=0,m=a.length;d<m;d++){const v=a[d];for(let b=0,_=v.length;b<_;b++){const S=v[b];S[2]=n(S[2])}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=i(s.ymin),s.xmax=t(s.xmax),s.ymax=i(s.ymax),r&&s.zmax!=null&&s.zmin!=null&&(s.zmax=r(s.zmax),s.zmin=r(s.zmin)),n&&s.mmax!=null&&s.mmin!=null&&(s.mmax=n(s.mmax),s.mmin=n(s.mmin))}:e==="multipoint"?s=>{const a=s.points;let l,u;for(let d=0,m=a.length;d<m;d++){const v=a[d];d>0?(l+=v[0],u+=v[1]):(l=v[0],u=v[1]),v[0]=t(l),v[1]=i(u)}if(r&&n)for(let d=0,m=a.length;d<m;d++){const v=a[d];v[2]=r(v[2]),v[3]=n(v[3])}else if(r)for(let d=0,m=a.length;d<m;d++){const v=a[d];v[2]=r(v[2])}else if(n)for(let d=0,m=a.length;d<m;d++){const v=a[d];v[2]=n(v[2])}}:null}};h([f({type:String,json:{write:!0}})],Ur.prototype,"displayFieldName",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ur.prototype,"exceededTransferLimit",void 0),h([f({type:[Zu],json:{write:!0}})],Ur.prototype,"features",void 0),h([He("features")],Ur.prototype,"readFeatures",null),h([f({type:[L5],json:{write:!0}})],Ur.prototype,"fields",void 0),h([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:M4.read}}})],Ur.prototype,"geometryType",void 0),h([Re("geometryType")],Ur.prototype,"writeGeometryType",null),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ur.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Ur.prototype,"hasZ",void 0),h([f({types:i2,json:{write:!0}})],Ur.prototype,"queryGeometry",void 0),h([He("queryGeometry")],Ur.prototype,"readQueryGeometry",null),h([f({type:it,json:{write:!0}})],Ur.prototype,"spatialReference",void 0),h([Re("spatialReference")],Ur.prototype,"writeSpatialReference",null),h([f({json:{write:!0}})],Ur.prototype,"transform",void 0),Ur=x4=h([O("esri.rest.support.FeatureSet")],Ur),Ur.prototype.toJSON.isDefaultToJSON=!0;const UEe=Ur;let bp=class extends Ba{constructor(){super(...arguments),this.type="geojson",this.refresh=mR(async t=>{await this.load();const{extent:i,timeExtent:r}=await this._connection.invoke("refresh",t);return this.sourceJSON.extent=i,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(t){const i=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",t?t.toJSON():null,i)).then(r=>UEe.fromJSON(r))}queryFeaturesJSON(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",t?t.toJSON():null,i))}queryFeatureCount(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,i))}queryObjectIds(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,i))}queryExtent(t,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,i)).then(r=>({count:r.count,extent:Lt.fromJSON(r.extent)}))}querySnapping(t,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",t,i))}async queryAttributeBins(t,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",t==null?void 0:t.toJSON(),i)}_applyEdits(t){if(!this._connection)throw new z("geojson-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField,r=[],n=[],s=[];if(t.addFeatures)for(const a of t.addFeatures)r.push(this._serializeFeature(a));if(t.deleteFeatures)for(const a of t.deleteFeatures)"objectId"in a&&a.objectId!=null?n.push(a.objectId):"attributes"in a&&a.attributes[i]!=null&&n.push(a.attributes[i]);if(t.updateFeatures)for(const a of t.updateFeatures)s.push(this._serializeFeature(a));return this._connection.invoke("applyEdits",{adds:r,updates:s,deletes:n}).then(({extent:a,timeExtent:l,featureEditResults:u})=>(this.sourceJSON.extent=a,l&&(this.sourceJSON.timeInfo.timeExtent=[l.start,l.end]),this._createEditsResult(u)))}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const i=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:i?new z("geojson-layer-source:edit-failure",i.description,{code:i.code}):null}}_serializeFeature(t){const{attributes:i}=t,r=this._geometryForSerialization(t);return r?{geometry:r.toJSON(),attributes:i}:{attributes:i}}_geometryForSerialization(t){const{geometry:i}=t;return i==null?null:i.type==="mesh"||i.type==="extent"?ra.fromExtent(i.extent):i}async _startWorker(t){this._connection=await Hfe("GeoJSONSourceWorker",{strategy:J("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:i,spatialReference:r,hasZ:n,geometryType:s,objectIdField:a,url:l,timeInfo:u,customParameters:d}=this.layer,m=this.layer.originOf("spatialReference")==="defaults",v={url:l,customParameters:d,fields:i&&i.map(_=>_.toJSON()),geometryType:WR.toJSON(s),hasZ:n,objectIdField:a,timeInfo:u?u.toJSON():null,spatialReference:m?null:r&&r.toJSON()},b=await this._connection.invoke("load",v,{signal:t});for(const _ of b.warnings)ce.getLogger(this.layer).warn("#load()",`${_.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:_});b.featureErrors.length&&ce.getLogger(this.layer).warn("#load()",`Encountered ${b.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:b.featureErrors}),this.sourceJSON=b.layerDefinition,this.capabilities=zEe(this.sourceJSON.hasZ,!0)}};h([f()],bp.prototype,"capabilities",void 0),h([f()],bp.prototype,"type",void 0),h([f({constructOnly:!0})],bp.prototype,"layer",void 0),h([f()],bp.prototype,"sourceJSON",void 0),bp=h([O("esri.layers.graphics.sources.GeoJSONSource")],bp);const ur=(e=>e)(["operational-layers","basemap","ground"]);function GEe(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}function Jy(e,t,i,r){var n=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(n,Jy.prototype),n.expected=t,n.found=i,n.location=r,n.name="SyntaxError",n}function zC(e,t,i){return i=i||" ",e.length>t?e:(t-=e.length,e+(i+=i.repeat(t)).slice(0,t))}function VEe(e,t){var i,r={},n=(t=t!==void 0?t:{}).grammarSource,s={start:Nt},a=Nt,l="none",u=")",d=",",m="(",v="%",b="px",_="cm",S="mm",M="in",T="pt",E="pc",A="deg",P="rad",N="grad",D="turn",k="#",q=".",X="e",re=/^[ \t\n\r]/,W=/^[a-z\-]/,be=/^[0-9a-fA-F]/,ae=/^[+\-]/,$e=/^[0-9]/,Me=je("none"),Ke=ke("none",!1),ee=ke(")",!1),we=ke(",",!1),xe=je("whitespace"),tt=Ze([" ","	",`
`,"\r"],!1,!1),U=je("function"),he=ke("(",!1),Pe=je("identifier"),Te=Ze([["a","z"],"-"],!1,!1),Ye=je("percentage"),St=ke("%",!1),rt=je("length"),Jr=ke("px",!1),ri=ke("cm",!1),sa=ke("mm",!1),rr=ke("in",!1),xs=ke("pt",!1),nc=ke("pc",!1),pd=je("angle"),Ms=ke("deg",!1),Zg=ke("rad",!1),Kg=ke("grad",!1),On=ke("turn",!1),Jg=je("number"),Df=je("color"),jf=ke("#",!1),kl=Ze([["0","9"],["a","f"],["A","F"]],!1,!1),aa=Ze(["+","-"],!1,!1),Xr=Ze([["0","9"]],!1,!1),Ff=ke(".",!1),fd=ke("e",!1),dn=function(){return[]},bi=function(j,oe){return{type:"function",name:j,parameters:oe||[]}},Ts=function(j,oe){return oe.length>0?fi(j,oe,3):[j]},_r=function(j){return{type:"quantity",value:j.value,unit:j.unit}},Xg=function(j){return{type:"color",colorType:j.type,value:j.value}},oa=function(j){return j},zf=function(){return Ne()},Ll=function(j){return{value:j,unit:"%"}},Nl=function(j){return{value:j,unit:"px"}},Ka=function(j){return{value:j,unit:"cm"}},Dl=function(j){return{value:j,unit:"mm"}},la=function(j){return{value:j,unit:"in"}},Uf=function(j){return{value:j,unit:"pt"}},sc=function(j){return{value:j,unit:"pc"}},Gf=function(j){return{value:j,unit:"deg"}},ac=function(j){return{value:j,unit:"rad"}},jl=function(j){return{value:j,unit:"grad"}},Vf=function(j){return{value:j,unit:"turn"}},Fl=function(j){return{value:j,unit:null}},zl=function(){return{type:"hex",value:Ne()}},md=function(j){return{type:"function",value:j}},yd=function(){return{type:"named",value:Ne()}},G=function(){return parseFloat(Ne())},L=0|t.peg$currPos,K=L,de=[{line:1,column:1}],_e=L,ze=t.peg$maxFailExpected||[],fe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in s))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=s[t.startRule]}function Ne(){return e.substring(K,L)}function ke(j,oe){return{type:"literal",text:j,ignoreCase:oe}}function Ze(j,oe,ge){return{type:"class",parts:j,inverted:oe,ignoreCase:ge}}function st(){return{type:"end"}}function je(j){return{type:"other",description:j}}function lt(j){var oe,ge=de[j];if(ge)return ge;if(j>=de.length)oe=de.length-1;else for(oe=j;!de[--oe];);for(ge={line:(ge=de[oe]).line,column:ge.column};oe<j;)e.charCodeAt(oe)===10?(ge.line++,ge.column=1):ge.column++,oe++;return de[j]=ge,ge}function kt(j,oe,ge){var nt=lt(j),Qt=lt(oe);return{source:n,start:{offset:j,line:nt.line,column:nt.column},end:{offset:oe,line:Qt.line,column:Qt.column}}}function Le(j){L<_e||(L>_e&&(_e=L,ze=[]),ze.push(j))}function wi(j,oe,ge){return new Jy(Jy.buildMessage(j,oe),j,oe,ge)}function Nt(){var j;return(j=$t())===r&&(j=Fo()),j}function $t(){var j,oe;return fe++,j=L,ui(),e.substr(L,4)===l?(oe=l,L+=4):(oe=r,fe===0&&Le(Ke)),oe!==r?(ui(),K=j,j=dn()):(L=j,j=r),fe--,j===r&&fe===0&&Le(Me),j}function Fo(){var j,oe;if(j=[],(oe=Sr())!==r)for(;oe!==r;)j.push(oe),oe=Sr();else j=r;return j}function Sr(){var j,oe,ge,nt;return j=L,ui(),(oe=zo())!==r?(ui(),(ge=Yn())===r&&(ge=null),ui(),e.charCodeAt(L)===41?(nt=u,L++):(nt=r,fe===0&&Le(ee)),nt!==r?(ui(),K=j,j=bi(oe,ge)):(L=j,j=r)):(L=j,j=r),j}function Yn(){var j,oe,ge,nt,Qt,ci,Hi,xr;if(j=L,(oe=Lr())!==r){for(ge=[],nt=L,Qt=ui(),e.charCodeAt(L)===44?(ci=d,L++):(ci=r,fe===0&&Le(we)),ci===r&&(ci=null),Hi=ui(),(xr=Lr())!==r?nt=Qt=[Qt,ci,Hi,xr]:(L=nt,nt=r);nt!==r;)ge.push(nt),nt=L,Qt=ui(),e.charCodeAt(L)===44?(ci=d,L++):(ci=r,fe===0&&Le(we)),ci===r&&(ci=null),Hi=ui(),(xr=Lr())!==r?nt=Qt=[Qt,ci,Hi,xr]:(L=nt,nt=r);K=j,j=Ts(oe,ge)}else L=j,j=r;return j}function Lr(){var j,oe;return j=L,(oe=Zn())===r&&(oe=Ja())===r&&(oe=_t())===r&&(oe=Nr()),oe!==r&&(K=j,oe=_r(oe)),(j=oe)===r&&(j=L,(oe=Es())!==r&&(K=j,oe=Xg(oe)),j=oe),j}function ui(){var j,oe;for(fe++,j=[],oe=e.charAt(L),re.test(oe)?L++:(oe=r,fe===0&&Le(tt));oe!==r;)j.push(oe),oe=e.charAt(L),re.test(oe)?L++:(oe=r,fe===0&&Le(tt));return fe--,oe=r,fe===0&&Le(xe),j}function zo(){var j,oe,ge;return fe++,j=L,(oe=oc())!==r?(e.charCodeAt(L)===40?(ge=m,L++):(ge=r,fe===0&&Le(he)),ge!==r?(K=j,j=oa(oe)):(L=j,j=r)):(L=j,j=r),fe--,j===r&&(oe=r,fe===0&&Le(U)),j}function oc(){var j,oe,ge;if(fe++,j=L,oe=[],ge=e.charAt(L),W.test(ge)?L++:(ge=r,fe===0&&Le(Te)),ge!==r)for(;ge!==r;)oe.push(ge),ge=e.charAt(L),W.test(ge)?L++:(ge=r,fe===0&&Le(Te));else oe=r;return oe!==r&&(K=j,oe=zf()),fe--,(j=oe)===r&&(oe=r,fe===0&&Le(Pe)),j}function Zn(){var j,oe,ge;return fe++,j=L,ui(),(oe=Ri())!==r?(e.charCodeAt(L)===37?(ge=v,L++):(ge=r,fe===0&&Le(St)),ge!==r?(K=j,j=Ll(oe)):(L=j,j=r)):(L=j,j=r),fe--,j===r&&fe===0&&Le(Ye),j}function Ja(){var j,oe,ge;return fe++,j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===b?(ge=b,L+=2):(ge=r,fe===0&&Le(Jr)),ge!==r?(K=j,j=Nl(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===_?(ge=_,L+=2):(ge=r,fe===0&&Le(ri)),ge!==r?(K=j,j=Ka(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===S?(ge=S,L+=2):(ge=r,fe===0&&Le(sa)),ge!==r?(K=j,j=Dl(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===M?(ge=M,L+=2):(ge=r,fe===0&&Le(rr)),ge!==r?(K=j,j=la(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===T?(ge=T,L+=2):(ge=r,fe===0&&Le(xs)),ge!==r?(K=j,j=Uf(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,ui(),(oe=Ri())!==r?(e.substr(L,2)===E?(ge=E,L+=2):(ge=r,fe===0&&Le(nc)),ge!==r?(K=j,j=sc(oe)):(L=j,j=r)):(L=j,j=r)))))),fe--,j===r&&fe===0&&Le(rt),j}function _t(){var j,oe,ge;return fe++,j=L,(oe=Ri())!==r?(e.substr(L,3)===A?(ge=A,L+=3):(ge=r,fe===0&&Le(Ms)),ge!==r?(K=j,j=Gf(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,(oe=Ri())!==r?(e.substr(L,3)===P?(ge=P,L+=3):(ge=r,fe===0&&Le(Zg)),ge!==r?(K=j,j=ac(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,(oe=Ri())!==r?(e.substr(L,4)===N?(ge=N,L+=4):(ge=r,fe===0&&Le(Kg)),ge!==r?(K=j,j=jl(oe)):(L=j,j=r)):(L=j,j=r),j===r&&(j=L,(oe=Ri())!==r?(e.substr(L,4)===D?(ge=D,L+=4):(ge=r,fe===0&&Le(On)),ge!==r?(K=j,j=Vf(oe)):(L=j,j=r)):(L=j,j=r)))),fe--,j===r&&(oe=r,fe===0&&Le(pd)),j}function Nr(){var j,oe;return fe++,j=L,ui(),(oe=Ri())!==r?(K=j,j=Fl(oe)):(L=j,j=r),fe--,j===r&&fe===0&&Le(Jg),j}function Es(){var j,oe,ge,nt;if(fe++,j=L,e.charCodeAt(L)===35?(oe=k,L++):(oe=r,fe===0&&Le(jf)),oe!==r){if(ge=[],nt=e.charAt(L),be.test(nt)?L++:(nt=r,fe===0&&Le(kl)),nt!==r)for(;nt!==r;)ge.push(nt),nt=e.charAt(L),be.test(nt)?L++:(nt=r,fe===0&&Le(kl));else ge=r;ge!==r?(K=j,j=zl()):(L=j,j=r)}else L=j,j=r;return j===r&&(j=L,(oe=Sr())!==r&&(K=j,oe=md(oe)),(j=oe)===r&&(j=L,(oe=oc())!==r&&(K=j,oe=yd()),j=oe)),fe--,j===r&&(oe=r,fe===0&&Le(Df)),j}function Ri(){var j,oe,ge,nt,Qt,ci,Hi,xr;for(j=L,oe=e.charAt(L),ae.test(oe)?L++:(oe=r,fe===0&&Le(aa)),oe===r&&(oe=null),ge=L,nt=[],Qt=e.charAt(L),$e.test(Qt)?L++:(Qt=r,fe===0&&Le(Xr));Qt!==r;)nt.push(Qt),Qt=e.charAt(L),$e.test(Qt)?L++:(Qt=r,fe===0&&Le(Xr));if(e.charCodeAt(L)===46?(Qt=q,L++):(Qt=r,fe===0&&Le(Ff)),Qt!==r){if(ci=[],Hi=e.charAt(L),$e.test(Hi)?L++:(Hi=r,fe===0&&Le(Xr)),Hi!==r)for(;Hi!==r;)ci.push(Hi),Hi=e.charAt(L),$e.test(Hi)?L++:(Hi=r,fe===0&&Le(Xr));else ci=r;ci!==r?ge=nt=[nt,Qt,ci]:(L=ge,ge=r)}else L=ge,ge=r;if(ge===r)if(ge=[],nt=e.charAt(L),$e.test(nt)?L++:(nt=r,fe===0&&Le(Xr)),nt!==r)for(;nt!==r;)ge.push(nt),nt=e.charAt(L),$e.test(nt)?L++:(nt=r,fe===0&&Le(Xr));else ge=r;if(ge!==r){if(nt=L,e.charCodeAt(L)===101?(Qt=X,L++):(Qt=r,fe===0&&Le(fd)),Qt!==r){if(ci=e.charAt(L),ae.test(ci)?L++:(ci=r,fe===0&&Le(aa)),ci===r&&(ci=null),Hi=[],xr=e.charAt(L),$e.test(xr)?L++:(xr=r,fe===0&&Le(Xr)),xr!==r)for(;xr!==r;)Hi.push(xr),xr=e.charAt(L),$e.test(xr)?L++:(xr=r,fe===0&&Le(Xr));else Hi=r;Hi!==r?nt=Qt=[Qt,ci,Hi]:(L=nt,nt=r)}else L=nt,nt=r;nt===r&&(nt=null),K=j,j=G()}else L=j,j=r;return j}function Ul(j,oe){return j.map(function(ge){return ge[oe]})}function fi(j,oe,ge){return[j].concat(Ul(oe,ge))}if(i=a(),t.peg$library)return{peg$result:i,peg$currPos:L,peg$FAILED:r,peg$maxFailExpected:ze,peg$maxFailPos:_e};if(i!==r&&L===e.length)return i;throw i!==r&&L<e.length&&Le(st()),wi(ze,_e<e.length?e.charAt(_e):null,_e<e.length?kt(_e,_e+1):kt(_e,_e))}function mQ(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=yz(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new z("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:yz(i.value)}});t.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!o1e(t[i].effects,t[i+1].effects))throw new z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});l1e(t[i].effects,t[i+1].effects)}return t.sort((i,r)=>r.scale-i.scale),t}function yz(e){let t;if(!e)return[];try{t=VEe(e)}catch(i){throw new z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>BEe(i))}function BEe(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return HEe(e);case"opacity":return qEe(e);case"hue-rotate":return WEe(e);case"blur":return YEe(e);case"drop-shadow":return ZEe(e);case"bloom":return KEe(e)}}catch(t){throw t.details.filter=e,t}throw new z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function HEe(e){let t=1;return qg(e.parameters,1),e.parameters.length===1&&(t=To(e.parameters[0])),new M$(e.name,t)}function qEe(e){let t=1;return qg(e.parameters,1),e.parameters.length===1&&(t=To(e.parameters[0])),new YY(t)}function WEe(e){let t=0;return qg(e.parameters,1),e.parameters.length===1&&(t=iCe(e.parameters[0])),new qY(t)}function YEe(e){let t=0;return qg(e.parameters,1),e.parameters.length===1&&(t=SP(e.parameters[0]),_2(t,e.parameters[0])),new UY(t)}function ZEe(e){const t=[];let i=null;for(const r of e.parameters)if(r.type==="color"){if(t.length&&Object.freeze(t),i)throw new z("effect:type-error","Accepts only one color",{});i=rCe(r)}else{const n=SP(r);if(Object.isFrozen(t))throw new z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(n),t.length===3&&_2(n,r)}if(t.length<2||t.length>3)throw new z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new BY(t[0],t[1],t[2]||0,i||yQ("black"))}function KEe(e){let t=1,i=0,r=0;return qg(e.parameters,3),e.parameters[0]&&(t=To(e.parameters[0])),e.parameters[1]&&(i=SP(e.parameters[1]),_2(i,e.parameters[1])),e.parameters[2]&&(r=To(e.parameters[2])),new FY(t,i,r)}function qg(e,t){if(e.length>t)throw new z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function Z5(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in _P)return"<length>";if(e.unit in wP)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function _2(e,t){if(e<0)throw new z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function JEe(e){if(e.type!=="quantity"||e.unit!==null)throw new z("effect:type-error",`Expected <double>, Actual: ${Z5(e)}`,{term:e})}function XEe(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new z("effect:type-error",`Expected <double> or <percentage>, Actual: ${Z5(e)}`,{term:e})}GEe(Jy,Error),Jy.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,r=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){r=e[i].text.split(/\r\n|\n|\r/g);break}var n=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(n):n,a=this.location.source+":"+s.line+":"+s.column;if(r){var l=this.location.end,u=zC("",s.line.toString().length," "),d=r[n.line-1],m=(n.line===l.line?l.column:d.length+1)-n.column||1;t+=`
 --> `+a+`
`+u+` |
`+s.line+" | "+d+`
`+u+" | "+zC("",n.column-1," ")+zC("",m,"^")}else t+=`
 at `+a}return t},Jy.buildMessage=function(e,t){var i={literal:function(d){return'"'+n(d.text)+'"'},class:function(d){var m=d.parts.map(function(v){return Array.isArray(v)?s(v[0])+"-"+s(v[1]):s(v)});return"["+(d.inverted?"^":"")+m.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function r(d){return d.charCodeAt(0).toString(16).toUpperCase()}function n(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+r(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+r(m)})}function s(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+r(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+r(m)})}function a(d){return i[d.type](d)}function l(d){var m,v,b=d.map(a);if(b.sort(),b.length>0){for(m=1,v=1;m<b.length;m++)b[m-1]!==b[m]&&(b[v]=b[m],v++);b.length=v}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function u(d){return d?'"'+n(d)+'"':"end of input"}return"Expected "+l(e)+" but "+u(t)+" found."};const wP={deg:1,grad:.9,rad:180/Math.PI,turn:360};function QEe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&wP[e.unit]!=null))throw new z("effect:type-error",`Expected <angle>, Actual: ${Z5(e)}`,{term:e})}const _P={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function eCe(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&_P[e.unit]!=null))throw new z("effect:type-error",`Expected <length>, Actual: ${Z5(e)}`,{term:e})}function To(e){XEe(e);const t=e.value;return _2(t,e),e.unit==="%"?.01*t:t}function tCe(e){return JEe(e),_2(e.value,e),e.value}function iCe(e){return QEe(e),e.value*wP[e.unit]||0}function SP(e){return eCe(e),e.value*_P[e.unit]||0}function rCe(e){switch(e.colorType){case"hex":return Kge(e.value);case"named":return yQ(e.value);case"function":return aCe(e.value)}}function yQ(e){if(!$Y(e))throw new z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Zge(e)}const nCe=/^rgba?/i,sCe=/^hsla?/i;function aCe(e){if(qg(e.parameters,4),nCe.test(e.name))return[To(e.parameters[0]),To(e.parameters[1]),To(e.parameters[2]),e.parameters[3]?To(e.parameters[3]):1];if(sCe.test(e.name))return AY(tCe(e.parameters[0]),To(e.parameters[1]),To(e.parameters[2]),e.parameters[3]?To(e.parameters[3]):1);throw new z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Lb(e,t,i){var r;try{return lCe(e)}catch(n){(r=i==null?void 0:i.messages)==null||r.push(n)}return null}function Nb(e,t,i,r){try{const n=oCe(e);bs(i,n,t)}catch(n){r.messages&&r.messages.push(n)}}function oCe(e){const t=mQ(e);return t?u1e(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:r})=>({scale:i,value:r.map(n=>n.toJSON())})):null}function lCe(e){if(!e||e.length===0)return null;if(uCe(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:gz(i.value)});return t}return gz(e)}function uCe(e){const t=e[0];return!!t&&"scale"in t}function gz(e){if(!(e!=null&&e.length))return"";const t=[];for(const i of e){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[ou(i,"amount")];break;case"blur":r=[ou(i,"radius","pt")];break;case"hue-rotate":r=[ou(i,"angle","deg")];break;case"drop-shadow":r=[ou(i,"xoffset","pt"),ou(i,"yoffset","pt"),ou(i,"blurRadius","pt"),cCe(i,"color")];break;case"bloom":r=[ou(i,"strength"),ou(i,"radius","pt"),ou(i,"threshold")]}const n=`${i.type}(${r.filter(Boolean).join(" ")})`;mQ(n),t.push(n)}return t.join(" ")}function ou(e,t,i){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function cCe(e,t){if(e[t]==null)throw new z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const hCe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:ur}},"portal-item":{read:!0,write:{layerContainerTypes:ur}}}}},vz={read:{reader:Lb},write:{allowNull:!0,writer:Nb,layerContainerTypes:ur}},dCe={json:{read:!1,write:!1,origins:{"web-map":vz,"portal-item":vz}}},gQ=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return h([f(hCe)],t.prototype,"blendMode",void 0),h([f(dCe)],t.prototype,"effect",void 0),t=h([O("esri.layers.mixins.BlendLayer")],t),t},vQ=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return h([f({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=h([O("esri.layers.mixins.CustomParametersMixin")],t),t},bQ=96;function jFe(e,t){const i=e.extent,r=e.width,n=Ss(i==null?void 0:i.spatialReference);return i&&r?i.width/r*n*AH*bQ:0}function pCe(e,t){return e/(Ss(t)*AH*bQ)}function fCe(e,t){const i=e.extent,r=e.width-(e.padding?e.padding.left+e.padding.right:0),n=pCe(t,i.spatialReference);return i.clone().expand(n*r/i.width)}function FFe(e,t,i){return mCe(e,t)&&yCe(e,i)}function mCe(e,t){return t===0||fs(e,t)||e<t}function yCe(e,t){return t===0||fs(e,t)||e>t}function gCe(e,t){return fs(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const bz={write:{overridePolicy:(e,t,i)=>({enabled:!i||i.filterMode==="scale"})}};let lh=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.id=H5(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};h([f({type:String,json:{write:!0}})],lh.prototype,"id",void 0),h([f({type:Number,json:bz})],lh.prototype,"maxScale",void 0),h([f({type:Number,json:bz})],lh.prototype,"minScale",void 0),h([f({type:String,json:{write:!0}})],lh.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],lh.prototype,"where",void 0),lh=h([O("esri.layers.support.DisplayFilter")],lh);const wQ=lh;function vCe(e,t){return{...t,filterMode:e.mode}}function UFe(e,t){return _Q(e,t).next().value??null}function GFe(e,t,i){const r=bCe(e);if(r&&(HB(t,r[0])||xI(i,r[1])))return"";const n=Array.from(_Q(e,t,i)),s=wCe(n,t,i)?"1=1":n.map(a=>a.where||"1=1").reduce((a,l)=>k1e(a,l),"");return s&&s!=="1=1"?s:""}function bCe(e){if(SQ(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of e.filters)t[0]=Math.max(t[0],Db(i)),t[1]=Math.min(t[1],Ex(r));return t}function*_Q(e,t,i){if(SQ(e)==="manual"){const r=e.filters.find(n=>n.id===e.activeFilterId);r&&(yield r)}else{typeof t=="object"&&(t=t.scale);for(const r of e.filters)_Ce(r.minScale,r.maxScale,t,i)&&(yield r)}}function wCe(e,t,i){var s,a;if(e.length===0)return!0;const r=Db((s=e.at(0))==null?void 0:s.minScale),n=Ex((a=e.at(-1))==null?void 0:a.maxScale);if(xI(r,t)||HB(n,i))return!0;for(let l=0;l<e.length-1;l++){const u=e[l],d=e[l+1];if(xI(Db(d.minScale),Ex(u.maxScale)))return!0}return!1}function _Ce(e,t,i,r){return e=Db(e),i=Db(i),t=Ex(t),!(!fs(i,e)&&(r??i)>e)&&!Lle(t,i)&&(r===void 0||!fs(r,e))}function SQ(e){return"mode"in e?e.mode:e.filterMode}function Db(e){return e||Number.POSITIVE_INFINITY}function Ex(e){return e||0}let wp=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.activeFilterId=null,this.filters=new(Ce.ofType(wQ)),this.mode="manual"}writeFilters(t,i,r,n){const s=t.toArray();this.mode==="scale"&&s.sort((a,l)=>{const u=gCe(l.minScale,a.minScale),d=a.maxScale-l.maxScale;return u===0?d:u}),i[r]=s.map(a=>a.toJSON(n))}write(t,i){return super.write(t,vCe(this,i))}};h([f({type:String,json:{write:{overridePolicy:(e,t,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],wp.prototype,"activeFilterId",void 0),h([f({type:Ce.ofType(wQ),nonNullable:!0,json:{write:!0}})],wp.prototype,"filters",void 0),h([Re("filters")],wp.prototype,"writeFilters",null),h([f({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],wp.prototype,"mode",void 0),wp=h([O("esri.layers.support.DisplayFilterInfo")],wp);const SCe=wp,xCe=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return h([f(MCe)],t.prototype,"displayFilterEnabled",void 0),h([f(TCe)],t.prototype,"displayFilterInfo",void 0),t=h([O("esri.layers.mixins.DisplayFilteredLayer")],t),t},MCe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:ur,writer(e,t,i){bs(i,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},TCe={type:SCe,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:ur},origins:{"web-scene":{write:!1,read:!1}}}};var T4;const UC=new It({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),GC=new It({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ul=T4=class extends ue{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:n,objectIds:s,units:a,distance:l}=this;return new Ks({geometry:H(i),objectIds:H(s),spatialRelationship:r,timeExtent:H(n),where:t,units:a,distance:l,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:n,units:s,distance:a}=this;return new T4({geometry:H(t),objectIds:H(n),spatialRelationship:i,timeExtent:H(r),where:e,units:s,distance:a})}};h([f({type:String,json:{write:!0}})],ul.prototype,"where",void 0),h([f({types:i2,json:{write:!0}})],ul.prototype,"geometry",void 0),h([f({type:UC.apiValues,json:{name:"spatialRel",read:{reader:UC.read},write:{allowNull:!1,writer:UC.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],ul.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ul.prototype,"distance",void 0),h([f({type:[Number],json:{write:!0}})],ul.prototype,"objectIds",void 0),h([f({type:GC.apiValues,json:{read:GC.read,write:{writer:GC.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],ul.prototype,"units",void 0),h([f({type:Yu,json:{write:!0}})],ul.prototype,"timeExtent",void 0),ul=T4=h([O("esri.layers.support.FeatureFilter")],ul);const ECe=ul;var E4;const wz={read:{reader:Lb},write:{writer:Nb,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},_z={read:{reader:Lb},write:{writer:Nb,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},Sz={name:"showExcludedLabels",default:!0};let _p=E4=class extends ue{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var r,n;const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const s=Object.keys(i.filter);if(s.length>1||s[0]!=="where")return(r=t.messages)==null||r.push(new z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return(n=t.messages)==null||n.push(new z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new E4({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};h([f({type:ECe,json:{write:{allowNull:!0,writer(e,t,i,r){const n=e==null?void 0:e.write({},r);n&&Object.keys(n).length!==0?bs(i,n,t):bs(i,null,t)}}}})],_p.prototype,"filter",void 0),h([f({json:{read:Lb,write:{writer:Nb,allowNull:!0},origins:{"web-map":wz,"portal-item":wz}}})],_p.prototype,"includedEffect",void 0),h([f({json:{read:Lb,write:{writer:Nb,allowNull:!0},origins:{"web-map":_z,"portal-item":_z}}})],_p.prototype,"excludedEffect",void 0),h([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":Sz,"portal-item":Sz}}})],_p.prototype,"excludedLabelsVisible",void 0),_p=E4=h([O("esri.layers.support.FeatureEffect")],_p);const CCe=_p,xz={write:{allowNull:!0}},ICe={type:CCe,json:{origins:{"web-map":xz,"portal-item":xz}}},$Ce=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return h([f(ICe)],t.prototype,"featureEffect",void 0),t=h([O("esri.layers.mixins.FeatureEffectLayer")],t),t};let my=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};h([f({type:String,json:{write:!0}})],my.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],my.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],my.prototype,"returnType",void 0),my=h([O("esri.layers.support.ExpressionInfo")],my);const xP=my;var C4;let Mu=C4=class extends ue{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new C4({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:H(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};h([f({type:Boolean,json:{write:!0}})],Mu.prototype,"isAutoGenerated",void 0),h([f({type:String,json:{write:!0}})],Mu.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],Mu.prototype,"alias",void 0),h([f({type:String,json:{write:!0}})],Mu.prototype,"onStatisticField",void 0),h([f({type:xP,json:{write:!0}})],Mu.prototype,"onStatisticExpression",void 0),h([f({type:String,json:{write:!0}})],Mu.prototype,"statisticType",void 0),Mu=C4=h([O("esri.layers.support.AggregateField")],Mu);const rd=Mu;let qh=class extends ue{constructor(){super(...arguments),this.type=null}};h([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],qh.prototype,"type",void 0),qh=h([O("esri.layers.support.FeatureReduction")],qh);var I4;let bv=I4=class extends ue{constructor(e){super(e)}async collectRequiredFields(e,t){return Wn(e,t,this.expression)}clone(){return new I4({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};h([f({type:String,json:{write:{isRequired:!0}}})],bv.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],bv.prototype,"title",void 0),bv=I4=h([O("esri.symbols.support.FeatureExpressionInfo")],bv);const Mz=bv,K5={unknown:1,inches:er(1,"meters","inches"),feet:er(1,"meters","feet"),"us-feet":er(1,"meters","us-feet"),yards:er(1,"meters","yards"),miles:er(1,"meters","miles"),"nautical-miles":er(1,"meters","nautical-miles"),millimeters:er(1,"meters","millimeters"),centimeters:er(1,"meters","centimeters"),decimeters:er(1,"meters","decimeters"),meters:er(1,"meters","meters"),kilometers:er(1,"meters","kilometers"),"decimal-degrees":1/Cce(1,"meters",Ni.radius)};function qFe(e){return!!e&&K5[e]!=null}function WFe(e){return 1/(K5[e]||1)}function ACe(){const e=Object.keys(K5);return jV(e,"decimal-degrees"),e.sort(),e}const RCe=ACe();var $4;const x_=Kr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Tz=new It({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Tu=$4=class extends ue{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,i,r){t[i]=e.write({},r),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new $4({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&zoe(this.featureExpressionInfo,e.featureExpressionInfo)}};h([f({type:Mz,json:{write:!0}})],Tu.prototype,"featureExpressionInfo",void 0),h([He("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Tu.prototype,"readFeatureExpressionInfo",null),h([Re("featureExpressionInfo",{featureExpressionInfo:{type:Mz},"featureExpression.value":{type:[0]}})],Tu.prototype,"writeFeatureExpressionInfo",null),h([f({type:x_.apiValues,nonNullable:!0,json:{type:x_.jsonValues,read:x_.read,write:{writer:x_.write,isRequired:!0}}})],Tu.prototype,"mode",null),h([f({type:Number,json:{write:!0}})],Tu.prototype,"offset",void 0),h([f({type:RCe,json:{type:String,read:Tz.read,write:Tz.write}})],Tu.prototype,"unit",null),Tu=$4=h([O("esri.symbols.support.ElevationInfo")],Tu);const PCe=Tu;let yy=class extends ue{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};h([f({type:String,json:{write:!0}})],yy.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],yy.prototype,"label",void 0),h([f()],yy.prototype,"type",void 0),yy=h([O("esri.tables.elements.AttributeTableElement")],yy);const Cg=yy;var A4;let wv=A4=class extends Cg{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new A4({description:this.description,displayType:this.displayType,label:this.label})}};h([f({type:["auto"],json:{write:!0}})],wv.prototype,"displayType",void 0),h([f({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],wv.prototype,"type",void 0),wv=A4=h([O("esri.tables.elements.AttributeTableAttachmentElement")],wv);const Ez=wv;var R4;let _v=R4=class extends Cg{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new R4({description:this.description,fieldName:this.fieldName,label:this.label})}};h([f({type:String,json:{write:!0}})],_v.prototype,"fieldName",void 0),h([f({type:String,json:{read:!1,write:!0}})],_v.prototype,"type",void 0),_v=R4=h([O("esri.tables.elements.AttributeTableFieldElement")],_v);const Cz=_v;var P4;let Sv=P4=class extends Cg{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new P4({description:this.description,label:this.label,relationshipId:this.relationshipId})}};h([f({type:Number,json:{write:!0}})],Sv.prototype,"relationshipId",void 0),h([f({type:["relationship"],json:{read:!1,write:!0}})],Sv.prototype,"type",void 0),Sv=P4=h([O("esri.tables.elements.AttributeTableRelationshipElement")],Sv);const Iz=Sv;function xQ(e){return{typesWithGroup:{base:Cg,key:"type",typeMap:{attachment:Ez,field:Cz,group:e,relationship:Iz}},typesWithoutGroup:{base:Cg,key:"type",typeMap:{attachment:Ez,field:Cz,relationship:Iz}}}}function MQ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>r[n.type]).map(n=>r[n.type].fromJSON(n))}function TQ(e,t,i=!0){if(!e)return null;const r=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(n=>r[n.type]).map(n=>n.toJSON())}function EQ(e,t,i=!0){return e?e.map(r=>Bu(i?t.typesWithGroup:t.typesWithoutGroup,r)):null}var O4;let Ru=O4=class extends Cg{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return EQ(e,VC,!1)}readElements(e,t){return MQ(t.attributeTableElements,VC,!1)}writeElements(e,t){t.attributeTableElements=TQ(e,VC,!1)}clone(){return new O4({description:this.description,elements:H(this.elements),label:this.label})}};h([f({json:{write:!0}})],Ru.prototype,"elements",void 0),h([Gt("elements")],Ru.prototype,"castElements",null),h([He("elements",["attributeTableElements"])],Ru.prototype,"readElements",null),h([Re("elements")],Ru.prototype,"writeElements",null),h([f({type:String,json:{read:!1,write:!0}})],Ru.prototype,"type",void 0),Ru=O4=h([O("esri.tables.elements.AttributeTableGroupElement")],Ru);const VC=xQ(Ru),OCe=Ru;var k4;const BC=xQ(OCe);let uh=k4=class extends ue{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return EQ(e,BC)}readElements(e,t){return MQ(t.attributeTableElements,BC)}writeElements(e,t){t.attributeTableElements=TQ(e,BC)}clone(){return new k4({elements:H(this.elements),orderByFields:this.orderByFields})}};h([f({json:{write:!0}})],uh.prototype,"elements",void 0),h([Gt("elements")],uh.prototype,"castElements",null),h([He("elements",["attributeTableElements"])],uh.prototype,"readElements",null),h([Re("elements")],uh.prototype,"writeElements",null),h([f({type:[Object],json:{write:!0}})],uh.prototype,"orderByFields",void 0),uh=k4=h([O("esri.tables.AttributeTableTemplate")],uh);const kCe=uh,LCe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:ur}}},J5={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},X5={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:ur}}},NCe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:hf}}},DCe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:ur}}},jCe={value:null,type:PCe,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:ur}}};function ZFe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const CQ={write:{enabled:!0,layerContainerTypes:ur},read:!0},Cx={type:Number,json:{origins:{"web-document":CQ,"portal-item":{write:{layerContainerTypes:ur}}}}},KFe={...Cx,json:{...Cx.json,origins:{"web-document":{...CQ,write:{enabled:!0,layerContainerTypes:ur,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>{var r;return i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(r=t.layerDefinition)!=null&&r.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?xb(t.layerDefinition.drawingInfo.transparency):void 0:xb(t.drawingInfo.transparency)}}}},JFe={type:Lt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=Lt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=it.fromJSON(t.spatialReference)),i}}}},read:!1}},FCe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},XFe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:ur}}},QFe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:ur}}},zCe={json:{write:{ignoreOrigin:!0,layerContainerTypes:ur},origins:{"web-map":{read:!1,write:!1}}}},UCe={type:kCe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};async function GCe(e,t,i){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=IQ(e));const r=VCe(e),n=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let s=null;for(;;){const a=await e.source.queryFeaturesJSON(t,i);if(s==null?s=a:s.features=s.features.concat(a.features),s.exceededTransferLimit=a.exceededTransferLimit,!n||!a.exceededTransferLimit)break;t.start+=r}return s}function VCe(e){return IQ(e)*BCe(e)}function BCe(e){return e.capabilities.query.maxRecordCount||2e3}function IQ(e){return e.capabilities.query.supportsMaxRecordCountFactor?Ks.MAX_MAX_RECORD_COUNT_FACTOR:1}var L4;let xv=L4=class extends ue{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new L4({minValue:this.minValue,maxValue:this.maxValue})}};h([f({type:Number,json:{write:!0}})],xv.prototype,"minValue",void 0),h([f({type:Number,json:{write:!0}})],xv.prototype,"maxValue",void 0),xv=L4=h([O("esri.renderers.support.AuthoringInfoClassBreakInfo")],xv);var N4;let Th=N4=class extends ue{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new N4({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:H(this.classBreakInfos)})}};h([f({type:String,json:{write:!0}})],Th.prototype,"field",void 0),h([f({type:String,json:{write:!0}})],Th.prototype,"normalizationField",void 0),h([f({type:String,json:{write:!0}})],Th.prototype,"label",void 0),h([f({type:[xv],json:{write:!0}})],Th.prototype,"classBreakInfos",void 0),Th=N4=h([O("esri.renderers.support.AuthoringInfoFieldInfo")],Th);var D4;let gy=D4=class extends ue{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new D4({label:this.label,value:this.value,size:this.size})}};h([f({type:String,json:{write:!0}})],gy.prototype,"label",void 0),h([f({type:Number,json:{write:!0}})],gy.prototype,"size",void 0),h([f({type:Number,json:{write:!0}})],gy.prototype,"value",void 0),gy=D4=h([O("esri.renderers.support.AuthoringInfoSizeStop")],gy);const HCe=gy;var j4;const M_=new It({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),T_=new It({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),$z={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},Az=["high-to-low","above-and-below","centered-on","extremes"],Rz=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],Pz=["seconds","minutes","hours","days","months","years"],qCe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let Gr=j4=class extends ue{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new j4({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:H(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};h([f({types:$z,json:{write:!0}})],Gr.prototype,"endTime",void 0),h([Gt("endTime")],Gr.prototype,"castEndTime",null),h([f({type:String,json:{write:!0}})],Gr.prototype,"field",void 0),h([f({type:Number,json:{write:!0}})],Gr.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0}})],Gr.prototype,"minSliderValue",void 0),h([f({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Gr.prototype,"normalizationField",null),h([f({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Gr.prototype,"referenceSizeScale",null),h([f({type:qCe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Gr.prototype,"referenceSizeSymbolStyle",null),h([f({types:$z,json:{write:!0}})],Gr.prototype,"startTime",void 0),h([Gt("startTime")],Gr.prototype,"castStartTime",null),h([f({type:[HCe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Gr.prototype,"sizeStops",null),h([f({type:M_.apiValues,value:null,json:{type:M_.jsonValues,read:M_.read,write:M_.write}})],Gr.prototype,"style",null),h([f({type:Rz,value:null,json:{type:Rz,origins:{"web-scene":{type:Az,write:{writer:(e,t)=>{Az.includes(e)&&(t.theme=e)}}}},write:!0}})],Gr.prototype,"theme",null),h([f({type:T_.apiValues,json:{type:T_.jsonValues,read:T_.read,write:T_.write}})],Gr.prototype,"type",void 0),h([f({type:Pz,json:{type:Pz,write:!0}})],Gr.prototype,"units",void 0),Gr=j4=h([O("esri.renderers.support.AuthoringInfoVisualVariable")],Gr);const WCe=Gr;let WS=class extends ue{constructor(t){super(t),this.type=null}};h([f({readOnly:!0,json:{read:!1,write:!0}})],WS.prototype,"type",void 0),WS=h([O("esri.rest.support.ColorRamp")],WS);const MP=WS;var F4;let Sp=F4=class extends MP{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new F4({fromColor:H(this.fromColor),toColor:H(this.toColor),algorithm:this.algorithm})}};h([qe({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Sp.prototype,"algorithm",void 0),h([f({type:me,json:{type:[zt],write:!0}})],Sp.prototype,"fromColor",void 0),h([f({type:me,json:{type:[zt],write:!0}})],Sp.prototype,"toColor",void 0),h([f({type:["algorithmic"]})],Sp.prototype,"type",void 0),Sp=F4=h([O("esri.rest.support.AlgorithmicColorRamp")],Sp);const TP=Sp;var z4;let Mv=z4=class extends MP{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new z4({colorRamps:H(this.colorRamps)})}};h([f({type:[TP],json:{write:!0}})],Mv.prototype,"colorRamps",void 0),h([f({type:["multipart"]})],Mv.prototype,"type",void 0),Mv=z4=h([O("esri.rest.support.MultipartColorRamp")],Mv);const $Q=Mv,YCe={key:"type",base:MP,typeMap:{algorithmic:TP,multipart:$Q}};function ZCe(e){return e!=null&&e.type?e.type==="algorithmic"?TP.fromJSON(e):e.type==="multipart"?$Q.fromJSON(e):null:null}var U4;const Gd=new It({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),E_=new It({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),Oz=new It({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),kz=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],KCe=["high-to-low","above-and-below","above","below"],JCe=["flow-line","wave-front"],XCe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let ji=U4=class extends ue{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?ZCe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new U4({classificationMethod:this.classificationMethod,colorRamp:H(this.colorRamp),fadeRatio:H(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(),field1:H(this.field1),field2:H(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};h([f({type:Gd.apiValues,value:null,json:{type:Gd.jsonValues,read:Gd.read,write:Gd.write,origins:{"web-document":{default:"manual",type:Gd.jsonValues,read:Gd.read,write:Gd.write}}}})],ji.prototype,"classificationMethod",null),h([f({types:YCe,json:{write:!0}})],ji.prototype,"colorRamp",void 0),h([He("colorRamp")],ji.prototype,"readColorRamp",null),h([f({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ji.prototype,"fadeRatio",void 0),h([f({type:[String],value:null,json:{write:!0}})],ji.prototype,"fields",null),h([f({type:Th,value:null,json:{write:!0}})],ji.prototype,"field1",null),h([f({type:Th,value:null,json:{write:!0}})],ji.prototype,"field2",null),h([f({type:JCe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ji.prototype,"flowTheme",null),h([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],ji.prototype,"focus",null),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],ji.prototype,"isAutoGenerated",void 0),h([f({type:Number,value:null,json:{type:zt,write:!0}})],ji.prototype,"numClasses",null),h([f({type:kz,json:{type:kz,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],ji.prototype,"lengthUnit",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ji.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ji.prototype,"minSliderValue",void 0),h([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ji.prototype,"statistics",null),h([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],ji.prototype,"standardDeviationInterval",null),h([f({type:E_.apiValues,value:null,json:{type:E_.jsonValues,read:E_.read,write:E_.write,origins:{"web-scene":{type:Oz.jsonValues,write:{writer:Oz.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],ji.prototype,"type",null),h([f({type:[WCe],json:{write:!0}})],ji.prototype,"visualVariables",void 0),h([f({type:XCe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ji.prototype,"univariateSymbolStyle",null),h([f({type:KCe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ji.prototype,"univariateTheme",null),ji=U4=h([O("esri.renderers.support.AuthoringInfo")],ji);const EP=ji,HC=new It({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let Tv=class extends ue{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,t),Array.from(i).sort()}getSymbol(t,i){}async getSymbolAsync(t,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};h([f({type:EP,json:{write:!0}})],Tv.prototype,"authoringInfo",void 0),h([f({type:HC.apiValues,readOnly:!0,json:{type:HC.jsonValues,read:!1,write:{writer:HC.write,ignoreOrigin:!0,isRequired:!0}}})],Tv.prototype,"type",void 0),Tv=h([O("esri.renderers.Renderer")],Tv);const rc=Tv;let Ev=class extends Xt.ClonableMixin(ue){constructor(){super(...arguments),this.showLegend=null,this.title=null}};h([f({type:Boolean,json:{write:!0}})],Ev.prototype,"showLegend",void 0),h([f({type:String,json:{write:!0}})],Ev.prototype,"title",void 0),Ev=h([O("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Ev);const AQ=Ev,qC=new It({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let wo=class extends ue{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):Hb(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};h([f()],wo.prototype,"index",void 0),h([f({type:qC.apiValues,readOnly:!0,json:{read:qC.read,write:{writer:qC.write,isRequired:!0}}})],wo.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],wo.prototype,"field",void 0),h([Gt("field")],wo.prototype,"castField",null),h([f({type:String,json:{write:!0}})],wo.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],wo.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],wo.prototype,"arcadeRequired",null),h([f({type:AQ,json:{write:!0}})],wo.prototype,"legendOptions",void 0),wo=h([O("esri.renderers.visualVariables.VisualVariable")],wo);const Wg=wo;var G4;let xp=G4=class extends ue{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e??0}clone(){return new G4({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};h([f({type:me,json:{type:[zt],write:{isRequired:!0}}})],xp.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],xp.prototype,"label",void 0),h([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],xp.prototype,"value",void 0),h([Re("value")],xp.prototype,"writeValue",null),xp=G4=h([O("esri.renderers.visualVariables.support.ColorStop")],xp);const QCe=xp;var V4;let Mp=V4=class extends Wg{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new V4({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};h([f({readOnly:!0})],Mp.prototype,"cache",null),h([f({type:["color"],json:{type:["colorInfo"]}})],Mp.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Mp.prototype,"normalizationField",void 0),h([f({type:[QCe],json:{write:!0}})],Mp.prototype,"stops",null),Mp=V4=h([O("esri.renderers.visualVariables.ColorVariable")],Mp);const RQ=Mp;var B4;let ch=B4=class extends ue{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return xb(t.transparency)}writeOpacity(e,t,i){t[i]=T8(e)}clone(){return new B4({label:this.label,opacity:this.opacity,value:this.value})}};h([f({type:String,json:{write:!0}})],ch.prototype,"label",void 0),h([f({type:Number,json:{type:zt,write:{target:"transparency",isRequired:!0}}})],ch.prototype,"opacity",void 0),h([He("opacity",["transparency"])],ch.prototype,"readOpacity",null),h([Re("opacity")],ch.prototype,"writeOpacity",null),h([f({type:Number,json:{write:{isRequired:!0}}})],ch.prototype,"value",void 0),ch=B4=h([O("esri.renderers.visualVariables.support.OpacityStop")],ch);const eIe=ch;var H4;let Tp=H4=class extends Wg{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){var e;return new H4({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};h([f({readOnly:!0})],Tp.prototype,"cache",null),h([f({type:["opacity"],json:{type:["transparencyInfo"]}})],Tp.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Tp.prototype,"normalizationField",void 0),h([f({type:[eIe],json:{write:!0}})],Tp.prototype,"stops",null),Tp=H4=h([O("esri.renderers.visualVariables.OpacityVariable")],Tp);const CP=Tp;var q4;let Ep=q4=class extends Wg{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var e;return new q4({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};h([f({readOnly:!0})],Ep.prototype,"cache",null),h([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ep.prototype,"axis",void 0),h([f({type:["rotation"],json:{type:["rotationInfo"]}})],Ep.prototype,"type",void 0),h([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ep.prototype,"rotationType",void 0),Ep=q4=h([O("esri.renderers.visualVariables.RotationVariable")],Ep);const PQ=Ep;function tIe(e){return Ot(e)}var W4;let hh=W4=class extends ue{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new W4({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};h([f({type:String,json:{write:!0}})],hh.prototype,"label",void 0),h([f({type:Number,cast:Ot,json:{write:{isRequired:!0}}})],hh.prototype,"size",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],hh.prototype,"value",void 0),h([f({type:Boolean,json:{write:!1}})],hh.prototype,"useMinValue",void 0),h([f({type:Boolean,json:{write:!1}})],hh.prototype,"useMaxValue",void 0),hh=W4=h([O("esri.renderers.visualVariables.support.SizeStop")],hh);const YS=hh;let ZS=class extends AQ{constructor(){super(...arguments),this.customValues=null}};h([f({type:[Number],json:{write:!0}})],ZS.prototype,"customValues",void 0),ZS=h([O("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],ZS);const iIe=ZS;var zu,Rr;function Oy(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function jb(e){return e!=null&&!isNaN(e)&&isFinite(e)}function OQ(e){return e.valueExpression?zu.Expression:e.field&&typeof e.field=="string"?zu.Field:zu.Unknown}function rIe(e,t){const i=t||OQ(e),r=e.valueUnit||"unknown";return i===zu.Unknown?Rr.Constant:e.stops?Rr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Rr.ClampedLinear:r==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Rr.Proportional:Rr.Additive:Rr.Identity:Rr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(zu||(zu={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Rr||(Rr={}));const kQ=()=>ce.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),Q5=e=>kQ().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),eM=()=>kQ().error("Use of arcade expressions requires an arcade context"),Lz=new Zu,KS=Math.PI,LQ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function NQ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(S=>S.type==="color"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void Q5("ColorVariable");const n=typeof t=="number",s=n?null:t,a=s==null?void 0:s.attributes;let l=n?t:null;const u=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!u&&!m){const S=r.stops;return S&&S[0]&&S[0].color}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void eM();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},M=i.arcade.arcadeUtils,T=M.getViewInfo(S),E=M.createExecContext(s,T,i.timeZone);if(!v){const A=M.createSyntaxTree(r.valueExpression);v=M.createFunction(A),r.cache.compiledFunc=v}l=M.executeFunction(v,E)}else a&&(l=a[u]);const b=r.normalizationField,_=a!=null&&b!=null?parseFloat(a[b]):void 0;if(l!=null&&(!b||n||!isNaN(_)&&_!==0)){isNaN(_)||n||(l/=_);const S=IP(l,d);if(S){const M=S[0],T=S[1],E=M===T?r.stops[M].color:me.blendColors(r.stops[M].color,r.stops[T].color,S[2],i!=null?i.color:void 0);return new me(E)}}}function DQ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(S=>S.type==="opacity"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void Q5("OpacityVariable");const n=typeof t=="number",s=n?null:t,a=s==null?void 0:s.attributes;let l=n?t:null;const u=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!u&&!m){const S=r.stops;return S&&S[0]&&S[0].opacity}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void eM();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},M=i.arcade.arcadeUtils,T=M.getViewInfo(S),E=M.createExecContext(s,T,i.timeZone);if(!v){const A=M.createSyntaxTree(r.valueExpression);v=M.createFunction(A),r.cache.compiledFunc=v}l=M.executeFunction(v,E)}else a&&(l=a[u]);const b=r.normalizationField,_=a!=null&&b!=null?parseFloat(a[b]):void 0;if(l!=null&&(!b||n||!isNaN(_)&&_!==0)){isNaN(_)||n||(l/=_);const S=IP(l,d);if(S){const M=S[0],T=S[1];if(M===T)return r.stops[M].opacity;{const E=r.stops[M].opacity;return E+(r.stops[T].opacity-E)*S[2]}}}}function jQ(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(_=>_.type==="rotation"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void Q5("RotationVariable");const n=r.axis||"heading",s=n==="heading"&&r.rotationType==="arithmetic"?90:0,a=n==="heading"&&r.rotationType==="arithmetic"?-1:1,l=typeof t=="number"?null:t,u=l==null?void 0:l.attributes,d=r.field,{hasExpression:m}=r.cache;let v=r.cache.compiledFunc,b=0;if(!d&&!m)return b;if(m){if((i==null?void 0:i.arcade)==null)return void eM();const _={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},S=i.arcade.arcadeUtils,M=S.getViewInfo(_),T=S.createExecContext(l,M,i.timeZone);if(!v){const E=S.createSyntaxTree(r.valueExpression);v=S.createFunction(E),r.cache.compiledFunc=v}b=S.executeFunction(v,T)}else u&&(b=u[d]||0);return b=typeof b!="number"||isNaN(b)?null:s+a*b,b}function nIe(e,t,i){const r=typeof t=="number",n=r?null:t,s=n==null?void 0:n.attributes;let a=r?t:null;const{isScaleDriven:l}=e.cache;let u=e.cache.compiledFunc;if(l){const m=i!=null?i.scale:void 0,v=i!=null?i.view:void 0;a=m==null||v==="3d"?sIe(e):m}else if(!r)switch(e.inputValueType){case zu.Expression:{if((i==null?void 0:i.arcade)==null)return void eM();const m={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,b=v.getViewInfo(m),_=v.createExecContext(n,b,i.timeZone);if(!u){const S=v.createSyntaxTree(e.valueExpression);u=v.createFunction(S),e.cache.compiledFunc=u}a=v.executeFunction(u,_);break}case zu.Field:s&&(a=s[e.field]);break;case zu.Unknown:a=null}if(!jb(a))return null;if(r||!e.normalizationField)return a;const d=s?parseFloat(s[e.normalizationField]):null;return jb(d)&&d!==0?a/d:null}function sIe(e){let t=null,i=null;const r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function tM(e,t,i){const r="visualVariables"in e&&e.visualVariables?e.visualVariables.find(s=>s.type==="size"):e;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void Q5("SizeVariable");const n=zQ(nIe(r,t,i),r,t,i,r.cache.ipData);return n==null||isNaN(n)?0:n}function vs(e,t,i){return e==null?null:Oy(e)?tM(e,t,i):jb(e)?e:null}function FQ(e,t,i){return jb(i)&&e>i?i:jb(t)&&e<t?t:e}function aIe(e,t,i,r){return e+((vs(t.minSize,i,r)||t.minDataValue)??0)}function oIe(e,t,i){const r=e.stops;let n=(r==null?void 0:r.length)&&r[0].size;return n==null&&(n=e.minSize),vs(n,t,i)}function lIe(e,t,i,r){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=vs(t.minSize,i,r),a=vs(t.maxSize,i,r),l=r!=null?r.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return a;if(s==null||a==null)return null;if(t.scaleBy==="area"&&l){const u=l==="circle",d=u?KS*(s/2)**2:s*s,m=d+n*((u?KS*(a/2)**2:a*a)-d);return u?2*Math.sqrt(m/KS):Math.sqrt(m)}return s+n*(a-s)}function uIe(e,t,i,r){const n=r!=null?r.shape:void 0,s=e/t.minDataValue,a=vs(t.minSize,i,r),l=vs(t.maxSize,i,r);let u=null;return u=n==="circle"?2*Math.sqrt(s*(a/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(s*a**2):s*a,FQ(u,a,l)}function cIe(e,t,i,r,n){var u,d,m;const[s,a,l]=IP(e,n);if(s===a)return vs((u=t.stops)==null?void 0:u[s].size,i,r);{const v=vs((d=t.stops)==null?void 0:d[s].size,i,r);return v+(vs((m=t.stops)==null?void 0:m[a].size,i,r)-v)*l}}function hIe(e,t,i,r){const n=((r==null?void 0:r.resolution)??1)*K5[t.valueUnit],s=vs(t.minSize,i,r),a=vs(t.maxSize,i,r),{valueRepresentation:l}=t;let u=null;return u=l==="area"?2*Math.sqrt(e/KS)/n:l==="radius"||l==="distance"?2*e/n:e/n,FQ(u,s,a)}function zQ(e,t,i,r,n){switch(t.transformationType){case Rr.Additive:return aIe(e,t,i,r);case Rr.Constant:return oIe(t,i,r);case Rr.ClampedLinear:return lIe(e,t,i,r);case Rr.Proportional:return uIe(e,t,i,r);case Rr.Stops:return cIe(e,t,i,r,n);case Rr.RealWorldSize:return hIe(e,t,i,r);case Rr.Identity:return e;case Rr.Unknown:return null}}function dIe(e,t,i){const{isScaleDriven:r}=e.cache;if(!(r&&i==="3d"||t))return null;const n={scale:t,view:i};let s=vs(e.minSize,Lz,n),a=vs(e.maxSize,Lz,n);if(s!=null||a!=null){if(s>a){const l=a;a=s,s=l}return{minSize:s,maxSize:a}}}function pIe(e,t,i){if(!e.visualVariables)return;const r=[],n=[],s=[],a=[],l=[];for(const u of e.visualVariables)switch(u.type){case"color":n.push(u);break;case"opacity":s.push(u);break;case"rotation":l.push(u);break;case"size":a.push(u)}return n.forEach(u=>{const d=NQ(u,t,i);r.push({variable:u,value:d})}),s.forEach(u=>{const d=DQ(u,t,i);r.push({variable:u,value:d})}),l.forEach(u=>{const d=jQ(u,t,i);r.push({variable:u,value:d})}),a.forEach(u=>{const d=tM(u,t,i);r.push({variable:u,value:d})}),r.filter(u=>u.value!=null)}function IP(e,t){if(!t)return;let i=0,r=t.length-1;return t.some((n,s)=>e<n?(r=s,!0):(i=s,!1)),[i,r,(e-t[i])/(t[r]-t[i])]}function fIe(e,t,i){const r=["proportional","proportional","proportional"];for(const n of e){const s=n.useSymbolValue?"symbol-value":tM(n,t,i);switch(n.axis){case"width":r[0]=s;break;case"depth":r[1]=s;break;case"height":r[2]=s;break;case"width-and-depth":r[0]=s,r[1]=s;break;case"all":case void 0:case null:r[0]=s,r[1]=s,r[2]=s;break;default:n.axis}}return r}const sze=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:fIe,getColor:NQ,getOpacity:DQ,getRotationAngle:jQ,getSize:tM,getSizeForValue:zQ,getSizeFromNumberOrVariable:vs,getSizeRangeAtScale:dIe,getVisualVariableValues:pIe,viewScaleRE:LQ},Symbol.toStringTag,{value:"Module"}));var Y4;const C_=new It({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Z4=new It({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function Nz(e){if(e!=null)return typeof e=="string"||typeof e=="number"?tIe(e):e.type==="size"?Oy(e)?e:(delete(e={...e}).type,new Ht(e)):void 0}function Dz(e,t,i){if(typeof e!="object")return e;const r=new Ht;return r.read(e,i),r}let Ht=Y4=class extends Wg{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&LQ.test(this.valueExpression)}}set index(e){Oy(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Oy(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return OQ(this)}set maxDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return Nz(e)}readMaxSize(e,t,i){return Dz(e,t,i)}set minDataValue(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(ce.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return Nz(e)}readMinSize(e,t,i){return Dz(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(ce.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return rIe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,r){if(e==="$view.scale"){if(r!=null&&r.messages){const n=this.index,s=typeof n=="string"?n:`visualVariables[${n}]`;r.messages.push(new z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:r}))}}else t[i]=e}readValueUnit(e){return e?Z4.read(e):null}clone(){var e,t;return new Y4({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Oy(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Oy(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Rr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Rr.Stops){const e=this.stops;if(!e)return this;const t=e.map(r=>r.size).reverse(),i=e.length;for(let r=0;r<i;r++)e[r].size=t[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};h([f({readOnly:!0})],Ht.prototype,"cache",null),h([f({type:C_.apiValues,json:{type:C_.jsonValues,origins:{"web-map":{read:!1}},read:C_.read,write:C_.write}})],Ht.prototype,"axis",void 0),h([f()],Ht.prototype,"index",null),h([f({type:String,readOnly:!0})],Ht.prototype,"inputValueType",null),h([f({type:iIe,json:{write:!0}})],Ht.prototype,"legendOptions",void 0),h([f({type:Number,value:null,json:{write:!0}})],Ht.prototype,"maxDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],Ht.prototype,"maxSize",null),h([Gt("maxSize")],Ht.prototype,"castMaxSize",null),h([He("maxSize")],Ht.prototype,"readMaxSize",null),h([f({type:Number,value:null,json:{write:!0}})],Ht.prototype,"minDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],Ht.prototype,"minSize",null),h([Gt("minSize")],Ht.prototype,"castMinSize",null),h([He("minSize")],Ht.prototype,"readMinSize",null),h([f({type:String,json:{write:!0}})],Ht.prototype,"normalizationField",void 0),h([f({readOnly:!0})],Ht.prototype,"arcadeRequired",null),h([f({type:String})],Ht.prototype,"scaleBy",void 0),h([f({type:[YS],value:null,json:{write:!0}})],Ht.prototype,"stops",null),h([f({type:["outline"],json:{write:!0}})],Ht.prototype,"target",void 0),h([f({type:String,readOnly:!0})],Ht.prototype,"transformationType",null),h([f({type:["size"],json:{type:["sizeInfo"]}})],Ht.prototype,"type",void 0),h([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Ht.prototype,"useSymbolValue",void 0),h([f({type:String,json:{write:!0}})],Ht.prototype,"valueExpression",void 0),h([He("valueExpression",["valueExpression","expression"])],Ht.prototype,"readValueExpression",null),h([Re("web-scene","valueExpression")],Ht.prototype,"writeValueExpressionWebScene",null),h([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Ht.prototype,"valueRepresentation",void 0),h([f({type:Z4.apiValues,json:{write:Z4.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],Ht.prototype,"valueUnit",void 0),h([He("valueUnit")],Ht.prototype,"readValueUnit",null),Ht=Y4=h([O("esri.renderers.visualVariables.SizeVariable")],Ht);const iM=Ht,mIe={color:RQ,size:iM,opacity:CP,rotation:PQ},yIe=new It({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),gIe=/^\[([^\]]+)\]$/i;let JS=class extends De{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t==null?void 0:t.filter(i=>!!i),t==null?void 0:t.length){for(const i of t)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&t.sort((i,r)=>{let n=null;return n=i.target===r.target?0:i.target?1:-1,n});for(let i=0;i<t.length;i++)t[i].index=i;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,i,r){const{rotationExpression:n,rotationType:s}=i,a=n==null?void 0:n.match(gIe),l=a==null?void 0:a[1];if(l&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:s,field:l})),t)return t.map(u=>{const d=yIe.read(u.type),m=mIe[d];m||(ce.getLogger(this).warn(`Unknown variable type: ${d}`),r!=null&&r.messages&&r.messages.push(new Lo("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:u,context:r})));const v=new m;return v.read(u,r),v})}writeVariables(t,i){const r=[];for(const n of t){const s=n.toJSON(i);s&&r.push(s)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};h([f()],JS.prototype,"visualVariables",null),JS=h([O("esri.renderers.visualVariables.VisualVariableFactory")],JS);const vIe=JS,bIe={base:Wg,key:"type",typeMap:{opacity:CP,color:RQ,rotation:PQ,size:iM}},Yg=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new vIe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,r,n){return this._vvFactory.readVariables(i,r,n)}writeVisualVariables(i,r,n,s){r[n]=this._vvFactory.writeVariables(i,s)}get arcadeRequiredForVisualVariables(){var i;return((i=this.visualVariables)==null?void 0:i.some(({arcadeRequired:r})=>r))??!1}hasVisualVariables(i,r){return i?this.getVisualVariablesForType(i,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(i,r){var n;return((n=this.visualVariables)==null?void 0:n.filter(s=>s.type===i&&(typeof r=="string"?s.target===r:r!==!1||!s.target)))??[]}async collectVVRequiredFields(i,r){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const s of n)s&&(s.field&&ta(i,r,s.field),s.normalizationField&&ta(i,r,s.normalizationField),s.valueExpression&&(wIe(s.valueExpression,i,r)||await Wn(i,r,s.valueExpression)))}};return h([f({types:[bIe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),h([He("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),h([Re("visualVariables")],t.prototype,"writeVisualVariables",null),t=h([O("esri.renderers.mixins.VisualVariablesMixin")],t),t};function wIe(e,t,i){const r=Z1e(e);return r!=null&&(ta(t,i,r),!0)}const Ix=$n.fromJSON(dQ),$P=pi.fromJSON(pQ),UQ=Ae.fromJSON(fQ),_Ie=kf.fromJSON(kEe);function oze(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return Ix;case"polyline":return $P;case"polygon":case"extent":return UQ}return null}const lze=$n.fromJSON(LEe),uze=pi.fromJSON(NEe),cze=Ae.fromJSON(DEe),SIe=Nu.fromSimpleMarkerSymbol(Ix),xIe=Of.fromSimpleLineSymbol($P),MIe=cd.fromSimpleFillSymbol(UQ),TIe=new y2({symbolLayers:new Ce([new Pf({material:{color:bP},edges:new PZ({size:Ha(1),color:new me(OEe)})})])}),EIe=new Of({symbolLayers:new Ce([new Vg({material:{color:new me([0,0,0])},size:Ha(1)})])}),CIe=new cd({symbolLayers:new Ce([new Pf({outline:{color:new me([0,0,0]),size:Ha(1)}})])});function hze(e){if(e==null)return null;switch(e.type){case"mesh":return TIe;case"point":case"multipoint":return SIe;case"polyline":return xIe;case"polygon":case"extent":return MIe}return null}const jz="#useCIMFallbackSymbology()",jm={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function IIe(e,t=jm){var u,d,m,v;if(!e)return{symbol:null};const{retainId:i=jm.retainId,ignoreDrivers:r=jm.ignoreDrivers,hasLabelingContext:n=jm.hasLabelingContext,retainCIM:s=jm.retainCIM,cimFallbackEnabled:a=jm.cimFallbackEnabled}=t;let l=null;if(lK(e)||e instanceof ko)l=e.clone();else if(e.type==="cim"){const b=(d=(u=e.data)==null?void 0:u.symbol)==null?void 0:d.type;switch(b){case"CIMPointSymbol":l=s?e.clone():Nu.fromCIMSymbol(e);break;case"CIMLineSymbol":a&&(l=EIe.clone(),(m=t==null?void 0:t.logWarning)==null||m.call(t,jz,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":a&&(l=CIe.clone(),(v=t==null?void 0:t.logWarning)==null||v.call(t,jz,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!l)return{error:new z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${b||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof pi)l=Of.fromSimpleLineSymbol(e);else if(e instanceof $n)l=Nu.fromSimpleMarkerSymbol(e);else if(e instanceof Sl)l=Nu.fromPictureMarkerSymbol(e);else if(e instanceof Ae)l=t.geometryType&&t.geometryType==="mesh"?y2.fromSimpleFillSymbol(e):cd.fromSimpleFillSymbol(e);else{if(!(e instanceof kf))return{error:new z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};l=n?P5.fromTextSymbol(e):Nu.fromTextSymbol(e)}return i&&l&&l.type!=="cim"&&(l.id=e.id),!r||l.type==="cim"||l instanceof ko||l.symbolLayers.forEach(b=>b.ignoreDrivers=!0),{symbol:l}}function $x(e,t,i,r){const n=GQ(e,{},{context:r,isLabelSymbol:!1});n!=null&&(t[i]=n)}function Fz(e,t,i,r){const n=GQ(e,{},{context:r,isLabelSymbol:!0});n!=null&&(t[i]=n)}function zz(e){return lK(e)||e instanceof ko}function $Ie(e){return(e==null?void 0:e.type)==="polygon-3d"||(e==null?void 0:e.type)==="line-3d"}function GQ(e,t,i){var l;if(e==null)return null;const{context:r,isLabelSymbol:n}=i,s=r==null?void 0:r.origin,a=r==null?void 0:r.messages;if(s==="web-scene"&&!zz(e)){const u=IIe(e,{retainCIM:!0,hasLabelingContext:n});return u.symbol!=null?u.symbol.write(t,r):(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:u.error})),null)}return _$(r==null?void 0:r.layer)&&$Ie(e)?(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${(l=r==null?void 0:r.layer)==null?void 0:l.declaredClass}'.`,{symbol:e,context:r})),null):(s==="web-map"||s==="portal-item"&&!_$(r==null?void 0:r.layer))&&zz(e)?(a==null||a.push(new z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function dze(e,t){return Vbe(e,null,t)}const rM={types:uK,json:{write:{writer:$x},origins:{"web-scene":{types:dj,write:{writer:$x},read:{reader:Og({types:dj})}}}}},AP=oR({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},rM),RP={types:{base:hn,key:"type",typeMap:{"simple-fill":Wp.typeMap["simple-fill"],"picture-fill":Wp.typeMap["picture-fill"],"polygon-3d":Wp.typeMap["polygon-3d"],cim:Wp.typeMap.cim}},json:{write:{writer:$x},origins:{"web-scene":{type:cd,write:{writer:$x}}}}},XS={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var K4;let Cp=K4=class extends Yg(rc){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new K4({description:this.description,label:this.label,symbol:H(this.symbol),visualVariables:H(this.visualVariables),authoringInfo:H(this.authoringInfo)})}};h([f({type:String,json:{write:!0}})],Cp.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Cp.prototype,"label",void 0),h([f(AP)],Cp.prototype,"symbol",void 0),h([qe({simple:"simple"})],Cp.prototype,"type",void 0),Cp=K4=h([O("esri.renderers.SimpleRenderer")],Cp);const Uu=Cp,AIe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function J4(e){return e instanceof De}function Uz(e){return e instanceof Ce?Object.keys(e.items):J4(e)?ws(e).keys():e?Object.keys(e):[]}function I_(e,t){return e instanceof Ce?e.items[t]:e[t]}function RIe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function rb(e){return e?e.declaredClass:null}function VQ(e,t){var v;const i=e.diff;if(i&&typeof i=="function")return i(e,t);const r=Uz(e),n=Uz(t);if(r.length===0&&n.length===0)return;if(!r.length||!n.length||RIe(e,t))return{type:"complete",oldValue:e,newValue:t};const s=n.filter(b=>!r.includes(b)),a=r.filter(b=>!n.includes(b)),l=r.filter(b=>n.includes(b)&&I_(e,b)!==I_(t,b)).concat(s,a).sort(),u=rb(e);if(u&&AIe.has(u)&&l.length)return{type:"complete",oldValue:e,newValue:t};let d;const m=J4(e)&&J4(t);for(const b of l){const _=I_(e,b),S=I_(t,b);let M;if((m||typeof _!="function"&&typeof S!="function")&&_!==S&&(_!=null||S!=null)){if(i&&i[b]&&typeof i[b]=="function")M=(v=i[b])==null?void 0:v.call(i,_,S);else if(_ instanceof Date&&S instanceof Date){if(_.getTime()===S.getTime())continue;M={type:"complete",oldValue:_,newValue:S}}else M=typeof _=="object"&&typeof S=="object"&&rb(_)===rb(S)?VQ(_,S):{type:"complete",oldValue:_,newValue:S};M!=null&&(d!=null?d.diff[b]=M:d={type:"partial",diff:{[b]:M}})}}return d}function pze(e,t){return PIe(e,t)}function PIe(e,t){if(e==null)return!1;const i=t.split(".");let r=e;for(const n of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const s=r.diff[n];if(!s)return!1;r=s}}return!0}function fze(e,t){if(!e)return!1;if(e.type==="partial"){const i=Object.keys(e.diff);return i.length===1&&i[0]===t}return!1}function OIe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&rb(e)!==rb(t)?{type:"complete",oldValue:e,newValue:t}:VQ(e,t)}function $_(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const i of t.added)if(!$_(i))return!1;for(const i of t.removed)if(!$_(i))return!1;for(const i of t.changed)if(!$_(i))return!1;return!0}case"partial":for(const t in e.diff)if(!$_(e.diff[t]))return!1;return!0}}var X4;const kIe=Kr()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let Cv=X4=class extends Xt.ClonableMixin(ue){static from(e){return qb(X4,e)}constructor(e){super(e),this.title=null,this.order=null}};h([f({type:String,json:{write:!0}})],Cv.prototype,"title",void 0),h([qe(kIe)],Cv.prototype,"order",void 0),Cv=X4=h([O("esri.renderers.support.RendererLegendOptions")],Cv);const PP=Cv;let vy=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};h([f(XS)],vy.prototype,"value",void 0),h([f(XS)],vy.prototype,"value2",void 0),h([f(XS)],vy.prototype,"value3",void 0),vy=h([O("esri.renderers.support.UniqueValue")],vy);const Xy=vy;let dh=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const i=typeof(t=Array.isArray(t)?t:[t])[0];return i==="string"||i==="number"?t.map(r=>new Xy({value:r})):i==="object"?t[0]instanceof Xy?t:t.map(r=>new Xy(r)):null}};h([f({type:String,json:{write:!0}})],dh.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],dh.prototype,"label",void 0),h([f(rM)],dh.prototype,"symbol",void 0),h([f({type:[Xy],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new Xy({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const i=[];for(const r of e){const n=[r.value,r.value2,r.value3].filter(Fa).map(s=>s.toString());i.push(n)}t.values=i}}}})],dh.prototype,"values",void 0),h([Gt("values")],dh.prototype,"castValues",null),dh=h([O("esri.renderers.support.UniqueValueClass")],dh);const BQ=dh;let Iv=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.heading=null,this.classes=null}};h([f({type:String,json:{write:!0}})],Iv.prototype,"heading",void 0),h([f({type:[BQ],json:{write:{isRequired:!0}}})],Iv.prototype,"classes",void 0),Iv=h([O("esri.renderers.support.UniqueValueGroup")],Iv);const Q4=Iv;var eA;let Ip=eA=class extends ue{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new eA({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};h([f({type:String,json:{write:!0}})],Ip.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Ip.prototype,"label",void 0),h([f(AP)],Ip.prototype,"symbol",void 0),h([f(XS)],Ip.prototype,"value",void 0),Ip=eA=h([O("esri.renderers.support.UniqueValueInfo")],Ip);const nb=Ip,Gz=new Map;async function LIe(e,t){try{return{data:(await FIe(e,t)).data,baseUrl:cH(e),styleUrl:e}}catch(i){return Ys(i),null}}function NIe(e,t,i){var u;const r=t.portal!=null?t.portal:wr.getDefault();let n;const s=`${r.url} - ${(u=r.user)==null?void 0:u.username} - ${e}`,a=Gz.get(s);if(a)return a;const l=DIe(e,r,i).then(d=>(n=d,d.fetchData())).then(d=>({data:d,baseUrl:n.itemUrl??"",styleName:e}));return Gz.set(s,l),l}function DIe(e,t,i){return t.load(i).then(()=>{const r=new Io({disableExtraQuery:!0,query:`owner:${Vz} AND type:${Bz} AND typekeywords:"${e}"`});return t.queryItems(r,i)}).then(({results:r})=>{var a;let n=null;const s=e.toLowerCase();if(r&&Array.isArray(r)){for(const l of r)if(((a=l.typeKeywords)==null?void 0:a.some(d=>d.toLowerCase()===s))&&l.type===Bz&&l.owner===Vz){n=l;break}}if(!n)throw new z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return n.load(i)})}function jIe(e,t,i){return(e==null?void 0:e.styleUrl)!=null?LIe(e.styleUrl,i):(e==null?void 0:e.styleName)!=null?NIe(e.styleName,t,i):Promise.reject(new z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function vze(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function bze(e,t){for(const i of t)switch(i){case"cim":if(e.cimRef)return{format:i,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const r=WC(e,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=WC(e,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=WC(e,"gltf");if(r)return{format:"web-gltf",url:r};if(e.webRef)return{format:i,url:encodeURI(e.webRef)};break}}}function WC(e,t){var i,r;if(!J("enable-feature:force-wosr"))return(r=(i=e.formatInfos)==null?void 0:i.find(n=>n.type===t))==null?void 0:r.href}function FIe(e,t){const i={responseType:"json",query:{f:"json"},...t};return Ct(ms(e),i)}const Vz="esri_en",Bz="Style",wze="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var $v;const HQ="esri.renderers.UniqueValueRenderer",zc=()=>ce.getLogger(HQ),Hz="uvInfos-watcher",qz="uvGroups-watcher",zIe=",",UIe=Gi(nb);function GIe(e){const{field1:t,field2:i,field3:r,fieldDelimiter:n,uniqueValueInfos:s,valueExpression:a}=e,l=!(!t||!i);return[{classes:(s??[]).map(u=>{var E;const{symbol:d,label:m,value:v,description:b}=u,[_,S,M]=l?((E=v==null?void 0:v.toString())==null?void 0:E.split(n||""))||[]:[v],T=[];return(t||a)&&T.push(_),i&&T.push(S),r&&T.push(M),{symbol:d,label:m,values:[T],description:b}})}]}function Fm(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let Mi=$v=class extends Yg(rc){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let r=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<i.length;s++){const a=t.find(l=>l.value===i[s].value);a?OIe(a,i[s])?(n.changed.push({type:"complete",oldValue:a,newValue:i[s]}),r=!0):n.unchanged.push({oldValue:a,newValue:i[s]}):(n.added.push(i[s]),r=!0)}for(let s=0;s<t.length;s++)i.find(a=>a.value===t[s].value)||(n.removed.push(t[s]),r=!0);return r?n:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:Hb(e)}writeField(e,t,i,r){typeof e=="string"?t[i]=e:r!=null&&r.messages?r.messages.push(new z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):zc().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,i){return i.portal||wr.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const r=Dg(t.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(e,t,i,r){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=Qb(e.styleUrl,r))}set uniqueValueGroups(e){this.styleOrigin?zc().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?zc().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var r;if(this.styleOrigin)return void zc().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?UIe(e):new nb({value:e,symbol:cK(t)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[Fm(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void zc().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let i=0;i<t.length;i++){const r=t[i];if(String(r.value)===String(e)){delete this._valueInfoMap[Fm(e)],t.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await vf()}),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void zc().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const n=await vf(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:n}}const r=this._getUniqueValueInfo(e,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){var r;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((n,s)=>n+s.getMeshHash(),"");return`${e}.${t}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new $v({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:H(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:H(this.visualVariables),legendOptions:H(this.legendOptions),authoringInfo:H(this.authoringInfo),backgroundFillSymbol:H(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=H(this.uniqueValueInfos),i=H(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(H(this.styleOrigin))),Object.freeze(t),Object.freeze(i)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",i),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),Wn(e,t,this.valueExpression)];ta(e,t,this.field),ta(e,t,this.field2),ta(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return jIe(this.styleOrigin,{portal:this.portal}).then(e=>{var i;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const n=new ko({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const s=new nb({value:r.name,symbol:n});t.push(s),this._valueInfoMap[Fm(r.name)]=s}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",zIe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[Fm(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Hz);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const i of e)t.push(Ge(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,n)=>{r!==n&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,Hz)}}_watchUniqueValueGroups(){this.removeHandles(qz);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const i of e){t.push(Ge(()=>({classes:i.classes}),(r,n)=>{r!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])t.push(Ge(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(n,s)=>{n!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,qz)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:i,field3:r,fieldDelimiter:n,uniqueValueGroups:s,valueExpression:a}=this;if(!t&&!a)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const l=!(!t||!i);for(const u of s)for(const d of u.classes??[]){const{symbol:m,label:v,values:b,description:_}=d;for(const S of b??[]){const{value:M,value2:T,value3:E}=S,A=[M];i&&A.push(T),r&&A.push(E);const P=l?A.join(n||""):A[0]??void 0;e.push(new nb({symbol:m,label:v,value:P,description:_}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:i,valueExpression:r,fieldDelimiter:n,uniqueValueInfos:s}=this;if(!t&&!r||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const a=!(!t||!i),l=s.map(d=>{var E;const{symbol:m,label:v,value:b,description:_}=d,[S,M,T]=a?((E=b==null?void 0:b.toString())==null?void 0:E.split(n||""))||[]:[b];return new BQ({symbol:m,label:v,description:_,values:[new Xy({value:S,value2:M,value3:T})]})}),u=[new Q4({classes:l})];e&&Object.freeze(u),this._set("uniqueValueGroups",u),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:s,timeZone:a}=t??{};let l=this._cache.compiledFunc;const u=s.arcadeUtils;if(!l){const m=u.createSyntaxTree(this.valueExpression);l=u.createFunction(m),this._cache.compiledFunc=l}const d=u.executeFunction(l,u.createExecContext(e,u.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),a));return this._valueInfoMap[Fm(d)]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let r;if(this.field2){const n=this.field2,s=this.field3,a=[];t&&a.push(i[t]),n&&a.push(i[n]),s&&a.push(i[s]),r=a.join(this.fieldDelimiter||"")}else t&&(r=i[t]);return this._valueInfoMap[Fm(r)]}static fromPortalStyle(e,t){const i=new $v(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",(t==null?void 0:t.portal)||wr.getDefault());const r=i.populateFromStyle();return r.catch(n=>{zc().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",n)}),r}static fromStyleUrl(e,t){const i=new $v(t==null?void 0:t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const r=i.populateFromStyle();return r.catch(n=>{zc().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),r}};h([f({readOnly:!0})],Mi.prototype,"_cache",null),h([qe({uniqueValue:"unique-value"})],Mi.prototype,"type",void 0),h([f(RP)],Mi.prototype,"backgroundFillSymbol",void 0),h([f({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Mi.prototype,"field",null),h([Gt("field")],Mi.prototype,"castField",null),h([Re("field")],Mi.prototype,"writeField",null),h([f({type:String,value:null,json:{write:!0}})],Mi.prototype,"field2",null),h([f({type:String,value:null,json:{write:!0}})],Mi.prototype,"field3",null),h([f({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Mi.prototype,"orderByClassesEnabled",void 0),h([f({type:String,value:null,json:{write:!0}})],Mi.prototype,"valueExpression",null),h([f({type:String,json:{write:!0}})],Mi.prototype,"valueExpressionTitle",void 0),h([f({type:PP,json:{write:!0}})],Mi.prototype,"legendOptions",void 0),h([f({type:String,json:{write:!0}})],Mi.prototype,"defaultLabel",void 0),h([f(oR({...rM},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Mi.prototype,"defaultSymbol",null),h([f({type:String,value:null,json:{write:!0}})],Mi.prototype,"fieldDelimiter",null),h([f({type:wr,readOnly:!0})],Mi.prototype,"portal",void 0),h([He("portal",["styleName"])],Mi.prototype,"readPortal",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Mi.prototype,"styleOrigin",void 0),h([He("styleOrigin",["styleName","styleUrl"])],Mi.prototype,"readStyleOrigin",null),h([Re("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Mi.prototype,"writeStyleOrigin",null),h([f({type:[Q4],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,i)=>(t.uniqueValueGroups||GIe(t)).map(r=>Q4.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Mi.prototype,"uniqueValueGroups",null),h([f({type:[nb],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Mi.prototype,"uniqueValueInfos",null),Mi=$v=h([O(HQ)],Mi);const OP=Mi;var tA;let $r=tA=class extends ue{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new tA(H({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};h([f({type:[String],json:{write:!0}})],$r.prototype,"attachmentTypes",void 0),h([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],$r.prototype,"attachmentsWhere",void 0),h([f({type:Boolean,json:{write:!0}})],$r.prototype,"cacheHint",void 0),h([f({type:[String],json:{write:!0}})],$r.prototype,"keywords",void 0),h([f({type:[String],json:{write:!0}})],$r.prototype,"globalIds",void 0),h([f({json:{write:!0}})],$r.prototype,"name",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],$r.prototype,"num",void 0),h([f({type:[Number],json:{write:!0}})],$r.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],$r.prototype,"orderByFields",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],$r.prototype,"returnMetadata",void 0),h([f({type:[Number],json:{write:!0}})],$r.prototype,"size",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],$r.prototype,"start",void 0),h([Re("start"),Re("num")],$r.prototype,"writeStart",null),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],$r.prototype,"where",void 0),$r=tA=h([O("esri.rest.support.AttachmentQuery")],$r),$r.from=Gi($r);const VIe=$r,qQ=Kr()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),Wz="percent-of-total",Yz="field",_ze=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let i=this._get("normalizationType");const r=!!this.normalizationField,n=this.normalizationTotal!=null;return r||n?(i=r&&Yz||n&&Wz||null,r&&n&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):i!==Yz&&i!==Wz||(i=null),i}set normalizationType(i){this._set("normalizationType",i)}};return h([f({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),h([f({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),h([qe(qQ,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=h([O("esri.rest.support.NormalizationBinParametersMixin")],t),t};var iA;let Oi=iA=class extends ue{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new iA(H({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};h([f({type:Boolean,json:{write:!0}})],Oi.prototype,"cacheHint",void 0),h([f({type:pl,json:{write:!0}})],Oi.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"gdbVersion",void 0),h([f({type:Number,json:{write:!0}})],Oi.prototype,"geometryPrecision",void 0),h([f({type:Date})],Oi.prototype,"historicMoment",void 0),h([Re("historicMoment")],Oi.prototype,"_writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],Oi.prototype,"maxAllowableOffset",void 0),h([f({json:{write:!0}})],Oi.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Oi.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],Oi.prototype,"outFields",void 0),h([f({type:it,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Oi.prototype,"outSpatialReference",void 0),h([f({json:{write:!0}})],Oi.prototype,"relationshipId",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Oi.prototype,"start",void 0),h([Re("start"),Re("num")],Oi.prototype,"writeStart",null),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Oi.prototype,"num",void 0),h([f({json:{write:!0}})],Oi.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Oi.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Oi.prototype,"returnZ",void 0),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Oi.prototype,"where",void 0),Oi=iA=h([O("esri.rest.support.RelationshipQuery")],Oi),Oi.from=Gi(Oi);const kP=Oi,Sze=Object.freeze(Object.defineProperty({__proto__:null,default:kP},Symbol.toStringTag,{value:"Module"})),xze=new It({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function Mze(e,t,i,r){const n=await hd(e);if(await LP(e,t,r),!n.addAttachment)throw new z(r,"Layer source does not support addAttachment capability");return n.addAttachment(t,i)}function LP(e,t,i){var s,a;const{attributes:r}=t,{objectIdField:n}=e;return(a=(s=e.capabilities)==null?void 0:s.data)!=null&&a.supportsAttachment?t?r?n&&r[n]?Promise.resolve():Promise.reject(new z(i,`feature is missing the identifying attribute ${n}`)):Promise.reject(new z(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new z(i,"A feature is required to add/delete/update attachments")):Promise.reject(new z(i,"this layer doesn't support attachments"))}async function Tze(e,t,i,r,n){const s=await hd(e);if(await LP(e,t,n),!s.updateAttachment)throw new z(n,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,i,r)}async function Eze(e,t,i){const{applyEdits:r}=await ve(()=>import("./editingSupport-QyuqlhDZ.js"),__vite__mapDeps([274,158,156])),n=await e.load();let s=i;return n.type==="feature"&&n.infoFor3D&&t.deleteFeatures!=null&&n.globalIdField!=null&&(s={...s,globalIdToObjectId:await ZIe(n,t.deleteFeatures,n.globalIdField)}),r(n,n.source,t,i)}async function Cze(e,t,i){const{uploadAssets:r}=await ve(()=>import("./editingSupport-QyuqlhDZ.js"),__vite__mapDeps([274,158,156])),n=await e.load();return r(n,n.source,t,i)}async function Ize(e,t,i,r){const n=await hd(e);if(await LP(e,t,r),!n.deleteAttachments)throw new z(r,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(t,i)}async function $ze(e,t,i){const r=(await e.load({signal:t==null?void 0:t.signal})).source;if(!r.fetchRecomputedExtents)throw new z(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)}async function Aze(e,t,i,r){var _,S,M,T;t=VIe.from(t),await e.load();const n=e.source,s=e.capabilities;if(!((_=s==null?void 0:s.data)!=null&&_.supportsAttachment))throw new z(r,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:l,globalIds:u,num:d,size:m,start:v,where:b}=t;if(!((S=s==null?void 0:s.operations)!=null&&S.supportsQueryAttachments)&&((a==null?void 0:a.length)>0||(u==null?void 0:u.length)>0||(m==null?void 0:m.length)>0||d||v||b))throw new z(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(l!=null&&l.length||u!=null&&u.length||b))throw new z(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!n.queryAttachments)throw new z(r,"Layer source does not support queryAttachments capability",t);return!((M=s==null?void 0:s.attachment)!=null&&M.supportsOrderByFields)&&((T=t.orderByFields)!=null&&T.length)&&((t=t.clone()).orderByFields=null),n.queryAttachments(t)}async function Rze(e,t,i,r){const n=await hd(e);if(!n.queryObjectIds)throw new z(r,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(Ks.from(t)??e.createQuery(),i)}async function Pze(e,t,i,r){const n=await hd(e);if(!n.queryFeatureCount)throw new z(r,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(Ks.from(t)??e.createQuery(),i)}async function Oze(e,t,i,r){const n=await hd(e);if(!n.queryExtent)throw new z(r,"Layer source does not support queryExtent capability");return n.queryExtent(Ks.from(t)??e.createQuery(),i)}async function kze(e,t,i,r){const n=await hd(e);if(!n.queryRelatedFeatures)throw new z(r,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(kP.from(t),i)}async function Lze(e,t,i,r){const n=await hd(e);if(!n.queryRelatedFeaturesCount)throw new z(r,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(kP.from(t),i)}async function Nze(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:i,updates:r}=await t.refresh();if(r!=null&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),i)return!0}catch{}if(e.definitionExpression)try{return(await aZ(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function Dze(e){var a,l;const t=new Ks,i=(a=e.capabilities)==null?void 0:a.data,r=(l=e.capabilities)==null?void 0:l.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),i&&(i.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),i.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:n,timeExtent:s}=e;return t.timeExtent=n!=null&&s!=null?s.offset(-n.value,n.unit):s||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function jze(e){const{globalIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function Fze(e){const{objectIdField:t,fields:i}=e;if(t)return t;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function zze(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function Uze(e,t,i,r){var u,d;const n=i==null?void 0:i.feature,s=!!((u=e.subtypes)!=null&&u.length);if(s&&!(i!=null&&i.excludeImpliedDomains)){const m=HIe(e,t);if(m)return m}const a=s&&BIe(e,n);if(a){const m=(d=a==null?void 0:a.domains)==null?void 0:d[t];return(m==null?void 0:m.type)==="inherited"?r:m}const l=KIe(e.types,e.typeIdField,n);if(l){const m=l.domains&&l.domains[t];if(m&&(m==null?void 0:m.type)!=="inherited")return m}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const m=qIe(e,t);if(m)return m}return null}function BIe(e,t){const{subtypes:i,subtypeField:r}=e;if(!(t!=null&&t.attributes)||!(i!=null&&i.length)||!r)return null;const n=t.attributes[r];return n==null?null:i.find(s=>s.code===n)}function HIe(e,t){var a,l;const{fieldsIndex:i,subtypeField:r}=e,{name:n,type:s}=i.get(t)??{};if(!n)return null;if((r&&((a=i.get(r))==null?void 0:a.name))===n&&((l=e.subtypes)!=null&&l.length)){const u=e.subtypes.map(d=>new Yp({code:WQ(d.code,s),name:d.name}));if(u!=null&&u.length)return new k5({codedValues:u})}return null}function qIe(e,t){var s,a;const{fieldsIndex:i}=e,{name:r,type:n}=i.get(t)??{};if(!r)return null;if(("typeIdField"in e?(s=i.get(e.typeIdField))==null?void 0:s.name:null)===r&&"types"in e&&((a=e.types)!=null&&a.length)){const l=e.types.map(u=>new Yp({code:WQ(u.id,n),name:u.name}));return new k5({codedValues:l})}return null}function WQ(e,t){return t?xZ({type:t})&&typeof e=="number"?`${e}`:$ve({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function hd(e){return(await e.load()).source}async function Gze(e,t){if(!pt)return;const i=pt.findCredential(e);if(i)return i.userId;let r;try{const n=await x8(e,t);n&&(r=await pt.checkSignInStatus(`${n}/sharing`))}catch{}return r?r.userId:null}async function YQ(e,t){if(!pt||pt.findCredential(e))return;let i;try{const r=await x8(e,t);r&&(i=await pt.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=t!=null?t.signal:null;await pt.getCredential(e,{signal:r})}catch{}}async function Vze(e,t,i){var n;const r=(n=e.parsedUrl)==null?void 0:n.path;r&&e.authenticationTriggerEvent===t&&await YQ(r,i)}async function Bze(e){var i;const t=(i=e.parsedUrl)==null?void 0:i.path;t&&WIe(e)&&await YQ(t)}function WIe(e){return YIe(e)&&("serviceDefinitionExpression"in e&&Zz(e.serviceDefinitionExpression)||"definitionExpression"in e&&Zz(e.definitionExpression))}function YIe(e){var t;return!(!CY(e)||!((t=e.capabilities)!=null&&t.query.supportsCurrentUser))}function Zz(e){return!!(e!=null&&e.toLowerCase().includes("current_user"))}function Hze(e){return!JIe(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const YC=Og({types:uK});function ZQ(e,t){var i;if(e.defaultSymbol)return(i=e.types)!=null&&i.length?new OP({defaultSymbol:YC(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(r=>({id:r.id,symbol:YC(r.symbol,r,t)}))}):new Uu({symbol:YC(e.defaultSymbol,e,t)})}function qze(e){var r,n,s;let t=(r=e.sourceJSON)==null?void 0:r.cacheMaxAge;if(!t)return!1;const i=(s=(n=e.editingInfo)==null?void 0:n.lastEditDate)==null?void 0:s.getTime();return i==null||(t*=1e3,Date.now()-i<t)}async function ZIe(e,t,i){if(t==null)return null;const r=[],{objectIdField:n}=e;if(t.forEach(d=>{let m=null;if("attributes"in d){const{attributes:v}=d;m={globalId:v[i],objectId:v[n]!=null&&v[n]!==-1?v[n]:null}}else m={globalId:d.globalId,objectId:d.objectId!=null&&d.objectId!==-1?d.objectId:null};m.globalId!=null&&(m.objectId!=null&&m.objectId!==-1||r.push(m.globalId))}),r.length===0)return null;const s=e.createQuery();s.where=r.map(d=>`${i}='${d}'`).join(" OR "),s.returnGeometry=!1,s.outFields=[n,i],s.cacheHint=!1;const a=await Hhe(GCe(e,s));if(!a.ok)return null;const l=new Map,u=a.value.features;for(const d of u){const m=d.attributes[i],v=d.attributes[n];m!=null&&v!=null&&v!==-1&&l.set(yMe(m),v)}return l}function KIe(e,t,i){if(!t||!i||!e)return null;const r=i.getAttribute(t);return r==null?null:e.find(n=>{const{id:s}=n;return s!=null&&s.toString()===r.toString()})??null}function JIe(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||XIe(e)}function XIe(e){var t,i;return!!((i=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function Wze(e,t,i){const r=t==null?void 0:t.queryAttributeBins;if(!r)throw new z(i,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new z(i,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!Kz(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new z(i,"Layer source does not support date binning");if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new z(i,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new z(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new z(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new z(i,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!Kz(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new z(i,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new z(i,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new z(i,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new z(i,"Layer source does not support firstDayOfWeek binning");const n=r==null?void 0:r.supportedStatistics;if(e.outStatistics&&n){const s=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:a}of e.outStatistics){const l=s.get(a);if(l&&!n[l])throw new z(i,`Layer source does not support ${a} statistic type`)}}}function Kz(e,t){return e!=null&&!!(t!=null&&t[qQ.toJSON(e)])}const NP="__begin__",DP="__end__",QIe=new RegExp(NP,"ig"),e$e=new RegExp(DP,"ig"),Jz=new RegExp("^"+NP,"i"),Xz=new RegExp(DP+"$","i"),Ax='"',t$e=Ax+" + ",i$e=" + "+Ax;function r$e(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function n$e(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function jP(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=r$e(e.labelExpression),t.type="conventional"),t}function s$e(e){const t=jP(e);switch(t.type){case"conventional":return rA(t.expression);case"arcade":return t.expression}return null}function a$e(e){const t=jP(e);switch(t.type){case"conventional":return l$e(t.expression);case"arcade":return KQ(t.expression)}return null}function rA(e){let t;return e?(t=Bb(e,i=>NP+'$feature["'+i+'"]'+DP),t=Jz.test(t)?t.replace(Jz,""):Ax+t,t=Xz.test(t)?t.replace(Xz,""):t+Ax,t=t.replaceAll(QIe,t$e).replaceAll(e$e,i$e)):t='""',t}const o$e=/^\s*\{([^}]+)\}\s*$/i;function l$e(e){const t=e==null?void 0:e.match(o$e);return(t==null?void 0:t[1].trim())||null}const u$e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,c$e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h$e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function KQ(e){if(!e)return null;let t=u$e.exec(e)||c$e.exec(e);return t?t[1]||t[3]:(t=h$e.exec(e),t?t[2]:null)}var nA;let ph=nA=class extends ue{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?rA(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=rA(this.value)),e!=null&&(t[i]=e)}clone(){return new nA({expression:this.expression,title:this.title,value:this.value})}};h([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],ph.prototype,"expression",void 0),h([He("expression",["expression","value"])],ph.prototype,"readExpression",null),h([Re("expression")],ph.prototype,"writeExpression",null),h([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],ph.prototype,"title",void 0),h([f({json:{read:!1,write:!1}})],ph.prototype,"value",void 0),ph=nA=h([O("esri.layers.support.LabelExpressionInfo")],ph);const JQ=ph;var sA;const A_=new It({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function R_(e,t,i){return{enabled:!_$(i==null?void 0:i.layer)}}function XQ(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function d$e(e){return(e==null?void 0:e.type)==="map-image"}function QQ(e){var t,i;return!!d$e(e)&&!!((i=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function p$e(e){return XQ(e)||QQ(e==null?void 0:e.layer)}let Ji=sA=class extends ue{static evaluateWhere(e,t){const i=(r,n,s)=>{switch(n){case"=":return r==s;case"<>":return r!=s;case">":return r>s;case">=":return r>=s;case"<":return r<s;case"<=":return r<=s}return!1};try{if(e==null)return!0;const r=e.split(" ");if(r.length===3)return i(t[r[0]],r[1],r[2]);if(r.length===7){const n=i(t[r[0]],r[1],r[2]),s=r[3],a=i(t[r[4]],r[5],r[6]);switch(s){case"AND":return n&&a;case"OR":return n||a}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=_Ie,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=n$e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const r=KQ(this.labelExpressionInfo.expression);r&&(e="["+r+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,r){if(e==null&&this.labelExpression!=null&&XQ(r))e=new JQ({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(r);n.expression&&(t[i]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return jP(this)}getLabelExpressionArcade(){return s$e(this)}getLabelExpressionSingleField(){return a$e(this)}hash(){return JSON.stringify(this)}clone(){return new sA({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:H(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:H(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};h([f({type:String,json:{write:!0}})],Ji.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:R_}}}}})],Ji.prototype,"allowOverrun",void 0),h([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:R_}}}}})],Ji.prototype,"deconflictionStrategy",void 0),h([f({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&QQ(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Ji.prototype,"labelExpression",void 0),h([He("labelExpression")],Ji.prototype,"readLabelExpression",null),h([Re("labelExpression")],Ji.prototype,"writeLabelExpression",null),h([f({type:JQ,json:{write:{overridePolicy:(e,t,i)=>p$e(i)?{allowNull:!0}:{enabled:!1}}}})],Ji.prototype,"labelExpressionInfo",void 0),h([Re("labelExpressionInfo")],Ji.prototype,"writeLabelExpressionInfo",null),h([f({type:A_.apiValues,json:{type:A_.jsonValues,read:A_.read,write:A_.write}})],Ji.prototype,"labelPlacement",void 0),h([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Ji.prototype,"labelPosition",void 0),h([f({type:Number})],Ji.prototype,"maxScale",void 0),h([Re("maxScale")],Ji.prototype,"writeMaxScale",null),h([f({type:Number})],Ji.prototype,"minScale",void 0),h([Re("minScale")],Ji.prototype,"writeMinScale",null),h([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:R_}}}}})],Ji.prototype,"repeatLabel",void 0),h([f({type:Number,cast:Ot,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:R_}}}}})],Ji.prototype,"repeatLabelDistance",void 0),h([f({types:Bbe,json:{origins:{"web-scene":{types:Hbe,write:Fz,default:null}},write:Fz,default:null}})],Ji.prototype,"symbol",void 0),h([f({type:Boolean,json:{write:!0}})],Ji.prototype,"useCodedValues",void 0),h([f({type:String,json:{write:!0}})],Ji.prototype,"where",void 0),Ji=sA=h([O("esri.layers.support.LabelClass")],Ji);const S2=Ji;var aA;let fh=aA=class extends ue{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new aA({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};h([f({type:String,json:{write:!0}})],fh.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],fh.prototype,"label",void 0),h([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],fh.prototype,"minValue",void 0),h([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],fh.prototype,"maxValue",void 0),h([f(AP)],fh.prototype,"symbol",void 0),fh=aA=h([O("esri.renderers.support.ClassBreakInfo")],fh);const Rx=fh;var oA;const eee="log",QS="percent-of-total",e3="field",P_=new It({esriNormalizeByLog:eee,esriNormalizeByPercentOfTotal:QS,esriNormalizeByField:e3}),f$e=Gi(Rx);let mr=oA=class extends Yg(rc){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let r=t.minValue;return e.map(n=>{const s=new Rx;return s.read(n,i),s.minValue==null&&(s.minValue=r),s.maxValue==null&&(s.maxValue=s.minValue),r=s.maxValue,s})}writeClassBreakInfos(e,t,i,r){const n=e.map(s=>s.write({},r));this._areClassBreaksConsecutive()&&n.forEach(s=>delete s.classMinValue),t[i]=n}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):Hb(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&e3||i&&QS||null,t&&i&&ce.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==e3&&e!==QS||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let r=null;r=typeof e=="number"?new Rx({minValue:e,maxValue:t,symbol:cK(i)}):f$e(H(e)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===e&&n[1]===t){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&ce.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(i={...i,arcade:await vf()});const r=this.getBreakIndex(e,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void ce.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const n=await vf(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:n}}const r=this.getBreakIndex(e,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((r,n)=>r+n.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new oA({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:H(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:H(this.visualVariables),legendOptions:H(this.legendOptions),authoringInfo:H(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map(r=>r.collectRequiredFields(e,t)),Wn(e,t,this.valueExpression)];ta(e,t,this.field),ta(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:r,spatialReference:n,arcade:s,timeZone:a}=t??{},{valueExpression:l}=this;let u=this._compiledValueExpression.valueExpression===l?this._compiledValueExpression.compiledFunction:null;const d=s.arcadeUtils;if(!u){const v=d.createSyntaxTree(l);u=d.createFunction(v),this._compiledValueExpression.compiledFunction=u}this._compiledValueExpression.valueExpression=l;const m=d.executeFunction(u,d.createExecContext(e,d.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),a));return this._getBreakIndexfromInfos(m)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,r=this.normalizationType;let n=parseFloat(i[t]);if(r){const s=this.normalizationTotal,a=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===eee)n=Math.log(n)*Math.LOG10E;else if(r!==QS||s==null||isNaN(s)){if(r===e3&&!isNaN(a)){if(isNaN(n)||isNaN(a))return-1;n/=a}}else n=n/s*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=e&&(t?e<=r[1]:e<r[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};h([f(RP)],mr.prototype,"backgroundFillSymbol",void 0),h([f({type:[Rx],json:{write:{isRequired:!0}}})],mr.prototype,"classBreakInfos",void 0),h([He("classBreakInfos")],mr.prototype,"readClassBreakInfos",null),h([Re("classBreakInfos")],mr.prototype,"writeClassBreakInfos",null),h([f({type:String,json:{write:!0}})],mr.prototype,"defaultLabel",void 0),h([f(rM)],mr.prototype,"defaultSymbol",void 0),h([f({type:String,json:{write:!0}})],mr.prototype,"field",void 0),h([Gt("field")],mr.prototype,"castField",null),h([f({type:Boolean})],mr.prototype,"isMaxInclusive",void 0),h([f({type:PP,json:{write:!0}})],mr.prototype,"legendOptions",void 0),h([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],mr.prototype,"minValue",null),h([f({type:String,json:{write:!0}})],mr.prototype,"normalizationField",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"normalizationTotal",void 0),h([f({type:P_.apiValues,value:null,json:{type:P_.jsonValues,read:P_.read,write:P_.write}})],mr.prototype,"normalizationType",null),h([qe({classBreaks:"class-breaks"})],mr.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],mr.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],mr.prototype,"valueExpressionTitle",void 0),mr=oA=h([O("esri.renderers.ClassBreaksRenderer")],mr);const tee=mr,lA=-3,m$e=lA-1;var Pu;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Pu||(Pu={}));let y$e=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new zh,this._users=new zh}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,i){const r=this._db.get(t.id+i);return(r==null?void 0:r.size)??0}put(t,i,r,n,s){i=t.id+i;const a=this._db.get(i);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(i),a.entry!==r&&this._notifyRemove(i,a.entry,a.size,Pu.ALL)),n>this._maxSize)return void this._notifyRemove(i,r,n,Pu.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${i}`),void this._notifyRemove(i,r,0,Pu.ALL);const l=1+Math.max(s,m$e)-lA;this._db.set(i,new g$e(r,n,l)),this._size+=n,t.size+=n,this._checkSize()}updateSize(t,i,r,n){i=t.id+i;const s=this._db.get(i);if(s&&s.entry===r){for(this._size-=s.size,t.size-=s.size;n>this._maxSize;){const a=this._notifyRemove(i,r,n,Pu.SOME);if(!(a!=null&&a>0))return void this._db.delete(i);n=a}s.size=n,this._size+=n,t.size+=n,this._checkSize()}}pop(t,i){i=t.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,t.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(t,i){i=t.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(t,i){const r=this._db.get(t.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((a,l)=>{const u=a.lifetime;r[u]=(r[u]||0)+a.size,this._users.forAll(d=>{const{id:m,name:v}=d;if(l.startsWith(m)){const b=i[v]||0;i[v]=b+a.size}})});const n={};this._users.forAll(a=>{const l=a.name;if("hitRate"in a&&typeof a.hitRate=="number"&&!isNaN(a.hitRate)&&a.hitRate>0){const u=i[l]||0;i[l]=u,n[l]=Math.round(100*a.hitRate)+"%"}else n[l]="0%"});const s=Object.keys(i);s.sort((a,l)=>i[l]-i[a]),s.forEach(a=>t[a]=Math.round(i[a]/2**20)+"MB / "+n[a]);for(let a=r.length-1;a>=0;--a){const l=r[a];l&&(t["Priority "+(a+lA-1)]=Math.round(l/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const i=t.id;this._db.forEach((r,n)=>{n.startsWith(i)&&(this._size-=r.size,this._db.delete(n),this._notifyRemove(n,r.entry,r.size,Pu.ALL))}),t.size=0}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,t.size,Pu.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,r,n){let s;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){const l=a[1](i,n,r);return typeof l=="number"&&(s=l),!0}return!1}),s}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const i=t??this;if(i.maxSize<0||i.size<=i.maxSize)return;const r=t==null?void 0:t.id;let n=!0;for(;n;){n=!1;for(const[s,a]of this._db)if(a.lifetime===0&&(!r||s.startsWith(r))){if(this._purgeItem(s,a,t),i.size<=.9*i.maxSize)return;n||(n=this._db.has(s))}}for(const[s,a]of this._db)if((!r||s.startsWith(r))&&(this._purgeItem(s,a,t),i.size<=.9*i.maxSize))return}_purgeItem(t,i,r=this._users.find(n=>t.startsWith(n.id))){if(this._db.delete(t),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const n=this._notifyRemove(t,i.entry,i.size,Pu.SOME);n!=null&&n>0&&(this._size+=n,r&&(r.size+=n),i.lives=i.lifetime,i.size=n,this._db.set(t,i))}else--i.lives,this._db.set(t,i)}},g$e=class{constructor(t,i,r){this.entry=t,this.size=i,this.lifetime=r,this.lives=r}},iee=class{constructor(t,i){this._storage=new y$e,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,i,r=1){this._storage.put(this,t,i,r,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}};function v$e(e){return"timeZone"in e}function b$e(e){return"timeZone"in e}function w$e(e){return"dateFieldsTimeZone"in e}const _$e=new Map;let ree=class t3{static fromJSON(t){return new t3(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new t3(t.fields??[],eU(t))}static fromLayerJSON(t){return new t3(t.fields??[],eU(t))}constructor(t=[],i){var n;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const s of this.fields){const a=s==null?void 0:s.name,l=Qz(a);if(a&&l){const u=Lp(a);this._fieldsMap.set(a,s),this._fieldsMap.set(u,s),this._normalizedFieldsMap.set(l,s),r.push(`${u}:${s.type}:${(n=this._timeZoneByFieldName)==null?void 0:n.get(a)}`),Ave(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):SZ(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),nj(s)||sj(s)||(s.editable=s.editable==null||!!s.editable,s.nullable=s.nullable==null||!!s.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)nj(t)||sj(t)||t.nullable||bve(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let i=this._fieldsMap.get(t);return i||(i=this._fieldsMap.get(Lp(t))??this._normalizedFieldsMap.get(Qz(t)),i&&this._fieldsMap.set(t,i),i)}getTimeZone(t){const i=this.get(t&&typeof t!="string"?t.name:t);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(ce.getLogger("esri.layers.support.FieldsIndex").errorOnce(new z("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Qh):nee.has(i.type)?gf:null:null}getLuxonTimeZone(t){const i=this.getTimeZone(t);return i?i===gf?Eo.instance:i===Qh?Yr.utcInstance:Pg(_$e,i,()=>_s.create(i)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return Rve(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var i;return((i=this.get(t))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(t=>ue.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Lp(e){return e.trim().toLowerCase()}function Qz(e){var t;return((t=sve(e))==null?void 0:t.toLowerCase())??""}const nee=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function eU(e){const t=new Map;if(!e.fields)return t;const i=e.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:n}=e,s=(r?"startField"in r?r.startField:r.startTimeField:"")??"",a=(r?"endField"in r?r.endField:r.endTimeField:"")??"",l=w$e(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?aS(e.dateFieldsTimeReference):null,u=n?v$e(n)?n.timeZone??l:n.dateFieldsTimeReference?aS(n.dateFieldsTimeReference):l??Qh:null,d=r?b$e(r)?r.timeZone??l:r.timeReference?aS(r.timeReference):l:null,m=new Map([[Lp((n==null?void 0:n.creationDateField)??""),u],[Lp((n==null?void 0:n.editDateField)??""),u],[Lp(s),d],[Lp(a),d]]);for(const{name:v,type:b}of e.fields)if(nee.has(b))t.set(v,gf);else if(b!=="date"&&b!=="esriFieldTypeDate")t.set(v,null);else if(i)t.set(v,gf);else{const _=m.get(Lp(v??""))??l;t.set(v,_)}return t}var uA,cA,tU,iU,rU,nU,sU,aU,oU,lU,hA,dA,uU,cU,hU,dU,pU,fU,mU,yU,gU,vU,bU,wU,_U,SU,xU,MU,TU,EU,CU,IU,$U,AU,RU,PU,OU,kU,LU,NU,DU,jU,FU,zU,UU,GU,VU,BU,HU,qU,WU,YU,ZU,KU,JU,Px,XU,QU,eG,tG,iG,rG,nG;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(uA||(uA={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(cA||(cA={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(tU||(tU={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(iU||(iU={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(rU||(rU={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(nU||(nU={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(sU||(sU={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(aU||(aU={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(oU||(oU={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(lU||(lU={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(hA||(hA={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(dA||(dA={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(uU||(uU={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(cU||(cU={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(hU||(hU={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(dU||(dU={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(pU||(pU={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(fU||(fU={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(mU||(mU={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(yU||(yU={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(gU||(gU={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(vU||(vU={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(bU||(bU={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(wU||(wU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(_U||(_U={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(SU||(SU={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(xU||(xU={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(MU||(MU={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(TU||(TU={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(EU||(EU={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(CU||(CU={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(IU||(IU={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}($U||($U={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(AU||(AU={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(RU||(RU={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(PU||(PU={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(OU||(OU={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(kU||(kU={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(LU||(LU={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(NU||(NU={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(DU||(DU={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(jU||(jU={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(FU||(FU={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(zU||(zU={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(UU||(UU={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(GU||(GU={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(VU||(VU={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(BU||(BU={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(HU||(HU={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(qU||(qU={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(WU||(WU={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(YU||(YU={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(ZU||(ZU={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(KU||(KU={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(JU||(JU={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(Px||(Px={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(XU||(XU={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(QU||(QU={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(eG||(eG={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(tG||(tG={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(iG||(iG={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(rG||(rG={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(nG||(nG={}));const S$e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},pA={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:Px.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:Px.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:hA.Loop,repeatdelay:0,easing:dA.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function x$e(e){return typeof e=="function"}function Jze(e,t,i,r){return x$e(e)?e(t,i,r):e}function Xze(e){return[e.r,e.g,e.b,e.a]}const M$e=` /-,
`;function sG(e){let t=e.length;for(;t--;)if(!M$e.includes(e.charAt(t)))return!1;return!0}function Qze(e,t){const i=[];let r=0,n=-1;do if(n=e.indexOf("[",r),n>=r){if(n>r){const s=e.slice(r,n);i.push([s,null,sG(s)])}if(r=n+1,n=e.indexOf("]",r),n>=r){if(n>r){const s=t[e.slice(r,n)];s&&i.push([null,s,!1])}r=n+1}}while(n!==-1);if(r<e.length){const s=e.slice(r);i.push([s,null,sG(s)])}return i}function eUe(e,t,i,r){let n="",s=null;for(const a of t){const[l,u,d]=a;if(l)d?s=l:(s&&(n+=s,s=null),n+=l);else{let m=u;i!=null&&(m=see(u,i));const v=e.attributes[m];v&&(s&&(n+=s,s=null),n+=v)}}return T$e(n,r)}function T$e(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function tUe(e,t,i,r,n,s,a=!0){const l=t/n,u=i/s,d=Math.ceil(l/2),m=Math.ceil(u/2);for(let v=0;v<s;v++)for(let b=0;b<n;b++){const _=4*(b+(a?s-v-1:v)*n);let S=0,M=0,T=0,E=0,A=0,P=0,N=0;const D=(v+.5)*u;for(let k=Math.floor(v*u);k<(v+1)*u;k++){const q=Math.abs(D-(k+.5))/m,X=(b+.5)*l,re=q*q;for(let W=Math.floor(b*l);W<(b+1)*l;W++){let be=Math.abs(X-(W+.5))/d;const ae=Math.sqrt(re+be*be);ae>=-1&&ae<=1&&(S=2*ae*ae*ae-3*ae*ae+1,S>0&&(be=4*(W+k*t),N+=S*e[be+3],T+=S,e[be+3]<255&&(S=S*e[be+3]/250),E+=S*e[be],A+=S*e[be+1],P+=S*e[be+2],M+=S))}}r[_]=E/M,r[_+1]=A/M,r[_+2]=P/M,r[_+3]=N/T}}function E$e(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function iUe(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function rUe(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function nUe(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function sUe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function C$e(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const aUe=(e,t=0)=>e==null||isNaN(e)?t:e,oUe=(e,t)=>e??t,lUe=(e,t)=>e??t,uUe=e=>e.tintColor?E$e(e.tintColor):[255,255,255,1],cUe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function hUe(){return ve(()=>import("./geometryEngineJSON-Bvf5zUh7.js").then(e=>e.g),__vite__mapDeps([9,10,1,11]))}function dUe(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function pUe(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function fUe(e){let t="normal",i="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:t,weight:i}}function mUe(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function aG(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=aG(t);if(i!=null)return i}break;case"CIMTextSymbol":return aG(e.symbol);case"CIMSolidFill":return e.color}return null}function oG(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const i of t){const r=oG(i);if(r!=null)return r}break}case"CIMTextSymbol":return oG(e.symbol);case"CIMSolidStroke":return e.color}}function lG(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const i=lG(t);if(i!==void 0)return i}break;case"CIMTextSymbol":return lG(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function yUe(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function gUe(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function vUe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const bUe=e=>e.includes("data:image/svg+xml");function wUe(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function FP(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function _Ue(e,t,i,r,n,s,a=!0){const{infos:l}=s;let u=1,d=0,m=0,v=0,b=1;for(const{absoluteAnchorPoint:M,offsetX:T,offsetY:E,rotation:A,size:P,frameHeight:N,rotateClockWise:D,scaleSymbolsProportionally:k}of l)b=M?1:u,m=cG(T,E,d,b,m),v=uG(T,E,d,b,v),N&&(k||a)&&(u*=P/N),d=hG(A,D,d);const _=cG(r,n,d,b,m),S=uG(r,n,d,b,v);return{size:e*u,rotation:hG(t,i,d),offsetX:_,offsetY:S}}function I$e(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>I$e(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function $$e(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...S$e[t]];const i=pA[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function A$e(e){return e.split(" ").map(t=>Number(t))}function R$e(e){return typeof e=="string"?A$e(e):e}function SUe(e){return e!=null&&e.dashTemplate&&(e.dashTemplate=R$e(e.dashTemplate)),e}function fA(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const i of t)if(i.type==="CIMVectorMarker")return fA(i)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const i of t)if(i.symbol)return fA(i.symbol)}}return"Normal"}function xUe(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??pA.CIMVectorMarker.size;r>t&&(t=r);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>t&&(t=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&C$e(i.markerPlacement)){const r=i.size??pA.CIMVectorMarker.size;r>t&&(t=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>t&&(t=r)}}}return t}}}function see(e,t){if(t!==null){const i=t.get(e);return i?i.name:e}return e}function MUe(e){return e.map(t=>({...t,propertyName:FP(t.propertyName)}))}function TUe(e){const t={};for(const i in e){const r=e[i];t[FP(i)]=r}return t}function uG(e,t,i,r,n){const s=i*Math.PI/180;if(s){const a=Math.cos(s);return(Math.sin(s)*e+a*t)*r+n}return t*r+n}function cG(e,t,i,r,n){const s=i*Math.PI/180;return s?(Math.cos(s)*e-Math.sin(s)*t)*r+n:e*r+n}function hG(e,t,i){return t?i-e:i+e}function EUe(e,t,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",n=i==="Rotation"||i==="Angle"||i==="ToRotation";let s=t[FP(i)];if(s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180)),s==null&&(s=$$e(t.type,i.toLowerCase()),s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]]:n&&(s*=Math.PI/180))),t.primitiveName!=null){const a=e[t.primitiveName];if(a!=null){const l=a[i];l==null||(typeof l=="string"||typeof l=="number"||Array.isArray(l)?(s=l,s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180))):(s={valueExpressionInfo:l,defaultValue:s},s!=null&&(r?s={type:"Process",op:"ArcadeColor",value:s}:n&&(s={type:"Process",op:"Divide",left:s,right:180/Math.PI}))))}}if(s==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return s}function CUe(e,t){return Math.max(Math.min((e??t)/100,1),0)}const dG="esri.renderers.support.DictionaryLoader",P$e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let aee=class{constructor(t,i,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new iee(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=i,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){var v;let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{r=await this._dictionaryPromise}catch(b){if(Vi(b))return this._dictionaryPromise=null,null}const n=(v=this._dictionaryVersion)==null?void 0:v.greaterEqual(4,0),s={};if(this.fieldMap)for(const b of this._symbolFields){const _=see(this.fieldMap[b],this._fieldIndex);if(_){const S=t.attributes[_];s[b]=n?S:S!=null?""+t.attributes[_]:""}else s[b]=""}let a=null;try{a=r==null?void 0:r(s,i)}catch{return null}if(!a||typeof a!="string"||a==="invalid")return null;const l=a.split(";"),u=[],d=[];for(let b=0;b<l.length;b++){const _=l[b];if(_){if(_.includes("po:")){const S=_.slice(3).split("|");if(S.length===3){const M=S[0],T=S[1];let E=S[2];const A="countrylabel";if(M===A&&T==="TextString"){if(this.fieldMap!=null){let P=this.fieldMap[A];P==null&&(P=A,this.fieldMap[P]=P),t.attributes[P]=E}continue}if(T==="DashTemplate")E=E.split(" ").map(P=>Number(P));else if(T==="Color"){const P=new me(E).toRgba();E=[P[0],P[1],P[2],255*P[3]]}else E=Number(E);d.push({primitiveName:M,propertyName:T,value:E,defaultValue:null})}}else if(_.includes("|")){for(const S of _.split("|"))if(this._itemNames.has(S)){u.push(S);break}}else if(this._itemNames.has(_))u.push(_);else if(b===0){u.length=0;let S="Invalid_P";t.geometry!=null&&(Qp(t.geometry)?S="Invalid_A":qR(t.geometry)&&(S="Invalid_L")),u.push(S);break}}}const m=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,u,d,m,i)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void ce.getLogger(dG).error("no valid URL!");const i=Ct(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:r}]=await Promise.all([i,vf()]);if(!r)throw this._dictionaryPromise=null,new z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:n,dictionary_version:s,expression:a,itemsNames:l}=r,u=a;let d=!1;s&&(this._dictionaryVersion=iQ.parse(s),d=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(l),this._symbolFields=n.symbol;const m={};if(this.config){const _=this.config;for(const S in _)m[S]=_[S]}if(n.configuration)for(const _ of n.configuration)m.hasOwnProperty(_.name)||(m[_.name]=_.value);const v=[];if(t!=null&&t.fields&&this.fieldMap)for(const _ in this.fieldMap){const S=this.fieldMap[_],M=t.fields.filter(T=>T.name.toLowerCase()===(S==null?void 0:S.toLowerCase()));M.length>0&&v.push({...M[0],type:d?M[0].type:"esriFieldTypeString"})}v.length>0&&(this._fieldIndex=new ree(v));const b=ive(u,t!=null?t.spatialReference:null,v,m).then(_=>{const S={scale:0};return(M,T)=>{if(_==null)return null;const E=_.repurposeFeature({geometry:null,attributes:M});return S.scale=T!=null?T.scale??void 0:void 0,_.evaluate({$feature:E,$view:S},_.services)}}).catch(_=>(ce.getLogger(dG).error("Creating dictionary expression failed:",_),null));return this._dictionaryPromise=b,b}async _cimPartsToCIMSymbol(t,i,r,n,s){const a=new Array(i.length);for(let d=0;d<i.length;d++)a[d]=this._getSymbolPart(i[d],s);let l=await Promise.all(a);const u=this.fieldMap;if(u&&l.length>0){const{OverrideHelper:d}=await ve(()=>import("./OverrideHelper-BrVODGuW.js").then(m=>m.O),__vite__mapDeps([192,4]));l=H(l);for(const m of l)d.applyDictionaryTextOverrides(m,t,u,this._fieldIndex,fA(m))}return new Ee({data:O$e(l,r,n)})}async _getSymbolPart(t,i){const r=this._symbolCache.get(t);if(r)return r;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(a=>a.data);const n=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),s=Ct(n,{responseType:"json",query:{f:"json"},...i});this._ongoingRequests.set(t,s),s.finally(()=>this._ongoingRequests.delete(t));try{const a=await s;return this._symbolCache.put(t,a.data),a.data}catch(a){throw a}}};function O$e(e,t,i){if(!e||e.length===0)return null;const r={...e[0]};if(e.length>1){r.effects=null,r.symbolLayers=[];for(const n of e){const s=n;if(s.effects!=null)for(const a of s.symbolLayers)a.effects==null?a.effects=s.effects:a.effects.unshift(...s.effects);r.symbolLayers.unshift(...s.symbolLayers)}}return i&&(r.callout=P$e),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:t}}var mA;let _o=mA=class extends Yg(rc){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new aee(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,r){r!=null&&r.origin||super.writeVisualVariables(e,t,i,r)}clone(){return new mA({config:H(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:H(this.fieldMap),url:H(this.url),visualVariables:H(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Wn(e,t,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];t.has(r)&&e.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};h([f({type:aee})],_o.prototype,"_loader",null),h([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],_o.prototype,"config",void 0),h([f({type:Object,json:{write:!0}})],_o.prototype,"fieldMap",void 0),h([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],_o.prototype,"scaleExpression",void 0),h([Re("scaleExpression")],_o.prototype,"writeData",null),h([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],_o.prototype,"scaleExpressionTitle",void 0),h([f({type:String,json:{write:!0}})],_o.prototype,"url",void 0),h([Re("visualVariables")],_o.prototype,"writeVisualVariables",null),_o=mA=h([O("esri.renderers.DictionaryRenderer")],_o);const k$e=_o;var yA;let Eu=yA=class extends ue{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(ce.getLogger(this).error(".field: field must be a string value"),null):Hb(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new yA({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:me,json:{type:[Number],write:!0}})],Eu.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Eu.prototype,"field",void 0),h([Gt("field")],Eu.prototype,"castField",null),h([f({type:String,json:{write:!0}})],Eu.prototype,"label",void 0),h([f({type:String,json:{write:!0}})],Eu.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],Eu.prototype,"valueExpressionTitle",void 0),Eu=yA=h([O("esri.renderers.support.AttributeColorInfo")],Eu);const oee=Eu;var gA;let i3=gA=class extends ue{constructor(){super(...arguments),this.unit=null}clone(){return new gA({unit:this.unit})}};h([f({type:String,json:{write:!0}})],i3.prototype,"unit",void 0),i3=gA=h([O("esri.renderers.support.DotDensityLegendOptions")],i3);const L$e=i3;var vA;let ns=vA=class extends Yg(rc){constructor(e){super(e),this.attributes=null,this.backgroundColor=new me([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new pi,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new Ae({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,i)=>t+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new vA({attributes:H(this.attributes),backgroundColor:H(this.backgroundColor),dotBlendingEnabled:H(this.dotBlendingEnabled),dotShape:H(this.dotShape),dotSize:H(this.dotSize),dotValue:H(this.dotValue),legendOptions:H(this.legendOptions),outline:H(this.outline),referenceScale:H(this.referenceScale),seed:H(this.seed),visualVariables:H(this.visualVariables),authoringInfo:H(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await Wn(e,t,i.valueExpression),i.field&&e.add(i.field)}};h([f({type:[oee],json:{write:!0}})],ns.prototype,"attributes",void 0),h([f({type:me,json:{write:!0}})],ns.prototype,"backgroundColor",void 0),h([f({type:Boolean,json:{write:!0}})],ns.prototype,"dotBlendingEnabled",void 0),h([f({type:String,json:{write:!1}})],ns.prototype,"dotShape",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"dotSize",void 0),h([f({type:L$e,json:{write:!0}})],ns.prototype,"legendOptions",void 0),h([f({type:pi,json:{default:null,write:!0}})],ns.prototype,"outline",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"dotValue",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"referenceScale",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"seed",void 0),h([qe({dotDensity:"dot-density"})],ns.prototype,"type",void 0),ns=vA=h([O("esri.renderers.DotDensityRenderer")],ns);const N$e=ns;var bA;let Av=bA=class extends ue{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new bA({color:this.color&&this.color.clone(),ratio:this.ratio})}};h([f({type:me,json:{type:[zt],default:null,write:{isRequired:!0}}})],Av.prototype,"color",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],Av.prototype,"ratio",void 0),Av=bA=h([O("esri.renderers.support.HeatmapColorStop")],Av);const r3=Av;let by=class extends Xt.ClonableMixin(ue){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};h([f({type:String,json:{write:!0}})],by.prototype,"minLabel",void 0),h([f({type:String,json:{write:!0}})],by.prototype,"maxLabel",void 0),h([f({type:String,json:{write:!0}})],by.prototype,"title",void 0),by=h([O("esri.renderers.support.HeatmapLegendOptions")],by);function D$e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function j$e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function F$e(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e}function z$e(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function lee(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function uee(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function cee(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function U$e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function G$e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function V$e(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function B$e(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function H$e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function q$e(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function W$e(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e}function hee(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(i*i+r*r+n*n+s*s)}function dee(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return i*i+r*r+n*n+s*s}function pee(e){const t=e[0],i=e[1],r=e[2],n=e[3];return Math.sqrt(t*t+i*i+r*r+n*n)}function fee(e){const t=e[0],i=e[1],r=e[2],n=e[3];return t*t+i*i+r*r+n*n}function Y$e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Z$e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function K$e(e,t){const i=t[0],r=t[1],n=t[2],s=t[3];let a=i*i+r*r+n*n+s*s;return a>0&&(a=1/Math.sqrt(a),e[0]=i*a,e[1]=r*a,e[2]=n*a,e[3]=s*a),e}function J$e(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function mee(e,t,i,r){const n=t[0],s=t[1],a=t[2],l=t[3];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e[2]=a+r*(i[2]-a),e[3]=l+r*(i[3]-l),e}function X$e(e,t=1){const i=x5;let r,n,s,a,l,u;do r=2*i()-1,n=2*i()-1,l=r*r+n*n;while(l>=1);do s=2*i()-1,a=2*i()-1,u=s*s+a*a;while(u>=1);const d=Math.sqrt((1-l)/u);return e[0]=t*r,e[1]=t*n,e[2]=t*s*d,e[3]=t*a*d,e}function Q$e(e,t,i){const r=t[0],n=t[1],s=t[2],a=t[3];return e[0]=i[0]*r+i[4]*n+i[8]*s+i[12]*a,e[1]=i[1]*r+i[5]*n+i[9]*s+i[13]*a,e[2]=i[2]*r+i[6]*n+i[10]*s+i[14]*a,e[3]=i[3]*r+i[7]*n+i[11]*s+i[15]*a,e}function e6e(e,t,i){const r=t[0],n=t[1],s=t[2],a=i[0],l=i[1],u=i[2],d=i[3],m=d*r+l*s-u*n,v=d*n+u*r-a*s,b=d*s+a*n-l*r,_=-a*r-l*n-u*s;return e[0]=m*d+_*-a+v*-u-b*-l,e[1]=v*d+_*-l+b*-a-m*-u,e[2]=b*d+_*-u+m*-l-v*-a,e[3]=t[3],e}function t6e(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function i6e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function r6e(e,t){const i=e[0],r=e[1],n=e[2],s=e[3],a=t[0],l=t[1],u=t[2],d=t[3],m=Hn();return Math.abs(i-a)<=m*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=m*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=m*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(s-d)<=m*Math.max(1,Math.abs(s),Math.abs(d))}const n6e=lee,s6e=uee,a6e=cee,o6e=hee,l6e=dee,u6e=pee,c6e=fee;Object.freeze(Object.defineProperty({__proto__:null,add:z$e,ceil:U$e,copy:D$e,copyVec3:j$e,dist:o6e,distance:hee,div:a6e,divide:cee,dot:J$e,equals:r6e,exactEquals:i6e,floor:G$e,inverse:Z$e,len:u6e,length:pee,lerp:mee,max:B$e,min:V$e,mul:s6e,multiply:uee,negate:Y$e,normalize:K$e,random:X$e,round:H$e,scale:q$e,scaleAndAdd:W$e,set:F$e,sqrDist:l6e,sqrLen:c6e,squaredDistance:dee,squaredLength:fee,str:t6e,sub:n6e,subtract:lee,transformMat4:Q$e,transformQuat:e6e},Symbol.toStringTag,{value:"Module"}));function nM(){return[0,0,0,0]}function h6e(e){return[e[0],e[1],e[2],e[3]]}function Nf(e,t,i,r){return[e,t,i,r]}function d6e(e,t,i,r){return[e,t,i,r]}function p6e(e,t=nM()){const i=Math.min(4,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function f6e(e,t){return new Float64Array(e,t,4)}function yee(){return nM()}function gee(){return Nf(1,1,1,1)}function vee(){return Nf(1,0,0,0)}function bee(){return Nf(0,1,0,0)}function wee(){return Nf(0,0,1,0)}function _ee(){return Nf(0,0,0,1)}const m6e=yee(),y6e=gee(),g6e=vee(),v6e=bee(),b6e=wee(),w6e=_ee();Object.freeze(Object.defineProperty({__proto__:null,ONES:y6e,UNIT_W:w6e,UNIT_X:g6e,UNIT_Y:v6e,UNIT_Z:b6e,ZEROS:m6e,clone:h6e,create:nM,createView:f6e,freeze:d6e,fromArray:p6e,fromValues:Nf,ones:gee,unitW:_ee,unitX:vee,unitY:bee,unitZ:wee,zeros:yee},Symbol.toStringTag,{value:"Module"}));const zP=2.4;function _6e(e){return Ha(e*zP)}function S6e(e){return r0e(e)/zP}function x6e(e,t,i,r){let{color:n,ratio:s}=t,{color:a,ratio:l}=i;l===s&&(l===1?s-=1e-6:l+=1e-6);const u=ia((r-s)/(l-s),0,1);mee(e,n.toArray(),a.toArray(),u)}function AUe(e){const i=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:l})=>l>=0&&l<=1).sort((l,u)=>l.ratio-u.ratio).map(({color:l,ratio:u})=>({color:l,ratio:Math.max(u,.001)})),e.length<1)return i;let r=e[0],n=e[0],s=1;const a=nM();for(let l=0;l<512;l++){const u=(l+.5)/512;for(;u>n.ratio&&s<e.length;)r=n,n=e[s++];x6e(a,r,n,u),i.set(a,4*l)}return i}function RUe(e,t,i){const r=Math.sqrt(e**2+t**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function PUe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var wA;function pG(e){if(e!=null){const{maxDensity:t,minDensity:i,radius:r}=e;if(t!=null||i!=null||r!=null){const{blurRadius:n,maxPixelIntensity:s,minPixelIntensity:a,...l}=e;return l}}return e}let Vr=wA=class extends rc{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new r3({ratio:0,color:new me("rgba(255, 140, 0, 0)")}),new r3({ratio:.75,color:new me("rgba(255, 140, 0, 1)")}),new r3({ratio:.9,color:new me("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return pG(e)}get blurRadius(){return S6e(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",_6e(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(zP**2*this.blurRadius**4)}read(e,t){e=pG(e),super.read(e,t)}getSymbol(){return new $n}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&ta(e,t,i),r&&typeof r=="string"&&await Wn(e,t,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new wA({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:H(this.colorStops),field:this.field,legendOptions:H(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:EP,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vr.prototype,"authoringInfo",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Vr.prototype,"blurRadius",null),h([f({type:[r3],json:{write:{isRequired:!0}}})],Vr.prototype,"colorStops",void 0),h([f({type:String,json:{write:!0}})],Vr.prototype,"field",void 0),h([f({type:by,json:{write:!0}})],Vr.prototype,"legendOptions",void 0),h([f({type:Number,json:{write:!0}})],Vr.prototype,"maxDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Vr.prototype,"maxPixelIntensity",null),h([f({type:Number,json:{write:!0}})],Vr.prototype,"minDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Vr.prototype,"minPixelIntensity",null),h([f({type:Number,cast:Ot,json:{write:!0}})],Vr.prototype,"radius",void 0),h([f({type:Number,range:{min:0},json:{default:0,write:!0}})],Vr.prototype,"referenceScale",void 0),h([qe({heatmap:"heatmap"})],Vr.prototype,"type",void 0),h([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Vr.prototype,"valueExpression",void 0),h([f({type:String})],Vr.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],Vr.prototype,"_pixelIntensityToDensity",null),Vr=wA=h([O("esri.renderers.HeatmapRenderer")],Vr);const See=Vr;let Np=class extends Xt.ClonableMixin(ue){constructor(){super(...arguments),this.color=new me([0,0,0,0]),this.label=null,this.threshold=0}};h([f({type:me,json:{write:!0}})],Np.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Np.prototype,"label",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],Np.prototype,"threshold",void 0),Np=h([O("esri.renderers.support.OthersCategory")],Np);const M6e={base:Wg,key:"type",typeMap:{size:iM,opacity:CP}};let ss=class extends Yg(Xt.ClonableMixin(rc)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new me([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Np,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var t;return new $n({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(Fa)}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,i)=>t+JSON.stringify(i),"")}async collectRequiredFields(t,i){await this.collectVVRequiredFields(t,i);for(const r of this.attributes)r.valueExpression&&await Wn(t,i,r.valueExpression),r.field&&t.add(r.field)}};h([f({type:[oee],json:{write:!0}})],ss.prototype,"attributes",void 0),h([f(RP)],ss.prototype,"backgroundFillSymbol",void 0),h([f({type:me,json:{write:!0}})],ss.prototype,"defaultColor",void 0),h([f({type:String,json:{write:!0}})],ss.prototype,"defaultLabel",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],ss.prototype,"holePercentage",void 0),h([f({type:Np,json:{write:!0}})],ss.prototype,"othersCategory",void 0),h([f({type:PP,json:{write:!0}})],ss.prototype,"legendOptions",void 0),h([f({type:pi,json:{default:null,write:!0}})],ss.prototype,"outline",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],ss.prototype,"size",void 0),h([qe({pieChart:"pie-chart"})],ss.prototype,"type",void 0),h([f({types:[M6e]})],ss.prototype,"visualVariables",void 0),ss=h([O("esri.renderers.PieChartRenderer")],ss);const T6e=ss,x2={key:"type",base:rc,typeMap:{heatmap:See,simple:Uu,"unique-value":OP,"class-breaks":tee,"dot-density":N$e,dictionary:k$e,"pie-chart":T6e},errorContext:"renderer"},E6e={key:"type",base:rc,typeMap:{simple:Uu,"unique-value":OP,"class-breaks":tee,heatmap:See},errorContext:"renderer",validate:C6e};function C6e(e){switch(e.type){case"simple":return I6e(e);case"unique-value":return $6e(e);case"class-breaks":return A6e(e);case"heatmap":return e}}function I6e(e){if(e.symbol)return e;ce.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function $6e(e){const t=e.uniqueValueInfos,i=t==null?void 0:t.filter(({symbol:r,label:n},s)=>(r||ce.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${s}] ${n}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=i),e}function A6e(e){const t=e.classBreakInfos,i=t==null?void 0:t.filter(({symbol:r,label:n},s)=>(r||ce.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${s}] ${n}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=i),e}function LUe(e,t){return Ox(e,null,t)}const R6e=Og({types:x2});function Ox(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new Lo("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):R6e(e,t,i):null}var _A;let xn=_A=class extends qh{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=Ot("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const r=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());bs(i,r,t)}readRenderer(e,t,i){var n;const r=(n=t.drawingInfo)==null?void 0:n.renderer;return r?Ox(r,t,i)??void 0:ZQ(t,i)}clone(){return new _A({fields:H(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:H(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:H(this.popupTemplate),renderer:H(this.renderer),binType:H(this.binType),size:this.size})}};h([qe({binning:"binning"})],xn.prototype,"type",void 0),h([qe({geohash:"geohash",square:"square"}),f({type:["geohash","square"]})],xn.prototype,"binType",void 0),h([f({type:Number,json:{write:!0}})],xn.prototype,"fixedBinLevel",void 0),h([f({type:[S2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],xn.prototype,"labelingInfo",void 0),h([f(X5)],xn.prototype,"labelsVisible",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],xn.prototype,"maxScale",void 0),h([f(J5)],xn.prototype,"popupEnabled",void 0),h([f({type:Il,json:{name:"popupInfo",write:!0}})],xn.prototype,"popupTemplate",void 0),h([f({cast:e=>e==="auto"?e:Un(Ot(e))})],xn.prototype,"size",void 0),h([f({type:[rd],json:{write:!0}})],xn.prototype,"fields",void 0),h([Re("fields")],xn.prototype,"writeFields",null),h([f({types:x2,json:{write:{target:"drawingInfo.renderer"}}})],xn.prototype,"renderer",void 0),h([He("renderer",["drawingInfo.renderer"])],xn.prototype,"readRenderer",null),xn=_A=h([O("esri.layers.support.FeatureReductionBinning")],xn);const xee=xn;var SA;function fG(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let yr=SA=class extends ue{constructor(e){super(e),this.type="cluster",this.clusterRadius=Ot("80px"),this.clusterMinSize=Ot("12px"),this.clusterMaxSize=Ot("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){var n,s;const r=(n=t.drawingInfo)==null?void 0:n.renderer;return(s=r==null?void 0:r.authoringInfo)!=null&&s.isAutoGenerated?null:r?fG(r)?null:Ox(r,t,i)??void 0:ZQ(t,i)}readSymbol(e,t,i){var n,s;const r=(n=t.drawingInfo)==null?void 0:n.renderer;if((s=r==null?void 0:r.authoringInfo)!=null&&s.isAutoGenerated)return null;if(r&&fG(r)){const a=Ox(r,t,i);return a==null?void 0:a.symbol}return null}writeSymbol(e,t,i,r){var s,a;const n=(a=(s=this.renderer)==null?void 0:s.authoringInfo)==null?void 0:a.isAutoGenerated;if(!this.renderer||n){const l=new Uu({symbol:e});t.drawingInfo={renderer:l.write({},r)}}}writeFields(e,t,i){const r=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());bs(i,r,t)}readFields(e,t,i){return e.filter(r=>!r.isAutoGenerated).map(r=>rd.fromJSON(r))}clone(){return new SA({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:H(this.labelingInfo),labelsVisible:this.labelsVisible,fields:H(this.fields),maxScale:this.maxScale,renderer:H(this.renderer),symbol:H(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:H(this.popupTemplate)})}};h([f({type:["cluster"],readOnly:!0,json:{write:!0}})],yr.prototype,"type",void 0),h([f({cast:e=>e==="auto"?e:Un(Ot(e)),json:{write:!0}})],yr.prototype,"clusterRadius",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],yr.prototype,"clusterMinSize",void 0),h([f({type:Number,cast:Ot,json:{write:!0}})],yr.prototype,"clusterMaxSize",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],yr.prototype,"maxScale",void 0),h([f(J5)],yr.prototype,"popupEnabled",void 0),h([f({type:Il,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],yr.prototype,"popupTemplate",void 0),h([f({types:x2,json:{write:{target:"drawingInfo.renderer"}}})],yr.prototype,"renderer",void 0),h([He("renderer",["drawingInfo.renderer"])],yr.prototype,"readRenderer",null),h([f({types:Gbe})],yr.prototype,"symbol",void 0),h([He("symbol",["drawingInfo.renderer"])],yr.prototype,"readSymbol",null),h([Re("symbol")],yr.prototype,"writeSymbol",null),h([f({type:[S2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],yr.prototype,"labelingInfo",void 0),h([f(X5)],yr.prototype,"labelsVisible",void 0),h([f({type:[rd],json:{write:!0}})],yr.prototype,"fields",void 0),h([Re("fields")],yr.prototype,"writeFields",null),h([He("fields")],yr.prototype,"readFields",null),yr=SA=h([O("esri.layers.support.FeatureReductionCluster")],yr);const Mee=yr;var xA;let n3=xA=class extends qh{constructor(e){super(e),this.type="selection"}clone(){return new xA}};h([f({type:["selection"]})],n3.prototype,"type",void 0),n3=xA=h([O("esri.layers.support.FeatureReductionSelection")],n3);const mG=n3,yG={key:"type",base:qh,typeMap:{cluster:Mee,binning:xee}},P6e={types:{key:"type",base:qh,typeMap:{selection:mG,cluster:Mee,binning:xee}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:yG},"portal-item":{types:yG},"web-scene":{types:{key:"type",base:qh,typeMap:{selection:mG}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:ur}}}}},zm={Base64:0,Hex:1,String:2,Raw:3},Qy=8,Tee=(1<<Qy)-1;function Dh(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function O6e(e){const t=[];for(let i=0,r=e.length*Qy;i<r;i+=Qy)t[i>>5]|=(e.charCodeAt(i/Qy)&Tee)<<i%32;return t}function k6e(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=Qy)t.push(String.fromCharCode(e[i>>5]>>>i%32&Tee));return t.join("")}function L6e(e){const t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function N6e(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,s=4*e.length;n<s;n+=3){const a=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let l=0;l<4;l++)8*n+6*l>32*e.length?r.push(t):r.push(i.charAt(a>>6*(3-l)&63))}return r.join("")}function D6e(e,t){return e<<t|e>>>32-t}function sM(e,t,i,r,n,s){return Dh(D6e(Dh(Dh(t,e),Dh(r,s)),n),i)}function mn(e,t,i,r,n,s,a){return sM(t&i|~t&r,e,t,n,s,a)}function yn(e,t,i,r,n,s,a){return sM(t&r|i&~r,e,t,n,s,a)}function gn(e,t,i,r,n,s,a){return sM(t^i^r,e,t,n,s,a)}function vn(e,t,i,r,n,s,a){return sM(i^(t|~r),e,t,n,s,a)}function j6e(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let a=0;a<e.length;a+=16){const l=i,u=r,d=n,m=s;i=mn(i,r,n,s,e[a],7,-680876936),s=mn(s,i,r,n,e[a+1],12,-389564586),n=mn(n,s,i,r,e[a+2],17,606105819),r=mn(r,n,s,i,e[a+3],22,-1044525330),i=mn(i,r,n,s,e[a+4],7,-176418897),s=mn(s,i,r,n,e[a+5],12,1200080426),n=mn(n,s,i,r,e[a+6],17,-1473231341),r=mn(r,n,s,i,e[a+7],22,-45705983),i=mn(i,r,n,s,e[a+8],7,1770035416),s=mn(s,i,r,n,e[a+9],12,-1958414417),n=mn(n,s,i,r,e[a+10],17,-42063),r=mn(r,n,s,i,e[a+11],22,-1990404162),i=mn(i,r,n,s,e[a+12],7,1804603682),s=mn(s,i,r,n,e[a+13],12,-40341101),n=mn(n,s,i,r,e[a+14],17,-1502002290),r=mn(r,n,s,i,e[a+15],22,1236535329),i=yn(i,r,n,s,e[a+1],5,-165796510),s=yn(s,i,r,n,e[a+6],9,-1069501632),n=yn(n,s,i,r,e[a+11],14,643717713),r=yn(r,n,s,i,e[a],20,-373897302),i=yn(i,r,n,s,e[a+5],5,-701558691),s=yn(s,i,r,n,e[a+10],9,38016083),n=yn(n,s,i,r,e[a+15],14,-660478335),r=yn(r,n,s,i,e[a+4],20,-405537848),i=yn(i,r,n,s,e[a+9],5,568446438),s=yn(s,i,r,n,e[a+14],9,-1019803690),n=yn(n,s,i,r,e[a+3],14,-187363961),r=yn(r,n,s,i,e[a+8],20,1163531501),i=yn(i,r,n,s,e[a+13],5,-1444681467),s=yn(s,i,r,n,e[a+2],9,-51403784),n=yn(n,s,i,r,e[a+7],14,1735328473),r=yn(r,n,s,i,e[a+12],20,-1926607734),i=gn(i,r,n,s,e[a+5],4,-378558),s=gn(s,i,r,n,e[a+8],11,-2022574463),n=gn(n,s,i,r,e[a+11],16,1839030562),r=gn(r,n,s,i,e[a+14],23,-35309556),i=gn(i,r,n,s,e[a+1],4,-1530992060),s=gn(s,i,r,n,e[a+4],11,1272893353),n=gn(n,s,i,r,e[a+7],16,-155497632),r=gn(r,n,s,i,e[a+10],23,-1094730640),i=gn(i,r,n,s,e[a+13],4,681279174),s=gn(s,i,r,n,e[a],11,-358537222),n=gn(n,s,i,r,e[a+3],16,-722521979),r=gn(r,n,s,i,e[a+6],23,76029189),i=gn(i,r,n,s,e[a+9],4,-640364487),s=gn(s,i,r,n,e[a+12],11,-421815835),n=gn(n,s,i,r,e[a+15],16,530742520),r=gn(r,n,s,i,e[a+2],23,-995338651),i=vn(i,r,n,s,e[a],6,-198630844),s=vn(s,i,r,n,e[a+7],10,1126891415),n=vn(n,s,i,r,e[a+14],15,-1416354905),r=vn(r,n,s,i,e[a+5],21,-57434055),i=vn(i,r,n,s,e[a+12],6,1700485571),s=vn(s,i,r,n,e[a+3],10,-1894986606),n=vn(n,s,i,r,e[a+10],15,-1051523),r=vn(r,n,s,i,e[a+1],21,-2054922799),i=vn(i,r,n,s,e[a+8],6,1873313359),s=vn(s,i,r,n,e[a+15],10,-30611744),n=vn(n,s,i,r,e[a+6],15,-1560198380),r=vn(r,n,s,i,e[a+13],21,1309151649),i=vn(i,r,n,s,e[a+4],6,-145523070),s=vn(s,i,r,n,e[a+11],10,-1120210379),n=vn(n,s,i,r,e[a+2],15,718787259),r=vn(r,n,s,i,e[a+9],21,-343485551),i=Dh(i,l),r=Dh(r,u),n=Dh(n,d),s=Dh(s,m)}return[i,r,n,s]}function Eee(e,t=zm.Hex){const i=t||zm.Base64,r=j6e(O6e(e),e.length*Qy);switch(i){case zm.Raw:return r;case zm.Hex:return L6e(r);case zm.String:return k6e(r);case zm.Base64:return N6e(r)}}const F6e=()=>ce.getLogger("esri.views.2d.layers.support.clusterUtils");J.add("esri-cluster-arcade-enabled",!0);const z6e=J("esri-cluster-arcade-enabled"),U6e=new Set(["simple-line","simple-fill","picture-fill"]);function gG(e,t){let i=t.clone();if(!G6e(i))return i;if(t.symbols.some(r=>U6e.has(r.type))&&(i=new Uu({symbol:new $n})),i.authoringInfo||(i.authoringInfo=new EP),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(n=>n.valueExpression!=="$view.scale");r.forEach(n=>{n.type==="rotation"?n.field?n.field=Vd(e,n.field,"avg_angle","number"):n.valueExpression&&(n.field=b1(e,n.valueExpression,"avg_angle","number"),n.valueExpression=null):n.normalizationField?(n.field=Vd(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=Vd(e,n.field,"avg","number"):n.valueExpression&&(n.field=b1(e,n.valueExpression,"avg","number"),n.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Vd(e,r.field,"sum","number"):r.valueExpression&&(r.field=b1(e,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Vd(e,i.field,"mode","string"):i.valueExpression&&(i.field=b1(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Vd(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Vd(e,i.field,"avg","number"):i.valueExpression&&(i.field=b1(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const G6e=e=>{const t=i=>F6e().error(new z("Unsupported-renderer",i,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if(i!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!z6e){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function V6e(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const r=i,n="field",s=t.toLowerCase()+",norm:"+n+","+r.toLowerCase();return"cluster_avg_"+Eee(s)}}}function b1(e,t,i,r){const n=Eee(t),s=i==="mode"?`cluster_type_${n}`:i==="sum"?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some(a=>a.name===s)||e.push(new rd({name:s,isAutoGenerated:!0,onStatisticExpression:new xP({expression:t,returnType:r}),statisticType:i})),s}function Vd(e,t,i,r,n){if(t==="cluster_count"||e.some(a=>a.name===t))return t;const s=V6e(i,t,n);return e.some(a=>a.name===s)||(i==="avg_norm"?e.push(new rd({name:s,isAutoGenerated:!0,onStatisticExpression:new xP({expression:`$feature.${t} / $feature.${n}`,returnType:r}),statisticType:"avg"})):e.push(new rd({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),s}const B6e=e=>{let t=class extends e{constructor(...i){super(...i),this.addHandles(Ge(()=>this.renderer,()=>{if(this.featureReduction){const r=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",r)}},El))}set featureReduction(i){const r=this._normalizeFeatureReduction(i);this._set("featureReduction",r)}set renderer(i){}_withClusterVariable(i,r,n){const s=i.clone();return"visualVariables"in s&&(s.visualVariables||(s.visualVariables=[]),s.visualVariables.some(a=>a.type==="size")||s.visualVariables.push(new iM({field:"cluster_count",stops:[new YS({value:1}),new YS({useMinValue:!0,size:r}),new YS({useMaxValue:!0,size:n})]}))),s}_normalizeFeatureReduction(i){var v;if((i==null?void 0:i.type)!=="cluster")return i;const r=i.clone(),n=[new rd({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(r.fields??[]).filter(b=>!b.isAutoGenerated),a=i.renderer&&!((v=i.renderer.authoringInfo)!=null&&v.isAutoGenerated),{clusterMinSize:l,clusterMaxSize:u}=r;if(a){r.fields=[...n,...s];const b=this._withClusterVariable(r.renderer,l,u);return r.effectiveFeatureRenderer=b,r.effectiveClusterRenderer=b,r}if(i.symbol){if(r.fields=[...n,...s],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;const b=gG(n,this.renderer),_=this._withClusterVariable(b,l,u),S="visualVariables"in _&&_.visualVariables?_.visualVariables:[],M=new Uu({symbol:i.symbol,visualVariables:S});return r.fields=[...n,...s],r.effectiveFeatureRenderer=_,r.effectiveClusterRenderer=M,r}if(!this.renderer)return i;const d=gG(n,this.renderer);r.fields=[...n,...s],r.renderer=d;const m=this._withClusterVariable(d,l,u);return r.effectiveFeatureRenderer=m,r.effectiveClusterRenderer=m,r}};return h([f(P6e)],t.prototype,"featureReduction",null),t=h([O("esri.layers.mixins.FeatureReductionLayer")],t),t},vG={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},bG={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},wG={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},H6e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":vG,"web-map/basemap":bG,"web-map/tables":wG,"link-chart/operational-layers":{...vG,LinkChartLayer:!0},"link-chart/basemap":bG,"link-chart/tables":wG,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},Cee=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(i,r,n){var s;return((s=n==null?void 0:n.portalItem)==null?void 0:s.type)==="Group Layer"?void 0:i}writeListMode(i,r,n,s){(s&&s.layerContainerType==="ground"||i&&Kle(this,n,{},s))&&(r[n]=i)}writeOperationalLayerType(i,r,n){i&&(r[n]=i)}writeTitle(i,r){r.title=i??"Layer"}readVisibilityTimeExtent(i){return i?Yu.fromArray(i):null}writeVisibilityTimeExtent(i,r,n,s){i&&s.layerContainerType!=="tables"&&(i.isEmpty?s!=null&&s.messages&&s.messages.push(new z("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[n]=i.toArray())}read(i,r){r&&(r.layer=this),Wle(this,i,n=>super.read(i,n),r)}write(i,r){var a,l;if(!this.persistenceEnabled&&!(r!=null&&r.ignorePersistenceEnabled))return null;if(r!=null&&r.origin){const u=`${r.origin}/${r.layerContainerType||"operational-layers"}`,d=H6e[u];let m=!!(d!=null&&d[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&u==="web-scene/operational-layers"&&(m=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&u==="web-map/operational-layers"&&(m=!1),!m)return(a=r.messages)==null||a.push(new z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${u}'`,{layer:this})),null}const n=super.write(i,{...r,layer:this}),s=!!r&&!!r.messages&&!!r.messages.filter(u=>u instanceof z&&u.name==="web-document-write:property-required").length;return t5(n==null?void 0:n.url)?((l=r==null?void 0:r.messages)==null||l.push(new z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:n}beforeSave(){}};return h([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),h([He("id",["id"])],t.prototype,"readId",null),h([f(zCe)],t.prototype,"listMode",void 0),h([Re("listMode")],t.prototype,"writeListMode",null),h([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:ur,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),h([Re("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),h([f(Cx)],t.prototype,"opacity",void 0),h([f({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),h([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),h([Re("title"),Re(["web-scene"],"title")],t.prototype,"writeTitle",null),h([f({type:Yu,json:{origins:{"web-scene":{write:{layerContainerTypes:ur}}}}})],t.prototype,"visibilityTimeExtent",void 0),h([He("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),h([Re(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[zt,Zx]]}})],t.prototype,"writeVisibilityTimeExtent",null),h([f({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:ur}}})],t.prototype,"visible",void 0),t=h([O("esri.layers.mixins.OperationalLayer")],t),t};var MA;const O_=new It({asc:"ascending",desc:"descending"});let wy=MA=class extends ue{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new MA({field:this.field,valueExpression:this.valueExpression,order:this.order})}};h([f({type:String,json:{write:!0}})],wy.prototype,"field",void 0),h([f({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],wy.prototype,"valueExpression",void 0),h([f({type:O_.apiValues,json:{type:O_.jsonValues,read:O_.read,write:O_.write}})],wy.prototype,"order",void 0),wy=MA=h([O("esri.layers.support.OrderByInfo")],wy);const Iee=wy;function q6e(e,t,i){if(!e)return null;const r=e.find(s=>!!s.field);if(!r)return null;const n=new Iee;return n.read(r,i),[n]}function W6e(e,t,i,r){const n=e.find(s=>!!s.field);n&&bs(i,[n.toJSON()],t)}const Y6e={type:[Iee],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:q6e},write:{writer:W6e}}},Z6e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return h([f(Y6e)],t.prototype,"orderBy",void 0),t=h([O("esri.layers.mixins.OrderedLayer")],t),t};async function K6e(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Ey(e);const i=it.WGS84;return await y8(t,i),ad(e,i)}function J6e(e,t){if(!$ee(e,t)){const i=e.typeKeywords;i?i.push(t):e.typeKeywords=[t]}}function $ee(e,t){var i;return!!((i=e.typeKeywords)!=null&&i.includes(t))}function NUe(e){return $ee(e,Q6e.HOSTED_SERVICE)}function X6e(e,t){const i=e.typeKeywords;if(i){const r=i.indexOf(t);r>-1&&i.splice(r,1)}}function DUe(e,t,i){i?J6e(e,t):X6e(e,t)}async function jUe(e){const t=e.clone().normalize();let i;if(t.length>1)for(const r of t)i?r.width>i.width&&(i=r):i=r;else i=t[0];return K6e(i)}const Q6e={GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function e4e(e){var u;const{portal:t,isOrgItem:i,itemControl:r}=e,n=(u=t.user)==null?void 0:u.privileges;let s=!n||n.includes("features:user:edit"),a=!!i&&!!(n!=null&&n.includes("features:user:fullEdit"));const l=r==="update"||r==="admin";return l?a=s=!0:a&&(s=!0),{features:{edit:s,fullEdit:a},content:{updateItem:l}}}const Aee=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=vi(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,r,n){if(r.itemId)return new Bv({id:r.itemId,portal:n==null?void 0:n.portal})}writePortalItem(i,r){i!=null&&i.id&&(r.itemId=i.id)}async loadFromPortal(i,r){var n;if((n=this.portalItem)!=null&&n.id)try{const{load:s}=await ve(()=>import("./layersLoader-BmteFQWW.js"),__vite__mapDeps([275,170,169,171,162]));return ii(r),await s({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData,layerModuleTypeMap:i.layerModuleTypeMap,populateGroupLayer:i.populateGroupLayer},r)}catch(s){throw Vi(s)||ce.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${s}`),s}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(r=>(Ys(r),!0)))}async setUserPrivileges(i,r){if(!Dt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:n,fullEdit:s},content:{updateItem:a}}=await this._fetchUserPrivileges(i,r);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",a)}catch(n){Ys(n)}}async _fetchUserPrivileges(i,r){let n=this.portalItem;if(!i||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(r);const s=!(pt!=null&&pt.findCredential(this.url)),a=i===n.id;if(a&&n.portal.user)return this._getUserPrivileges(n,s);let l,u;if(a)l=n.portal.url;else try{l=await x8(this.url,r)}catch(b){Ys(b)}if(!l||!vue(l,n.portal.url))return this._fetchFallbackUserPrivileges(r);try{const b=r!=null?r.signal:null;u=await(pt==null?void 0:pt.getCredential(`${l}/sharing`,{prompt:!1,signal:b}))}catch(b){Ys(b)}const d=!0,m=!1,v=!1;if(!u)return{features:{edit:d,fullEdit:m},content:{updateItem:v}};try{if(a?await n.reload():(n=new Bv({id:i,portal:{url:l}}),await n.load(r)),n.portal.user)return this._getUserPrivileges(n,s)}catch(b){Ys(b)}return{features:{edit:d,fullEdit:m},content:{updateItem:v}}}_getUserPrivileges(i,r){const n=e4e(i);return r&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(i){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(i)}catch(n){Ys(n)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(i){const r=this.url?pt==null?void 0:pt.findCredential(this.url):null;if(!r)return!0;const n=k_.credential===r?k_.user:await this._fetchEditingUser(i);return k_.credential=r,k_.user=n,(n==null?void 0:n.privileges)==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var m,v;const r=(v=(m=this.portalItem)==null?void 0:m.portal)==null?void 0:v.user;if(r)return r;const n=pt==null?void 0:pt.findServerInfo(this.url??"");if(!(n!=null&&n.owningSystemUrl))return null;const s=`${n.owningSystemUrl}/sharing/rest`,a=wr.getDefault();if(a&&a.loaded&&ms(a.restUrl)===ms(s))return a.user;const l=`${s}/community/self`,u=i!=null?i.signal:null,d=await KR(Ct(l,{authMode:"no-prompt",query:{f:"json"},signal:u}));return d.ok?S8.fromJSON(d.value.data):null}read(i,r){r&&(r.layer=this),super.read(i,r)}write(i,r){var a;const n=r==null?void 0:r.portal,s=((a=this.portalItem)==null?void 0:a.id)&&(this.portalItem.portal||wr.getDefault());return n&&s&&!lH(s.restUrl,n.restUrl)?(r.messages&&r.messages.push(new z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,{...r,layer:this})}};return h([f({type:Bv})],t.prototype,"portalItem",null),h([He("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),h([Re("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),h([f({clonable:!1})],t.prototype,"resourceReferences",void 0),h([f({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=h([O("esri.layers.mixins.PortalLayer")],t),t},k_={credential:null,user:null},jh=new Ce,sb=new WeakMap;function t4e(e){r4e(e)&&jh.push(new WeakRef(e))}function i4e(e){const t=jh.find(i=>i.deref()===e);t&&jh.remove(t)}function r4e(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function Ree(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:Ree(t,e%t):0}let ZC=0,L_=0;function n4e(){const e=Date.now();let t=!1;for(const i of jh){const r=i.deref();r?r.refreshInterval&&e-(sb.get(r)??0)+5>=6e4*r.refreshInterval&&(sb.set(r,e),r.refresh(e)):t=!0}if(t)for(let i=jh.length-1;i>=0;i--)jh.at(i).deref()||jh.removeAt(i)}DB(()=>{const e=Date.now();let t=0;for(const i of jh){const r=i.deref();r&&(t=Ree(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?sb.get(r)||sb.set(r,e):sb.delete(r))}if(t!==L_){if(L_=t,clearInterval(ZC),L_===0)return void(ZC=0);ZC=setInterval(n4e,L_)}},El);const _G=.1,Pee=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=mR(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||t4e(this)},()=>{})}destroy(){i4e(this)}castRefreshInterval(i){return i>=_G?i:i<=0?0:_G}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){og(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:r})},r=>{ce.getLogger(this).error(r),this.emit("refresh",{dataChanged:!1,error:r})})}async hasDataChanged(){return!0}get test(){}};return h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:ur}}}}})],t.prototype,"refreshInterval",void 0),h([Gt("refreshInterval")],t.prototype,"castRefreshInterval",null),h([f({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),h([f({readOnly:!0})],t.prototype,"refreshParameters",null),t=h([O("esri.layers.mixins.RefreshableLayer")],t),t},Oee=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},r=this.parent;r&&"effectiveScaleRange"in r&&s4e(i,r.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===i.minScale&&n.maxScale===i.maxScale?n:i}};return h([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),h([f({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=h([O("esri.layers.mixins.ScaleRangeLayer")],t),t};function s4e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const kee=Kr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Rv=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return iZ(this.value,this.unit,"milliseconds")}};h([qe(kee,{nonNullable:!0})],Rv.prototype,"unit",void 0),h([f({type:Number,json:{write:!0},nonNullable:!0})],Rv.prototype,"value",void 0),Rv=h([O("esri.time.TimeInterval")],Rv);const Fb=Rv;function SG(e,t){return Fb.fromJSON({value:e,unit:t})}let nn=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Yu.fromArray(i.timeExtent):null}writeFullTimeExtent(t,i){(t==null?void 0:t.start)!=null&&t.end!=null?i.timeExtent=t.toArray():i.timeExtent=null}readInterval(t,i){return i.timeInterval&&i.timeIntervalUnits?SG(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?SG(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(t,i){i.timeInterval=(t==null?void 0:t.toJSON().value)??null,i.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};h([f({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],nn.prototype,"cumulative",void 0),h([f({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],nn.prototype,"endField",void 0),h([f({type:Yu,json:{write:{enabled:!0,allowNull:!0}}})],nn.prototype,"fullTimeExtent",void 0),h([He("fullTimeExtent",["timeExtent"])],nn.prototype,"readFullTimeExtent",null),h([Re("fullTimeExtent")],nn.prototype,"writeFullTimeExtent",null),h([f({type:Boolean,json:{write:!0}})],nn.prototype,"hasLiveData",void 0),h([f({type:Fb,json:{write:{enabled:!0,allowNull:!0}}})],nn.prototype,"interval",void 0),h([He("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],nn.prototype,"readInterval",null),h([Re("interval")],nn.prototype,"writeInterval",null),h([f({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],nn.prototype,"startField",void 0),h([f(_W("timeReference",!0))],nn.prototype,"timeZone",void 0),h([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],nn.prototype,"trackIdField",void 0),h([f({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],nn.prototype,"useTime",void 0),h([f({type:[Date],json:{read:!1}})],nn.prototype,"stops",void 0),nn=h([O("esri.layers.support.TimeInfo")],nn);const a4e=nn,o4e={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:ur}}},l4e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,r){const n=r.timeInfo.exportOptions;if(!n)return null;const s=n.timeOffset,a=kee.fromJSON(n.timeOffsetUnits);return s&&a?new Fb({value:s,unit:a}):null}set timeInfo(i){fZ(i,this.fieldsIndex),this._set("timeInfo",i)}};return h([f({type:Yu,json:{write:!1}})],t.prototype,"timeExtent",void 0),h([f({type:Fb})],t.prototype,"timeOffset",void 0),h([He("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),h([f({value:null,type:a4e,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),h([f(o4e)],t.prototype,"useViewTime",void 0),t=h([O("esri.layers.mixins.TemporalLayer")],t),t};let $p=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};h([f({type:[S2],json:{write:!0}})],$p.prototype,"labelingInfo",void 0),h([f(X5)],$p.prototype,"labelsVisible",void 0),h([f({types:x2,json:{write:!0}})],$p.prototype,"renderer",void 0),h([f({type:Boolean,json:{write:!0}})],$p.prototype,"visible",void 0),$p=h([O("esri.layers.support.TrackPartInfo")],$p);const eg=$p;let as=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new eg({renderer:new Uu({symbol:Ix.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new eg({renderer:new Uu({symbol:Ix.clone()})}),this.trackLines=new eg({renderer:new Uu({symbol:$P.clone()})}),this.timeField="startTimeField"}writeFields(t,i,r){const n=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());bs(r,n,i)}};h([f({type:Boolean,json:{write:!0}})],as.prototype,"enabled",void 0),h([f({type:[rd],json:{write:!0}})],as.prototype,"fields",void 0),h([Re("fields")],as.prototype,"writeFields",null),h([f({type:eg,json:{write:!0}})],as.prototype,"latestObservations",void 0),h([f({type:Fb,json:{write:!0}})],as.prototype,"maxDisplayDuration",void 0),h([f({type:Number,json:{write:!0}})],as.prototype,"maxDisplayObservationsPerTrack",void 0),h([f(J5)],as.prototype,"popupEnabled",void 0),h([f({type:Il,json:{name:"popupInfo",write:!0}})],as.prototype,"popupTemplate",void 0),h([f({type:eg,json:{write:!0}})],as.prototype,"previousObservations",void 0),h([f({type:eg,json:{write:!0}})],as.prototype,"trackLines",void 0),h([f({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],as.prototype,"timeField",void 0),as=h([O("esri.layers.support.TrackInfo")],as);const u4e=as,c4e=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return h([f({type:u4e})],t.prototype,"trackInfo",void 0),t=h([O("esri.layers.mixins.TrackableLayer")],t),t},xG=new It({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let mh=class extends Xt.ClonableMixin(ue){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};h([f({json:{write:!0}})],mh.prototype,"name",void 0),h([f({json:{write:!0}})],mh.prototype,"description",void 0),h([f({json:{read:xG.read,write:xG.write}})],mh.prototype,"drawingTool",void 0),h([f({json:{write:!0}})],mh.prototype,"prototype",void 0),h([f({json:{write:!0}})],mh.prototype,"thumbnail",void 0),mh=h([O("esri.layers.support.FeatureTemplate")],mh);const h4e=mh;function d4e(){return{fields:{type:[L5],value:null,set:function(e){if(e&&J("big-integer-warning-enabled")){const t=e.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(t.length){const i=t.map(r=>`'${r.name}'`).join(", ");ce.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return ree.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const i of e)((t=this.fieldsIndex)==null?void 0:t.has(i))||ce.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:e});return C5(this.fieldsIndex,e)}}}}const KC=()=>ce.getLogger("esri.layers.support.labelingInfo"),p4e=/\[([^[\]]+)\]/gi;function f4e(e,t,i){return e?e.map(r=>{var s;const n=new S2;if(n.read(r,i),n.labelExpression){const a=t.fields||((s=t.layerDefinition)==null?void 0:s.fields)||this.fields;n.labelExpression=n.labelExpression.replaceAll(p4e,(l,u)=>`[${m4e(u,a)}]`)}return n}):null}function m4e(e,t){if(!t)return e;const i=e.toLowerCase();for(let r=0;r<t.length;r++){const n=t[r].name;if(n.toLowerCase()===i)return n}return e}const y4e={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function BUe(e,t){const i=[];for(const r of e){const n=r.labelPlacement,s=y4e[t];if(!r.symbol)return KC().warn("No ILabelClass symbol specified."),[];if(!s)return KC().error(new z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(s.includes(n))i.push(r);else{const a=s[0];n&&KC().warn(`Found invalid label placement type ${n} for ${t}. Defaulting to ${a}`);const l=r.clone();l.labelPlacement=a,i.push(l)}}return i}function g4e({displayField:e,editFieldsInfo:t,fields:i,objectIdField:r,title:n},s){if(!i)return null;const a=_4e({editFieldsInfo:t,fields:i,objectIdField:r},s);if(!a.length)return null;const l=M4e({titleBase:n,fields:i,displayField:e}),u=x4e();return new Il({title:l,content:u,fieldInfos:a})}function HUe(e){var d;const{title:t,graphic:i}=e??{},{attributes:r,sourceLayer:n}=i??{},s=n&&"displayField"in n?n.displayField:null,a=s?r==null?void 0:r[s]:null,l=a!=null?JSON.stringify(a):null,u=(d=i==null?void 0:i.getObjectId())==null?void 0:d.toString();return t||l||u||""}const v4e=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):vve(e,t);function b4e({fields:e,ignoreFieldTypes:t,sortDisabled:i}){const r=e;return t&&(e=e.filter(n=>!t.includes(n.type))),e===r&&(e=e.slice()),i!==!0&&e.sort(w4e),e}function w4e(e,t){return e.type==="oid"?-1:t.type==="oid"?1:MG(e)?-1:MG(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function _4e(e,t){const i=t==null?void 0:t.visibleFieldNames;return b4e({fields:e.fields??[],ignoreFieldTypes:(t==null?void 0:t.ignoreFieldTypes)||T4e,sortDisabled:t==null?void 0:t.sortDisabled}).map(r=>new $8({fieldName:r.name,isEditable:gve(r,e),label:r.alias,format:S4e(r),visible:v4e(r,{...e,visibleFieldNames:i})}))}function S4e(e){switch(e.type){case"small-integer":case"integer":case"single":return new yS({digitSeparator:!0,places:0});case"double":return new yS({digitSeparator:!0,places:2});case"string":return zve(e.name)?new yS({digitSeparator:!0,places:0}):void 0;default:return}}function x4e(){return[new Mg,new xg]}function M4e(e){const t=lve(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}function MG(e){var i;return(e.name&&e.name.toLowerCase())==="name"?!0:((i=e.alias)==null?void 0:i.toLowerCase())==="name"}const T4e=["geometry","blob","raster","guid","xml"],TG=d4e();let Tt=class extends Z6e(xCe(vQ(B6e($Ce(gQ(l4e(c4e(Oee(Pee(Cee(Aee(vP(T5))))))))))))){constructor(t){super(t),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new bp({layer:this}),this.spatialReference=it.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){var t;(t=this.source)==null||t.destroy()}load(t){const i=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},t).catch(Ys).then(()=>this.source.load(t)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),ij(this.renderer,this.fieldsIndex),fZ(this.timeInfo,this.fieldsIndex)});return this.addResolvingPromise(i),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return this.url?Ai(this.url):null}set renderer(t){ij(t,this.fieldsIndex),this._set("renderer",t)}set url(t){if(!t)return void this._set("url",t);const i=Ai(t);this._set("url",i.path),i.query&&(this.customParameters={...this.customParameters,...i.query})}async applyEdits(t,i){const{applyEdits:r}=await ve(()=>import("./editingSupport-QyuqlhDZ.js"),__vite__mapDeps([274,158,156]));await this.load();const n=await r(this,this.source,t,i);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),n}on(t,i){return super.on(t,i)}createPopupTemplate(t){return g4e(this,t)}createQuery(){var s;const t=new Ks,i=(s=this.capabilities)==null?void 0:s.data;t.returnGeometry=!0,i&&i.supportsZ&&(t.returnZ=!0),t.outFields=["*"],t.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:n}=this;return t.timeExtent=r!=null&&n!=null?n.offset(-r.value,r.unit):n||null,t}getFieldDomain(t,i){var r;return(r=this.getField(t))==null?void 0:r.domain}getField(t){return this.fieldsIndex.get(t)}queryFeatures(t,i){return this.load().then(()=>this.source.queryFeatures(Ks.from(t)||this.createQuery(),i)).then(r=>{if(r!=null&&r.features)for(const n of r.features)n.layer=n.sourceLayer=this;return r})}queryObjectIds(t,i){return this.load().then(()=>this.source.queryObjectIds(Ks.from(t)||this.createQuery(),i))}queryFeatureCount(t,i){return this.load().then(()=>this.source.queryFeatureCount(Ks.from(t)||this.createQuery(),i))}queryExtent(t,i){return this.load().then(()=>this.source.queryExtent(Ks.from(t)||this.createQuery(),i))}async hasDataChanged(){try{const{dataChanged:t,updates:i}=await this.source.refresh(this.customParameters);return i!=null&&this.read(i,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),t}catch{}return!1}};h([f(UCe)],Tt.prototype,"attributeTableTemplate",void 0),h([f({readOnly:!0,json:{read:!1,write:!1}})],Tt.prototype,"capabilities",null),h([f({type:String})],Tt.prototype,"copyright",void 0),h([f({readOnly:!0})],Tt.prototype,"createQueryVersion",null),h([f(_W("dateFieldsTimeReference"))],Tt.prototype,"dateFieldsTimeZone",void 0),h([f({readOnly:!0})],Tt.prototype,"defaultPopupTemplate",null),h([f({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],Tt.prototype,"definitionExpression",void 0),h([f({type:String})],Tt.prototype,"displayField",void 0),h([f({type:Boolean})],Tt.prototype,"editingEnabled",void 0),h([f(jCe)],Tt.prototype,"elevationInfo",void 0),h([f({type:[L5],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],Tt.prototype,"fields",void 0),h([f(TG.fieldsIndex)],Tt.prototype,"fieldsIndex",void 0),h([f({type:Lt,json:{name:"extent"}})],Tt.prototype,"fullExtent",void 0),h([f({type:["point","polygon","polyline","multipoint"],json:{read:{reader:WR.read}}})],Tt.prototype,"geometryType",void 0),h([f({type:Boolean})],Tt.prototype,"hasZ",void 0),h([f(FCe)],Tt.prototype,"id",void 0),h([f({type:Boolean,readOnly:!0})],Tt.prototype,"isTable",null),h([f(X5)],Tt.prototype,"labelsVisible",void 0),h([f({type:[S2],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:f4e},write:!0}})],Tt.prototype,"labelingInfo",void 0),h([f(DCe)],Tt.prototype,"legendEnabled",void 0),h([f({type:["show","hide"]})],Tt.prototype,"listMode",void 0),h([f({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],Tt.prototype,"objectIdField",void 0),h([f(Cx)],Tt.prototype,"opacity",void 0),h([f({type:["GeoJSON"]})],Tt.prototype,"operationalLayerType",void 0),h([f(TG.outFields)],Tt.prototype,"outFields",void 0),h([f({readOnly:!0})],Tt.prototype,"parsedUrl",null),h([f(J5)],Tt.prototype,"popupEnabled",void 0),h([f({type:Il,json:{name:"popupInfo",write:!0}})],Tt.prototype,"popupTemplate",void 0),h([f({types:x2,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:E6e}}}})],Tt.prototype,"renderer",null),h([f(LCe)],Tt.prototype,"screenSizePerspectiveEnabled",void 0),h([f({readOnly:!0})],Tt.prototype,"source",void 0),h([f({type:it})],Tt.prototype,"spatialReference",void 0),h([f({type:[h4e]})],Tt.prototype,"templates",void 0),h([f()],Tt.prototype,"title",void 0),h([f({json:{read:!1},readOnly:!0})],Tt.prototype,"type",void 0),h([f(NCe)],Tt.prototype,"url",null),Tt=h([O("esri.layers.GeoJSONLayer")],Tt);const Lee=Tt,WUe=Object.freeze(Object.defineProperty({__proto__:null,default:Lee},Symbol.toStringTag,{value:"Module"}));let Cu=class extends gP(Va.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var i,r;if(!((i=this.view)!=null&&i.ready))throw new z("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((r=this.view)==null?void 0:r.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};h([f()],Cu.prototype,"_goingHomeController",void 0),h([f({readOnly:!0})],Cu.prototype,"state",null),h([f()],Cu.prototype,"view",null),h([f({type:ys})],Cu.prototype,"viewpoint",null),h([f()],Cu.prototype,"go",null),h([f()],Cu.prototype,"cancelGo",null),Cu=h([O("esri.widgets.Home.HomeViewModel")],Cu);const Nee=Cu;function Dee(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,r=Array.isArray(e)?e:E4e(e);i.push(...r)}}function E4e(e){return e.split(",").map(t=>t.trim())}const C4e={base:"esri-home"};let Ta=class extends ic{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new Nee,this._go=()=>{const{viewModel:r}=this;r.state==="going-home"?r.cancelGo():r.go()},SB(ce.getLogger(this),"Home","arcgis-home",{version:"4.32"})}loadDependencies(){return Lf({button:()=>ve(()=>import("./index-qgtZKWjP.js"),__vite__mapDeps([261,262,263,264,265,266,267,268,269,270,271,272,273])),loader:()=>ve(()=>import("./index-Dp6nWQF4.js"),__vite__mapDeps([262,263,264]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var a;const{messagesCommon:t,messages:i,icon:r}=this,n=(a=this.viewModel)==null?void 0:a.state,s=n==="going-home";return Ie("div",{class:this.classes(C4e.base,Ii.widget)},Ie("calcite-button",{class:Ii.widgetButton,disabled:n==="disabled",iconStart:s?void 0:r,kind:"neutral",label:i.widgetLabel,onclick:this._go,scale:s?"s":"m",title:n==="going-home"?t.cancel:i.title},s?Ie("calcite-loader",{inline:!0,label:""}):null))}};h([f()],Ta.prototype,"goToOverride",null),h([f()],Ta.prototype,"icon",null),h([f()],Ta.prototype,"label",null),h([f(),qa("esri/widgets/Home/t9n/Home")],Ta.prototype,"messages",void 0),h([f(),qa("esri/t9n/common")],Ta.prototype,"messagesCommon",void 0),h([f()],Ta.prototype,"uiStrings",void 0),h([f()],Ta.prototype,"view",null),h([f({type:Nee}),Dee("go")],Ta.prototype,"viewModel",void 0),h([f({type:ys})],Ta.prototype,"viewpoint",null),Ta=h([O("esri.widgets.Home")],Ta);const I4e=Ta,w1="esri-search",Um={base:w1,autocomplete:`${w1}__autocomplete`,dropdown:`${w1}__dropdown`,container:`${w1}__container`,form:`${w1}__form`},Gm="esri-search-result-renderer",Bd={base:Gm,showMoreResults:`${Gm}__more-results--show-more-results`,moreResults:`${Gm}__more-results`,moreResultsList:`${Gm}__more-results-list`,moreResultsItem:`${Gm}__more-results-item`,moreResultsListHeader:`${Gm}__more-results-list-header`};function EG(e){var t;switch(e==null?void 0:e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return(t=e.extent)==null?void 0:t.center;default:return null}}async function $4e(e,t){var n,s;if(e.hasZ||t.type==="2d")return e;const i=(n=t.map)==null?void 0:n.ground;if(!(i!=null&&i.layers.length))return e;const{geometry:r}=await i.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache});return r}function TA(e,t,i){return jee(e.center,t,i)}function UP(e,t,i){switch(e==null?void 0:e.type){case"extent":return e;case"multipoint":case"polygon":case"polyline":return e.extent;case"point":return jee(e,t,i);default:return null}}function jee(e,t,i){const r=e.hasZ?e.z:void 0;if(t!=null&&t.map)return(i!=null?fCe(t,i):t.extent).clone().centerAt(e).set({zmax:r,zmin:r});const{x:n,y:s,spatialReference:a}=e;return new Lt({xmin:n-.25,ymin:s-.25,xmax:n+.25,ymax:s+.25,spatialReference:a,zmin:r,zmax:r})}function A4e(e){return e&&typeof e.highlight=="function"}function R4e(e,t,i){return e==null||e>=i&&(t===0||e<=t)}function KUe(e,t){if(t&&e){const{minScale:i,maxScale:r}=e;if(P4e(i,r))return R4e(t,i,r)}return!0}function P4e(e,t){return e!=null&&e>0||t!=null&&t>0}function JUe(e){return!(e!=null&&e.minScale)||!e.maxScale||e.minScale>=e.maxScale}let or=class extends Rf.IdentifiableMixin(ue){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};h([f()],or.prototype,"autoNavigate",void 0),h([f()],or.prototype,"filter",void 0),h([f()],or.prototype,"getResults",void 0),h([f()],or.prototype,"getSuggestions",void 0),h([f()],or.prototype,"maxResults",void 0),h([f()],or.prototype,"maxSuggestions",void 0),h([f()],or.prototype,"minSuggestCharacters",void 0),h([f()],or.prototype,"outFields",void 0),h([f()],or.prototype,"placeholder",void 0),h([f()],or.prototype,"popupEnabled",void 0),h([f({type:Il})],or.prototype,"popupTemplate",void 0),h([f()],or.prototype,"prefix",void 0),h([f()],or.prototype,"resultGraphicEnabled",void 0),h([f()],or.prototype,"resultSymbol",void 0),h([f()],or.prototype,"suggestionsEnabled",void 0),h([f()],or.prototype,"suffix",void 0),h([f()],or.prototype,"withinViewEnabled",void 0),h([f()],or.prototype,"zoomScale",void 0),or=h([O("esri.widgets.Search.SearchSource")],or);const GP=or,O4e=/https?:\/\/services.*\.arcgis\.com/i,k4e=/(?:\{([^}]+)\})/g,tg=()=>ce.getLogger("esri.widgets.Search.support.layerSearchUtils");function L4e(e,t){const{exactMatch:i=!1,location:r,maxResults:n,spatialReference:s,source:a,sourceIndex:l,suggestResult:u,view:d}=e,{layer:m,filter:v,zoomScale:b}=a,_=d==null?void 0:d.scale,S=Fee(a,d),M=t==null?void 0:t.signal;return Uee(m).then(()=>{const T=m.popupTemplate;return T?T.getRequiredFields(m.fieldsIndex):null}).then(T=>{var be,ae,$e,Me;const{objectIdField:E,returnZ:A}=m,P=Wee(a);if(!VP(m,P))throw tg().error("invalid-field: displayField is invalid."),new z("getResults():invalid-field","displayField is invalid.");const N=T!=null&&T.length?T:[P],D=a.outFields||N,k=zee(D);if(D.includes(E)||k||D.push(E),(be=m.floorInfo)!=null&&be.floorField&&D.push(m.floorInfo.floorField),!(k||kx(m,D)))throw tg().error("invalid-field: outField is invalid."),new z("getResults():invalid-field","outField is invalid.");const q=m.createQuery(),{orderByFields:X}=a;if(X&&(q.orderByFields=X),s){q.outSpatialReference=s;const Ke=1/Ss(s);Ke&&(q.maxAllowableOffset=Ke)}const re=m.geometryType==="mesh"||m.geometryType==="multipatch",W=(($e=(ae=m.capabilities)==null?void 0:ae.data)==null?void 0:$e.supportsZ)&&!re;if(q.returnZ=W&&A!==!1,q.returnGeometry=!0,q.multipatchOption=re?"xyFootprint":null,D&&(q.outFields=D),r)q.geometry=r;else if(u.key)q.objectIds=[u.key];else{const Ke=a.searchFields||[P];if(!kx(m,Ke))throw tg().error("invalid-field: search field is invalid."),new z("getResults():invalid-field","search field is invalid.");if(qee(m)&&(q.num=n),S&&(q.geometry=S),!((Me=u.text)==null?void 0:Me.trim()))return[];const we=u.text,{prefix:xe="",suffix:tt=""}=a,U=Yee(`${xe}${we}${tt}`);Hee(m)&&Vee(m,Ke)&&!i&&we&&(q.fullText=Bee({text:we,searchFields:Ke}));const he=Zee({searchTerm:U,layer:m,searchFields:Ke,filter:v,exactMatch:i,query:q,type:"search"});if(q.where=he,!Gee(q))return[]}return m.queryFeatures(q,{signal:M}).then(Ke=>Y4e(Ke,d,a,l,P,_,b))})}function N4e(e,t){const{source:i,spatialReference:r,view:n,suggestTerm:s,maxSuggestions:a,sourceIndex:l,exactMatch:u}=e,{layer:d,filter:m}=i,v=t==null?void 0:t.signal,b=Fee(i,n);return Uee(d).then(()=>{if(!qee(d))return[];const _=Wee(i),S=i.searchFields||[_],M=[];i.suggestionTemplate?i.suggestionTemplate.replaceAll(k4e,(W,be)=>(M.push(be),W)):M.push(_);const T=zee(M);M.includes(d.objectIdField)||T||M.push(d.objectIdField);const E=VP(d,_),A=T||kx(d,M),P=kx(d,S);if(!E)throw tg().error("invalid-field: displayField is invalid."),new z("getSuggestions():invalid-field","displayField is invalid.");if(!A)throw tg().error("invalid-field: outField is invalid."),new z("getSuggestions():invalid-field","outField is invalid.");if(!P)throw tg().error("invalid-field: search field is invalid."),new z("getSuggestions():invalid-field","search field is invalid.");const N=d.createQuery(),{orderByFields:D}=i;if(D&&(N.orderByFields=D),N.outSpatialReference=r,N.returnGeometry=!1,N.num=a,N.outFields=M,b&&(N.geometry=b),!s.trim())return[];const{prefix:k="",suffix:q=""}=i,X=Yee(`${k}${s}${q}`);Hee(d)&&Vee(d,S)&&!u&&s&&(N.fullText=Bee({text:s,searchFields:S}));const re=Zee({searchTerm:X,layer:d,searchFields:S,filter:m,exactMatch:u,query:N,type:"suggest"});return N.where=re,Gee(N)?d.queryFeatures(N,{signal:v}).then(W=>H4e(W,i,l,_)):[]})}function Fee(e,t){const{filter:i,withinViewEnabled:r}=e,n=t==null?void 0:t.extent;return(i==null?void 0:i.geometry)??(r&&n?n:void 0)}function zee(e){return e&&e.includes("*")}async function Uee(e){e&&await e.load()}function Gee(e){return!(!e.fullText&&!e.where)}function Vee(e,t){const i=e==null?void 0:e.indexes;return!i||!(t!=null&&t.length)?!1:i.filter(r=>r.indexType==="FullText").some(r=>{var s;const n=((s=r.fields)==null?void 0:s.split(",").map(a=>a.trim().toLowerCase()))||[];return t.every(a=>n.includes(a.toLowerCase()))})}function Bee({text:e,searchFields:t}){return e.trim().split(" ").filter(i=>!!i.trim()).map(i=>new fK({onFields:t,searchTerm:i,searchType:"prefix"}))}function Hee(e){var t,i;return((i=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:i.supportsFullTextSearch)??!1}function qee(e){var t,i;return((i=(t=e==null?void 0:e.capabilities)==null?void 0:t.query)==null?void 0:i.supportsPagination)??!1}function D4e(e){var t,i,r;return((r=(i=(t=e==null?void 0:e.fieldsIndex)==null?void 0:t.fields)==null?void 0:i.find(n=>n.type==="string"))==null?void 0:r.name)??""}function Wee(e){return e.displayField||e.layer.displayField||D4e(e.layer)}function kx(e,t){return!(!e||!(t!=null&&t.length))&&t.every(i=>VP(e,i))}function VP(e,t){return!!e.getField(t)}function j4e(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function F4e({codedValues:e},t,i){return pb(e??[],r=>{const n=r.name,s=i?n:n.toLowerCase();return(i?t:t.toLowerCase())===s?r.code.toString():null})??null}function Yee(e){return e.replaceAll("'","''")}function _1(e,t){const i=t==null?void 0:t.where;return i?`(${e}) AND (${i})`:e}function z4e({currentTerm:e,field:t,filter:i,exactMatch:r,url:n,type:s}){const a=t==null?void 0:t.type,l=t==null?void 0:t.name;if(a==="string"||a==="date"||a==="global-id"){const u=O4e.test(n??""),d=u&&j4e(e)?"N":"";return _1(r&&s==="search"?`${l} = ${d}'${e}'`:u?`${l} LIKE ${d}${`'${e}%'`}`:`${`LOWER(${l})`} LIKE ${d}${`'${e.toLowerCase()}%'`}`,i)}if(a==="oid"||a==="small-integer"||a==="integer"||a==="single"||a==="double"){const u=Number(e);return isNaN(u)?null:_1(`${l} = ${u}`,i)}return _1(`${l} = ${e}`,i)}function U4e(e,t){return e?` OR (${t})`:`(${t})`}function Zee({searchTerm:e,layer:t,searchFields:i,filter:r,exactMatch:n,query:s,type:a}){const{definitionExpression:l,url:u}=t;let d="";return!s.fullText&&e&&i&&i.forEach(m=>{var S;const v=t.getField(m),b=(S=t.getFieldDomain)==null?void 0:S.call(t,m,{excludeImpliedDomains:J("esri-widget-legacy-field-domain-calculation")}),_=(b&&b.type==="coded-value"?F4e(b,e,n):null)||e||null;if(_!==null){const M=z4e({currentTerm:_,field:v,filter:r,exactMatch:n,url:u,type:a});M&&(d+=U4e(d,M))}}),l&&d?`(${l}) AND (${d})`:l||d}function G4e(e,t){let i=null;const{codedValues:r}=e;return r&&r.length&&r.some(n=>n.code===t&&(i=n.name,!0)),i}function V4e(e,t){return e[t]??e[Object.keys(e).find(i=>i.toLowerCase()===t.toLowerCase())]}function Kee(e,t,i){var a;const r=e.sourceLayer,{attributes:n}=e,s=(a=r.getFieldDomain)==null?void 0:a.call(r,i,{feature:e,excludeImpliedDomains:J("esri-widget-legacy-field-domain-calculation")});if(t)return IW(t,n);if(i&&n){const l=r.getField(i),u=V4e(n,i);return u==null?"":s&&s.type==="coded-value"?G4e(s,u)??"":(l==null?void 0:l.type)==="date"?ed(new Date(u)):typeof u=="number"?u.toString():typeof u!="string"?"":u.trim()}return""}function B4e(e,t,i,r){const n=e.sourceLayer,{attributes:s}=e,{objectIdField:a}=n,l=a?s[a]:null;return{text:Kee(e,t.suggestionTemplate,r),key:l,sourceIndex:i}}function H4e(e,t,i,r){return e.features.map(n=>B4e(n,t,i,r))}function q4e(e){return e!=null&&e.minScale!=null&&e.maxScale!=null}function W4e(e,t,i,r,n,s,a){const l=e.clone(),u=e.sourceLayer,d=u==null?void 0:u.objectIdField,m=d?e.attributes[d]:null,v=Kee(e,i.searchTemplate,n);s!=null&&q4e(u)&&(u.minScale&&u.minScale<s?s=u.minScale:u.maxScale&&u.maxScale>s&&(s=u.maxScale));const b=l.geometry?UP(l.geometry,t??void 0,s??void 0):void 0,_=typeof a=="number"&&b?TA(H(b),t??void 0,a):b,S=e.clone();return _!=null&&(S.geometry=ra.fromExtent(_)),{extent:_,target:S,feature:l,key:m,name:v,sourceIndex:r}}function Y4e(e,t,i,r,n,s,a){return e.features.map(l=>W4e(l,t,i,r,n,s,a))}var EA;let So=EA=class extends GP{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,i)=>L4e({source:this,...t},i),this.getSuggestions=(t,i)=>N4e({source:this,...t},i)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(e){this._overrideIfSome("name",e)}clone(){return new EA({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?H(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?H(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return((t=(e=this.layer.fieldsIndex)==null?void 0:e.fields.find(i=>i.type==="string"))==null?void 0:t.name)??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(i=>{const r=e.getField(i);return(r==null?void 0:r.alias)||i}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};h([f({json:{read:{source:"field.name"},write:{target:"field.name"}}})],So.prototype,"displayField",void 0),h([f({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],So.prototype,"exactMatch",void 0),h([f({value:null})],So.prototype,"layer",null),h([f()],So.prototype,"name",null),h([f({type:[String],json:{write:!0}})],So.prototype,"orderByFields",void 0),h([f()],So.prototype,"searchFields",void 0),h([f()],So.prototype,"searchTemplate",void 0),h([f()],So.prototype,"suggestionTemplate",void 0),So=EA=h([O("esri.widgets.Search.LayerSearchSource")],So);const _y=So;function Z4e(e){return!!e&&typeof e.x=="number"&&typeof e.y=="number"}function K4e(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let yh=class extends ue{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};h([f({type:String,json:{write:!0}})],yh.prototype,"address",void 0),h([f({type:Object,json:{write:!0}})],yh.prototype,"attributes",void 0),h([f({type:Lt,json:{write:!0}})],yh.prototype,"extent",void 0),h([f({type:Qe,json:{write:!0}})],yh.prototype,"location",void 0),h([f({type:Number,json:{write:!0}})],yh.prototype,"score",void 0),yh=h([O("esri.rest.support.AddressCandidate")],yh);const Jee=yh,BP={type:String,json:{read:{source:"token"},write:{target:"token"}}};let sn=class extends ue{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};h([f({type:Object,json:{write:!0}})],sn.prototype,"address",void 0),h([f(BP)],sn.prototype,"apiKey",void 0),h([f({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],sn.prototype,"categories",void 0),h([f({type:String,json:{write:!0}})],sn.prototype,"countryCode",void 0),h([f({type:Boolean,json:{write:!0}})],sn.prototype,"forStorage",void 0),h([f({type:Qe,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],sn.prototype,"location",void 0),h([f({type:["rooftop","street"],json:{write:!0}})],sn.prototype,"locationType",void 0),h([f({type:String,json:{write:!0}})],sn.prototype,"magicKey",void 0),h([f({type:Number,json:{write:!0}})],sn.prototype,"maxLocations",void 0),h([f({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],sn.prototype,"outFields",void 0),h([f({type:it,json:{read:{source:"outSR"},write:{target:"outSR"}}})],sn.prototype,"outSpatialReference",void 0),h([f({type:Lt,json:{write:{writer:(e,t)=>{const i=e?e.shiftCentralMeridian():null;t.searchExtent=i}}}})],sn.prototype,"searchExtent",void 0),sn=h([O("esri.rest.support.AddressToLocationsParameters")],sn),sn.from=Gi(sn);const Xee=sn;async function J4e(e,t,i){t=Xee.from(t);const r=w2(e),{address:n,...s}=t.toJSON(),a={...n,...s,f:"json"},l=z5({...r.query,...a}),u=F5(l,i),d=`${r.path}/findAddressCandidates`;return Ct(d,u).then(X4e)}function X4e({data:e}){if(!e)return[];const{candidates:t,spatialReference:i}=e;return t?t.map(r=>{if(!r)return;const{extent:n,location:s}=r,a=!n||K4e(n);return Z4e(s)&&a?(n&&(n.spatialReference=i),s&&(s.spatialReference=i),Jee.fromJSON(r)):void 0}):[]}let Iu=class extends ue{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};h([f(BP)],Iu.prototype,"apiKey",void 0),h([f({type:Qe,json:{write:{writer:(e,t)=>{const i=e?e.clone().normalize():null,r=i!==void 0;t.location=r?i:null}}}})],Iu.prototype,"location",void 0),h([f({type:["street","rooftop"],json:{write:!0}})],Iu.prototype,"locationType",void 0),h([f({type:it,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Iu.prototype,"outSpatialReference",void 0),Iu=h([O("esri.rest.support.LocationToAddressParameters")],Iu),Iu.from=Gi(Iu);const Qee=Iu;async function Q4e(e,t,i){t=Qee.from(t);const r=w2(e),n={...t.toJSON(),f:"json"},s=z5({...r.query,...n}),a=F5(s,i),l=`${r.path}/reverseGeocode`;return Ct(l,a).then(eAe)}function eAe({data:e}){if(!e)return;const{address:t,location:i}=e,r=(t==null?void 0:t.Match_addr)||"";return Jee.fromJSON({address:r,attributes:t||{},location:i,score:100})}let Sy=class extends ue{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};h([f({type:Boolean,json:{write:!0}})],Sy.prototype,"isCollection",void 0),h([f({type:String,json:{write:!0}})],Sy.prototype,"magicKey",void 0),h([f({type:String,json:{write:!0}})],Sy.prototype,"text",void 0),Sy=h([O("esri.rest.support.SuggestionCandidate")],Sy);const tAe=Sy;let Gs=class extends ue{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};h([f(BP)],Gs.prototype,"apiKey",void 0),h([f({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Gs.prototype,"categories",void 0),h([f({type:String,json:{write:!0}})],Gs.prototype,"countryCode",void 0),h([f({type:Qe,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Gs.prototype,"location",void 0),h([f({type:Number,json:{write:!0}})],Gs.prototype,"maxSuggestions",void 0),h([f({type:it,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Gs.prototype,"outSpatialReference",void 0),h([f({type:Lt,json:{write:{writer:(e,t)=>{const i=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(i)}}}})],Gs.prototype,"searchExtent",void 0),h([f({type:String,json:{write:!0}})],Gs.prototype,"text",void 0),Gs=h([O("esri.rest.support.SuggestLocationsParameters")],Gs),Gs.from=Gi(Gs);const ete=Gs;async function iAe(e,t,i){const r=w2(e),n={...(t=ete.from(t)).toJSON(),f:"json"},s=z5({...r.query,...n}),a=F5(s,i),l=`${r.path}/suggest`;return Ct(l,a).then(rAe)}function rAe(e){const{data:t}=e;if(!t)return[];const{suggestions:i}=t;return i?i.map(r=>new tAe(r)):[]}const nAe="Single Line Input",sAe=3e5;function aAe(e,t){return e.location?hAe(e,t):dAe(e,t)}function tte(e,t){var r;if(t.localSearchDisabled)return null;const i=e==null?void 0:e.scale;return typeof i=="number"&&i<=sAe?(r=e==null?void 0:e.extent)==null?void 0:r.center:null}async function oAe(e,t){const{source:i,spatialReference:r,view:n,suggestTerm:s,maxSuggestions:a,sourceIndex:l}=e,u=new ete,{apiKey:d,url:m}=i,v=ite(i,n),b=t==null?void 0:t.signal;if(!m)return null;d&&(u.apiKey=d),i.categories&&(u.categories=i.categories),r&&(u.outSpatialReference=r);const _=tte(n,i);if(_&&(u.location=_),!s.trim())return null;const{prefix:S="",suffix:M=""}=i,T=`${S}${s}${M}`;return u.text=T,v&&(u.searchExtent=v),u.maxSuggestions=a,i.countryCode&&(u.countryCode=i.countryCode),iAe(m,u,{signal:b}).then(E=>fAe(E,l))}function lAe(e){return!!e&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}function uAe(e){return!!e&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(e)}function CG(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(e)}const cAe="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";async function hAe(e,t){const{source:i,spatialReference:r,location:n,sourceIndex:s,view:a}=e,{apiKey:l,url:u,zoomScale:d,defaultZoomScale:m}=i;if(u==null)return[];const v=a==null?void 0:a.scale,b=t==null?void 0:t.signal,_=new Qee({location:n});l&&(_.apiKey=l),r&&(_.outSpatialReference=r);try{return rte([await Q4e(u,_,{signal:b})],{sourceIndex:s,scale:v,view:a,zoomScale:d,defaultZoomScale:m})}catch{return[]}}function ite(e,t){const{filter:i,withinViewEnabled:r}=e,n=t==null?void 0:t.scale,s=t==null?void 0:t.extent,a=i==null?void 0:i.geometry;return(a?UP(a,t??void 0,n):void 0)||(r&&s?s:void 0)}async function dAe(e,t){var q;const{source:i,suggestResult:r,spatialReference:n,view:s,maxResults:a,sourceIndex:l}=e,u=i==null?void 0:i.zoomScale,d=i==null?void 0:i.defaultZoomScale;if(!((q=r.text)==null?void 0:q.trim()))return null;const v=!r.key&&i.prefix?i.prefix:"",b=!r.key&&i.suffix?i.suffix:"",_=`${v}${r.text}${b}`,S=new Xee,{apiKey:M,url:T}=i,E=s==null?void 0:s.scale,A=ite(i,s),P=t==null?void 0:t.signal;if(M&&(S.apiKey=M),!T)return null;i.categories&&(S.categories=i.categories),i.locationType&&(S.locationType=i.locationType),n&&(S.outSpatialReference=n);const N=tte(s,i);N&&(S.location=N),S.maxLocations=a,A&&(S.searchExtent=A),i.countryCode&&(S.countryCode=i.countryCode);const{key:D}=r,k=`${D}`;return D&&(S.magicKey=k),S.address={},S.address[i.singleLineFieldName||nAe]=_,i.outFields&&(S.outFields=i.outFields),J4e(T,S,{signal:P}).then(X=>rte(X,{key:k,scale:E,sourceIndex:l,view:s,zoomScale:u,defaultZoomScale:d}))}function pAe(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function fAe(e,t){return e.map(i=>pAe(i,t))}function mAe(e,t){const{key:i,scale:r,sourceIndex:n,view:s,zoomScale:a,defaultZoomScale:l}=t,{attributes:u,extent:d,location:m,address:v}=e,b=new Zu({geometry:m,attributes:u}),_=d||m,S=_?UP(_,s??void 0,r??void 0):void 0,M=S?typeof a=="number"?TA(S,s??void 0,a):typeof l=="number"&&(_==null?void 0:_.type)==="point"?TA(S,s??void 0,l):S:null,T=m?`${m.x},${m.y}`:"",E=v||T,A=b.clone();return M!=null&&(A.geometry=ra.fromExtent(M)),{extent:M,feature:b,target:A,key:i,name:E,sourceIndex:n}}function rte(e,t){return e.filter(Boolean).map(i=>mAe(i,t))}var CA;let Mn=CA=class extends GP{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,i)=>aAe({source:this,...t},i),this.getSuggestions=(t,i)=>oAe({source:this,...t},i)}clone(){return new CA({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?H(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?H(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};h([f()],Mn.prototype,"apiKey",void 0),h([f()],Mn.prototype,"categories",void 0),h([f()],Mn.prototype,"countryCode",void 0),h([f({json:{write:!0}})],Mn.prototype,"defaultZoomScale",void 0),h([f()],Mn.prototype,"localSearchDisabled",void 0),h([f()],Mn.prototype,"locationType",void 0),h([f({json:{write:!0}})],Mn.prototype,"name",void 0),h([f({json:{write:!0}})],Mn.prototype,"placeholder",void 0),h([f()],Mn.prototype,"searchTemplate",void 0),h([f({json:{write:!0}})],Mn.prototype,"singleLineFieldName",void 0),h([f({json:{read:{source:"suggest"},write:{target:"suggest"}}})],Mn.prototype,"suggestionsEnabled",void 0),h([f({json:{write:!0}})],Mn.prototype,"url",void 0),h([f({json:{write:!0}})],Mn.prototype,"zoomScale",void 0),Mn=CA=h([O("esri.widgets.Search.LocatorSearchSource")],Mn);const nte=Mn;let Ap=class extends ue{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(n=>n.toJSON()),i=this.geometries[0],r={};return r.outSR=z3(this.outSpatialReference),r.inSR=z3(i.spatialReference),r.geometries=JSON.stringify({geometryType:t2(i),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};h([f()],Ap.prototype,"geometries",void 0),h([f({type:it,json:{read:{source:"outSR"}}})],Ap.prototype,"outSpatialReference",void 0),h([f()],Ap.prototype,"transformation",void 0),h([f()],Ap.prototype,"transformForward",void 0),Ap=h([O("esri.rest.support.ProjectParameters")],Ap);const ste=Ap,yAe=Gi(ste);async function gAe(e,t,i){t=yAe(t);const r=w2(e),n={...r.query,f:"json",...t.toJSON()},s=t.outSpatialReference,a=t2(t.geometries[0]),l=F5(n,i);return Ct(r.path+"/project",l).then(({data:{geometries:u}})=>YK(u,a,s))}const ate=()=>ce.getLogger("esri.widgets.support.geolocationUtils"),vAe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function bAe(){const e=!!J("esri-geolocation");return e||ate().warn("geolocation-unsupported","Geolocation unsupported."),e}function wAe(){const e=window.isSecureContext;return e||ate().warnOnce("insecure-context","Geolocation requires a secure origin."),e}function IG(){return bAe()&&wAe()}function _Ae(e){return e??(e=vAe),new Promise((i,r)=>{setTimeout(()=>r(new z("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(i,r,e??void 0)})}function SAe(e,t){const{position:i,view:r}=e,n=xAe(i),s=n==null?void 0:n.coords;if(!s)throw new z("geometry-service:no-coords","Geolocation has no coordinates");return TAe(MAe(s),r,t)}function xAe(e){const t=e&&e.coords||{},i={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed,toJSON:()=>({})};return e&&{coords:i,timestamp:e.timestamp,toJSON:()=>({})}}function MAe({longitude:e,latitude:t,altitude:i}){return new Qe({longitude:e,latitude:t,z:i||void 0,spatialReference:{wkid:4326}})}function TAe(e,t,i){if(!t)return Promise.resolve(e);const r=t.spatialReference;return r.isWGS84?Promise.resolve(e):r.isWebMercator?Promise.resolve(_l(e)):EAe(i).then(n=>{if(!n)throw new z("geometry-service:missing-url","Geometry service URL is missing");const s=new ste({geometries:[e],outSpatialReference:r});return gAe(n,s,i).then(a=>a[0])})}function EAe(e){if(Dt.geometryServiceUrl)return Promise.resolve(Dt.geometryServiceUrl);const t=wr.getDefault();return t.load(e).catch(()=>{}).then(()=>{var i,r;return(r=(i=t.helperServices)==null?void 0:i.geometry)==null?void 0:r.url})}function bn(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const CAe=()=>h8("esri/widgets/Search/t9n/Search"),$G="highlight",s3=Ce.ofType({key:e=>e.layer?"layer":"locator",base:GP,typeMap:{layer:_y,locator:nte}}),AG=it.WGS84,IAe="esri/images/search/search-symbol-32.png",$Ae=/<[\s\S]*?>/g,xy=-1;let gt=class extends gP(Va.EventedMixin(De)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new s3,this.defaultSymbols={point:new Sl({url:ki(IAe),size:24,width:24,height:24}),polyline:new pi({color:[130,130,130,1],width:2}),polygon:new Ae({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=wr.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new s3,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const t=async()=>{const i=await CAe();this.messages=i,this.defaultPopupTemplate=new Il({title:i.searchResult,content:"{Match_addr}"})};t(),this.addHandles([Ge(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),ir),QR(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:xy}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){var t;return(t=this.messages)==null?void 0:t.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){const{sources:t,defaultSources:i,includeDefaultSources:r}=this,n=typeof r=="function"?r.call(null,{sources:t,defaultSources:i}):r?i.concat(t):t,s=this._get("allSources")||new s3;return s.removeAll(),s.addMany(n.filter(Boolean)),s}get locationEnabled(){return this._get("locationEnabled")||IG()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");const i=IG();if(t&&!i){const r=new z("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});ce.getLogger(this).error(r)}this._override("locationEnabled",!!t&&i)}get placeholder(){const{allSources:t,activeSourceIndex:i,allPlaceholder:r}=this;if(i===xy)return r??"";const n=t.at(i);return(n==null?void 0:n.placeholder)??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();const{view:t,resultGraphic:i}=this;t&&i&&t.graphics.remove(i),this._set("resultGraphic",null)}search(t,i){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(t),n=(async()=>{var s;try{await this.when();const a=await this._getResultsFromSources(r,i);if((s=i==null?void 0:i.signal)!=null&&s.aborted)return null;const l={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(l,a,r);const u=this._getFirstResult(l.results),d=r.location&&u?u.name:r.text,m=d==null?void 0:d.replace($Ae,"");return this._set("searchTerm",m),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",l.results),this._set("resultCount",l.results.reduce((v,b)=>{var _;return v+(((_=b.results)==null?void 0:_.length)??0)},0)),this.emit("search-complete",l),await this._selectFirstResult(u),l}finally{this._clearSearching()}})();return this._searching=n,n}async searchNearby(t){if(!this.locationEnabled){const r=new z("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw ce.getLogger(this).error(r),r}const i=(async()=>{try{const r=await _Ae(),n=await SAe({position:r,view:this.view},t);return await this.search(n,t)}finally{this._clearSearching()}})();return this._searching=i,i}async select(t){if(this.clearGraphics(),!t){const W=new z("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw ce.getLogger(this).error(W),W}const{view:i}=this,r=bn(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=r!=null?this.allSources.at(r):null;if(!n){const W=new z("select:missing-source","Cannot select without a source.",{source:n});throw ce.getLogger(this).error(W),W}const s=n instanceof _y?this._getLayerSourcePopupTemplate(n):n.popupTemplate,a=n.resultSymbol||this._getDefaultSymbol(t),l=bn(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,u=bn(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,d=bn(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,m=d?s||this.popupTemplate||this.defaultPopupTemplate:null,{feature:v}=t;if(!v){const W=new z("select:missing-feature","Cannot select without a feature.",{feature:v});throw ce.getLogger(this).error(W),W}const{attributes:b,geometry:_,layer:S,sourceLayer:M}=v,T=_?EG(_):null,E={layerViewQuery:this._getLayerView(v),elevationQuery:i&&T!=null?$4e(T,i):Promise.resolve(T)},A=await Vp(E),P=A.layerViewQuery.value,N=A.elevationQuery.value;a instanceof kf&&(a.text=t.name);const D=i&&u?t.target||t.extent:null;await(D!=null?this._goToSearchResult(D):Promise.resolve());const q=P?v:new Zu({geometry:_,symbol:a,attributes:b,layer:S,sourceLayer:M,popupTemplate:m}),X=i==null?void 0:i.popup,re=X&&d&&q.getEffectivePopupTemplate(X.defaultPopupTemplateEnabled);return re&&await i.openPopup({features:[q],location:N}),P&&A4e(P)&&!re&&this._highlightFeature({graphic:q,layerView:P}),!P&&l&&i&&i.graphics.push(q),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",q),this.emit("select-result",{result:t,source:n,sourceIndex:r}),t}async suggest(t,i,r){const n=t||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),await this._suggestTimer(i,r);const s=await this._suggestImmediate(n,r);return this._set("suggestions",s==null?void 0:s.results),this._set("suggestionCount",(s==null?void 0:s.results.reduce((a,l)=>{var u;return a+(((u=l.results)==null?void 0:u.length)??0)},0))??null),this.emit("suggest-complete",s),s}async when(){await gg(()=>!this.updating)}async _update(){const{portal:t,view:i}=this;if(this.includeDefaultSources){const r=this._updatingPromise=Vp([t==null?void 0:t.load(),i==null?void 0:i.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await gg(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var i,r;const t=(r=(i=this.portal)==null?void 0:i.helperServices)==null?void 0:r.geocode;return t?t.map(n=>{var u;if(n.placefinding===!1)return;const s=Dt.apiKey&&CG(n.url)?{url:cAe}:null,a=nte.fromJSON({...n,...s}),l=a.url;if(CG(l)||uAe(l)||lAe(l)){const d=a.outFields??["Addr_type","Match_addr","StAddr","City"],m=(a.placeholder||((u=this.messages)==null?void 0:u.placeholder))??"",v=typeof a.defaultZoomScale=="number"?a.defaultZoomScale:2500;a.singleLineFieldName="SingleLine",a.outFields=d,a.placeholder=m,a.defaultZoomScale=v}return a.singleLineFieldName?a:void 0}).filter(Fa):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t==null?void 0:t.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,i){var n;const r=(n=this.view)==null?void 0:n.map;return t.map(s=>{const a=r.findLayerById(s.id);if(!a)return;const l=this._getLayerJSON(s),u=_y.fromJSON(l);return u.placeholder=i,this._getLayer(a,l).then(d=>{u.layer=d}),u}).filter(Fa).toArray()}_getTableSources(t,i){var n;const r=(n=this.view)==null?void 0:n.map;return t.map(s=>{if(!s.id)return;const a=r.findTableById(s.id);if(!a)return;const l=this._getLayerJSON(s),u=_y.fromJSON(l);return u.placeholder=i,this._getLayer(a,l).then(d=>{u.layer=d}),u}).filter(Fa).toArray()}_convertApplicationProperties(){var l,u,d;const t=(l=this.view)==null?void 0:l.map,i=(d=(u=t==null?void 0:t.applicationProperties)==null?void 0:u.viewing)==null?void 0:d.search;if(!i)return[];const{enabled:r,hintText:n,layers:s,tables:a}=i;return r?[...this._getLayerSources(s,n),...this._getTableSources(a,n)]:[]}async _getSubLayer(t,i){var s;if(await t.load(),!t.allSublayers)throw new Error;const r=t.allSublayers.find(a=>a.id===i.subLayer);if(!r)throw new Error;const n=await((s=r.createFeatureLayer)==null?void 0:s.call(r));if(!n)throw new Error;return this._createdFeatureLayers.push(n),n}async _getBuildingSubLayer(t,i){await t.load();const r=t.allSublayers.find(n=>n.id===i.subLayer);if((r==null?void 0:r.type)!=="building-component")throw new Error;if(await r.load(),r.associatedLayer==null)throw new Error;return await r.associatedLayer.load(),r}async _getLayer(t,i){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return await this._getSubLayer(t,i)}catch{const n=new z("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return ce.getLogger(this).error(n),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,i):null}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){const{defaultSources:t,includeDefaultSources:i}=this;this._destroyFeatureLayers(),t.removeAll(),i&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var s;const t=(s=this.view)==null?void 0:s.popup,{resultGraphic:i}=this;if(!t||!i)return;const r="selectedFeature"in t,n=r?t.selectedFeature:null;r&&n&&n===i&&t.close()}_suggestTimer(t,i){const r=t??this.suggestionDelay;return fR(r,null,i==null?void 0:i.signal)}_createLocationForSearch(t){return t instanceof Zu&&t.geometry?EG(t.geometry):t instanceof Qe?t:Array.isArray(t)&&t.length===2?new Qe({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&bn(t,"key")&&bn(t,"text")&&bn(t,"sourceIndex"))return t;const i=this._createLocationForSearch(t),r=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:n,selectedResult:s}=this,a=!t&&n&&s,l=a&&n.key===s.key&&n.sourceIndex===s.sourceIndex,u=a&&n.location;return l||u?n:{location:i,text:i?"":r,sourceIndex:null,key:null}}_getFirstResult(t){return pb(t,({results:i})=>i==null?void 0:i[0])??null}async _selectFirstResult(t){return this.autoSelect&&t?this.select(t):null}async _suggestImmediate(t,i){var s;await this.when();const r=await this._getSuggestionsFromSources(t,i);if((s=i==null?void 0:i.signal)!=null&&s.aborted)return null;const n={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,r),n}_formatSourceResponse(t,i,r){const n=(i==null?void 0:i.value)||[],s=i==null?void 0:i.error,a=this.allSources.at(r);if(s){const l={sourceIndex:r,source:a,error:s};t.errors.push(l),ce.getLogger(this).error(s),t.numErrors++}else{const l={sourceIndex:r,source:a,results:n};t.results.push(l),t.numResults+=n.length}}_formatResponse(t,i,r){if(i)if(t.activeSourceIndex===xy){const n=r&&bn(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;i.forEach((s,a)=>{const l=n!==void 0?n:a;this._formatSourceResponse(t,s,l)})}else this._formatSourceResponse(t,i[0],t.activeSourceIndex)}async _getResultsFromSources(t,i){const{allSources:r}=this,n=!t.location&&bn(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,s=[];if(!r.length){const a=new z("search:no-sources-defined","At least one source is required.",{allSources:r});throw ce.getLogger(this).error(a),a}return n===xy?r.forEach((a,l)=>{s.push(this._getResultsFromSource(t,l,i))}):s.push(this._getResultsFromSource(t,n,i)),Vp(s)}async _getSuggestionsFromSources(t,i){const{allSources:r,activeSourceIndex:n}=this,s=[];if(!r.length){const a=new z("suggest:no-sources-defined","At least one source is required.",{allSources:r});throw ce.getLogger(this).error(a),a}return n===xy?r.forEach((a,l)=>{s.push(this._getSuggestionsFromSource(t,l,i))}):s.push(this._getSuggestionsFromSource(t,n,i)),Vp(s)}async _getResultsFromSource(t,i,r){var m,v;const n=i!=null?this.allSources.at(i):null;if(!n)return null;const{location:s=null}=t,a=((m=this.view)==null?void 0:m.spatialReference)||AG,l=bn(n,"maxResults")?n.maxResults:this.maxResults,u=!!(n instanceof _y&&bn(n,"exactMatch"))&&n.exactMatch,{view:d}=this;return(v=n.getResults)==null?void 0:v.call(n,{view:d,sourceIndex:i,location:s,suggestResult:t,spatialReference:a,exactMatch:u,maxResults:l},r)}async _getSuggestionsFromSource(t,i,r){var u,d;const n=this.allSources.at(i);if(!n)return null;t??(t="");const s=bn(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,a=t==null?void 0:t.length,l=bn(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(s&&t.trim()&&a>=l){const m=((u=this.view)==null?void 0:u.spatialReference)||AG,v=bn(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:b}=this,_=!!(n instanceof _y&&bn(n,"exactMatch"))&&n.exactMatch;return(d=n.getSuggestions)==null?void 0:d.call(n,{view:b,sourceIndex:i,suggestTerm:t,spatialReference:m,maxSuggestions:v,exactMatch:_},r)}return null}_getLayerSourcePopupTemplate(t){const{layer:i}=t;if(i)return bn(t,"popupTemplate")?t.popupTemplate:i.popupTemplate}_getSourceIndexOfResult(t){return pb(this.results??[],({results:i,sourceIndex:r})=>(i==null?void 0:i.includes(t))?r:null)??null}async _goToSearchResult(t){this._abortGoTo();const i=new AbortController;this._gotoController=i;const r={target:{target:t},options:{signal:i.signal}};t||(r.options.animate=!1),await this.callGoTo(r),this._gotoController=null}_getDefaultSymbol(t){var n;const{defaultSymbols:i}=this,r=(n=t.feature)==null?void 0:n.geometry;if(r==null)return null;switch(r.type){case"point":case"multipoint":return i.point;case"polyline":return i.polyline;case"extent":case"polygon":return i.polygon;default:return null}}_removeHighlight(){this.removeHandles($G)}async _getLayerView(t){var n,s;const{view:i}=this;if(!t||!i||((n=t.layer)==null?void 0:n.type)==="building-component"||((s=t.layer)==null?void 0:s.type)==="subtype-sublayer")return null;const{layer:r}=t;return r?(await i.when(),i.whenLayerView(r)):null}_highlightFeature(t){const{graphic:i,layerView:r}=t,{attributes:n,layer:s}=i,{objectIdField:a}=s,l=(a&&(n==null?void 0:n[a]))??null,u=r.highlight(l??i);this.addHandles(u,$G)}_setResultFloor(t){var s,a,l;const{view:i}=this,r=(s=t.feature)==null?void 0:s.attributes,n=(a=t.feature)==null?void 0:a.sourceLayer;if(n&&"floorInfo"in n&&((l=n==null?void 0:n.floorInfo)!=null&&l.floorField)&&r){const u=r[n.floorInfo.floorField];i==null||i.emit("select-result-floor",u)}}};gt.ALL_INDEX=xy,h([f()],gt.prototype,"_searching",void 0),h([f()],gt.prototype,"_updatingPromise",void 0),h([f({readOnly:!0,value:null})],gt.prototype,"activeSource",null),h([f()],gt.prototype,"activeSourceIndex",null),h([f()],gt.prototype,"allPlaceholder",null),h([f({readOnly:!0})],gt.prototype,"allSources",null),h([f()],gt.prototype,"autoNavigate",void 0),h([f()],gt.prototype,"autoSelect",void 0),h([f({type:Il})],gt.prototype,"defaultPopupTemplate",void 0),h([f({readOnly:!0})],gt.prototype,"defaultSources",void 0),h([f()],gt.prototype,"defaultSymbols",void 0),h([f()],gt.prototype,"includeDefaultSources",void 0),h([f()],gt.prototype,"locationEnabled",null),h([f()],gt.prototype,"maxInputLength",void 0),h([f()],gt.prototype,"maxResults",void 0),h([f()],gt.prototype,"maxSuggestions",void 0),h([f()],gt.prototype,"messages",void 0),h([f()],gt.prototype,"minSuggestCharacters",void 0),h([f({readOnly:!0})],gt.prototype,"placeholder",null),h([f()],gt.prototype,"popupEnabled",void 0),h([f({type:Il})],gt.prototype,"popupTemplate",void 0),h([f({type:wr})],gt.prototype,"portal",void 0),h([f()],gt.prototype,"resultCount",void 0),h([f()],gt.prototype,"resultGraphicEnabled",void 0),h([f({readOnly:!0})],gt.prototype,"resultGraphic",void 0),h([f({readOnly:!0})],gt.prototype,"results",void 0),h([f({readOnly:!0})],gt.prototype,"selectedSuggestion",void 0),h([f()],gt.prototype,"searchAllEnabled",void 0),h([f({readOnly:!0})],gt.prototype,"selectedResult",void 0),h([f()],gt.prototype,"searchTerm",null),h([f({type:s3})],gt.prototype,"sources",void 0),h([f({readOnly:!0})],gt.prototype,"state",null),h([f()],gt.prototype,"suggestionDelay",void 0),h([f()],gt.prototype,"suggestionCount",void 0),h([f({readOnly:!0})],gt.prototype,"suggestions",void 0),h([f()],gt.prototype,"suggestionsEnabled",void 0),h([f({readOnly:!0})],gt.prototype,"updating",null),h([f()],gt.prototype,"view",void 0),h([f()],gt.prototype,"clear",null),gt=h([O("esri.widgets.Search.SearchViewModel")],gt);const ky=gt;let gh=class extends ic{constructor(t,i){super(t,i),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const t={[Bd.showMoreResults]:this.showMoreResultsOpen};return Ie("div",{class:this.classes(Bd.base,Ii.widget)},Ie("div",{class:this.classes(Bd.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return Ie("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){var r;const t=(r=this.viewModel)==null?void 0:r.selectedResult,i=(t==null?void 0:t.name)||"";return Ie("div",{class:Bd.moreResultsItem,key:"esri-search-renderer__result-name"},i)}_renderMoreResultsLists(){const{viewModel:t}=this;if(!t)return[];const i=t.results;if((t.resultCount??0)<2)return null;const r=i==null?void 0:i.map(n=>this._renderMoreResultsList(n));return Ie("div",{class:Bd.moreResultsList,key:"esri-search-renderer__more-results-container"},r)}_renderMoreResultsButton(){const{messages:t,viewModel:i}=this;return i?(i.resultCount??0)<2?null:Ie("div",{class:Bd.moreResultsItem,key:"esri-search-renderer__more-results-button"},Ie("a",{bind:this,class:Ii.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,i){return Ie("div",{class:Bd.moreResultsListHeader,key:`esri-search-result-renderer__header-${i}`},t)}_renderMoreResultsList(t){var v,b,_;const{results:i}=t,r=(i==null?void 0:i.length)??0,n=r>0,s=(v=this.viewModel)==null?void 0:v.selectedResult,a=r===1&&i[0]===s,l=this._getSourceName(t.source,t.sourceIndex),u=(((_=(b=this.viewModel)==null?void 0:b.results)==null?void 0:_.length)??0)>1&&!a?this._renderMoreResultsHeader(l,t.sourceIndex):null,d=n&&i.map((S,M)=>this._renderMoreResultsListItem(S,M)),m=n&&!a?Ie("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},d):null;return n?Ie("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},u,m):null}_renderMoreResultsListItem(t,i){var n;const r=(n=this.viewModel)==null?void 0:n.selectedResult;return t!==r?Ie("li",{key:`esri-search-result-renderer__list-item-${i}`},Ie("a",{bind:this,class:Ii.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){var r,n;t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const i=(n=(r=this.viewModel)==null?void 0:r.view)==null?void 0:n.popup;i&&"reposition"in i&&i.reposition()}_selectResultClick(t){var r;t.preventDefault();const i=t.currentTarget["data-result"];(r=this.viewModel)==null||r.select(i)}_getSourceName(t,i){return i===ky.ALL_INDEX?this.messages.all:t.name}};h([f(),qa("esri/widgets/Search/t9n/Search")],gh.prototype,"messages",void 0),h([f()],gh.prototype,"showMoreResultsOpen",void 0),h([f()],gh.prototype,"viewModel",void 0),h([Tx()],gh.prototype,"_showMoreResultsClick",null),h([Tx()],gh.prototype,"_selectResultClick",null),gh=h([O("esri.widgets.Search.SearchResultRenderer")],gh);const AAe=gh;let bt=class extends ic{constructor(t,i){super(t,i),this._currentLocationValue=`${this.id}-search-use-current-location`,this._autocompleteNode=null,this._focusAbortController=null,this._searchResultRenderer=new AAe,this._suggestController=null,this._searchController=null,this._lastSearchTerm="",this._locateFailed=!1,this._showNoResults=!1,this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new ky,this._renderSearchResultsContent=()=>this._searchResultRenderer,this.addHandles([Ge(()=>this.viewModel,r=>this._searchResultRenderer.viewModel=r,ir),Ge(()=>this.viewModel.results,()=>this._searchResultRenderer.showMoreResultsOpen=!1),Ge(()=>{var r;return(r=this.viewModel)==null?void 0:r.defaultPopupTemplate},r=>{r&&(r.content=this._renderSearchResultsContent)},ir)])}loadDependencies(){return Lf({autocomplete:()=>ve(()=>import("./index-CuBucUx5.js"),__vite__mapDeps([276,265,266,263,267,277,278,268,279,269,270,271,280,272,273,264,281,282,283,284])),"autocomplete-item-group":()=>ve(()=>import("./index-DWqNyD-D.js"),[]),"autocomplete-item":()=>ve(()=>import("./index-DusT37Uz.js"),__vite__mapDeps([285,265,266,263,267,273,271])),button:()=>ve(()=>import("./index-qgtZKWjP.js"),__vite__mapDeps([261,262,263,264,265,266,267,268,269,270,271,272,273])),dropdown:()=>ve(()=>import("./index-B_xyC4wQ.js"),__vite__mapDeps([286,268,266,263,281,282,271,280,273,267,283,287])),"dropdown-group":()=>ve(()=>import("./index-BrrDr3hY.js"),__vite__mapDeps([288,267,289])),"dropdown-item":()=>ve(()=>import("./index-ml7_VU73.js"),__vite__mapDeps([290,265,266,263,267,268,273,271,289])),notice:()=>ve(()=>import("./index-zLbEGUdN.js"),__vite__mapDeps([291,265,266,263,267,268,273,283,264]))})}destroy(){var t;this._cancelQueries(),this._searchResultRenderer=vi(this._searchResultRenderer),(t=this._focusAbortController)==null||t.abort()}get _isDisabled(){const{state:t}=this.viewModel;return t==="disabled"||t==="loading"||this.disabled}get _showCurrentLocation(){var t;return this.locationEnabled&&!((t=this.searchTerm)!=null&&t.trim())}get _effectiveActiveMenu(){const{activeMenu:t}=this;return this._isDisabled?"none":t==="warning"?"suggestion":t}get activeMenu(){return"none"}set activeMenu(t){t==="warning"&&Doe(ce.getLogger(this),"activeMenu","warning",{replacement:"Use the value 'suggestion' instead",version:"4.32",warnOnce:!0}),this._overrideIfSome("activeMenu",t)}get activeSource(){var t;return(t=this.viewModel)==null?void 0:t.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"search"}set icon(t){this._overrideIfSome("icon",t)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){var t;return(t=this.viewModel)==null?void 0:t.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this._locateFailed=!1,this.viewModel.clear()}focus(){this._handleFocus(),this._emitFocus()}blur(){var t;(t=this._autocompleteNode)==null||t.blur(),this._emitBlur()}async search(t){this._cancelQueries();const i=new AbortController,{signal:r}=i;this._searchController=i;try{const n=await this.viewModel.search(t,{signal:r});return this._searchController!==i?void 0:(n!=null&&n.numResults||(this._showNoResults=!0,this.activeMenu="suggestion"),this._searchController=null,n)}catch{return this._searchController!==i?void 0:void(this._searchController=null)}}async suggest(t){this._cancelSuggest();const i=new AbortController,{signal:r}=i;this._suggestController=i;try{const n=await this.viewModel.suggest(t,null,{signal:r});return this._suggestController!==i?void 0:(this._suggestController=null,n!=null&&n.numResults&&(this.activeMenu="suggestion",this._scrollToTopSuggestion()),n)}catch{return this._suggestController!==i||(this._suggestController=null),null}}render(){return Ie("div",{class:this.classes(Um.base,Ii.widget)},Ie("div",{class:Um.container},this._renderSourcesMenu(),this._renderForm()))}_handleInputKeydown(t){t.key==="Tab"&&this._cancelSuggest()}_emitFocus(){this.emit("search-focus")}_emitBlur(){this.emit("search-blur")}async _handleFocus(){var i,r;(i=this._focusAbortController)==null||i.abort(),this._focusAbortController=new AbortController;const t=this._focusAbortController.signal;await og(OB(t)),(r=this._autocompleteNode)==null||r.setFocus()}_renderSourcesMenu(){const{messages:t,_isDisabled:i,_effectiveActiveMenu:r}=this,{allSources:n,searchAllEnabled:s}=this.viewModel;return n.length>1?Ie("calcite-dropdown",{bind:this,class:Um.dropdown,disabled:i,open:r==="source",overlayPositioning:"fixed",onCalciteDropdownClose:this._handleSourceClose,onCalciteDropdownOpen:this._handleSourceOpen,onCalciteDropdownSelect:this._handleSourceSelect},Ie("calcite-button",{appearance:"outline-fill",iconStart:"caret-down",kind:"neutral",label:t.searchIn,slot:"trigger"}),Ie("calcite-dropdown-group",{groupTitle:t.searchIn},s?this._renderSource(ky.ALL_INDEX):null,n.map((a,l)=>this._renderSource(l)).toArray())):null}_renderUseCurrentLocation(){const{_currentLocationValue:t}=this;return Ie("calcite-autocomplete-item",{heading:this.messages.useCurrentLocation,iconStart:"gps-on",key:t,value:t})}_handleAutocompleteCreate(t){this._autocompleteNode=t}_handleCalciteAutocompleteTextInput(t){const i=t.target.inputValue;i!==this.viewModel.searchTerm&&(this.viewModel.searchTerm=i,i||this.clear(),this.suggest())}_handleAutocompleteOpen(){this.activeMenu="suggestion"}_handleAutocompleteClose(){this.activeMenu==="suggestion"&&(this.activeMenu="none")}_handleCalciteAutocompleteChange(t){var s;const i=t.target.value;if(i===this._currentLocationValue)return void this._useCurrentLocation();const r=(s=this.viewModel.suggestions)==null?void 0:s.flatMap(a=>a.results??[]),n=r==null?void 0:r.find(a=>`${a.key}`==`${i}`);n&&this.search(n)}_renderAutocomplete(){const{_effectiveActiveMenu:t,messages:i,_isDisabled:r}=this,{maxInputLength:n,placeholder:s,searchTerm:a,state:l}=this.viewModel,u=this.label??i.searchButtonTitle??"";return Ie("calcite-autocomplete",{afterCreate:this._handleAutocompleteCreate,autocomplete:"off",bind:this,class:Um.autocomplete,disabled:r,icon:this.icon,inputValue:a,label:u,loading:l==="searching",maxLength:n,name:this.id,onblur:this._emitBlur,onfocus:this._emitFocus,onkeydown:this._handleInputKeydown,open:t==="suggestion",overlayPositioning:"fixed",placeholder:s,title:a?"":s,onCalciteAutocompleteChange:this._handleCalciteAutocompleteChange,onCalciteAutocompleteClose:this._handleAutocompleteClose,onCalciteAutocompleteOpen:this._handleAutocompleteOpen,onCalciteAutocompleteTextChange:this._handleCalciteAutocompleteTextInput,onCalciteAutocompleteTextInput:this._handleCalciteAutocompleteTextInput},this._renderSuggestions(),this._renderNotices())}_renderForm(){return Ie("form",{bind:this,class:Um.form,disabled:this._isDisabled,key:Um.form,onsubmit:this._formSubmit,role:"search"},this._renderAutocomplete())}_renderSuggestGroup(t){var i;return(i=t.results)==null?void 0:i.map(r=>this._renderSuggestion(r))}_renderSuggestions(){const{suggestions:t}=this.viewModel;return this._showNoResults?null:this._showCurrentLocation?this._renderUseCurrentLocation():t==null?void 0:t.map(i=>this._renderSuggestResults(i))}_renderSuggestResults(t){var u;const{allSources:i,activeSourceIndex:r}=this.viewModel,{sourceIndex:n}=t,s=(u=t.results)==null?void 0:u.length,a=i.length>1&&r===ky.ALL_INDEX,l=this._getSourceName(n);return s&&a?Ie("calcite-autocomplete-item-group",{heading:l,key:`suggestion-group-${l}-${n}`},this._renderSuggestGroup(t)):this._renderSuggestGroup(t)}_renderSuggestion(t){return Ie("calcite-autocomplete-item",{heading:t.text??this.messages.untitledResult,key:`suggestion_${t.key}`,value:`${t.key}`})}_renderSource(t){const i=this._getSourceName(t);return Ie("calcite-dropdown-item",{"data-source-index":`${t}`,key:`source-${i}-${t}`,selected:t===this.viewModel.activeSourceIndex},i)}_renderNoResultsWarning(t){const{messages:i}=this,r=t?IW(i.noResultsFoundForValue,{value:`"${t}"`}):i.noResultsFound;return Ie("calcite-notice",{icon:"exclamation-mark-triangle",key:"no-results-warning",kind:"warning",open:!0,slot:"content-bottom"},Ie("div",{slot:"title"},i.noResults),Ie("div",{slot:"message"},r))}_renderLocateError(){return Ie("calcite-notice",{icon:"exclamation-mark-circle",key:"locate-warning",kind:"danger",open:!0,slot:"content-bottom"},Ie("div",{slot:"message"},this.messages.locateError))}_renderNotices(){return this._locateFailed?this._renderLocateError():this._showNoResults?this._renderNoResultsWarning(this._lastSearchTerm??this.viewModel.searchTerm):null}async _useCurrentLocation(){this._cancelQueries();const t=new AbortController,{signal:i}=t;this._searchController=t;try{await this.viewModel.searchNearby({signal:i})}catch(r){Vi(r)||(this._locateFailed=!0)}finally{this._searchController=null}}_handleSourceOpen(){this.activeMenu="source"}_handleSourceClose(){this.activeMenu==="source"&&(this.activeMenu="none")}_handleSourceSelect(t){const i=t.target.selectedItems[0].getAttribute("data-source-index");i&&(this.viewModel.activeSourceIndex=parseInt(i,10))}_cancelSuggest(){this.activeMenu="none",this._locateFailed=!1,this._showNoResults=!1,this._suggestController=Yh(this._suggestController)}_cancelQueries(){this._cancelSuggest(),this._searchController=Yh(this._searchController)}_scrollToTopSuggestion(){var t;(t=this._autocompleteNode)==null||t.scrollContentTo({top:0})}_formSubmit(t){t.preventDefault(),this.activeMenu="none",this._lastSearchTerm=this.searchTerm,this.searchTerm&&this.search()}_getSourceName(t){const{messages:i}=this,{allSources:r}=this.viewModel,n=r.at(t);return t===ky.ALL_INDEX?i.all:(n==null?void 0:n.name)||i.untitledSource}};h([f()],bt.prototype,"_locateFailed",void 0),h([f()],bt.prototype,"_showNoResults",void 0),h([f()],bt.prototype,"_isDisabled",null),h([f()],bt.prototype,"_showCurrentLocation",null),h([f()],bt.prototype,"_effectiveActiveMenu",null),h([f()],bt.prototype,"activeMenu",null),h([f({readOnly:!0})],bt.prototype,"activeSource",null),h([f()],bt.prototype,"activeSourceIndex",null),h([f()],bt.prototype,"allPlaceholder",null),h([f({readOnly:!0})],bt.prototype,"allSources",null),h([f()],bt.prototype,"autoNavigate",null),h([f()],bt.prototype,"autoSelect",null),h([f({readOnly:!0})],bt.prototype,"defaultSources",null),h([f()],bt.prototype,"disabled",void 0),h([f()],bt.prototype,"goToOverride",null),h([f()],bt.prototype,"icon",null),h([f()],bt.prototype,"includeDefaultSources",null),h([f()],bt.prototype,"label",null),h([f()],bt.prototype,"locationEnabled",null),h([f()],bt.prototype,"maxResults",null),h([f()],bt.prototype,"maxSuggestions",null),h([f(),qa("esri/widgets/Search/t9n/Search")],bt.prototype,"messages",void 0),h([f(),qa("esri/t9n/common")],bt.prototype,"messagesCommon",void 0),h([f()],bt.prototype,"minSuggestCharacters",null),h([f()],bt.prototype,"popupEnabled",null),h([f()],bt.prototype,"popupTemplate",null),h([f()],bt.prototype,"portal",null),h([f()],bt.prototype,"resultGraphic",null),h([f()],bt.prototype,"resultGraphicEnabled",null),h([f({readOnly:!0})],bt.prototype,"results",null),h([f()],bt.prototype,"searchAllEnabled",null),h([f()],bt.prototype,"searchTerm",null),h([f({readOnly:!0})],bt.prototype,"selectedResult",null),h([f()],bt.prototype,"sources",null),h([f({readOnly:!0})],bt.prototype,"suggestions",null),h([f()],bt.prototype,"suggestionsEnabled",null),h([f()],bt.prototype,"view",null),h([Dee(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),f({type:ky})],bt.prototype,"viewModel",void 0),bt=h([O("esri.widgets.Search")],bt);const RAe=bt;let vh=class extends De{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(Tl(()=>{var t;return(t=this.view)==null?void 0:t.ui},"expand",t=>{const{target:i}=t;i&&i!==this&&i.expanded&&i.group&&i.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){var n;const i=!!t;this._set("expanded",i);const r=(n=this.view)==null?void 0:n.ui;r&&r.emit("expand",{target:this}),this._viewpointHandleChange(i)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&Pn(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?Pn(()=>{var i;return(i=this.view)==null?void 0:i.stationary},()=>{var i;return(i=this._viewpointHandle)==null?void 0:i.resume()},{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;const{autoCollapse:i,view:r}=this;if(!r||!i)return;const n=Whe(()=>r.type==="3d"?r.camera:r.viewpoint,()=>this._collapse());this.addHandles(n,t),this._viewpointHandle=n}_collapse(){this.expanded=!1}};h([f({value:!1})],vh.prototype,"autoCollapse",null),h([f({value:!1})],vh.prototype,"expanded",null),h([f()],vh.prototype,"group",void 0),h([f({readOnly:!0})],vh.prototype,"state",null),h([f({value:null})],vh.prototype,"view",null),vh=h([O("esri.widgets.Expand.ExpandViewModel")],vh);const ote=vh;function JC(e){return e&&typeof e.render=="function"}function PAe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const Uc="esri-expand",Ls={base:Uc,toggle:`${Uc}__toggle`,popoverContent:`${Uc}__popover-content`,panel:`${Uc}__panel`,panelContent:`${Uc}__panel-content`,sheet:`${Uc}__sheet`,contentContainer:`${Uc}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconNumber:`${Uc}__icon-number`},RG="chevrons-left",PG="chevrons-right";let Ti=class extends ic{constructor(t,i){super(t,i),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new ote,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=r=>{r.target===this._popoverEl&&(this.viewModel.expanded=r.currentTarget.open)},this._handleSheetClose=r=>{this.viewModel.expanded=r.currentTarget.open},this._handlePanelClose=r=>{this.viewModel.expanded=!r.currentTarget.closed},this._handleKeyDown=r=>{this.viewModel.expanded&&r.key==="Escape"&&!this._willCloseOnEsc(r)&&r.preventDefault()},this._storeToggleActionEl=r=>{this._toggleActionEl=r},this._storePopoverEl=r=>{this._popoverEl=r}}initialize(){this.addHandles(Ge(()=>{var t,i;return(i=(t=this.viewModel)==null?void 0:t.view)==null?void 0:i.size},()=>{var t;return(t=this._popoverEl)==null?void 0:t.reposition()},ir))}loadDependencies(){return Lf({action:()=>ve(()=>import("./index-B0dWbxzL.js"),__vite__mapDeps([292,262,263,264,265,266,267,279,268,271,273])),icon:()=>ve(()=>import("./index-9ifTNSNj.js").then(t=>t.i),__vite__mapDeps([265,266,263,267])),panel:()=>ve(()=>import("./index-C8uJLbMd.js").then(t=>t.i),__vite__mapDeps([293,262,263,264,265,266,267,292,279,268,271,273,294,281,282,283,269,295,296,280,297,298])),popover:()=>ve(()=>import("./index-CQ7Rlfid.js").then(t=>t.i),__vite__mapDeps([294,262,263,264,265,266,267,292,279,268,271,273,281,282,283,269,295,296,280])),sheet:()=>ve(()=>import("./index-SPdgHNBD.js"),__vite__mapDeps([299,262,263,264,298,268,267,266,265,279,300,273,283,287,296]))})}get expandTitle(){const{expanded:t,messagesCommon:i,collapseTooltip:r,expandTooltip:n}=this;return(t?r||(i==null?void 0:i.collapse):n||(i==null?void 0:i.expand))??""}get _displaySheet(){var t;switch(this.mode){case"drawer":return!0;case"auto":return((t=this.viewModel.view)==null?void 0:t.widthBreakpoint)==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return PG}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return JC(this.content)?this.content.icon:RG}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){var t;return(JC(this.content)?this.content.label:null)??((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:t,_toggleActionEl:i,viewModel:{expanded:r},label:n,placement:s}=this;return Ie("div",{class:this.classes(Ls.base,Ii.widget)},this._renderToggle(),t?Ie("calcite-sheet",{class:Ls.sheet,heightScale:"l",label:n,onkeydown:this._handleKeyDown,open:r,position:"block-end",onCalciteSheetClose:this._handleSheetClose},Ie("calcite-panel",{class:Ls.panel,closable:!0,closed:!r,heading:n,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},Ie("div",{class:Ls.panelContent},this._renderContent()))):i?Ie("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:n,onkeydown:this._handleKeyDown,open:r,overlayPositioning:"fixed",placement:s??this._getPlacement(),referenceElement:i,onCalcitePopoverClose:this._handlePopoverClose},Ie("div",{class:Ls.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:t,view:i}=this,r=t&&i?i.ui.getPosition(t):null;if(!r||r==="manual")return"auto";const[n,s]=r.split("-");return`${s==="right"?"left":"right"}-${n==="bottom"?"end":"start"}`}_willCloseOnEsc(t){const{closeOnEsc:i}=this;return typeof i=="function"?i(t):i}_renderBadgeNumber(){const{expanded:t,iconNumber:i}=this;return i&&!t?Ie("span",{class:Ls.iconNumber,key:"expand__icon-number"},i):null}_renderToggleButton(){const{expanded:t,expandTitle:i,expandIcon:r,collapseIcon:n}=this,s=t?n:r,a=s===RG||s===PG;return Ie("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:Ii.widgetButton,onclick:this.toggle,scale:"s",text:i,title:i},s?Ie("calcite-icon",{class:this.classes(Ls.icon,a&&Ls.iconFlip),icon:s,scale:"s"}):null)}_renderToggle(){return Ie("div",{class:Ls.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:t}=this;return typeof t=="string"?Ie("div",{class:Ls.contentContainer,innerHTML:t,key:"content__string"}):JC(t)?Ie("div",{class:Ls.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?Ie("div",{afterCreate:this._attachToNode,bind:t,class:Ls.contentContainer,key:"content__html-element"}):PAe(t)?Ie("div",{afterCreate:this._attachToNode,bind:t.domNode,class:Ls.contentContainer,key:"content__node"}):null}_attachToNode(t){const i=this;t.appendChild(i)}};h([f({readOnly:!0})],Ti.prototype,"expandTitle",null),h([f()],Ti.prototype,"_toggleActionEl",void 0),h([f()],Ti.prototype,"_displaySheet",null),h([f()],Ti.prototype,"autoCollapse",null),h([f()],Ti.prototype,"closeOnEsc",void 0),h([f()],Ti.prototype,"collapseIcon",null),h([f()],Ti.prototype,"collapseTooltip",void 0),h([f()],Ti.prototype,"content",void 0),h([f()],Ti.prototype,"expanded",null),h([f()],Ti.prototype,"expandIcon",null),h([f()],Ti.prototype,"expandTooltip",void 0),h([f()],Ti.prototype,"focusTrapDisabled",void 0),h([f()],Ti.prototype,"group",null),h([f()],Ti.prototype,"icon",null),h([f()],Ti.prototype,"iconNumber",void 0),h([f()],Ti.prototype,"label",null),h([f(),qa("esri/widgets/Expand/t9n/Expand")],Ti.prototype,"messages",void 0),h([f(),qa("esri/t9n/common")],Ti.prototype,"messagesCommon",void 0),h([f()],Ti.prototype,"mode",void 0),h([f()],Ti.prototype,"placement",void 0),h([f()],Ti.prototype,"view",null),h([f({type:ote})],Ti.prototype,"viewModel",void 0),Ti=h([O("esri.widgets.Expand")],Ti);const XC=Ti;function OAe(e){return"portalItem"in e}const kAe=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):OAe(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return h([f({type:String})],t.prototype,"apiKey",null),t=h([O("esri.layers.mixins.APIKeyMixin")],t),t};let LAe=class{constructor(t,i=0,r=t.lods[t.lods.length-1].level){this.tileInfo=t,this.minLOD=i,this.maxLOD=r,t.lodAt(i)||(this.minLOD=t.lods[0].level),t.lodAt(r)||(this.maxLOD=t.lods[t.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(t,i,r){var s;const n=(s=this.tileInfo)==null?void 0:s.lodAt(t);return!n||t<this.minLOD||t>this.maxLOD?"unavailable":n.cols&&n.rows?r>=n.cols[0]&&r<=n.cols[1]&&i>=n.rows[0]&&i<=n.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(t,i,r,n){await E3(n);const s=this.getAvailability(t,i,r);if(s==="unavailable")throw new z("tile-map:tile-unavailable","Tile is not available",{level:t,row:i,col:r});return s}async fetchAvailabilityUpsample(t,i,r,n,s){await E3(s),n.level=t,n.row=i,n.col=r;const a=this.tileInfo;return a.updateTileInfo(n),this.fetchAvailability(t,i,r,s).catch(l=>{if(Vi(l))throw l;if(a.upsampleTile(n))return this.fetchAvailabilityUpsample(n.level,n.row,n.col,n,s);throw l})}};var IA;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(IA||(IA={}));function NAe(e){return 32+e.length}const lte=16;function hGe(e){if(!e)return 0;let t=qP;for(const i in e)e.hasOwnProperty(i)&&(t+=HP(e[i],!1));return t}function DAe(e){if(!e)return 0;if(typeof e[0]=="number")return ute(e);if(Array.isArray(e))return jAe(e);let t=qP;for(const i in e)e.hasOwnProperty(i)&&(t+=HP(e[i]));return t}function jAe(e){const t=e.length;if(t===0||typeof e[0]=="number")return cte(e,8);let i=hte;for(let r=0;r<t;r++)i+=HP(e[r]);return i}function HP(e,t=!0){switch(typeof e){case"object":return t?DAe(e):qP;case"string":return NAe(e);case"number":return lte;case"boolean":return 4;default:return 8}}function ute(...e){return e.reduce((t,i)=>t+(i?GV(i)?i.byteLength+FAe:Array.isArray(i)?cte(i,lte):0:0),0)}function cte(e,t){return hte+e.length*t}const qP=32,hte=16,FAe=145;function zAe(e,t=!1){return e<=sR?t?new Array(e).fill(0):new Array(e):new Uint32Array(e)}let OG=class $A{constructor(t){GAe(t);const{location:i,data:r}=t;this.location=Object.freeze(H(i));const n=this.location.width,s=this.location.height;let a=!0,l=!0;const u=Math.ceil(n*s/32),d=zAe(u);let m=0;for(let v=0;v<r.length;v++){const b=v%32;r[v]?(l=!1,d[m]|=1<<b):a=!1,b===31&&++m}l?(this._availability="unavailable",this.byteSize=40):a?(this._availability="available",this.byteSize=40):(this._availability=d,this.byteSize=40+ute(d))}getAvailability(t,i){if(this._availability==="unavailable"||this._availability==="available")return this._availability;const r=(t-this.location.top)*this.location.width+(i-this.location.left),n=r%32,s=r>>5,a=this._availability;return s<0||s>a.length?"unknown":a[s]&1<<n?"available":"unavailable"}static fromDefinition(t,i){const r=t.service.request||Ct,{row:n,col:s,width:a,height:l}=t,u={query:{f:"json"}};return i=i?{...u,...i}:u,r(UAe(t),i).then(d=>d.data).catch(d=>{var m;if(((m=d==null?void 0:d.details)==null?void 0:m.httpStatus)===422)return{location:{top:n,left:s,width:a,height:l},valid:!0,data:new Array(a*l).fill(0)};throw d}).then(d=>{if(d.location&&(d.location.top!==n||d.location.left!==s||d.location.width!==a||d.location.height!==l))throw new z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:d,definition:{top:n,left:s,width:a,height:l}});return $A.fromJSON(d)})}static fromJSON(t){return Object.freeze(new $A(t))}};function kG(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}function UAe(e){var r;let t;if((r=e.service.tileServers)!=null&&r.length){const n=e.service.tileServers;t=`${n&&n.length?n[e.row%n.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}else t=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;const i=e.service.query;return i&&(t=`${t}?${i}`),t}function GAe(e){if(!(e!=null&&e.location))throw new z("tilemap:missing-location","Location missing from tilemap response");if(e.valid===!1)throw new z("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new z("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}var Dp;function LG(e,t,i){return new z("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})}let Ia=Dp=class extends De{constructor(e){super(e),this._pendingTilemapRequests={},this.request=Ct,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new iee(2*IA.MEGABYTES),this.addHandles(Ge(()=>{const{layer:e}=this;return[e==null?void 0:e.parsedUrl,e==null?void 0:e.tileServers,e==null?void 0:e.apiKey,e==null?void 0:e.customParameters]},()=>this._initializeTilemapDefinition(),ir))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(LG(e,t,i)):this._fetchTilemap(e,t,i,r).catch(n=>n).then(n=>{if(n instanceof OG){const s=n.getAvailability(t,i);if(s==="unavailable")throw LG(e,t,i);return s}if(Vi(n))throw n;return"unknown"})}fetchAvailabilityUpsample(e,t,i,r,n){r.level=e,r.row=t,r.col=i;const s=this.layer.tileInfo;s.updateTileInfo(r);const a=this.fetchAvailability(e,t,i,n).catch(l=>{if(Vi(l))throw l;if(s.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,n);throw l});return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,n,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,n,s){if(!this._prefetchingEnabled||e==null)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const l=new AbortController;s.then(()=>l.abort(),()=>l.abort());let u=!1;const d=jt(()=>{u||(u=!0,l.abort())});if(this.addHandles(d,a),await PB(10,l.signal).catch(()=>{}),u||(u=!0,this.removeHandles(a)),Rn(l))return;const m=new JW(e,t,i,r),v={...n,signal:l.signal},b=this.layer.tileInfo;for(let _=0;Dp._prefetches.length<Dp._maxPrefetch&&b.upsampleTile(m);++_){const S=this.fetchAvailability(m.level,m.row,m.col,v);Dp._prefetches.push(S);const M=()=>{Dp._prefetches.removeUnordered(S)};S.then(M,M)}}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new z("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const n=this._tmpTilemapDefinition,s=this._tilemapFromCache(e,t,i,n);if(s)return Promise.resolve(s);const a=r==null?void 0:r.signal;return r={...r,signal:null},new Promise((l,u)=>{ps(a,()=>u(li()));const d=kG(n);let m=this._pendingTilemapRequests[d];if(!m){m=OG.fromDefinition(n,r).then(b=>(this._tilemapCache.put(d,b,b.byteSize),b));const v=()=>{delete this._pendingTilemapRequests[d]};this._pendingTilemapRequests[d]=m,m.then(v,v)}m.then(l,u)})}_initializeTilemapDefinition(){var r;if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:uf({...e.query,...i,token:t??((r=e.query)==null?void 0:r.token)}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const n=kG(r);return this._tilemapCache.get(n)}get test(){}};Ia._maxPrefetch=4,Ia._prefetches=new zh({initialSize:Dp._maxPrefetch}),h([f({constructOnly:!0})],Ia.prototype,"layer",void 0),h([f({constructOnly:!0})],Ia.prototype,"minLOD",void 0),h([f({constructOnly:!0})],Ia.prototype,"maxLOD",void 0),h([f({constructOnly:!0})],Ia.prototype,"request",void 0),h([f({constructOnly:!0})],Ia.prototype,"size",void 0),Ia=Dp=h([O("esri.layers.support.TilemapCache")],Ia);const VAe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){var i,r;(r=(i=this.tilemapCache)==null?void 0:i.destroy)==null||r.call(i)}readMinScale(i,r){return r.minLOD!=null&&r.maxLOD!=null?i:0}readMaxScale(i,r){return r.minLOD!=null&&r.maxLOD!=null?i:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(i,r,n){var m;const s=(m=r.capabilities)==null?void 0:m.includes("Tilemap");let{minLOD:a,maxLOD:l,minScale:u,maxScale:d}=r;if(a==null&&l==null&&(u!==0||d!==0)){const v=b=>Math.round(1e4*b)/1e4;u=v(u||r.tileInfo.lods[0].scale),d=v(d||r.tileInfo.lods[r.tileInfo.lods.length-1].scale);for(const b of r.tileInfo.lods){const _=v(b.scale);a=_>=u?b.level:a,l=_>=d?b.level:l}}if(s)return new Ia({layer:this,minLOD:a,maxLOD:l});if(r.tileInfo){const v=new Oo;return v.read(r.tileInfo,n),new LAe(v,a,l)}return null}};return h([f({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),h([f()],t.prototype,"minScale",void 0),h([He("service","minScale")],t.prototype,"readMinScale",null),h([f()],t.prototype,"maxScale",void 0),h([He("service","maxScale")],t.prototype,"readMaxScale",null),h([f({type:it})],t.prototype,"spatialReference",void 0),h([f({readOnly:!0})],t.prototype,"supportsBlankTile",null),h([f({type:Oo})],t.prototype,"tileInfo",void 0),h([f()],t.prototype,"tilemapCache",void 0),h([He("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),h([f()],t.prototype,"version",void 0),t=h([O("esri.layers.mixins.ArcGISCachedService")],t),t},BAe=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=n5(this.url);if(i!=null&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",zue(i,ce.getLogger(this)))}};return h([f()],t.prototype,"title",null),h([f({type:String})],t.prototype,"url",null),t=h([O("esri.layers.mixins.ArcGISService")],t),t};let N_=null;function HAe(e){if(N_)return N_;const t={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return N_=new Promise(i=>{const r=new Image;r.onload=()=>{r.onload=r.onerror=null,i(r.width>0&&r.height>0)},r.onerror=()=>{r.onload=r.onerror=null,i(!1)},r.src="data:image/webp;base64,"+t[e]}),N_}const NG=1.15;let DG=class{constructor(t,i){this._spriteSource=t,this._maxTextureSize=i,this.devicePixelRatio=1,this._spriteImageFormat="png",this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded",t.type==="url"&&t.spriteFormat&&(this._spriteImageFormat=t.spriteFormat),t.pixelRatio&&(this.devicePixelRatio=t.pixelRatio),this.baseURL=t.spriteUrl}get spriteNames(){const t=[];for(const i in this._spritesData)t.push(i);return t.sort(),t}getSpriteInfo(t){return this._spritesData?this._spritesData[t]:null}async load(t){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(t),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"}async _loadSprites(t){this._isRetina=this.devicePixelRatio>NG;const{width:i,height:r,data:n,json:s}=await this._getSpriteData(this._spriteSource,t),a=Object.keys(s);if(!a||a.length===0||!n)return this._spritesData=this.image=null,void(this.width=this.height=0);this._spritesData=s,this.width=i,this.height=r;const l=Math.max(this._maxTextureSize,4096);if(i>l||r>l){const d=`Sprite resource for style ${this.baseURL} is bigger than the maximum allowed of ${l} pixels}`;throw ce.getLogger("esri.layers.support.SpriteSource").error(d),new z("SpriteSource",d)}let u;for(let d=0;d<n.length;d+=4)u=n[d+3]/255,n[d]=n[d]*u,n[d+1]=n[d+1]*u,n[d+2]=n[d+2]*u;this.image=n}async _getSpriteData(t,i){if(t.type==="image"){let m,v;if(this.devicePixelRatio<NG){if(!t.spriteSource1x)throw new z("SpriteSource","no image data provided for low resolution sprites!");m=t.spriteSource1x.image,v=t.spriteSource1x.json}else{if(!t.spriteSource2x)throw new z("SpriteSource","no image data provided for high resolution sprites!");m=t.spriteSource2x.image,v=t.spriteSource2x.json}return"width"in m&&"height"in m&&"data"in m&&(Oae(m.data)||iR(m.data))?{width:m.width,height:m.height,data:new Uint8Array(m.data),json:v}:{...jG(m),json:v}}const r=Ai(this.baseURL),n=r.query?"?"+uf(r.query):"",s=this._isRetina?"@2x":"",a=`${r.path}${s}.${this._spriteImageFormat}${n}`,l=`${r.path}${s}.json${n}`,[u,d]=await Promise.all([Ct(l,i),Ct(a,{responseType:"image",...i})]);return{...jG(d.data),json:u.data}}};function jG(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height);return{width:e.width,height:e.height,data:new Uint8Array(r.data)}}let qAe=class{constructor(t){this.url=t}destroy(){this._tileIndexPromise=null}async fetchTileIndex(){return this._tileIndexPromise||(this._tileIndexPromise=Ct(this.url).then(t=>t.data.index)),this._tileIndexPromise}async dataKey(t,i){const r=await this.fetchTileIndex();return ii(i),this._getIndexedDataKey(r,t)}_getIndexedDataKey(t,i){const r=[i];if(i.level<0||i.row<0||i.col<0||i.row>>i.level>0||i.col>>i.level>0)return null;let n=i;for(;n.level!==0;)n=new Al(n.level-1,n.row>>1,n.col>>1,n.world),r.push(n);let s,a,l=t,u=r.pop();if(l===1)return u;for(;r.length;)if(s=r.pop(),a=(1&s.col)+((1&s.row)<<1),l){if(l[a]===0){u=null;break}if(l[a]===1){u=s;break}u=s,l=l[a]}return u}},WAe=class{constructor(t,i){this._tilemap=t,this._tileIndexUrl=i}destroy(){this._tilemap=vi(this._tilemap),this._tileIndexPromise=null}async fetchTileIndex(t){return this._tileIndexPromise||(this._tileIndexPromise=Ct(this._tileIndexUrl,{query:{...t==null?void 0:t.query}}).then(i=>i.data.index)),this._tileIndexPromise}dataKey(t,i){const{level:r,row:n,col:s}=t,a=new Al(t);return this._tilemap.fetchAvailabilityUpsample(r,n,s,a,i).then(()=>(a.world=t.world,a)).catch(l=>{if(Vi(l))throw l;return null})}},YAe=class{constructor(t){this._tileUrl=t,this._promise=null,this._abortController=null,this._abortOptions=[]}getData(t){var r;(this._promise==null||Rn((r=this._abortController)==null?void 0:r.signal))&&(this._promise=this._makeRequest(this._tileUrl));const i=this._abortOptions;return i.push(t),ps(t,()=>{i.every(n=>Rn(n))&&this._abortController.abort()}),this._promise.then(n=>H(n))}async _makeRequest(t){this._abortController=new AbortController;const{data:i}=await Ct(t,{responseType:"array-buffer",signal:this._abortController.signal});return i}};const FG=new Map;function ZAe(e,t,i,r,n){const s=Ai(e),a=s.query;if(a)for(const[u,d]of Object.entries(a))switch(d){case"{x}":a[u]=r.toString();break;case"{y}":a[u]=i.toString();break;case"{z}":a[u]=t.toString()}const l=s.path;return KAe(wl(l.replaceAll(/\{z\}/gi,t.toString()).replaceAll(/\{y\}/gi,i.toString()).replaceAll(/\{x\}/gi,r.toString()),{...s.query}),n)}function KAe(e,t){return Pg(FG,e,()=>new YAe(e)).getData(t).finally(()=>FG.delete(e))}let JAe=class{constructor(t,i,r){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.initialExtent=null,this.name=t,this.sourceUrl=i;const n=Ai(this.sourceUrl),s=H(r),a=s.tiles;if(n)for(let b=0;b<a.length;b++){const _=Ai(a[b]);_&&(Vn(_.path)||(_.path=cf(n.path,_.path)),a[b]=wl(_.path,{...n.query,..._.query}))}this.tileServers=a;const l=r.capabilities&&r.capabilities.split(",").map(b=>b.toLowerCase().trim()),u=(r==null?void 0:r.exportTilesAllowed)===!0,d=(l==null?void 0:l.includes("tilemap"))===!0,m=u&&r.hasOwnProperty("maxExportTilesCount")?r.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:u,supportsTileMap:d},exportTiles:u?{maxExportTilesCount:+m}:null},this.tileInfo=Oo.fromJSON(s.tileInfo);const v=r.tileMap?wl(cf(n.path,r.tileMap),n.query??{}):null;d?(this.type="vector-tile",this.tilemap=new WAe(new Ia({layer:{parsedUrl:n,tileInfo:this.tileInfo},minLOD:s.minLOD??this.tileInfo.lods[0].level,maxLOD:s.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}),v)):v&&(this.tilemap=new qAe(v)),this.fullExtent=Lt.fromJSON(r.fullExtent),this.initialExtent=Lt.fromJSON(r.initialExtent)}destroy(){var t;(t=this.tilemap)==null||t.destroy()}async getRefKey(t,i){return this.tilemap?this.tilemap.dataKey(t,i):t}requestTile(t,i,r,n){const s=this.tileServers[i%this.tileServers.length];return ZAe(s,t,i,r,n)}isCompatibleWith(t){const i=this.tileInfo,r=t.tileInfo;if(!i.spatialReference.equals(r.spatialReference)||!i.origin.equals(r.origin)||Math.round(i.dpi)!==Math.round(r.dpi))return!1;const n=i.lods,s=r.lods,a=Math.min(n.length,s.length);for(let l=0;l<a;l++){const u=n[l],d=s[l];if(u.level!==d.level||Math.round(u.scale)!==Math.round(d.scale))return!1}return!0}};async function XAe(e,t){const i={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[r,n]=typeof e=="string"?[e,null]:[null,e.jsonUrl];return await Jp(i,"esri",e,n,t),{layerDefinition:i.validatedSource,url:r,serviceUrl:i.sourceUrl,style:i.style,styleUrl:i.styleUrl,spriteUrl:i.style.sprite&&Ig(i.styleBase,i.style.sprite),spriteFormat:i.spriteFormat,glyphsUrl:i.style.glyphs&&Ig(i.styleBase,i.style.glyphs),sourceNameToSource:i.sourceNameToSource,primarySourceName:i.primarySourceName}}function Ig(...e){let t;for(const i of e)i!=null&&(Ga(i)?t&&(t=t.split("://")[0]+":"+i.trim()):t=Vn(i)?i:cf(t,i));return t?i5(t):void 0}async function Jp(e,t,i,r,n){let s,a,l;if(ii(n),typeof i=="string"){const d=ms(i);l=await Ct(d,{...n,responseType:"json",query:{f:"json",...n==null?void 0:n.query}}),l.ssl&&(s&&(s=s.replace(/^http:/i,"https:")),a&&(a=a.replace(/^http:/i,"https:"))),s=d,a=d}else i!=null&&(l={data:i},s=i.jsonUrl||null,a=r);const u=l==null?void 0:l.data;if(pte(u))return e.styleUrl=s||null,eRe(e,u,a,n);if(QAe(u))return e.sourceUrl?zG(e,u,a,!1,t,n):(e.sourceUrl=s||null,zG(e,u,a,!0,t,n));throw new Error("You must specify the URL or the JSON for a service or for a style.")}function dte(e){return typeof e=="object"&&!!e&&"tilejson"in e&&e.tilejson!=null}function pte(e){return!!e&&"sources"in e&&!!e.sources}function QAe(e){return!pte(e)}async function eRe(e,t,i,r){const n=i?cH(i):sH();e.styleBase=n,e.style=t,t["sprite-format"]&&t["sprite-format"].toLowerCase()==="webp"&&(e.spriteFormat="webp");const s=[];if(t.sources&&t.sources.esri){const a=t.sources.esri;a.url?await Jp(e,"esri",Ig(n,a.url),void 0,r):s.push(Jp(e,"esri",a,n,r))}for(const a of Object.keys(t.sources))a!=="esri"&&t.sources[a].type==="vector"&&(t.sources[a].url?s.push(Jp(e,a,Ig(n,t.sources[a].url),void 0,r)):t.sources[a].tiles&&s.push(Jp(e,a,t.sources[a],n,r)));await Promise.all(s)}async function zG(e,t,i,r,n,s){const a=i?i5(i)+"/":sH(),l=tRe(t),u=new JAe(n,wl(a,(s==null?void 0:s.query)??{}),l);if(!r&&e.primarySourceName in e.sourceNameToSource){const d=e.sourceNameToSource[e.primarySourceName];if(!d.isCompatibleWith(u))return;u.fullExtent!=null&&(d.fullExtent!=null?d.fullExtent.union(u.fullExtent):d.fullExtent=u.fullExtent.clone()),d.tileInfo&&u.tileInfo&&d.tileInfo.lods.length<u.tileInfo.lods.length&&(d.tileInfo=u.tileInfo)}if(r&&(e.sourceBase=a,e.source=t,e.validatedSource=l,e.primarySourceName=n),e.sourceNameToSource[n]=u,!dte(e)&&"defaultStyles"in t&&!e.style){if(t.defaultStyles==null)throw new Error;return typeof t.defaultStyles=="string"?Jp(e,"",Ig(a,t.defaultStyles,"root.json"),void 0,s):Jp(e,"",t.defaultStyles,Ig(a,"root.json"),s)}}function tRe(e){if(iRe(e)){const m=e==null?void 0:e.tileInfo;return m!=null&&(m.rows==null&&(m.rows=512),m.cols==null&&(m.cols=512)),e}const i={xmin:-20037507067161843e-9,ymin:-20037507067161843e-9,xmax:20037507067161843e-9,ymax:20037507067161843e-9,spatialReference:{wkid:102100,latestWkid:3857}};let r=null;if(dte(e)){const{bounds:m}=e;if(m){const v=_l({x:m[0],y:m[1],spatialReference:H(U3)}),b=_l({x:m[2],y:m[3],spatialReference:H(U3)});r={xmin:v.x,ymin:v.y,xmax:b.x,ymax:b.y,spatialReference:H(G3)}}}r===null&&(r=i);let n=78271.51696400007,s=2958287637957775e-7;const a=[],l=e.hasOwnProperty("maxzoom")&&e.maxzoom!=null?+e.maxzoom:22,u=0,d=0;for(let m=0;m<=l;m++)a.push({level:m,scale:s,resolution:n}),n/=2,s/=2;return{capabilities:"TilesOnly",initialExtent:r,fullExtent:i,minScale:u,maxScale:d,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508342787e-6,y:20037508342787e-6},lods:a,spatialReference:H(G3)}}}function iRe(e){return e.hasOwnProperty("tileInfo")}function rRe(e,t){return{...fte(e,t),readResourcePaths:[]}}function gGe(e,t,i){const r=Ai(e.itemUrl);return{...fte(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,resources:i?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function fte(e,t){return{origin:t,url:Ai(e.itemUrl),portal:e.portal||wr.getDefault(),portalItem:e}}const D_=1e-6;function nRe(e,t){if(e===t)return!0;if(e==null&&t!=null||e!=null&&t==null||e==null||t==null||!e.spatialReference.equals(t.spatialReference)||e.dpi!==t.dpi)return!1;const i=e.origin,r=t.origin;if(Math.abs(i.x-r.x)>=D_||Math.abs(i.y-r.y)>=D_)return!1;let n,s;e.lods[0].scale>t.lods[0].scale?(n=e,s=t):(s=e,n=t);for(let a=n.lods[0].scale;a>=s.lods[s.lods.length-1].scale-D_;a/=2)if(Math.abs(a-s.lods[0].scale)<D_)return!0;return!1}function sRe(e,t){if(e===t)return e;if(e==null&&t!=null)return t;if(e!=null&&t==null)return e;if(e==null||t==null)return null;const i=e.size[0],r=e.format,n=e.dpi,s=new Qe({x:e.origin.x,y:e.origin.y}),a=e.spatialReference,l=e.lods[0].scale>t.lods[0].scale?e.lods[0]:t.lods[0],u=e.lods[e.lods.length-1].scale<=t.lods[t.lods.length-1].scale?e.lods[e.lods.length-1]:t.lods[t.lods.length-1],d=l.scale,m=l.resolution,v=u.scale,b=[];let _=d,S=m,M=0;for(;_>=v;)b.push(new Zs({level:M,resolution:S,scale:_})),M++,_/=2,S/=2;return new Oo({size:[i,i],dpi:n,format:r||"pbf",origin:s,lods:b,spatialReference:a})}var Qi,jp,AA,xl,RA,Lx,PA,Fp,OA;(function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"})(Qi||(Qi={})),function(e){e[e.VISIBLE=0]="VISIBLE",e[e.NONE=1]="NONE"}(jp||(jp={})),function(e){e[e.POINT=0]="POINT",e[e.LINE=1]="LINE",e[e.LINE_CENTER=2]="LINE_CENTER"}(AA||(AA={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT",e[e.AUTO=2]="AUTO"}(xl||(xl={})),function(e){e[e.AUTO=0]="AUTO",e[e.LEFT=1]="LEFT",e[e.CENTER=2]="CENTER",e[e.RIGHT=3]="RIGHT"}(RA||(RA={})),function(e){e[e.CENTER=0]="CENTER",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=4]="BOTTOM",e[e.TOP_LEFT=5]="TOP_LEFT",e[e.TOP_RIGHT=6]="TOP_RIGHT",e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(Lx||(Lx={})),function(e){e[e.NONE=0]="NONE",e[e.UPPERCASE=1]="UPPERCASE",e[e.LOWERCASE=2]="LOWERCASE"}(PA||(PA={})),function(e){e[e.MAP=0]="MAP",e[e.VIEWPORT=1]="VIEWPORT"}(Fp||(Fp={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(OA||(OA={}));let lr=class{};lr.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:jp.VISIBLE}},lr.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:jp.VISIBLE}},lr.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:jp.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:uA.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:cA.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},lr.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:jp.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:AA.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:Lx.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:xl.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:Lx.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:RA.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:xl.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:PA.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[OA.HORIZONTAL]}},lr.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:jp.VISIBLE}},lr.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},lr.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:Fp.MAP}},lr.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:Fp.MAP},"line-width":{type:"number",minimum:0,default:1}},lr.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:Fp.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:Fp.MAP}},lr.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},lr.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:Fp.MAP}};var UG,Ju,GG;(function(e){e[e.FILL=1]="FILL",e[e.LINE=2]="LINE",e[e.SYMBOL=3]="SYMBOL",e[e.CIRCLE=4]="CIRCLE"})(UG||(UG={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FILL=1]="FILL",e[e.OUTLINE=2]="OUTLINE",e[e.LINE=3]="LINE",e[e.ICON=4]="ICON",e[e.CIRCLE=5]="CIRCLE",e[e.TEXT=6]="TEXT",e[e.TILEINFO=7]="TILEINFO"}(Ju||(Ju={})),function(e){e[e.PAINTER_CHANGED=0]="PAINTER_CHANGED",e[e.LAYOUT_CHANGED=1]="LAYOUT_CHANGED",e[e.LAYER_CHANGED=2]="LAYER_CHANGED",e[e.LAYER_REMOVED=3]="LAYER_REMOVED",e[e.SPRITES_CHANGED=4]="SPRITES_CHANGED"}(GG||(GG={}));const aRe=512;var Pa,Br;(function(e){e[e.Unknown=0]="Unknown",e[e.Point=1]="Point",e[e.LineString=2]="LineString",e[e.Polygon=3]="Polygon"})(Pa||(Pa={}));let on=class a3{constructor(t,i){this.x=t,this.y=i}clone(){return new a3(this.x,this.y)}equals(t,i){return t===this.x&&i===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,i){return this.x=t,this.y=i,this}normalize(){const t=this.x,i=this.y,r=Math.sqrt(t*t+i*i);return this.x/=r,this.y/=r,this}rightPerpendicular(){const t=this.x;return this.x=this.y,this.y=-t,this}leftPerpendicular(){const t=this.x;return this.x=-this.y,this.y=t,this}move(t,i){return this.x+=t,this.y+=i,this}assign(t){return this.x=t.x,this.y=t.y,this}assignAdd(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}assignSub(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}rotate(t,i){const r=this.x,n=this.y;return this.x=r*t-n*i,this.y=r*i+n*t,this}scale(t){return this.x*=t,this.y*=t,this}length(){const t=this.x,i=this.y;return Math.sqrt(t*t+i*i)}sub(t){return this.x-=t.x,this.y-=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}static distance(t,i){const r=i.x-t.x,n=i.y-t.y;return Math.sqrt(r*r+n*n)}static add(t,i){return new a3(t.x+i.x,t.y+i.y)}static sub(t,i){return new a3(t.x-i.x,t.y-i.y)}},j_=class{constructor(t,i,r){this.ratio=t,this.x=i,this.y=r}},wGe=class{constructor(t,i,r,n=8,s=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=s,this._tileSize=aRe*n,this._dz=t,this._yPos=i,this._xPos=r}setPixelMargin(t){t!==this._pixelMargin&&(this._pixelMargin=t,this.setExtent(this._extent))}setExtent(t){this._extent=t,this._finalRatio=this._tileSize/t*(1<<this._dz);let i=this._pixelRatio*this._pixelMargin;i/=this._finalRatio;const r=t>>this._dz;i>r&&(i=r),this._margin=i,this._xmin=r*this._xPos-i,this._ymin=r*this._yPos-i,this._xmax=this._xmin+r+2*i,this._ymax=this._ymin+r+2*i}reset(t){this._type=t,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(t,i){this._pushLine(),this._prevIsIn=this._isIn(t,i),this._moveTo(t,i,this._prevIsIn),this._prevPt=new on(t,i),this._firstPt=new on(t,i),this._dist=0}lineTo(t,i){const r=this._isIn(t,i),n=new on(t,i),s=on.distance(this._prevPt,n);let a,l,u,d,m,v,b,_;if(r)this._prevIsIn?this._lineTo(t,i,!0):(a=this._prevPt,l=n,u=this._intersect(l,a),this._start=this._dist+s*(1-this._r),this._lineTo(u.x,u.y,!0),this._lineTo(l.x,l.y,!0));else if(this._prevIsIn)l=this._prevPt,a=n,u=this._intersect(l,a),this._lineTo(u.x,u.y,!0),this._lineTo(a.x,a.y,!1);else{const S=this._prevPt,M=n;if(S.x<=this._xmin&&M.x<=this._xmin||S.x>=this._xmax&&M.x>=this._xmax||S.y<=this._ymin&&M.y<=this._ymin||S.y>=this._ymax&&M.y>=this._ymax)this._lineTo(M.x,M.y,!1);else{const T=[];if((S.x<this._xmin&&M.x>this._xmin||S.x>this._xmin&&M.x<this._xmin)&&(d=(this._xmin-S.x)/(M.x-S.x),_=S.y+d*(M.y-S.y),_<=this._ymin?v=!1:_>=this._ymax?v=!0:T.push(new j_(d,this._xmin,_))),(S.x<this._xmax&&M.x>this._xmax||S.x>this._xmax&&M.x<this._xmax)&&(d=(this._xmax-S.x)/(M.x-S.x),_=S.y+d*(M.y-S.y),_<=this._ymin?v=!1:_>=this._ymax?v=!0:T.push(new j_(d,this._xmax,_))),(S.y<this._ymin&&M.y>this._ymin||S.y>this._ymin&&M.y<this._ymin)&&(d=(this._ymin-S.y)/(M.y-S.y),b=S.x+d*(M.x-S.x),b<=this._xmin?m=!1:b>=this._xmax?m=!0:T.push(new j_(d,b,this._ymin))),(S.y<this._ymax&&M.y>this._ymax||S.y>this._ymax&&M.y<this._ymax)&&(d=(this._ymax-S.y)/(M.y-S.y),b=S.x+d*(M.x-S.x),b<=this._xmin?m=!1:b>=this._xmax?m=!0:T.push(new j_(d,b,this._ymax))),T.length===0)m?v?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):v?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(T.length>1&&T[0].ratio>T[1].ratio)this._start=this._dist+s*T[1].ratio,this._lineTo(T[1].x,T[1].y,!0),this._lineTo(T[0].x,T[0].y,!0);else{this._start=this._dist+s*T[0].ratio;for(let E=0;E<T.length;E++)this._lineTo(T[E].x,T[E].y,!0)}this._lineTo(M.x,M.y,!1)}}this._dist+=s,this._prevIsIn=r,this._prevPt=n}close(){if(this._line.length>2){const t=this._firstPt,i=this._prevPt;t.x===i.x&&t.y===i.y||this.lineTo(t.x,t.y);const r=this._line;let n=r.length;for(;n>=4&&(r[0].x===r[1].x&&r[0].x===r[n-2].x||r[0].y===r[1].y&&r[0].y===r[n-2].y);)r.pop(),r[0].x=r[n-2].x,r[0].y=r[n-2].y,--n}}result(t=!0){return this._pushLine(),this._lines.length===0?null:(this._type===Pa.Polygon&&t&&oRe.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==Pa.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,i=t.length;if(i===0)return null;const r=[];for(let n=0;n<i;n++)r.push({line:t[n],start:this._starts[n]||0});return r}_isIn(t,i){return t>=this._xmin&&t<=this._xmax&&i>=this._ymin&&i<=this._ymax}_intersect(t,i){let r,n,s;if(i.x>=this._xmin&&i.x<=this._xmax)n=i.y<=this._ymin?this._ymin:this._ymax,s=(n-t.y)/(i.y-t.y),r=t.x+s*(i.x-t.x);else if(i.y>=this._ymin&&i.y<=this._ymax)r=i.x<=this._xmin?this._xmin:this._xmax,s=(r-t.x)/(i.x-t.x),n=t.y+s*(i.y-t.y);else{n=i.y<=this._ymin?this._ymin:this._ymax,r=i.x<=this._xmin?this._xmin:this._xmax;const a=(r-t.x)/(i.x-t.x),l=(n-t.y)/(i.y-t.y);a<l?(s=a,n=t.y+a*(i.y-t.y)):(s=l,r=t.x+l*(i.x-t.x))}return this._r=s,new on(r,n)}_pushLine(){this._line&&(this._type===Pa.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Pa.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===Pa.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,i,r){this._type!==Pa.Polygon?r&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new on(t,i))):(r||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.push(new on(t,i)),this._isH=!1,this._isV=!1)}_lineTo(t,i,r){let n,s;if(this._type!==Pa.Polygon)if(r){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(n=this._line[this._line.length-1],n.equals(t,i)))return;this._line.push(new on(t,i))}else this._line&&this._line.length>0&&this._pushLine();else if(r||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),i<this._ymin&&(i=this._ymin),i>this._ymax&&(i=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),i=Math.round((i-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){n=this._line[this._line.length-1];const a=n.x===t,l=n.y===i;if(a&&l)return;this._isH&&a||this._isV&&l?(n.x=t,n.y=i,s=this._line[this._line.length-2],s.x===t&&s.y===i?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(s=this._line[this._line.length-2],this._isH=s.x===t,this._isV=s.y===i)):(this._isH=s.x===t,this._isV=s.y===i)):(this._line.push(new on(t,i)),this._isH=a,this._isV=l)}else this._line.push(new on(t,i))}},SGe=class{setExtent(t){this._ratio=t===4096?1:4096/t}get validateTessellation(){return this._ratio<1}reset(t){this._lines=[],this._line=null}moveTo(t,i){this._line&&this._lines.push(this._line),this._line=[];const r=this._ratio;this._line.push(new on(t*r,i*r))}lineTo(t,i){const r=this._ratio;this._line.push(new on(t*r,i*r))}close(){const t=this._line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this._line&&this._lines.push(this._line),this._lines.length===0?null:this._lines}};(function(e){e[e.sideLeft=0]="sideLeft",e[e.sideRight=1]="sideRight",e[e.sideTop=2]="sideTop",e[e.sideBottom=3]="sideBottom"})(Br||(Br={}));let oRe=class bh{static simplify(t,i,r){if(!r)return;const n=-i,s=t+i,a=-i,l=t+i,u=[],d=[],m=r.length;for(let b=0;b<m;++b){const _=r[b];if(!_||_.length<2)continue;let S,M=_[0];const T=_.length;for(let E=1;E<T;++E)S=_[E],M.x===S.x&&(M.x<=n&&(M.y>S.y?(u.push(b),u.push(E),u.push(Br.sideLeft),u.push(-1)):(d.push(b),d.push(E),d.push(Br.sideLeft),d.push(-1))),M.x>=s&&(M.y<S.y?(u.push(b),u.push(E),u.push(Br.sideRight),u.push(-1)):(d.push(b),d.push(E),d.push(Br.sideRight),d.push(-1)))),M.y===S.y&&(M.y<=a&&(M.x<S.x?(u.push(b),u.push(E),u.push(Br.sideTop),u.push(-1)):(d.push(b),d.push(E),d.push(Br.sideTop),d.push(-1))),M.y>=l&&(M.x>S.x?(u.push(b),u.push(E),u.push(Br.sideBottom),u.push(-1)):(d.push(b),d.push(E),d.push(Br.sideBottom),d.push(-1)))),M=S}if(u.length===0||d.length===0)return;bh.fillParent(r,d,u),bh.fillParent(r,u,d);const v=[];bh.calcDeltas(v,d,u),bh.calcDeltas(v,u,d),bh.addDeltas(v,r)}static fillParent(t,i,r){const n=r.length,s=i.length;for(let a=0;a<s;a+=4){const l=i[a],u=i[a+1],d=i[a+2],m=t[l][u-1],v=t[l][u];let b=8092,_=-1;for(let S=0;S<n;S+=4){if(r[S+2]!==d)continue;const M=r[S],T=r[S+1],E=t[M][T-1],A=t[M][T];switch(d){case Br.sideLeft:case Br.sideRight:if(F_(m.y,E.y,A.y)&&F_(v.y,E.y,A.y)){const P=Math.abs(A.y-E.y);P<b&&(b=P,_=S)}break;case Br.sideTop:case Br.sideBottom:if(F_(m.x,E.x,A.x)&&F_(v.x,E.x,A.x)){const P=Math.abs(A.x-E.x);P<b&&(b=P,_=S)}}}i[a+3]=_}}static calcDeltas(t,i,r){const n=i.length;for(let s=0;s<n;s+=4){const a=[],l=bh.calcDelta(s,i,r,a);t.push(i[s]),t.push(i[s+1]),t.push(i[s+2]),t.push(l)}}static calcDelta(t,i,r,n){const s=i[t+3];if(s===-1)return 0;const a=n.length;return a>1&&n[a-2]===s?0:(n.push(s),bh.calcDelta(s,r,i,n)+1)}static addDeltas(t,i){const r=t.length;let n=0;for(let s=0;s<r;s+=4){const a=t[s+3];a>n&&(n=a)}for(let s=0;s<r;s+=4){const a=i[t[s]],l=t[s+1],u=n-t[s+3];switch(t[s+2]){case Br.sideLeft:a[l-1].x-=u,a[l].x-=u,l===1&&(a[a.length-1].x-=u),l===a.length-1&&(a[0].x-=u);break;case Br.sideRight:a[l-1].x+=u,a[l].x+=u,l===1&&(a[a.length-1].x+=u),l===a.length-1&&(a[0].x+=u);break;case Br.sideTop:a[l-1].y-=u,a[l].y-=u,l===1&&(a[a.length-1].y-=u),l===a.length-1&&(a[0].y-=u);break;case Br.sideBottom:a[l-1].y+=u,a[l].y+=u,l===1&&(a[a.length-1].y+=u),l===a.length-1&&(a[0].y+=u)}}}};const F_=(e,t,i)=>e>=t&&e<=i||e>=i&&e<=t,MGe=Number.POSITIVE_INFINITY,WP=Math.PI,TGe=2*WP,lRe=128/WP,uRe=256/360,EGe=WP/180,cRe=1/Math.LN2;function mte(e,t){return(e%=t)>=0?e:e+t}function CGe(e){return mte(e*lRe,256)}function IGe(e){return mte(e*uRe,256)}function $Ge(e){return Math.log(e)*cRe}function Fn(e,t,i){return e*(1-i)+t*i}const hRe=8,dRe=14,pRe=16;function AGe(e){return hRe+Math.max((e-dRe)*pRe,0)}function fRe(e,t,i){let r,n,s,a=0;for(const l of i){r=l.length;for(let u=1;u<r;++u)n=l[u-1],s=l[u],n.y>t!=s.y>t&&((s.x-n.x)*(t-n.y)-(s.y-n.y)*(e-n.x)>0?a++:a--)}return a!==0}function yte(e,t,i,r){let n,s,a,l;const u=r*r;for(const d of i){const m=d.length;if(!(m<2)){n=d[0].x,s=d[0].y;for(let v=1;v<m;++v){if(a=d[v].x,l=d[v].y,nhe(e,t,n,s,a,l)<u)return!0;n=a,s=l}}}return!1}function RGe(e,t,i,r,n,s,a){const l=Math.max(r,Math.min(t,s))-t,u=Math.max(n,Math.min(i,a))-i;return l*l+u*u<=e*e}function mRe(e,t){if(t===0||Number.isNaN(t))return e;const i=[],r=new on(0,0),n=new on(0,0),s=new on(0,0);for(let a=0;a<e.length;a++){const l=e[a],u=[];for(let d=0;d<l.length;d++){const m=l[d-1],v=l[d],b=l[d+1];d===0?r.setCoords(0,0):r.assignSub(v,m).normalize().rightPerpendicular(),d===l.length-1?n.setCoords(0,0):n.assignSub(b,v).normalize().rightPerpendicular(),s.assignAdd(r,n).normalize();const _=s.x*n.x+s.y*n.y;_!==0&&s.scale(1/_),u.push(on.add(v,s.scale(t)))}i.push(u)}return i}function YP(e,t,i,r){const n=new on(e[0],e[1]);if(n.scale(r),t==="viewport"){const s=-i*(Math.PI/180),a=Math.cos(s),l=Math.sin(s);n.rotate(a,l)}return n}let yRe=class{constructor(t){this._array=[],this._stride=t}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(t,i){return 65535&t|i<<16}static i8888to32(t,i,r,n){return 255&t|(255&i)<<8|(255&r)<<16|n<<24}static i8816to32(t,i,r){return 255&t|(255&i)<<8|r<<16}};var Ve,zp;(function(e){e[e.R8_SIGNED=0]="R8_SIGNED",e[e.R8_UNSIGNED=1]="R8_UNSIGNED",e[e.R16_SIGNED=2]="R16_SIGNED",e[e.R16_UNSIGNED=3]="R16_UNSIGNED",e[e.R8G8_SIGNED=4]="R8G8_SIGNED",e[e.R8G8_UNSIGNED=5]="R8G8_UNSIGNED",e[e.R16G16_SIGNED=6]="R16G16_SIGNED",e[e.R16G16_UNSIGNED=7]="R16G16_UNSIGNED",e[e.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED",e[e.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED",e[e.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR",e[e.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY",e[e.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(Ve||(Ve={})),function(e){e[e.UNIFORM=0]="UNIFORM",e[e.DATA_DRIVEN=1]="DATA_DRIVEN",e[e.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN",e[e.UNUSED=3]="UNUSED"}(zp||(zp={}));let un=class{constructor(t,i,r,n,s,a=!1,l=0){this.name=t,this.count=i,this.type=r,this.offset=n,this.stride=s,this.normalized=a,this.divisor=l}},dd=class kA{constructor(t){this._locations=new Map,this._key=t}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._layout||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return this._locations.size===0&&this._buildAttributesInfo(),this._locations}getLayoutInfo(){return this._layout||this._buildAttributesInfo(),this._layout}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(t,i,r,n,s){const a=this.getUniforms();for(const l of a){const{name:u,type:d,getValue:m}=l,v=m(r,i,n,s);if(v!==null)switch(d){case"float":t.setUniform1f(u,v);break;case"vec2":t.setUniform2fv(u,v);break;case"vec4":t.setUniform4fv(u,v)}}}encodeAttributes(t,i,r,n){var m;const s=this.attributesInfo(),a=this.getEncodingInfos(),l=[];let u=0,d=0;for(const v of Object.keys(a)){const b=a[v],{type:_,precisionFactor:S,isLayout:M}=s[v],T=M?r.getLayoutProperty(v):r.getPaintProperty(v),E=(m=T.interpolator)==null?void 0:m.getInterpolationRange(i);let A=0;for(const P of b){const{offset:N,bufferElementsToAdd:D}=P;if(D>0){for(let q=0;q<D;q++)l.push(0);u+=d,d=P.bufferElementsToAdd}const k=n??T.getValue(E?E[A]:i,t);switch(_){case Ve.R8_SIGNED:case Ve.R8_UNSIGNED:l[u]|=this._encodeByte(k*(S||1),8*N);break;case Ve.R16_SIGNED:case Ve.R16_UNSIGNED:l[u]|=this._encodeShort(k*(S||1),8*N);break;case Ve.R8G8_SIGNED:case Ve.R8G8_UNSIGNED:l[u]|=this._encodeByte(k*(S||1),8*N),l[u]|=this._encodeByte(k*(S||1),8*N+8);break;case Ve.R16G16_SIGNED:case Ve.R16G16_UNSIGNED:l[u]|=this._encodeShort(k*(S||1),8*N),l[u]|=this._encodeShort(k*(S||1),8*N+16);break;case Ve.R8G8B8A8_SIGNED:case Ve.R8G8B8A8_UNSIGNED:l[u]|=this._encodeByte(k*(S||1),8*N),l[u]|=this._encodeByte(k*(S||1),8*N+8),l[u]|=this._encodeByte(k*(S||1),8*N+16),l[u]|=this._encodeByte(k*(S||1),8*N+24);break;case Ve.R8G8B8A8_COLOR:l[u]=this._encodeColor(k);break;case Ve.R16G16B16A16_DASHARRAY:case Ve.R16G16B16A16_PATTERN:this._encodePattern(u,l,k);break;default:throw new Error("Unsupported encoding type")}A++}}return l}getAtributeState(t){let i=0;const r=3+2*t;return i|=this._bit(r),i|=this._bit(r+1)<<1,i}_buildAttributesInfo(){const t=[],i={},r={};let n=-1;const s=this.attributesInfo(),a=this.attributes();let l=-1;for(const v of a){l++;const b=this.getAtributeState(l);if(b===zp.UNIFORM||b===zp.UNUSED)continue;const _=s[v],S=[];i[v]=S;const M=_.type;for(let T=0;T<b;T++){const{dataType:E,bytesPerElement:A,count:P,normalized:N}=kA._encodingInfo[M],D=A*P,k=`${E}-${N===!0}`;let q=r[k],X=0;if(!q||q.count+P>4)n++,q={dataIndex:n,count:0,offset:0},P!==4&&(r[k]=q),t.push({location:-1,name:"a_data_"+n,count:P,type:E,normalized:N}),X=Math.ceil(Math.max(D/4,1));else{const re=t[q.dataIndex];re.count+=P,X=Math.ceil(Math.max(re.count*A/4,1))-Math.ceil(Math.max(q.offset/4,1))}S.push({dataIndex:q.dataIndex,offset:q.offset,bufferElementsToAdd:X}),q.offset+=D,q.count+=P}}for(const v of t)switch(v.type){case ct.BYTE:case ct.UNSIGNED_BYTE:v.count=4;break;case ct.SHORT:case ct.UNSIGNED_SHORT:v.count+=v.count%2}this._buildVertexBufferLayout(t);let u=0;const d=this._layout.get("geometry");for(const v of d)this._locations.set(v.name,u++);const m=this._layout.get("opacity");if(m)for(const v of m)this._locations.set(v.name,u++);this._buildShaderInfo(t,i),this._propertyEncodingInfo=i}_buildVertexBufferLayout(t){const i=new Map,r=this.geometryInfo();let n=r[0].stride;if(t.length===0)i.set("geometry",r);else{const a=[];let l=n;for(const u of t)n+=VG(u.type)*u.count;for(const u of r)a.push(new un(u.name,u.count,u.type,u.offset,n,u.normalized));for(const u of t)a.push(new un(u.name,u.count,u.type,l,n,u.normalized)),l+=VG(u.type)*u.count;i.set("geometry",a)}const s=this.opacityInfo();s&&i.set("opacity",s),this._layout=i,this._stride=n}_buildShaderInfo(t,i){let r=`
`,n=`
`;const s=[];for(const d of t)r+=`attribute ${this._getType(d.count)} ${d.name};
`;const a=this.attributes(),l=this.attributesInfo();let u=-1;for(const d of a){u++;const{name:m,type:v,precisionFactor:b,isLayout:_}=l[d],S=b&&b!==1?" * "+1/b:"",{bytesPerElement:M,count:T}=kA._encodingInfo[v],E=A=>`a_data_${A.dataIndex}${gRe(T,A.offset,M)}`;switch(this.getAtributeState(u)){case zp.UNIFORM:{const A=this._getType(T),P=`u_${m}`;s.push({name:P,type:A,getValue:(N,D,k,q)=>{const X=_?N.getLayoutValue(d,D):N.getPaintValue(d,D);if(v===Ve.R16G16B16A16_DASHARRAY){const re=N.getDashKey(X,N.getLayoutValue("line-cap",D)),W=q.getMosaicItemPosition(re,!1);if(W==null)return null;const{tl:be,br:ae}=W;return[be[0],ae[1],ae[0],be[1]]}if(v===Ve.R16G16B16A16_PATTERN){const re=q.getMosaicItemPosition(X,!d.includes("line-"));if(re==null)return null;const{tl:W,br:be}=re;return[W[0],be[1],be[0],W[1]]}if(v===Ve.R8G8B8A8_COLOR){const re=X[3];return[re*X[0],re*X[1],re*X[2],re]}return X}}),r+=`uniform ${A} ${P};
`,n+=`${A} ${m} = ${P};
`}break;case zp.DATA_DRIVEN:{const A=E(i[d][0]);n+=`${this._getType(T)} ${m} = ${A}${S};
`}break;case zp.INTERPOLATED_DATA_DRIVEN:{const A=`u_t_${m}`;s.push({name:A,type:"float",getValue:(D,k,q,X)=>(_?D.getLayoutProperty(d):D.getPaintProperty(d)).interpolator.interpolationUniformValue(q,k)}),r+=`uniform float ${A};
`;const P=E(i[d][0]),N=E(i[d][1]);n+=`${this._getType(T)} ${m} = mix(${P}${S}, ${N}${S}, ${A});
`}}}this._shaderHeader=r,this._shaderMain=n,this._uniforms=s}_bit(t){return(this._key&1<<t)>>t}_getType(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(t){const i=255*t[3];return yRe.i8888to32(t[0]*i,t[1]*i,t[2]*i,i)}_encodePattern(t,i,r){if(!(r!=null&&r.rect))return;const n=2,s=r.rect,a=r.width,l=r.height;i[t]=this._encodeShort(s.x+n,0),i[t]|=this._encodeShort(s.y+n+l,16),i[t+1]=this._encodeShort(s.x+n+a,0),i[t+1]|=this._encodeShort(s.y+n,16)}_encodeByte(t,i){return(255&t)<<i}_encodeShort(t,i){return(65535&t)<<i}};dd._encodingInfo={[Ve.R8_SIGNED]:{dataType:ct.BYTE,bytesPerElement:1,count:1,normalized:!1},[Ve.R8_UNSIGNED]:{dataType:ct.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[Ve.R16_SIGNED]:{dataType:ct.SHORT,bytesPerElement:2,count:1,normalized:!1},[Ve.R16_UNSIGNED]:{dataType:ct.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[Ve.R8G8_SIGNED]:{dataType:ct.BYTE,bytesPerElement:1,count:2,normalized:!1},[Ve.R8G8_UNSIGNED]:{dataType:ct.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[Ve.R16G16_SIGNED]:{dataType:ct.SHORT,bytesPerElement:2,count:2,normalized:!1},[Ve.R16G16_UNSIGNED]:{dataType:ct.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[Ve.R8G8B8A8_SIGNED]:{dataType:ct.BYTE,bytesPerElement:1,count:4,normalized:!1},[Ve.R8G8B8A8_UNSIGNED]:{dataType:ct.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[Ve.R8G8B8A8_COLOR]:{dataType:ct.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[Ve.R16G16B16A16_DASHARRAY]:{dataType:ct.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[Ve.R16G16B16A16_PATTERN]:{dataType:ct.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const VG=e=>{switch(e){case ct.FLOAT:case ct.INT:case ct.UNSIGNED_INT:return 4;case ct.SHORT:case ct.UNSIGNED_SHORT:case ct.HALF_FLOAT:return 2;case ct.BYTE:case ct.UNSIGNED_BYTE:return 1}},gRe=(e,t,i)=>{const r=t/i;if(e===1)switch(r){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(e===2)switch(r){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(e===3)switch(r){case 0:return".xyz";case 1:return".yzw"}return""};let ig=class o3 extends dd{constructor(t){super(t)}geometryInfo(){return o3.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return o3.ATTRIBUTES}attributesInfo(){return o3.ATTRIBUTES_INFO}};ig.ATTRIBUTES=[],ig.GEOMETRY_LAYOUT=[new un("a_pos",2,ct.BYTE,0,2)],ig.ATTRIBUTES_INFO={};let rg=class l3 extends dd{constructor(t){super(t)}geometryInfo(){return l3.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return l3.ATTRIBUTES}attributesInfo(){return l3.ATTRIBUTES_INFO}};rg.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"],rg.GEOMETRY_LAYOUT=[new un("a_pos",2,ct.SHORT,0,4)],rg.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:Ve.R8_UNSIGNED},"circle-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:Ve.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:Ve.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:Ve.R8_UNSIGNED,precisionFactor:32}};let ng=class u3 extends dd{constructor(t){super(t)}geometryInfo(){return u3.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return u3.ATTRIBUTES}attributesInfo(){return u3.ATTRIBUTES_INFO}};ng.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"],ng.GEOMETRY_LAYOUT=[new un("a_pos",2,ct.SHORT,0,4)],ng.ATTRIBUTES_INFO={"fill-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:Ve.R16G16B16A16_PATTERN,isOptional:!0}};let ml=class My extends dd{constructor(t,i){super(t),this._usefillColor=i}geometryInfo(){return My.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this._usefillColor?My.ATTRIBUTES_FILL:My.ATTRIBUTES_OUTLINE}attributesInfo(){return this._usefillColor?My.ATTRIBUTES_INFO_FILL:My.ATTRIBUTES_INFO_OUTLINE}};ml.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"],ml.ATTRIBUTES_FILL=["fill-color","fill-opacity"],ml.GEOMETRY_LAYOUT=[new un("a_pos",2,ct.SHORT,0,8),new un("a_offset",2,ct.BYTE,4,8),new un("a_xnormal",2,ct.BYTE,6,8)],ml.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100}},ml.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100}};let sg=class c3 extends dd{constructor(t){super(t)}geometryInfo(){return c3.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return c3.ATTRIBUTES}attributesInfo(){return c3.ATTRIBUTES_INFO}};sg.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"],sg.GEOMETRY_LAYOUT=[new un("a_pos",2,ct.SHORT,0,16),new un("a_extrude_offset",4,ct.BYTE,4,16),new un("a_dir_normal",4,ct.BYTE,8,16),new un("a_accumulatedDistance",2,ct.UNSIGNED_SHORT,12,16)],sg.ATTRIBUTES_INFO={"line-width":{name:"width",type:Ve.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:Ve.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:Ve.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:Ve.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:Ve.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:Ve.R16G16B16A16_DASHARRAY,isOptional:!0}};const gte=[new un("a_pos",2,ct.SHORT,0,16),new un("a_vertexOffset",2,ct.SHORT,4,16),new un("a_texAngleRange",4,ct.UNSIGNED_BYTE,8,16),new un("a_levelInfo",4,ct.UNSIGNED_BYTE,12,16)],vte=[new un("a_opacityInfo",1,ct.UNSIGNED_BYTE,0,1)];let ab=class LA extends dd{constructor(t){super(t)}geometryInfo(){return gte}opacityInfo(){return vte}attributes(){return LA.ATTRIBUTES}attributesInfo(){return LA.ATTRIBUTES_INFO}};ab.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"],ab.ATTRIBUTES_INFO={"icon-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:Ve.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:Ve.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:Ve.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:Ve.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};let ob=class NA extends dd{constructor(t){super(t)}geometryInfo(){return gte}opacityInfo(){return vte}attributes(){return NA.ATTRIBUTES}attributesInfo(){return NA.ATTRIBUTES_INFO}};ob.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"],ob.ATTRIBUTES_INFO={"text-color":{name:"color",type:Ve.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:Ve.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:Ve.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:Ve.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:Ve.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:Ve.R8_UNSIGNED,isLayout:!0}};function vRe(e){return"r"in e&&"g"in e&&"b"in e}function bte(e){return"h"in e&&"s"in e&&"v"in e}function wte(e){return"l"in e&&"a"in e&&"b"in e}function _te(e){return"l"in e&&"c"in e&&"h"in e}function bRe(e){return"x"in e&&"y"in e&&"z"in e}const wRe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],_Re=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function Ste(e,t){const i=[];let r,n;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,a=e[0].length;let l=0;for(r=0;r<s;r++){for(l=0,n=0;n<a;n++)l+=e[r][n]*t[n];i.push(l)}return i}function xte(e){const t=[e.r/255,e.g/255,e.b/255].map(r=>r<=.04045?r/12.92:((r+.055)/1.055)**2.4),i=Ste(wRe,t);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function ZP(e){const t=Ste(_Re,[e.x/100,e.y/100,e.z/100]).map(i=>{const r=i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055;return Math.min(1,Math.max(r,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function Mte(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function Tte(e){const t=e.l,i=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(r=>r>6/29?r**3:3*(6/29)**2*(r-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function SRe(e){const t=e.l,i=e.a,r=e.b,n=Math.sqrt(i*i+r*r);let s=Math.atan2(r,i);return s=s>0?s:s+2*Math.PI,{l:t,c:n,h:s}}function xRe(e){const t=e.l,i=e.c,r=e.h;return{l:t,a:i*Math.cos(r),b:i*Math.sin(r)}}function MRe(e){return Mte(xte(e))}function TRe(e){return ZP(Tte(e))}function ERe(e){return SRe(Mte(xte(e)))}function CRe(e){return ZP(Tte(xRe(e)))}function IRe(e){const t=e.r,i=e.g,r=e.b,n=Math.max(t,i,r),s=n-Math.min(t,i,r);let a=n,l=s===0?0:n===t?(i-r)/s%6:n===i?(r-t)/s+2:(t-i)/s+4,u=s===0?0:s/a;return l<0&&(l+=6),l*=60,u*=100,a*=100/255,{h:l,s:u,v:a}}function $Re(e){const t=(e.h+360)%360/60,i=e.s/100,r=e.v/100*255,n=r*i,s=n*(1-Math.abs(t%2-1));let a;switch(Math.floor(t)){case 0:a={r:n,g:s,b:0};break;case 1:a={r:s,g:n,b:0};break;case 2:a={r:0,g:n,b:s};break;case 3:a={r:0,g:s,b:n};break;case 4:a={r:s,g:0,b:n};break;case 5:case 6:a={r:n,g:0,b:s};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+r-n),a.g=Math.round(a.g+r-n),a.b=Math.round(a.b+r-n),a}function _f(e){return vRe(e)?e:_te(e)?CRe(e):wte(e)?TRe(e):bRe(e)?ZP(e):bte(e)?$Re(e):e}function ARe(e){return bte(e)?e:IRe(_f(e))}function DA(e){return wte(e)?e:MRe(_f(e))}function BG(e){return _te(e)?e:ERe(_f(e))}function RRe(e){let{r:t,g:i,b:r,a:n}=e;return n<1&&(t=Math.round(n*t+255*(1-n)),i=Math.round(n*i+255*(1-n)),r=Math.round(n*r+255*(1-n))),new me({r:t,g:i,b:r})}function PRe(e,t){const{r:i,g:r,b:n}=t!=null&&t.ignoreAlpha?e:RRe(e);return .2126*i+.7152*r+.0722*n}var jA;function kGe(e,t=jA.High){return PRe(e,{ignoreAlpha:!0})>t?new me([0,0,0,e.a]):new me([255,255,255,e.a])}function LGe(e,t){const i=DA(e);i.l*=1-t;const r=_f(i),n=e.clone();return n.setColor(r),n.a=e.a,n}function NGe(e,t){const i=e.clone();return i.a*=t,i}function DGe(e,t){const i=ARe(e);i.s*=t;const r=_f(i),n=e.clone();return n.setColor(r),n.a=e.a,n}function jGe(e){return me.toUnitRGBA(e)}function FGe(e){return Nf(e[0],e[1],e[2],e.length>3?e[3]:1)}function zGe(e,t){const i=me.toUnitRGBA(e);return i[3]*=t,i}function UGe(e,t,i={}){if(e.length===0||t<=0)return[];if((e=e.map(r=>typeof r=="string"?new me(r):r)).length===1||t===1){const r=[],n=e[0];for(let s=0;s<t;s++)r.push(n.clone());return r}if(i.shuffle&&(e=DV(H(e),i.seed)),e.length>=t){const r=[],n=(e.length-1)/(t-1);for(let s=0;s<t;s++){const a=Math.round(s*n);r.push(e[a].clone())}return r}return ORe(e,t,i)}function ORe(e,t,i={}){const r=[],n=e.length-1,s=Math.ceil((t-e.length)/n);e:for(let a=0;a<n;a++){const l=e[a],u=e[a+1];for(let d=1;d<=s;d++){const m=d/(s+1);if(r.push(kRe(l,u,m,i)),r.length+e.length===t)break e}}return[...e.map(a=>a.clone()),...DV(r,i.seed??1)]}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(jA||(jA={}));const QC=(e,t)=>{const i=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+i))};function kRe(e,t,i,r={}){const n=e.r,s=e.g,a=e.b,l=t.r,u=t.g,d=t.b,m=Math.round(n+(l-n)*i),v=Math.round(s+(u-s)*i),b=Math.round(a+(d-a)*i);if(!r.offset)return new me([m,v,b]);const _=eR(r.seed);return new me([QC(m,_),QC(v,_),QC(b,_)])}const Ete={kind:"null"},zi={kind:"number"},na={kind:"string"},cn={kind:"boolean"},Xu={kind:"color"},aM={kind:"object"},Gu={kind:"value"};function M2(e,t){return{kind:"array",itemType:e,n:t}}const LRe=[Ete,zi,na,cn,Xu,aM,M2(Gu)];function $g(e){if(e.kind==="array"){const t=$g(e.itemType);return typeof e.n=="number"?`array<${t}, ${e.n}>`:e.itemType.kind==="value"?"array":`array<${t}>`}return e.kind}function oM(e){if(e===null)return Ete;if(typeof e=="string")return na;if(typeof e=="boolean")return cn;if(typeof e=="number")return zi;if(e instanceof me)return Xu;if(Array.isArray(e)){let t;for(const i of e){const r=oM(i);if(t){if(t!==r){t=Gu;break}}else t=r}return M2(t||Gu,e.length)}return typeof e=="object"?aM:Gu}function FA(e,t){if(t.kind==="array")return e.kind==="array"&&(e.n===0&&e.itemType.kind==="value"||FA(e.itemType,t.itemType))&&(typeof t.n!="number"||t.n===e.n);if(t.kind==="value"){for(const i of LRe)if(FA(e,i))return!0}return t.kind===e.kind}function zA(e){if(e===null)return"";const t=typeof e;return t==="string"?e:t==="number"||t==="boolean"?String(e):e instanceof me?e.toString():JSON.stringify(e)}let NRe=class{constructor(t){this._parent=t,this._vars={}}add(t,i){this._vars[t]=i}get(t){return this._vars[t]?this._vars[t]:this._parent?this._parent.get(t):null}},DRe=class Cte{constructor(){this.type=Gu}static parse(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new Cte}evaluate(t,i){return t==null?void 0:t.id}},jRe=class Ite{constructor(){this.type=na}static parse(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new Ite}evaluate(t,i){if(!t)return null;switch(t.type){case Pa.Point:return"Point";case Pa.LineString:return"LineString";case Pa.Polygon:return"Polygon";default:return null}}},FRe=class $te{constructor(){this.type=aM}static parse(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new $te}evaluate(t,i){return t==null?void 0:t.values}},Ate=class Rte{constructor(){this.type=zi}static parse(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new Rte}evaluate(t,i){return i}},Wa=class Pte{constructor(t,i,r){this._lhs=t,this._rhs=i,this._compare=r,this.type=cn}static parse(t,i,r){if(t.length!==3&&t.length!==4)throw new Error(`"${t[0]}" expects 2 or 3 arguments`);if(t.length===4)throw new Error(`"${t[0]}" collator not supported`);return new Pte(ht(t[1],i),ht(t[2],i),r)}evaluate(t,i){return this._compare(this._lhs.evaluate(t,i),this._rhs.evaluate(t,i))}};class zRe extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r===n)}}let URe=class extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r!==n)}},GRe=class extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r<n)}},VRe=class extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r<=n)}};class BRe extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r>n)}}class HRe extends Wa{static parse(t,i){return Wa.parse(t,i,(r,n)=>r>=n)}}class KP{constructor(t){this._arg=t,this.type=cn}static parse(t,i){if(t.length!==2)throw new Error('"!" expects 1 argument');return new KP(ht(t[1],i))}evaluate(t,i){return!this._arg.evaluate(t,i)}}class JP{constructor(t){this._args=t,this.type=cn}static parse(t,i){const r=[];for(let n=1;n<t.length;n++)r.push(ht(t[n],i));return new JP(r)}evaluate(t,i){for(const r of this._args)if(!r.evaluate(t,i))return!1;return!0}}let qRe=class Ote{constructor(t){this._args=t,this.type=cn}static parse(t,i){const r=[];for(let n=1;n<t.length;n++)r.push(ht(t[n],i));return new Ote(r)}evaluate(t,i){for(const r of this._args)if(r.evaluate(t,i))return!0;return!1}};class XP{constructor(t){this._args=t,this.type=cn}static parse(t,i){const r=[];for(let n=1;n<t.length;n++)r.push(ht(t[n],i));return new XP(r)}evaluate(t,i){for(const r of this._args)if(r.evaluate(t,i))return!1;return!0}}let WRe=class kte{constructor(t,i,r){this.type=t,this._args=i,this._fallback=r}static parse(t,i,r){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const s=[];for(let l=1;l<t.length-1;l+=2){const u=ht(t[l],i),d=ht(t[l+1],i,r);n||(n=d.type),s.push({condition:u,output:d})}const a=ht(t[t.length-1],i,r);return n||(n=a.type),new kte(n,s,a)}evaluate(t,i){for(const r of this._args)if(r.condition.evaluate(t,i))return r.output.evaluate(t,i);return this._fallback.evaluate(t,i)}},YRe=class Lte{constructor(t,i){this.type=t,this._args=i}static parse(t,i){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');let r;const n=[];for(let s=1;s<t.length;s++){const a=ht(t[s],i);r||(r=a.type),n.push(a)}return new Lte(r,n)}evaluate(t,i){for(const r of this._args){const n=r.evaluate(t,i);if(n!==null)return n}return null}},ZRe=class Nte{constructor(t,i,r,n,s){this.type=t,this._input=i,this._labels=r,this._outputs=n,this._fallback=s}static parse(t,i){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');let r;const n=ht(t[1],i),s=[],a={};let l;for(let u=2;u<t.length-1;u+=2){let d=t[u];Array.isArray(d)||(d=[d]);for(const v of d){const b=typeof v;if(b!=="string"&&b!=="number")throw new Error('"match" requires string or number literal as labels');if(l){if(b!==l)throw new Error('"match" requires labels to have the same type')}else l=b;a[v]=s.length}const m=ht(t[u+1],i);r||(r=m.type),s.push(m)}return new Nte(r,n,a,s,ht(t[t.length-1],i))}evaluate(t,i){const r=this._input.evaluate(t,i);return(this._outputs[this._labels[r]]||this._fallback).evaluate(t,i)}};class Co{constructor(t,i,r,n,s){this._operator=t,this.type=i,this.interpolation=r,this.input=n,this._stops=s}static parse(t,i,r){const n=t[0];if(t.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const s=t[1];if(!Array.isArray(s)||s.length===0)throw new Error(`"${s}" is not a valid interpolation`);switch(s[0]){case"linear":if(s.length!==1)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(s.length!==2||typeof s[1]!="number")throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(s.length!==5)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let d=1;d<5;d++){const m=s[d];if(typeof m!="number"||m<0||m>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${t[0]}" unknown interpolation type "${s[0]}"`)}if(t.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const a=ht(t[2],i,zi);let l;n==="interpolate-hcl"||n==="interpolate-lab"?l=Xu:r&&r.kind!=="value"&&(l=r);const u=[];for(let d=3;d<t.length;d+=2){const m=t[d];if(typeof m!="number")throw new Error(`"${n}" requires stop inputs as literal numbers`);if(u.length&&u[u.length-1][0]>=m)throw new Error(`"${n}" requires strictly ascending stop inputs`);const v=ht(t[d+1],i,l);l||(l=v.type),u.push([m,v])}if(l&&l!==Xu&&l!==zi&&(l.kind!=="array"||l.itemType!==zi))throw new Error(`"${n}" cannot interpolate type ${$g(l)}`);return new Co(n,l,s,a,u)}evaluate(t,i){const r=this._stops;if(r.length===1)return r[0][1].evaluate(t,i);const n=this.input.evaluate(t,i);if(n<=r[0][0])return r[0][1].evaluate(t,i);if(n>=r[r.length-1][0])return r[r.length-1][1].evaluate(t,i);let s=0;for(;++s<r.length&&!(n<r[s][0]););const a=r[s-1][0],l=r[s][0],u=Co.interpolationRatio(this.interpolation,n,a,l),d=r[s-1][1].evaluate(t,i),m=r[s][1].evaluate(t,i);if(this._operator==="interpolate"){if(this.type.kind==="array"&&Array.isArray(d)&&Array.isArray(m))return d.map((v,b)=>Fn(v,m[b],u));if(this.type.kind==="color"&&d instanceof me&&m instanceof me){const v=new me(d),b=new me(m);return new me([Fn(v.r,b.r,u),Fn(v.g,b.g,u),Fn(v.b,b.b,u),Fn(v.a,b.a,u)])}if(this.type.kind==="number"&&typeof d=="number"&&typeof m=="number")return Fn(d,m,u);throw new Error(`"${this._operator}" cannot interpolate type ${$g(this.type)}`)}if(this._operator==="interpolate-hcl"){const v=BG(d),b=BG(m),_=b.h-v.h,S=_f({h:v.h+u*(_>180||_<-180?_-360*Math.round(_/360):_),c:Fn(v.c,b.c,u),l:Fn(v.l,b.l,u)});return new me({a:Fn(d.a,m.a,u),...S})}if(this._operator==="interpolate-lab"){const v=DA(d),b=DA(m),_=_f({l:Fn(v.l,b.l,u),a:Fn(v.a,b.a,u),b:Fn(v.b,b.b,u)});return new me({a:Fn(d.a,m.a,u),..._})}throw new Error(`Unexpected operator "${this._operator}"`)}interpolationUniformValue(t,i){const r=this._stops;if(r.length===1||t>=r[r.length-1][0])return 0;let n=0;for(;++n<r.length&&!(t<r[n][0]););const s=r[n-1][0],a=r[n][0];return Co.interpolationRatio(this.interpolation,i,s,a)}getInterpolationRange(t){const i=this._stops;if(i.length===1){const s=i[0][0];return[s,s]}const r=i[i.length-1][0];if(t>=r)return[r,r];let n=0;for(;++n<i.length&&!(t<i[n][0]););return[i[n-1][0],i[n][0]]}static interpolationRatio(t,i,r,n){let s=0;return t[0]==="linear"?s=Co._exponentialInterpolationRatio(i,1,r,n):t[0]==="exponential"?s=Co._exponentialInterpolationRatio(i,t[1],r,n):t[0]==="cubic-bezier"&&(s=oy(t[1],t[2],t[3],t[4])(Co._exponentialInterpolationRatio(i,1,r,n),1e-5)),s<0?s=0:s>1&&(s=1),s}static _exponentialInterpolationRatio(t,i,r,n){const s=n-r;if(s===0)return 0;const a=t-r;return i===1?a/s:(i**a-1)/(i**s-1)}}let KRe=class Dte{constructor(t,i,r){this.type=t,this._input=i,this._stops=r}static parse(t,i){if(t.length<5)throw new Error('"step" expects at least 4 arguments');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments');const r=ht(t[1],i,zi);let n;const s=[];s.push([-1/0,ht(t[2],i)]);for(let a=3;a<t.length;a+=2){const l=t[a];if(typeof l!="number")throw new Error('"step" requires stop inputs as literal numbers');if(s.length&&s[s.length-1][0]>=l)throw new Error('"step" requires strictly ascending stop inputs');const u=ht(t[a+1],i);n||(n=u.type),s.push([l,u])}return new Dte(n,r,s)}evaluate(t,i){const r=this._stops;if(r.length===1)return r[0][1].evaluate(t,i);const n=this._input.evaluate(t,i);let s=0;for(;++s<r.length&&!(n<r[s][0]););return this._stops[s-1][1].evaluate(t,i)}},JRe=class jte{constructor(t,i){this.type=t,this._output=i}static parse(t,i,r){if(t.length<4)throw new Error('"let" expects at least 3 arguments');if(t.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new NRe(i);for(let a=1;a<t.length-1;a+=2){const l=t[a];if(typeof l!="string")throw new Error(`"let" requires a string to define variable names - found ${l}`);n.add(l,ht(t[a+1],i))}const s=ht(t[t.length-1],n,r);return new jte(s.type,s)}evaluate(t,i){return this._output.evaluate(t,i)}},XRe=class Fte{constructor(t,i){this.type=t,this.output=i}static parse(t,i,r){if(t.length!==2||typeof t[1]!="string")throw new Error('"var" requires just one literal string argument');const n=i.get(t[1]);if(!n)throw new Error(`${t[1]} must be defined before being used in a "var" expression`);return new Fte(r||Gu,n)}evaluate(t,i){return this.output.evaluate(t,i)}},QRe=class zte{constructor(t,i,r){this.type=t,this._index=i,this._array=r}static parse(t,i){if(t.length!==3)throw new Error('"at" expects 2 arguments');const r=ht(t[1],i,zi),n=ht(t[2],i);return new zte(n.type.itemType,r,n)}evaluate(t,i){const r=this._index.evaluate(t,i),n=this._array.evaluate(t,i);if(r<0||r>=n.length)throw new Error('"at" index out of bounds');if(r!==Math.floor(r))throw new Error('"at" index must be an integer');return n[r]}};class Nx{constructor(t,i){this._key=t,this._obj=i,this.type=Gu}static parse(t,i){let r,n;switch(t.length){case 2:return r=ht(t[1],i),new Nx(r);case 3:return r=ht(t[1],i),n=ht(t[2],i),new Nx(r,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(t,i){const r=this._key.evaluate(t,i);return this._obj?this._obj.evaluate(t,i)[r]:t==null?void 0:t.values[r]}}class Dx{constructor(t,i){this._key=t,this._obj=i,this.type=cn}static parse(t,i){let r,n;switch(t.length){case 2:return r=ht(t[1],i),new Dx(r);case 3:return r=ht(t[1],i),n=ht(t[2],i),new Dx(r,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(t,i){const r=this._key.evaluate(t,i);return this._obj?r in this._obj.evaluate(t,i):!!(t!=null&&t.values[r])}}let e8e=class Ute{constructor(t,i){this._key=t,this._vals=i,this.type=cn}static parse(t,i){if(t.length!==3)throw new Error('"in" expects 2 arguments');return new Ute(ht(t[1],i),ht(t[2],i))}evaluate(t,i){const r=this._key.evaluate(t,i);return this._vals.evaluate(t,i).includes(r)}};class jx{constructor(t,i,r){this._item=t,this._array=i,this._from=r,this.type=zi}static parse(t,i){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const r=ht(t[1],i),n=ht(t[2],i);if(t.length===4){const s=ht(t[3],i,zi);return new jx(r,n,s)}return new jx(r,n)}evaluate(t,i){const r=this._item.evaluate(t,i),n=this._array.evaluate(t,i);if(this._from){const s=this._from.evaluate(t,i);if(s!==Math.floor(s))throw new Error('"index-of" index must be an integer');return n.indexOf(r,s)}return n.indexOf(r)}}class QP{constructor(t){this._arg=t,this.type=zi}static parse(t,i){if(t.length!==2)throw new Error('"length" expects 2 arguments');const r=ht(t[1],i);return new QP(r)}evaluate(t,i){const r=this._arg.evaluate(t,i);if(typeof r=="string"||Array.isArray(r))return r.length;throw new Error('"length" expects string or array')}}class Fx{constructor(t,i,r,n){this.type=t,this._array=i,this._from=r,this._to=n}static parse(t,i){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments');const r=ht(t[1],i),n=ht(t[2],i,zi);if(n.type!==zi)throw new Error('"slice" index must return a number');if(t.length===4){const s=ht(t[3],i,zi);if(s.type!==zi)throw new Error('"slice" index must return a number');return new Fx(r.type,r,n,s)}return new Fx(r.type,r,n)}evaluate(t,i){const r=this._array.evaluate(t,i);if(!Array.isArray(r)&&typeof r!="string")throw new Error('"slice" input must be an array or a string');const n=this._from.evaluate(t,i);if(n<0||n>=r.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this._to){const s=this._to.evaluate(t,i);if(s<0||s>=r.length)throw new Error('"slice" index out of bounds');if(s!==Math.floor(s))throw new Error('"slice" index must be an integer');return r.slice(n,s)}return r.slice(n)}}class e9{constructor(){this.type=cn}static parse(t){if(t.length!==1)throw new Error('"has-id" expects no arguments');return new e9}evaluate(t,i){return(t==null?void 0:t.id)!==void 0}}class qn{constructor(t,i){this._args=t,this._calculate=i,this.type=zi}static parse(t,i,r){const n=t.slice(1).map(s=>ht(s,i));return new qn(n,r)}evaluate(t,i){let r;return this._args&&(r=this._args.map(n=>n.evaluate(t,i))),this._calculate(r)}}class t8e extends qn{static parse(t,i){switch(t.length){case 2:return qn.parse(t,i,r=>-r[0]);case 3:return qn.parse(t,i,r=>r[0]-r[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}}class i8e extends qn{static parse(t,i){return qn.parse(t,i,r=>{let n=1;for(const s of r)n*=s;return n})}}class r8e extends qn{static parse(t,i){if(t.length===3)return qn.parse(t,i,r=>r[0]/r[1]);throw new Error('"/" expects 2 arguments')}}class n8e extends qn{static parse(t,i){if(t.length===3)return qn.parse(t,i,r=>r[0]%r[1]);throw new Error('"%" expects 2 arguments')}}class s8e extends qn{static parse(t,i){if(t.length===3)return qn.parse(t,i,r=>r[0]**r[1]);throw new Error('"^" expects 1 or 2 arguments')}}class a8e extends qn{static parse(t,i){return qn.parse(t,i,r=>{let n=0;for(const s of r)n+=s;return n})}}class Fi{constructor(t,i){this._args=t,this._calculate=i,this.type=zi}static parse(t,i){const r=t.slice(1).map(n=>ht(n,i));return new Fi(r,Fi.ops[t[0]])}evaluate(t,i){let r;return this._args&&(r=this._args.map(n=>n.evaluate(t,i))),this._calculate(r)}}Fi.ops={abs:e=>Math.abs(e[0]),acos:e=>Math.acos(e[0]),asin:e=>Math.asin(e[0]),atan:e=>Math.atan(e[0]),ceil:e=>Math.ceil(e[0]),cos:e=>Math.cos(e[0]),e:()=>Math.E,floor:e=>Math.floor(e[0]),ln:e=>Math.log(e[0]),ln2:()=>Math.LN2,log10:e=>Math.log(e[0])/Math.LN10,log2:e=>Math.log(e[0])/Math.LN2,max:e=>Math.max(...e),min:e=>Math.min(...e),pi:()=>Math.PI,round:e=>Math.round(e[0]),sin:e=>Math.sin(e[0]),sqrt:e=>Math.sqrt(e[0]),tan:e=>Math.tan(e[0])};class t9{constructor(t){this._args=t,this.type=na}static parse(t,i){return new t9(t.slice(1).map(r=>ht(r,i)))}evaluate(t,i){return this._args.map(r=>r.evaluate(t,i)).join("")}}class Ag{constructor(t,i){this._arg=t,this._calculate=i,this.type=na}static parse(t,i){if(t.length!==2)throw new Error(`${t[0]} expects 1 argument`);const r=ht(t[1],i);return new Ag(r,Ag.ops[t[0]])}evaluate(t,i){return this._calculate(this._arg.evaluate(t,i))}}Ag.ops={downcase:e=>e.toLowerCase(),upcase:e=>e.toUpperCase()};class i9{constructor(t){this._args=t,this.type=Xu}static parse(t,i){if(t.length!==4)throw new Error('"rgb" expects 3 arguments');const r=t.slice(1).map(n=>ht(n,i));return new i9(r)}evaluate(t,i){const r=this._validate(this._args[0].evaluate(t,i)),n=this._validate(this._args[1].evaluate(t,i)),s=this._validate(this._args[2].evaluate(t,i));return new me({r,g:n,b:s})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}}class r9{constructor(t){this._args=t,this.type=Xu}static parse(t,i){if(t.length!==5)throw new Error('"rgba" expects 4 arguments');const r=t.slice(1).map(n=>ht(n,i));return new r9(r)}evaluate(t,i){const r=this._validate(this._args[0].evaluate(t,i)),n=this._validate(this._args[1].evaluate(t,i)),s=this._validate(this._args[2].evaluate(t,i)),a=this._validateAlpha(this._args[3].evaluate(t,i));return new me({r,g:n,b:s,a})}_validate(t){if(typeof t!="number"||t<0||t>255)throw new Error(`${t}: invalid color component`);return Math.round(t)}_validateAlpha(t){if(typeof t!="number"||t<0||t>1)throw new Error(`${t}: invalid alpha color component`);return t}}class n9{constructor(t){this._color=t,this.type=M2(zi,4)}static parse(t,i){if(t.length!==2)throw new Error('"to-rgba" expects 1 argument');const r=ht(t[1],i);return new n9(r)}evaluate(t,i){return new me(this._color.evaluate(t,i)).toRgba()}}class Up{constructor(t,i){this.type=t,this._args=i}static parse(t,i){const r=t[0];if(t.length<2)throw new Error(`${r} expects at least one argument`);let n,s=1;if(r==="array"){if(t.length>2){switch(t[1]){case"string":n=na;break;case"number":n=zi;break;case"boolean":n=cn;break;default:throw new Error('"array" type argument must be string, number or boolean')}s++}else n=Gu;let l;if(t.length>3){if(l=t[2],l!==null&&(typeof l!="number"||l<0||l!==Math.floor(l)))throw new Error('"array" length argument must be a positive integer literal');s++}n=M2(n,l)}else switch(r){case"string":n=na;break;case"number":n=zi;break;case"boolean":n=cn;break;case"object":n=aM}const a=[];for(;s<t.length;s++){const l=ht(t[s],i);a.push(l)}return new Up(n,a)}evaluate(t,i){let r;for(const n of this._args){const s=n.evaluate(t,i);if(r=oM(s),FA(r,this.type))return s}throw new Error(`Expected ${$g(this.type)} but got ${$g(r)}`)}}class ja{constructor(t,i){this.type=t,this._args=i}static parse(t,i){const r=t[0],n=ja.types[r];if(n===cn||n===na){if(t.length!==2)throw new Error(`${r} expects one argument`)}else if(t.length<2)throw new Error(`${r} expects at least one argument`);const s=[];for(let a=1;a<t.length;a++){const l=ht(t[a],i);s.push(l)}return new ja(n,s)}evaluate(t,i){if(this.type===cn)return!!this._args[0].evaluate(t,i);if(this.type===na)return zA(this._args[0].evaluate(t,i));if(this.type===zi){for(const r of this._args){const n=Number(r.evaluate(t,i));if(!isNaN(n))return n}return null}if(this.type===Xu){for(const r of this._args)try{const n=ja.toColor(r.evaluate(t,i));if(n instanceof me)return n}catch{}return null}}static toBoolean(t){return!!t}static toString(t){return zA(t)}static toNumber(t){const i=Number(t);if(isNaN(i))throw new Error(`"${t}" is not a number`);return i}static toColor(t){if(t instanceof me)return t;if(typeof t=="string"){const i=me.fromString(t);if(i)return i;throw new Error(`"${t}" is not a color`)}if(Array.isArray(t))return me.fromArray(t);throw new Error(`"${t}" is not a color`)}}ja.types={"to-boolean":cn,"to-color":Xu,"to-number":zi,"to-string":na};class s9{constructor(t){this._val=t,this.type=oM(t)}static parse(t){if(t.length!==2)throw new Error('"literal" expects 1 argument');return new s9(t[1])}evaluate(t,i){return this._val}}class a9{constructor(t){this._arg=t,this.type=na}static parse(t,i){if(t.length!==2)throw new Error('"typeof" expects 1 argument');return new a9(ht(t[1],i))}evaluate(t,i){return $g(oM(this._arg.evaluate(t,i)))}}function ht(e,t,i){const r=typeof e;if(r==="string"||r==="boolean"||r==="number"||e===null){if(i)switch(i.kind){case"string":r!=="string"&&(e=ja.toString(e));break;case"number":r!=="number"&&(e=ja.toNumber(e));break;case"color":e=ja.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||e.length===0)throw new Error("Expression must be a non empty array");const n=e[0];if(typeof n!="string")throw new Error("First element of expression must be a string");const s=Gte[n];if(s===void 0)throw new Error(`Invalid expression operator "${n}"`);if(!s)throw new Error(`Unimplemented expression operator "${n}"`);return s.parse(e,t,i)}const Gte={array:Up,boolean:Up,collator:null,format:null,image:null,literal:s9,number:Up,"number-format":null,object:Up,string:Up,"to-boolean":ja,"to-color":ja,"to-number":ja,"to-string":ja,typeof:a9,accumulated:null,"feature-state":null,"geometry-type":jRe,id:DRe,"line-progress":null,properties:FRe,at:QRe,get:Nx,has:Dx,in:e8e,"index-of":jx,length:QP,slice:Fx,"!":KP,"!=":URe,"<":GRe,"<=":VRe,"==":zRe,">":BRe,">=":HRe,all:JP,any:qRe,case:WRe,coalesce:YRe,match:ZRe,within:null,interpolate:Co,"interpolate-hcl":Co,"interpolate-lab":Co,step:KRe,let:JRe,var:XRe,concat:t9,downcase:Ag,"is-supported-script":null,"resolved-locale":null,upcase:Ag,rgb:i9,rgba:r9,"to-rgba":n9,"-":t8e,"*":i8e,"/":r8e,"%":n8e,"^":s8e,"+":a8e,abs:Fi,acos:Fi,asin:Fi,atan:Fi,ceil:Fi,cos:Fi,e:Fi,floor:Fi,ln:Fi,ln2:Fi,log10:Fi,log2:Fi,max:Fi,min:Fi,pi:Fi,round:Fi,sin:Fi,sqrt:Fi,tan:Fi,zoom:Ate,"heatmap-density":null,"has-id":e9,none:XP};let o8e=class Vs{constructor(t){this._expression=t}filter(t,i){if(!this._expression)return!0;try{return this._expression.evaluate(t,i)}catch(r){return console.log(r.message),!0}}static createFilter(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{const i=ht(t,null,cn);return new Vs(i)}catch(i){return console.log(i.message),null}}static isLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;switch(t[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return t.length===3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"in":return t.length>=3&&typeof t[1]=="string"&&!Array.isArray(t[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let i=1;i<t.length;i++)if(this.isLegacyFilter(t[i]))return!0;return!1;case"has":return t.length===2&&(t[1]==="$id"||t[1]==="$type");default:return!1}}static convertLegacyFilter(t){if(!Array.isArray(t)||t.length===0)return!0;const i=t[0];if(t.length===1)return i!=="any";switch(i){case"==":return Vs.convertComparison("==",t[1],t[2]);case"!=":return Vs.negate(Vs.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return Vs.convertComparison(i,t[1],t[2]);case"in":return Vs.convertIn(t[1],t.slice(2));case"!in":return Vs.negate(Vs.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return Vs.convertCombining(i,t.slice(1));case"has":return Vs.convertHas(t[1]);case"!has":return Vs.negate(Vs.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(t,i,r){switch(i){case"$type":return[t,["geometry-type"],r];case"$id":return[t,["id"],r];default:return[t,["get",i],r]}}static convertIn(t,i){switch(t){case"$type":return["in",["geometry-type"],["literal",i]];case"$id":return["in",["id"],["literal",i]];default:return["in",["get",t],["literal",i]]}}static convertHas(t){switch(t){case"$type":return!0;case"$id":return["has-id"];default:return["has",t]}}static convertCombining(t,i){return[t].concat(i.map(this.convertLegacyFilter))}static negate(t){return["!",t]}},HG=class Vte{constructor(t,i){let r;switch(this.isDataDriven=!1,this.interpolator=null,t.type){case"number":case"color":r=!0;break;case"array":r=t.value==="number";break;default:r=!1}if(i==null&&(i=t.default),Array.isArray(i)&&i.length>0&&Gte[i[0]]){const s={number:zi,color:Xu,string:na,boolean:cn,enum:na};try{const a=t.type==="array"?M2(s[t.value]||Gu,t.length):s[t.type],l=ht(i,null,a);this.getValue=this._buildExpression(l,t),this.isDataDriven=!0,l instanceof Co&&l.input instanceof Ate&&(this.interpolator=l)}catch(a){console.log(a.message),this.getValue=this._buildSimple(t.default)}return}r&&i.type==="interval"&&(r=!1);const n=(i==null?void 0:i.stops)&&i.stops.length>0;if(n)for(const s of i.stops)s[1]=this._validate(s[1],t);if(this.isDataDriven=!!i&&!!i.property,this.isDataDriven)if(i.default!==void 0&&(i.default=this._validate(i.default,t)),n)switch(i.type){case"identity":this.getValue=this._buildIdentity(i,t);break;case"categorical":this.getValue=this._buildCategorical(i,t);break;default:this.getValue=r?this._buildInterpolate(i,t):this._buildInterval(i,t)}else this.getValue=this._buildIdentity(i,t);else n?this.getValue=r?this._buildZoomInterpolate(i):this._buildZoomInterval(i):(i=this._validate(i,t),this.getValue=this._buildSimple(i))}_validate(t,i){if(i.type==="number"){if(i.minimum!=null&&t<i.minimum)return i.minimum;if(i.maximum!=null&&t>i.maximum)return i.maximum}else i.type==="color"?t=Vte._parseColor(t):i.type==="enum"?typeof t=="string"&&(t=i.values.indexOf(t)):i.type==="array"&&i.value==="enum"?t=t.map(r=>typeof r=="string"?i.values.indexOf(r):r):i.type==="string"&&(t=zA(t));return t}_buildSimple(t){return()=>t}_buildExpression(t,i){return(r,n)=>{try{const s=t.evaluate(n,r);return s===void 0?i.default:this._validate(s,i)}catch(s){return console.log(s.message),i.default}}}_buildIdentity(t,i){return(r,n)=>{let s;return n&&(s=n.values[t.property]),s!==void 0&&(s=this._validate(s,i)),s??(t.default!==void 0?t.default:i.default)}}_buildCategorical(t,i){return(r,n)=>{let s;return n&&(s=n.values[t.property]),s=this._categorical(s,t.stops),s!==void 0?s:t.default!==void 0?t.default:i.default}}_buildInterval(t,i){return(r,n)=>{let s;return n&&(s=n.values[t.property]),typeof s=="number"?this._interval(s,t.stops):t.default!==void 0?t.default:i.default}}_buildInterpolate(t,i){return(r,n)=>{let s;return n&&(s=n.values[t.property]),typeof s=="number"?this._interpolate(s,t.stops,t.base||1):t.default!==void 0?t.default:i.default}}_buildZoomInterpolate(t){return i=>this._interpolate(i,t.stops,t.base||1)}_buildZoomInterval(t){return i=>this._interval(i,t.stops)}_categorical(t,i){const r=i.length;for(let n=0;n<r;n++)if(i[n][0]===t)return i[n][1]}_interval(t,i){const r=i.length;let n=0;for(let s=0;s<r&&i[s][0]<=t;s++)n=s;return i[n][1]}_interpolate(t,i,r){let n,s;const a=i.length;for(let l=0;l<a;l++){const u=i[l];if(!(u[0]<=t)){s=u;break}n=u}if(n&&s){const l=s[0]-n[0],u=t-n[0],d=r===1?u/l:(r**u-1)/(r**l-1);if(Array.isArray(n[1])){const m=n[1],v=s[1],b=[];for(let _=0;_<m.length;_++)b.push(Fn(m[_],v[_],d));return b}return Fn(n[1],s[1],d)}return n?n[1]:s?s[1]:void 0}static _isEmpty(t){for(const i in t)if(t.hasOwnProperty(i))return!1;return!0}static _parseColor(t){return Array.isArray(t)?t:(typeof t=="string"&&(t=new me(t)),t instanceof me&&!this._isEmpty(t)?me.toUnitRGBA(t):void 0)}};const Rg=8;var lb;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(lb||(lb={}));class qGe{constructor(t,i,r,n,s,a){this.layer=t,this.feature=i,this.bounds=r,this.normalizationRatio=n,this.normalizationOffsetX=s,this.normalizationOffsetY=a}}let T2=class{constructor(t,i,r,n){switch(this.type=t,this.typeName=i.type,this.id=i.id,this.source=i.source,this.sourceLayer=i["source-layer"],this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,this.filter=i.filter,this.layout=i.layout,this.paint=i.paint,this.z=r,this.uid=n,t){case Qi.BACKGROUND:this._layoutDefinition=lr.backgroundLayoutDefinition,this._paintDefinition=lr.backgroundPaintDefinition;break;case Qi.FILL:this._layoutDefinition=lr.fillLayoutDefinition,this._paintDefinition=lr.fillPaintDefinition;break;case Qi.LINE:this._layoutDefinition=lr.lineLayoutDefinition,this._paintDefinition=lr.linePaintDefinition;break;case Qi.SYMBOL:this._layoutDefinition=lr.symbolLayoutDefinition,this._paintDefinition=lr.symbolPaintDefinition;break;case Qi.CIRCLE:this._layoutDefinition=lr.circleLayoutDefinition,this._paintDefinition=lr.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return this._featureFilter!==void 0?this._featureFilter:this._featureFilter=o8e.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,i,r){let n;const s=this._layoutProperties[t];return s&&(n=s.getValue(i,r)),n===void 0&&(n=this._layoutDefinition[t].default),n}getPaintValue(t,i,r){let n;const s=this._paintProperties[t];return s&&(n=s.getValue(i,r)),n===void 0&&(n=this._paintDefinition[t].default),n}isPainterDataDriven(){const t=this._paintProperties;if(t){for(const i in t)if(t[i].isDataDriven)return!0}return!1}isIntersectingFeature(t,i,r,n,s,a,l){return!1}getFeatureInflatedBounds(t,i,r,n){return null}_parseLayout(t){const i={};for(const r in t){const n=this._layoutDefinition[r];n&&(i[r]=new HG(n,t[r]))}return i}_parsePaint(t){const i={};for(const r in t){const n=this._paintDefinition[r];n&&(i[r]=new HG(n,t[r]))}return i}computeAttributesKey(t,i,r,n){let s=0,a=0;for(const l of i){let u=3;if(!l||l!==n){const d=r[l],{isLayout:m,isOptional:v}=d,b=m?this.getLayoutProperty(l):this.getPaintProperty(l);u=b!=null&&b.interpolator?2:b!=null&&b.isDataDriven?1:v&&!b?3:0}a|=u<<s,s+=2}return a<<3|t}};class qG extends T2{constructor(t,i,r,n){super(t,i,r,n),this.backgroundMaterial=new ig(this.computeAttributesKey(Ju.BACKGROUND,ig.ATTRIBUTES,ig.ATTRIBUTES_INFO))}}let WG=class extends T2{constructor(t,i,r,n){super(t,i,r,n);const s=this.getPaintProperty("fill-color"),a=this.getPaintProperty("fill-opacity"),l=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=s==null?void 0:s.isDataDriven,this.hasDataDrivenOpacity=a==null?void 0:a.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||(l==null?void 0:l.isDataDriven);const u=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!u,this.hasDataDrivenOutlineColor=u==null?void 0:u.isDataDriven,this.hasDataDrivenOutline=u?u.isDataDriven:!!s&&s.isDataDriven,this.hasDataDrivenOutline=(u?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new ng(this.computeAttributesKey(Ju.FILL,ng.ATTRIBUTES,ng.ATTRIBUTES_INFO)),this.outlineMaterial=new ml(this.computeAttributesKey(Ju.OUTLINE,this.outlineUsesFillColor?ml.ATTRIBUTES_FILL:ml.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?ml.ATTRIBUTES_INFO_FILL:ml.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}getFeatureInflatedBounds(t,i,r,n){const s=o9(t);if(!s)return null;const a=this.getPaintValue("fill-translate",i,t),l=n*Math.max(a[0],a[1]);return s[0]-=l,s[2]-=l,s[1]+=l,s[3]+=l,s}isIntersectingFeature(t,i,r,n,s,a,l){const u=n.getGeometry();if(!u)return!1;const d=Rg/l.normalizationRatio;t=t/l.normalizationRatio+l.normalizationOffsetX,i=i/l.normalizationRatio+l.normalizationOffsetY;const m=YP(this.getPaintValue("fill-translate",s,n),this.getPaintValue("fill-translate-anchor",s,n),a,Rg);return t-=d*m.x,i-=d*m.y,!!fRe(t,i,u)||yte(t,i,u,d*r)}},YG=class extends T2{constructor(t,i,r,n){var a,l,u,d,m,v,b,_,S;super(t,i,r,n);const s=this.getPaintProperty("line-pattern");if(this.lineMaterial=new sg(this.computeAttributesKey(Ju.LINE,sg.ATTRIBUTES,sg.ATTRIBUTES_INFO,s?"line-dasharray":"")),this.hasDataDrivenLine=((a=this.getPaintProperty("line-blur"))==null?void 0:a.isDataDriven)||((l=this.getPaintProperty("line-color"))==null?void 0:l.isDataDriven)||((u=this.getPaintProperty("line-gap-width"))==null?void 0:u.isDataDriven)||((d=this.getPaintProperty("line-offset"))==null?void 0:d.isDataDriven)||((m=this.getPaintProperty("line-opacity"))==null?void 0:m.isDataDriven)||((v=this.getPaintProperty("line-pattern"))==null?void 0:v.isDataDriven)||((b=this.getPaintProperty("line-dasharray"))==null?void 0:b.isDataDriven)||((_=this.getLayoutProperty("line-cap"))==null?void 0:_.isDataDriven)||((S=this.getPaintProperty("line-width"))==null?void 0:S.isDataDriven),this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const M=this.getPaintProperty("line-width");if(!M||typeof M=="number"&&.5*M<n5e){const T=this.getPaintProperty("line-offset");(!T||typeof T=="number"&&T===0)&&(this.canUseThinTessellation=!0)}}}getDashKey(t,i){let r;switch(i){case lb.BUTT:r="Butt";break;case lb.ROUND:r="Round";break;case lb.SQUARE:r="Square";break;default:r="Butt"}return`dasharray-[${t.toString()}]-${r}`}getFeatureInflatedBounds(t,i,r,n){const s=o9(t);if(!s)return null;const a=this.getPaintValue("line-translate",i,t),l=n*Math.max(a[0],a[1]);s[0]-=l,s[2]-=l,s[1]+=l,s[3]+=l;const u=n*Math.abs(this.getPaintValue("line-offset",i,t)||0),d=n*(this.getPaintValue("line-width",i,t)/2);return s[0]-=u+d,s[1]-=u+d,s[2]+=u+d,s[3]+=u+d,s}isIntersectingFeature(t,i,r,n,s,a,l){let u=n.getGeometry();if(!u)return!1;const d=Rg/l.normalizationRatio;t=t/l.normalizationRatio+l.normalizationOffsetX,i=i/l.normalizationRatio+l.normalizationOffsetY;const m=YP(this.getPaintValue("line-translate",s,n),this.getPaintValue("line-translate-anchor",s,n),a,Rg);t-=d*m.x,i-=d*m.y;const v=d*this.getPaintValue("line-offset",s,n)||0;v!==0&&(u=mRe(u,-v));const b=this.getPaintValue("line-width",s,n);return yte(t,i,u,d*(r+b/2))}},ZG=class extends T2{constructor(t,i,r,n){var s,a,l,u,d,m,v,b,_,S,M,T;super(t,i,r,n),this.iconMaterial=new ab(this.computeAttributesKey(Ju.ICON,ab.ATTRIBUTES,ab.ATTRIBUTES_INFO)),this.textMaterial=new ob(this.computeAttributesKey(Ju.TEXT,ob.ATTRIBUTES,ob.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=((s=this.getPaintProperty("icon-color"))==null?void 0:s.isDataDriven)||((a=this.getPaintProperty("icon-halo-blur"))==null?void 0:a.isDataDriven)||((l=this.getPaintProperty("icon-halo-color"))==null?void 0:l.isDataDriven)||((u=this.getPaintProperty("icon-halo-width"))==null?void 0:u.isDataDriven)||((d=this.getPaintProperty("icon-opacity"))==null?void 0:d.isDataDriven)||((m=this.getLayoutProperty("icon-size"))==null?void 0:m.isDataDriven),this.hasDataDrivenText=((v=this.getPaintProperty("text-color"))==null?void 0:v.isDataDriven)||((b=this.getPaintProperty("text-halo-blur"))==null?void 0:b.isDataDriven)||((_=this.getPaintProperty("text-halo-color"))==null?void 0:_.isDataDriven)||((S=this.getPaintProperty("text-halo-width"))==null?void 0:S.isDataDriven)||((M=this.getPaintProperty("text-opacity"))==null?void 0:M.isDataDriven)||((T=this.getLayoutProperty("text-size"))==null?void 0:T.isDataDriven)}},KG=class extends T2{constructor(t,i,r,n){super(t,i,r,n),this.circleMaterial=new rg(this.computeAttributesKey(Ju.CIRCLE,rg.ATTRIBUTES,rg.ATTRIBUTES_INFO))}getFeatureInflatedBounds(t,i,r,n){const s=o9(t);if(!s)return null;const a=this.getPaintValue("circle-translate",i,t),l=Math.max(a[0],a[1]);s[0]-=l,s[2]-=l,s[1]+=l,s[3]+=l;const u=n*(Rg*(this.getPaintValue("circle-radius",i,t)+this.getPaintValue("circle-stroke-width",i,t))/2);return s[0]-=u,s[1]-=u,s[2]+=u,s[3]+=u,s}isIntersectingFeature(t,i,r,n,s,a,l){const u=n.getGeometry();if(!u)return!1;const d=Rg/l.normalizationRatio;t=t/l.normalizationRatio+l.normalizationOffsetX,i=i/l.normalizationRatio+l.normalizationOffsetY,r*=d;const m=YP(this.getPaintValue("circle-translate",s,n),this.getPaintValue("circle-translate-anchor",s,n),a,d),v=d*(this.getPaintValue("circle-radius",s,n)+this.getPaintValue("circle-stroke-width",s,n));let b,_;for(const S of u)if(S){for(const M of S)if(b=M.x+m.x,_=M.y+m.y,Math.sqrt((t-b)*(t-b)+(i-_)*(i-_))-r<=v)return!0}return!1}};class XGe{constructor(t,i,r){let n;this.allowOverlap=t.getLayoutValue("icon-allow-overlap",i),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",i),this.keepUpright=t.getLayoutValue("icon-keep-upright",i),this.optional=t.getLayoutValue("icon-optional",i),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",i),this.rotationAlignment===xl.AUTO&&(this.rotationAlignment=r?xl.MAP:xl.VIEWPORT),n=t.getLayoutProperty("icon-anchor"),n!=null&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("icon-anchor",i),n=t.getLayoutProperty("icon-offset"),n!=null&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("icon-offset",i),n=t.getLayoutProperty("icon-padding"),n!=null&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("icon-padding",i),n=t.getLayoutProperty("icon-rotate"),n!=null&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("icon-rotate",i),n=t.getLayoutProperty("icon-size"),n!=null&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("icon-size",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i))}}class QGe{constructor(t,i,r){let n;this.allowOverlap=t.getLayoutValue("text-allow-overlap",i),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",i),this.keepUpright=t.getLayoutValue("text-keep-upright",i),this.optional=t.getLayoutValue("text-optional",i),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",i),this.rotationAlignment===xl.AUTO&&(this.rotationAlignment=r?xl.MAP:xl.VIEWPORT),n=t.getLayoutProperty("text-anchor"),n!=null&&n.isDataDriven?this._anchorProp=n:this.anchor=t.getLayoutValue("text-anchor",i),n=t.getLayoutProperty("text-justify"),n!=null&&n.isDataDriven?this._justifyProp=n:this.justify=t.getLayoutValue("text-justify",i),n=t.getLayoutProperty("text-letter-spacing"),n!=null&&n.isDataDriven?this._letterSpacingProp=n:this.letterSpacing=t.getLayoutValue("text-letter-spacing",i),n=t.getLayoutProperty("text-line-height"),n!=null&&n.isDataDriven?this._lineHeightProp=n:this.lineHeight=t.getLayoutValue("text-line-height",i),n=t.getLayoutProperty("text-max-angle"),n!=null&&n.isDataDriven?this._maxAngleProp=n:this.maxAngle=t.getLayoutValue("text-max-angle",i),n=t.getLayoutProperty("text-max-width"),n!=null&&n.isDataDriven?this._maxWidthProp=n:this.maxWidth=t.getLayoutValue("text-max-width",i),n=t.getLayoutProperty("text-offset"),n!=null&&n.isDataDriven?this._offsetProp=n:this.offset=t.getLayoutValue("text-offset",i),n=t.getLayoutProperty("text-padding"),n!=null&&n.isDataDriven?this._paddingProp=n:this.padding=t.getLayoutValue("text-padding",i),n=t.getLayoutProperty("text-rotate"),n!=null&&n.isDataDriven?this._rotateProp=n:this.rotate=t.getLayoutValue("text-rotate",i),n=t.getLayoutProperty("text-size"),n!=null&&n.isDataDriven?this._sizeProp=n:this.size=t.getLayoutValue("text-size",i),n=t.getLayoutProperty("text-writing-mode"),n!=null&&n.isDataDriven?this._writingModeProp=n:this.writingMode=t.getLayoutValue("text-writing-mode",i)}update(t,i){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,i)),this._justifyProp&&(this.justify=this._justifyProp.getValue(t,i)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,i)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,i)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,i)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,i)),this._offsetProp&&(this.offset=this._offsetProp.getValue(t,i)),this._paddingProp&&(this.padding=this._paddingProp.getValue(t,i)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,i)),this._sizeProp&&(this.size=this._sizeProp.getValue(t,i)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,i))}}function o9(e){const t=e==null?void 0:e.getGeometry();if(t==null)return null;let i=1/0,r=1/0,n=-1/0,s=-1/0;for(const a of t)if(a)for(const l of a)i=Math.min(i,l.x),r=Math.min(r,l.y),n=Math.max(n,l.x),s=Math.max(s,l.y);return ghe(i,r,n,s)}class Ly{constructor(t){if(this._style=t,this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.layers=t.layers.map((i,r,n)=>this._create(i,r,n)).filter(i=>!!i),this.layers)for(let i=0;i<this.layers.length;i++){const r=this.layers[i];this._layerByName[r.id]=r,this._uidToLayer.set(r.uid,r),r.type===Qi.BACKGROUND&&this.backgroundBucketIds.push(r.id)}this._identifyRefLayers()}isPainterDataDriven(t){const i=this._layerByName[t];return!!i&&i.isPainterDataDriven()}getStyleLayerId(t){return t>=this.layers.length?null:this.layers[t].id}getStyleLayerByUID(t){return this._uidToLayer.get(t)??null}getStyleLayerIndex(t){const i=this._layerByName[t];return i?this.layers.indexOf(i):-1}setStyleLayer(t,i){if(!(t!=null&&t.id))return;const r=this._style;i!=null&&i>=this.layers.length&&(i=this.layers.length-1);let n,s=!0;const a=this._layerByName[t.id];if(a){const l=this.layers.indexOf(a);i||(i=l),i===l?(s=!1,n=Ly._recreateLayer(t,a),this.layers[i]=n,r.layers[i]=t):(this.layers.splice(l,1),r.layers.splice(l,1),n=this._create(t,i,this.layers),this.layers.splice(i,0,n),r.layers.splice(i,0,t))}else n=this._create(t,i,this.layers),!i||i>=this.layers.length?(this.layers.push(n),r.layers.push(t)):(this.layers.splice(i,0,n),r.layers.splice(i,0,t));this._layerByName[t.id]=n,this._uidToLayer.set(n.uid,n),s&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(t){const i=this._layerByName[t];return i?{type:i.typeName,id:i.id,source:i.source,"source-layer":i.sourceLayer,minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:i.layout,paint:i.paint}:null}deleteStyleLayer(t){const i=this._layerByName[t];if(i){delete this._layerByName[t],this._uidToLayer.delete(i.uid);const r=this.layers.indexOf(i);this.layers.splice(r,1),this._style.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(t){return this._layerByName[t]}getLayoutProperties(t){const i=this._layerByName[t];return i?i.layout:null}getPaintProperties(t){const i=this._layerByName[t];return i?i.paint:null}setPaintProperties(t,i){const r=this._layerByName[t];if(!r)return;const n={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:i},s=Ly._recreateLayer(n,r),a=this.layers.indexOf(r);this.layers[a]=s,this._style.layers[a].paint=i,this._layerByName[r.id]=s,this._uidToLayer.set(r.uid,s)}setLayoutProperties(t,i){const r=this._layerByName[t];if(!r)return;const n={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:i,paint:r.paint},s=Ly._recreateLayer(n,r),a=this.layers.indexOf(r);this.layers[a]=s,this._style.layers[a].layout=i,this._layerByName[r.id]=s,this._uidToLayer.set(r.uid,s)}setStyleLayerVisibility(t,i){const r=this._layerByName[t];if(!r)return;const n=r.layout||{};n.visibility=i;const s={type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:n,paint:r.paint},a=Ly._recreateLayer(s,r),l=this.layers.indexOf(r);this.layers[l]=a,this._style.layers[l].layout=n,this._layerByName[r.id]=a,this._uidToLayer.set(r.uid,a)}getStyleLayerVisibility(t){const i=this._layerByName[t];if(!i)return"none";const r=i.layout;return(r==null?void 0:r.visibility)??"visible"}_recomputeZValues(){const t=this.layers,i=1/(t.length+1);for(let r=0;r<t.length;r++)t[r].z=1-(1+r)*i}_identifyRefLayers(){const t=[],i=[];let r=0;for(const n of this.layers){const s=n.layout;if(n.type===Qi.FILL){const a=n;let l=n.source+"|"+n.sourceLayer;l+="|"+((s==null?void 0:s.visibility)??""),l+="|"+n.minzoom,l+="|"+n.maxzoom,l+="|"+JSON.stringify(n.filter),(a.hasDataDrivenFill||a.hasDataDrivenOutline)&&(l+="|"+r),t.push({key:l,layer:n})}else if(n.type===Qi.LINE){const a=n,l=n.paint,u=l!=null&&(l["line-pattern"]!=null||l["line-dasharray"]!=null);let d=n.source+"|"+n.sourceLayer;d+="|"+((s==null?void 0:s.visibility)??""),d+="|"+n.minzoom,d+="|"+n.maxzoom,d+="|"+JSON.stringify(n.filter),d+="|"+(s!==void 0?s["line-cap"]:""),d+="|"+(s!==void 0?s["line-join"]:""),(a.hasDataDrivenLine||u)&&(d+="|"+r),i.push({key:d,layer:n})}++r}this._assignRefLayers(t),this._assignRefLayers(i)}_assignRefLayers(t){let i,r;t.sort((s,a)=>s.key<a.key?-1:s.key>a.key?1:0);const n=t.length;for(let s=0;s<n;s++){const a=t[s];if(a.key===i)a.layer.refLayerId=r;else if(i=a.key,r=a.layer.id,a.layer.type===Qi.FILL){if(!a.layer.getPaintProperty("fill-outline-color"))for(let l=s+1;l<n;l++){const u=t[l];if(u.key!==i)break;if(u.layer.getPaintProperty("fill-outline-color")){t[s]=u,t[l]=a,r=u.layer.id;break}}}else if(a.layer.type===Qi.LINE){let l=a.layer;for(let u=s+1;u<n;u++){const d=t[u];if(d.key!==i)break;const m=d.layer;(l.canUseThinTessellation&&!m.canUseThinTessellation||!l.canUseThinTessellation&&(m.getPaintProperty("line-pattern")||m.getPaintProperty("line-dasharray")))&&(l=m,t[s]=d,t[u]=a,r=d.layer.id)}}}}_create(t,i,r){const n=1-(1+i)*(1/(r.length+1)),s=this._runningId++;switch(t.type){case"background":return new qG(Qi.BACKGROUND,t,n,s);case"fill":return new WG(Qi.FILL,t,n,s);case"line":return new YG(Qi.LINE,t,n,s);case"symbol":return new ZG(Qi.SYMBOL,t,n,s);case"raster":return console.warn(`Unsupported vector tile raster layer ${t.id}`),null;case"circle":return new KG(Qi.CIRCLE,t,n,s)}return null}static _recreateLayer(t,i){switch(t.type){case"background":return new qG(Qi.BACKGROUND,t,i.z,i.uid);case"fill":return new WG(Qi.FILL,t,i.z,i.uid);case"line":return new YG(Qi.LINE,t,i.z,i.uid);case"symbol":return new ZG(Qi.SYMBOL,t,i.z,i.uid);case"raster":return console.warn(`Unsupported vector tile raster layer ${t.id}`),null;case"circle":return new KG(Qi.CIRCLE,t,i.z,i.uid)}return null}}let Kt=class extends gQ(Oee(Pee(VAe(BAe(Cee(Aee(vQ(kAe(vP(T5)))))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.isReference=null,this.operationalLayerType="VectorTileLayer",this.path=null,this.refreshInterval=0,this.style=null,this.tilemapCache=null,this.type="vector-tile",this.url=null}normalizeCtorArgs(e,t){return typeof e=="string"?{url:e,...t}:e}destroy(){var e;if(this.sourceNameToSource)for(const t of Object.values(this.sourceNameToSource))t==null||t.destroy();(e=this.primarySource)==null||e.destroy(),this._spriteSourceMap.clear()}async prefetchResources(e){await this.loadSpriteSource(globalThis.devicePixelRatio||1,e)}load(e){const t=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(Ys).then(async()=>{var r;if(!((r=this.portalItem)!=null&&r.id))return;const i=`${this.portalItem.itemCdnUrl}/resources/styles/root.json`;(await Ct(i,{...e,query:{f:"json",...this.customParameters,token:this.apiKey},authMode:this.portalItem.portal.authMode})).data&&this.read({url:i},rRe(this.portalItem,"portal-item"))}).catch(Ys).then(()=>this._loadStyle(e));return this.addResolvingPromise(t),Promise.resolve(this)}get attributionDataUrl(){const e=this.currentStyleInfo,t=(e==null?void 0:e.serviceUrl)&&Ai(e.serviceUrl);if(!t)return null;const i=this._getDefaultAttribution(t.path);return i?wl(i,{...this.customParameters,token:this.apiKey}):null}get capabilities(){const e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){var e;return((e=this.primarySource)==null?void 0:e.fullExtent)||null}get initialExtent(){var e;return((e=this.primarySource)==null?void 0:e.initialExtent)||null}get parsedUrl(){return this.serviceUrl?Ai(this.serviceUrl):null}get serviceUrl(){var e;return((e=this.currentStyleInfo)==null?void 0:e.serviceUrl)||null}get spatialReference(){var e;return((e=this.tileInfo)==null?void 0:e.spatialReference)??null}get styleUrl(){var e;return((e=this.currentStyleInfo)==null?void 0:e.styleUrl)||null}writeStyleUrl(e,t){e&&Ga(e)&&(e=`https:${e}`);const i=CI(e);t.styleUrl=AR(e,i)}get tileInfo(){var i;const e=[];for(const r in this.sourceNameToSource)e.push(this.sourceNameToSource[r]);let t=((i=this.primarySource)==null?void 0:i.tileInfo)||new Oo;if(e.length>1)for(let r=0;r<e.length;r++)nRe(t,e[r].tileInfo)&&(t=sRe(t,e[r].tileInfo));return t}readTilemapCache(e,t){var r;return((r=t.capabilities)==null?void 0:r.includes("Tilemap"))?new Ia({layer:this}):null}readVersion(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}async loadSpriteSource(e=1,t){var i,r;if(!this._spriteSourceMap.has(e)){const n=m4().maxTextureSize,s=(i=this.currentStyleInfo)!=null&&i.spriteUrl?wl(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null,a=new DG({type:"url",spriteUrl:s,pixelRatio:e,spriteFormat:(r=this.currentStyleInfo)==null?void 0:r.spriteFormat},n);await a.load(t),this._spriteSourceMap.set(e,a)}return this._spriteSourceMap.get(e)}async setSpriteSource(e,t){if(!e)return null;const i=m4().maxTextureSize,r=e.spriteUrl,n=r?wl(r,{...this.customParameters,token:this.apiKey}):null;if(!n&&e.type==="url")return null;const s=new DG(e,i);try{await s.load(t);const a=e.pixelRatio||1;return this._spriteSourceMap.clear(),this._spriteSourceMap.set(a,s),n&&this.currentStyleInfo&&(this.currentStyleInfo.spriteUrl=n),this.emit("spriteSource-change",{spriteSource:s}),s}catch(a){Ys(a)}return null}async loadStyle(e,t){var r;const i=e||this.style||this.url;return this._loadingTask&&typeof i=="string"&&this.url===i||((r=this._loadingTask)==null||r.abort(),this._loadingTask=n2(n=>(this._spriteSourceMap.clear(),this._getSourceAndStyle(i,{signal:n})),t)),this._loadingTask.promise}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){var t;return H((t=this.styleRepository)==null?void 0:t.getPaintProperties(e))}setPaintProperties(e,t){const i=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);const r=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:t,isDataDriven:i||r})}getStyleLayer(e){return H(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,t){this.styleRepository.setStyleLayer(e,t),this.emit("style-layer-change",{layer:e,index:t})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}getLayoutProperties(e){return H(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit("layout-change",{layer:e,layout:t})}setStyleLayerVisibility(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit("style-layer-visibility-change",{layer:e,visibility:t})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}write(e,t){return t!=null&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new z("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,t)}getTileUrl(e,t,i){return null}async _getSourceAndStyle(e,t){if(!e)throw new Error("invalid style!");const i=await XAe(e,{...t,query:{...this.customParameters,token:this.apiKey}});i.spriteFormat==="webp"&&(await HAe("lossy")||(i.spriteFormat="png")),this._set("currentStyleInfo",{...i}),typeof e=="string"?(this.url=e,this.style=null):(this.url=null,this.style=e),this._set("sourceNameToSource",i.sourceNameToSource),this._set("primarySource",i.sourceNameToSource[i.primarySourceName]),this._set("styleRepository",new Ly(i.style)),this.read(i.layerDefinition,{origin:"service"}),this.emit("load-style")}_getDefaultAttribution(e){const t=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^/]+)?\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/vectortileserver/i),i=["OpenBasemap_v2","OpenBasemap_GCS_v2","OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2","World_Hillshade_v2"];if(!t)return;const r=t[2]&&t[2].toLowerCase();if(!r)return;const n=t[1]||"";for(const s of i)if(s.toLowerCase().includes(r))return ms(`//static.arcgis.com/attribution/Vector${n}/${s}`)}async _loadStyle(e){var t;return((t=this._loadingTask)==null?void 0:t.promise)??this.loadStyle(null,e)}};h([f({readOnly:!0})],Kt.prototype,"attributionDataUrl",null),h([f({type:["show","hide"]})],Kt.prototype,"listMode",void 0),h([f({json:{read:!0,write:!0}})],Kt.prototype,"blendMode",void 0),h([f({readOnly:!0,json:{read:!1}})],Kt.prototype,"capabilities",null),h([f({readOnly:!0})],Kt.prototype,"currentStyleInfo",void 0),h([f({json:{read:!1},readOnly:!0,type:Lt})],Kt.prototype,"fullExtent",null),h([f({json:{read:!1},readOnly:!0,type:Lt})],Kt.prototype,"initialExtent",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],Kt.prototype,"isReference",void 0),h([f({type:["VectorTileLayer"]})],Kt.prototype,"operationalLayerType",void 0),h([f({readOnly:!0})],Kt.prototype,"parsedUrl",null),h([f({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Kt.prototype,"path",void 0),h([f({type:Number,json:{write:!1,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Kt.prototype,"refreshInterval",void 0),h([f()],Kt.prototype,"style",void 0),h([f({readOnly:!0})],Kt.prototype,"serviceUrl",null),h([f({type:it,readOnly:!0})],Kt.prototype,"spatialReference",null),h([f({readOnly:!0})],Kt.prototype,"styleRepository",void 0),h([f({readOnly:!0})],Kt.prototype,"sourceNameToSource",void 0),h([f({readOnly:!0})],Kt.prototype,"primarySource",void 0),h([f({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],Kt.prototype,"styleUrl",null),h([Re(["portal-item","web-document"],"styleUrl")],Kt.prototype,"writeStyleUrl",null),h([f({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:Oo})],Kt.prototype,"tileInfo",null),h([f()],Kt.prototype,"tilemapCache",void 0),h([He("service","tilemapCache",["capabilities","tileInfo"])],Kt.prototype,"readTilemapCache",null),h([f({json:{read:!1},readOnly:!0,value:"vector-tile"})],Kt.prototype,"type",void 0),h([f({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],Kt.prototype,"url",void 0),h([f({readOnly:!0})],Kt.prototype,"version",void 0),h([He("version",["version","currentVersion"])],Kt.prototype,"readVersion",null),Kt=h([O("esri.layers.VectorTileLayer")],Kt);const Bte=Kt,eVe=Object.freeze(Object.defineProperty({__proto__:null,default:Bte},Symbol.toStringTag,{value:"Module"})),Vm=[{id:"batasAdministrasi",title:"Batas Administrasi",url:"json/Batas_Administrasi_AR.json",defaultSymbol:new Ae({color:new me([200,200,200,.8]),outline:{color:new me("white"),width:.5}}),type:"unique-value",labelField:"KECAMATAN"},{id:"pola",title:"Pola Tata Ruang",url:"json/Pola_RTRW_KabKaro.json",defaultSymbol:new Ae({color:new me([200,200,200,.8]),outline:{color:new me("white"),width:.5}}),type:"unique-value"},{id:"permukiman",title:"Sistem Pusat Permukiman",url:"json/Sistem_Pusat_Permukiman.json",defaultSymbol:new $n({style:"square",color:new me([237,123,47,1]),size:2.3,outline:{color:new me([0,0,0,1]),width:.4}}),type:"unique-value"},{id:"jaringanTransportasi",title:"Sistem Jaringan Transportasi",url:"json/Sistem_Jaringan_Transportasi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"infrastrukturTransportasi",title:"Sistem Infrastruktur Transportasi",url:"json/Sistem_Infrastruktur_Transportasi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"jaringanEnergi",title:"Sistem Jaringan Energi",url:"json/Sistem_Jaringan_Energi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"infrastrukturEnergi",title:"Sistem Infrastruktur Energi",url:"json/Sistem_Infrastruktur_Energi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"jaringanTelekomunikasi",title:"Sistem Jaringan Telekomunikasi",url:"json/Sistem_Jaringan_Telekomunikasi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"infrastrukturTelekomunikasi",title:"Sistem Infrastruktur Telekomunikasi",url:"json/Sistem_Infrastruktur_Telekomunikasi.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"jaringanSumberDayaAir",title:"Sistem Jaringan Sumber Daya Air",url:"json/Sistem_Jaringan_Sumber_Daya_Air.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"infrastrukturSumberDayaAir",title:"Sistem Infrastruktur Sumber Daya Air",url:"json/Sistem_Infrastruktur_Sumber_Daya_Air.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"jaringanPrasaranaLain",title:"Sistem Jaringan Prasarana Lainnya",url:"json/Sistem_Jaringan_Prasarana_Lainnya.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"infrastrukturPrasaranaLain",title:"Sistem Infrastruktur Prasarana Lainnya",url:"json/Sistem_Infrastruktur_Prasarana_Lainnya.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1}),type:"unique-value"},{id:"batasAdministrasiGaris)",title:"Batas Administrasi (garis)",url:"json/Batas_Administrasi_LN.json",defaultSymbol:new pi({color:new me([0,0,0,1]),width:1,style:"dash"}),type:"unique-value"}],l8e={"Pusat Kegiatan Wilayah (PKW)":new $n({style:"square",color:new me([237,123,47,1]),size:23,outline:{color:new me([0,0,0,1]),width:.4}}),"Pusat Kegiatan Strategis Nasional (PKSN)":new $n({style:"square",color:new me([255,255,255,1]),size:23,outline:{color:new me([255,0,0,1]),width:.4}}),"Pusat Kegiatan Lokal (PKL)":new $n({style:"square",color:new me([255,255,0,1]),size:23,outline:{color:new me([0,0,0,1]),width:.4}}),"Pusat Pelayanan Kawasan":new $n({style:"triangle",color:new me([255,85,0,1]),size:23,outline:{color:new me([255,0,0,1]),width:.4}}),"Pusat Pelayanan Lingkungan":new $n({style:"triangle",color:new me([255,190,0,1]),size:23,outline:{color:new me([255,0,0,1]),width:.4}})},u8e={"Badan Air":new Ae({color:[151,219,242,.6],outline:{color:"white",width:.3}}),"Kawasan Memberikan Perlindungan terhadap Kawasan Bawahannya":new Ae({color:[25,65,40,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Lindung":new Ae({color:[50,95,40,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Lindung / Kawasan Tanaman Pangan":new Ae({color:[50,95,40,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Lindung / Kawasan Hortikultura":new Ae({color:[50,95,40,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Lindung / Kawasan Perkebunan":new Ae({color:[50,95,40,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Lindung / Kawasan Permukiman Perdesaan":new Ae({color:[50,95,40,.6],outline:{color:"white",width:.3}}),"Kawasan Lindung Gambut":new Ae({color:[105,105,0,.6],outline:{color:"white",width:.3}}),"Kawasan Perlindungan Setempat":new Ae({color:[5,215,215,.6],outline:{color:"white",width:.3}}),"Kawasan Suaka Alam":new Ae({color:[50,50,135,.6],outline:{color:"white",width:.3}}),"Cagar Alam":new Ae({color:[70,70,165,.6],outline:{color:"white",width:.3}}),"Cagar Alam Laut":new Ae({color:[90,90,195,.6],outline:{color:"white",width:.3}}),"Suaka Margasatwa":new Ae({color:[110,110,225,.6],outline:{color:"white",width:.3}}),"Suaka Margasatwa Laut":new Ae({color:[130,130,255,.6],outline:{color:"white",width:.3}}),"Kawasan Pelestarian Alam":new Ae({color:[120,90,255,.6],outline:{color:"white",width:.3}}),"Taman Nasional":new Ae({color:[155,135,255,.6],outline:{color:"white",width:.3}}),"Taman Hutan Raya":new Ae({color:[185,165,255,.6],outline:{color:"white",width:.3}}),"Taman Wisata Alam":new Ae({color:[210,190,255,.6],outline:{color:"white",width:.3}}),"Taman Wisata Alam Laut":new Ae({color:[230,210,255,.6],outline:{color:"white",width:.3}}),"Kawasan Taman Buru":new Ae({color:[70,150,255,.6],outline:{color:"white",width:.3}}),"Kawasan Konservasi di Wilayah Pesisir dan Pulau-Pulau Kecil":new Ae({color:[0,130,125,.6],outline:{color:"white",width:.3}}),"Kawasan Konservasi Pesisir dan Pulau-Pulau Kecil":new Ae({color:[20,150,170,.6],outline:{color:"white",width:.3}}),"Suaka Pesisir":new Ae({color:[70,180,190,.6],outline:{color:"white",width:.3}}),"Suaka Pulau Kecil":new Ae({color:[120,205,210,.6],outline:{color:"white",width:.3}}),"Taman Pesisir":new Ae({color:[160,230,220,.6],outline:{color:"white",width:.3}}),"Taman Pulau Kecil":new Ae({color:[200,240,230,.6],outline:{color:"white",width:.3}}),"Kawasan Konservasi Maritim":new Ae({color:[5,160,125,.6],outline:{color:"white",width:.3}}),"Daerah Perlindungan Adat Maritim":new Ae({color:[30,185,125,.6],outline:{color:"white",width:.3}}),"Daerah Perlindungan Budaya Maritim":new Ae({color:[55,210,125,.6],outline:{color:"white",width:.3}}),"Kawasan Konservasi Perairan":new Ae({color:[80,245,125,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Adat":new Ae({color:[5,105,65,.6],outline:{color:"white",width:.3}}),"Kawasan Cagar Alam Geologi":new Ae({color:[110,135,110,.6],outline:{color:"white",width:.3}}),"Kawasan Keunikan Batuan dan Fosil":new Ae({color:[150,135,150,.6],outline:{color:"white",width:.3}}),"Kawasan Keunikan Bentang Alam":new Ae({color:[180,135,150,.6],outline:{color:"white",width:.3}}),"Kawasan Keunikan Proses Geologi":new Ae({color:[210,135,180,.6],outline:{color:"white",width:.3}}),"Kawasan Imbuhan Air Tanah":new Ae({color:[205,135,100,.6],outline:{color:"white",width:.3}}),"Kawasan Cagar Budaya":new Ae({color:[255,55,205,.6],outline:{color:"white",width:.3}}),"Kawasan Ekosistem Mangrove":new Ae({color:[45,150,110,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi Terbatas":new Ae({color:[75,155,55,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi Terbatas / Kawasan Perkebunan":new Ae({color:[75,155,55,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi Terbatas / Kawasan Permukiman Perdesaan":new Ae({color:[75,155,55,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi Tetap":new Ae({color:[125,180,55,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi Tetap / Kawasan Tanaman Pangan":new Ae({color:[125,180,55,.6],outline:{color:"white",width:.3}}),"Kawasan Hutan Produksi yang dapat Dikonversi":new Ae({color:[155,225,55,.6],outline:{color:"white",width:.3}}),"Kawasan Perkebunan Rakyat":new Ae({color:[155,200,155,.6],outline:{color:"white",width:.3}}),"Kawasan Tanaman Pangan":new Ae({color:[200,245,70,.6],outline:{color:"white",width:.3}}),"Kawasan Hortikultura":new Ae({color:[230,255,75,.6],outline:{color:"white",width:.3}}),"Kawasan Perkebunan":new Ae({color:[175,175,55,.6],outline:{color:"white",width:.3}}),"Kawasan Peternakan":new Ae({color:[185,235,185,.6],outline:{color:"white",width:.3}}),"Kawasan Perikanan Tangkap":new Ae({color:[100,155,210,.6],outline:{color:"white",width:.3}}),"Kawasan Perikanan Budi Daya":new Ae({color:[130,185,210,.6],outline:{color:"white",width:.3}}),"Kawasan Pergaraman":new Ae({color:[180,150,120,.6],outline:{color:"white",width:.3}}),"Kawasan Pertambangan Mineral Radioaktif":new Ae({color:[25,45,75,.6],outline:{color:"white",width:.3}}),"Kawasan Pertambangan Mineral Logam":new Ae({color:[45,65,95,.6],outline:{color:"white",width:.3}}),"Kawasan Pertambangan Mineral Bukan Logam":new Ae({color:[65,85,115,.6],outline:{color:"white",width:.3}}),"Kawasan Peruntukan Pertambangan Batuan":new Ae({color:[95,115,145,.6],outline:{color:"white",width:.3}}),"Kawasan Pertambangan Batubara":new Ae({color:[125,145,175,.6],outline:{color:"white",width:.3}}),"Kawasan Pertambangan Minyak dan Gas Bumi":new Ae({color:[155,175,205,.6],outline:{color:"white",width:.3}}),"Kawasan Panas Bumi":new Ae({color:[205,0,0,.6],outline:{color:"white",width:.3}}),"Kawasan Pembangkitan Tenaga Listrik":new Ae({color:[0,255,205,.6],outline:{color:"white",width:.3}}),"Kawasan Peruntukan Industri":new Ae({color:[105,0,0,.6],outline:{color:"white",width:.3}}),"Kawasan Pariwisata":new Ae({color:[255,165,255,.6],outline:{color:"white",width:.3}}),"Kawasan Permukiman Perkotaan":new Ae({color:[245,155,30,.6],outline:{color:"white",width:.3}}),"Kawasan Permukiman Perdesaan":new Ae({color:[235,155,60,.6],outline:{color:"white",width:.3}}),"Kawasan Transportasi":new Ae({color:[215,55,0,.6],outline:{color:"white",width:.3}}),"Kawasan Pertahanan dan Keamanan":new Ae({color:[155,0,255,.6],outline:{color:"white",width:.3}})},Wo=(e,t,i="solid")=>new pi({color:new me(e),width:t,style:i}),c8e={"Jalan Arteri Primer":Wo([255,81,0,1],3),"Jalan Arteri Sekunder":Wo([255,81,0,1],1.8),"Jalan Kolektor Primer":Wo([255,140,0,1],3),"Jalan Kolektor Sekunder":Wo([255,200,0,1],1.8),"Jalan Lokal Primer":Wo([155,90,255,1],1.7),"Jalan Lokal Sekunder":Wo([178,178,255,1],1.5),"Jalan Lingkungan Primer":Wo([130,130,130,1],1),"Jalan Lingkungan Sekunder":Wo([156,156,156,1],.8),"Jalan Khusus":Wo([78,78,78,1],1.5,"dash"),"Jalan Tol":Wo([245,0,0,1],.8),"Jaringan Jalur Kereta Api Antarkota":new ko({name:"Railroad_Scheme 1_4",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/971bd7dfb0684860957ab7844a245bc1/data"}),"Jaringan Jalur Kereta Api Perkotaan":new ko({name:"B10",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/971bd7dfb0684860957ab7844a245bc1/data"}),"Jaringan Jalur Kereta Api Khusus":new ko({name:"Railroad, Narrow Gauge",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/971bd7dfb0684860957ab7844a245bc1/data"}),"Alur-Pelayaran Kelas I":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"None",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[15.5,8.5],[1.5,16.58],[1.5,.42],[15.5,8.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,140,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[17,0],[17,17],[0,17],[0,0]]]}},markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[255,140,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:1.2,color:[255,140,0,255]}]}}}),"Alur-Pelayaran Kelas II":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"None",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[15.5,8.5],[1.5,16.58],[1.5,.42],[15.5,8.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,140,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[17,0],[17,17],[0,17],[0,0]]]}},markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[0,10,30]},color:[255,140,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:1.2,color:[255,140,0,255]}]}}}),"Alur-Pelayaran Kelas III":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"None",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[15.5,8.5],[1.5,16.58],[1.5,.42],[15.5,8.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,140,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[17,0],[17,17],[0,17],[0,0]]]}},markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[0,10,10,30]},color:[255,140,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:1.2,color:[255,140,0,255]}]}}}),"Lintas Penyeberangan Antarnegara":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[255,80,0,255]}]}}}),"Lintas Penyeberangan Antarprovinsi":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[255,120,0,255]}]}}}),"Lintas Penyeberangan Antarkabupaten/Kota dalam Provinsi":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[255,200,0,255]}]}}}),"Lintas Penyeberangan dalam Kabupaten":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[255,255,0,255]}]}}})},h8e={"Terminal Penumpang Tipe A":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:214.5,ymax:155.6},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[207.6,22.3],[212.6,24.2],[214.5,29.2],[214.5,112.2],[213.5,121],[211.1,129.1],[207.3,136.4],[202,142.9],[195.6,148.3],[188.4,152.2],[180.4,154.6],[171.5,155.6],[18,155.6],[15.2,155.3],[12.4,154.5],[9.8,153.4],[7.4,151.9],[5.2,150],[1.3,144.1],[0,137.1],[0,29.2],[2,24.3],[6.9,22.4],[207.6,22.4],[207.6,22.3]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[228,226,222,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[209.3,21.5],[210.1,21.6],[210.9,21.8],[211.7,22.1],[212.4,22.5],[213,23],[213.6,23.9],[214.1,24.9],[214.4,26],[214.5,27.1],[214.5,57.6],[0,57.6],[0,27.1],[1.5,23],[2.2,22.4],[3,22],[3.8,21.7],[4.7,21.5],[5.6,21.5],[209.3,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[110,180,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[0,57.6],[214.5,57.6],[214.5,69.6],[0,69.6],[0,57.6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[194.7,21.5],[192.4,32.5],[186.5,41.3],[177.9,47.1],[167,49],[156.2,47.1],[147.2,41.3],[141.1,32.4],[138.8,21.5],[194.7,21.5]],[[79.9,21.5],[77.7,32.4],[71.6,41.3],[68.2,44.1],[64.5,46.2],[60.4,47.8],[56.1,48.7],[51.8,49],[40.9,47.1],[32.2,41.3],[26.3,32.4],[24.1,21.5],[79.9,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,0],[60.2,1.4],[67.3,6],[72.1,13.1],[73.9,21.5],[72.1,29.9],[67.3,37],[60.2,41.6],[51.8,43],[43.4,41.6],[36.3,37],[31.7,30.1],[30.1,21.5],[31.7,12.9],[36.3,6],[43.4,1.4],[51.8,0]],[[151.5,6],[158.6,1.4],[167,0],[170.4,.2],[173.6,.9],[176.8,2.1],[179.6,3.8],[182.2,6],[186.7,12.9],[188.2,21.5],[186.7,30.1],[182.2,37],[179.6,39.2],[176.7,41],[173.5,42.3],[170.2,43.1],[166.8,43.4],[166.8,43.4],[158.5,41.6],[151.5,37],[146.8,29.9],[145.3,21.5],[146.9,12.9],[151.5,6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[44,59,71,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,8.2],[53.9,8.3],[56,8.8],[58,9.5],[59.9,10.6],[61.5,12],[62.9,13.6],[64,15.4],[64.7,17.3],[65.2,19.4],[65.3,21.5],[64.4,26.8],[61.5,31.2],[59.8,32.5],[58,33.6],[56,34.3],[53.9,34.7],[51.8,34.8],[49.7,34.7],[47.6,34.3],[45.6,33.6],[43.8,32.5],[42.1,31.2],[40.7,29.6],[39.6,27.8],[38.8,25.9],[38.4,23.8],[38.3,21.7],[38.2,21.1],[38.3,20.5],[38.3,19.9],[38.4,19.2],[38.5,18.6],[38.7,18],[38.9,17.3],[39.1,16.7],[39.4,16.1],[39.7,15.4],[40,14.8],[40.4,14.2],[40.7,13.7],[41.2,13.1],[41.6,12.6],[42.1,12],[42.6,11.6],[43.2,11.1],[43.7,10.7],[44.3,10.3],[44.9,9.9],[45.5,9.6],[46.1,9.3],[46.8,9],[47.4,8.8],[48,8.6],[48.7,8.5],[49.3,8.3],[49.9,8.3],[50.6,8.2],[51.8,8.2]],[[153.5,21.7],[154.4,16.5],[157.4,12.1],[161.8,9.1],[167,8.2],[172.1,9.1],[176.4,12],[179.2,16.5],[180.1,21.7],[180,23.8],[179.6,25.9],[178.9,27.8],[177.8,29.6],[176.4,31.2],[174.8,32.6],[172.9,33.7],[171,34.5],[168.9,35],[166.8,35.3],[166.8,35.3],[164.2,34.9],[161.7,34],[159.4,32.8],[157.3,31.2],[154.4,26.9],[153.5,21.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[90,123,144,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[214.46,64.05],[214.46,88.96],[209.31,88.96],[208.36,88.9],[207.44,88.7],[206.56,88.34],[205.75,87.85],[205.03,87.24],[204.42,86.52],[203.93,85.71],[203.57,84.83],[203.37,83.91],[203.31,82.96],[203.31,69.6],[203.33,68.85],[203.46,68.1],[203.7,67.39],[204.04,66.71],[204.48,66.1],[205,65.55],[205.75,65],[206.58,64.56],[207.46,64.25],[208.38,64.08],[209.31,64.05],[214.46,64.05]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[239,75,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.32,32.69],[8.5,32.78],[9.64,33.11],[10.69,33.66],[11.6,34.41],[12.35,35.32],[12.9,36.37],[13.23,37.51],[13.32,38.69],[13.32,46.43],[13.3,47.19],[13.16,47.94],[12.92,48.66],[12.58,49.34],[12.14,49.96],[11.61,50.51],[10.65,51.21],[9.6,51.78],[8.48,52.19],[7.31,52.44],[0,52.44],[0,32.69],[7.32,32.69]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,211,106,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[197.7,103.2],[199.9,104.1],[200.7,106.2],[200.7,132.8],[200.7,133.4],[200.7,133.7],[200.6,134],[200.5,134.3],[200.3,134.6],[200.2,134.9],[200,135.2],[199.7,135.4],[199.5,135.6],[199.2,135.8],[198.9,136],[198.6,136.1],[198.3,136.2],[198,136.2],[197.7,136.3],[176.7,136.3],[174.3,135.2],[173.2,132.8],[173.2,106.2],[174.3,104.1],[176.7,103.2],[197.7,103.2]],[[159,103.2],[161,104.2],[162,106.2],[162,132.8],[161,135.2],[159,136.3],[137.5,136.3],[135.5,135.2],[134.5,132.8],[134.5,106.2],[134.6,105.7],[134.7,105.2],[135,104.8],[135.3,104.3],[135.6,104],[136.1,103.7],[136.5,103.4],[137,103.3],[137.5,103.2],[159,103.2]],[[123.8,103.2],[126,104.1],[126.8,106.2],[126.8,132.8],[126.1,135],[124.1,136.2],[123.8,136.3],[102.7,136.3],[102.1,136.2],[101.4,135.9],[100.9,135.6],[100.4,135.2],[99.9,134.7],[99.6,134.1],[99.4,133.5],[99.3,132.8],[99.3,106.2],[100.4,104.1],[102.7,103.2],[123.8,103.2]],[[85.1,103.2],[85.6,103.3],[86.1,103.4],[86.5,103.7],[87,104],[87.3,104.3],[87.6,104.8],[87.9,105.2],[88,105.7],[88.1,106.2],[88.1,132.8],[87.1,135.2],[85.1,136.3],[63.6,136.3],[61.6,135.2],[60.6,132.8],[60.6,106.2],[61.6,104.2],[63.6,103.2],[85.1,103.2]],[[37.8,82.5],[41.8,83.5],[45.2,85.8],[46.3,87.1],[47.2,88.5],[47.9,90],[48.4,91.6],[48.6,93.3],[48.6,126],[47.6,130.2],[45.2,133.7],[41.9,135.9],[37.9,136.7],[3.9,136.7],[3.9,82.5],[37.8,82.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[68,170,223,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[214.5,0],[214.5,155.6],[0,155.6],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,size:10,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Bold",height:10,horizontalAlignment:"Center",offsetX:0,offsetY:0,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[105,145,253,255]}]},verticalAlignment:"Center"},textString:"A"}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetY:11}]}}}),"Terminal Penumpang Tipe B":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:214.5,ymax:155.6},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[207.6,22.3],[212.6,24.2],[214.5,29.2],[214.5,112.2],[213.5,121],[211.1,129.1],[207.3,136.4],[202,142.9],[195.6,148.3],[188.4,152.2],[180.4,154.6],[171.5,155.6],[18,155.6],[15.2,155.3],[12.4,154.5],[9.8,153.4],[7.4,151.9],[5.2,150],[1.3,144.1],[0,137.1],[0,29.2],[2,24.3],[6.9,22.4],[207.6,22.4],[207.6,22.3]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[228,226,222,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[209.3,21.5],[210.1,21.6],[210.9,21.8],[211.7,22.1],[212.4,22.5],[213,23],[213.6,23.9],[214.1,24.9],[214.4,26],[214.5,27.1],[214.5,57.6],[0,57.6],[0,27.1],[1.5,23],[2.2,22.4],[3,22],[3.8,21.7],[4.7,21.5],[5.6,21.5],[209.3,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[110,180,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[0,57.6],[214.5,57.6],[214.5,69.6],[0,69.6],[0,57.6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[194.7,21.5],[192.4,32.5],[186.5,41.3],[177.9,47.1],[167,49],[156.2,47.1],[147.2,41.3],[141.1,32.4],[138.8,21.5],[194.7,21.5]],[[79.9,21.5],[77.7,32.4],[71.6,41.3],[68.2,44.1],[64.5,46.2],[60.4,47.8],[56.1,48.7],[51.8,49],[40.9,47.1],[32.2,41.3],[26.3,32.4],[24.1,21.5],[79.9,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,0],[60.2,1.4],[67.3,6],[72.1,13.1],[73.9,21.5],[72.1,29.9],[67.3,37],[60.2,41.6],[51.8,43],[43.4,41.6],[36.3,37],[31.7,30.1],[30.1,21.5],[31.7,12.9],[36.3,6],[43.4,1.4],[51.8,0]],[[151.5,6],[158.6,1.4],[167,0],[170.4,.2],[173.6,.9],[176.8,2.1],[179.6,3.8],[182.2,6],[186.7,12.9],[188.2,21.5],[186.7,30.1],[182.2,37],[179.6,39.2],[176.7,41],[173.5,42.3],[170.2,43.1],[166.8,43.4],[166.8,43.4],[158.5,41.6],[151.5,37],[146.8,29.9],[145.3,21.5],[146.9,12.9],[151.5,6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[44,59,71,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,8.2],[53.9,8.3],[56,8.8],[58,9.5],[59.9,10.6],[61.5,12],[62.9,13.6],[64,15.4],[64.7,17.3],[65.2,19.4],[65.3,21.5],[64.4,26.8],[61.5,31.2],[59.8,32.5],[58,33.6],[56,34.3],[53.9,34.7],[51.8,34.8],[49.7,34.7],[47.6,34.3],[45.6,33.6],[43.8,32.5],[42.1,31.2],[40.7,29.6],[39.6,27.8],[38.8,25.9],[38.4,23.8],[38.3,21.7],[38.2,21.1],[38.3,20.5],[38.3,19.9],[38.4,19.2],[38.5,18.6],[38.7,18],[38.9,17.3],[39.1,16.7],[39.4,16.1],[39.7,15.4],[40,14.8],[40.4,14.2],[40.7,13.7],[41.2,13.1],[41.6,12.6],[42.1,12],[42.6,11.6],[43.2,11.1],[43.7,10.7],[44.3,10.3],[44.9,9.9],[45.5,9.6],[46.1,9.3],[46.8,9],[47.4,8.8],[48,8.6],[48.7,8.5],[49.3,8.3],[49.9,8.3],[50.6,8.2],[51.8,8.2]],[[153.5,21.7],[154.4,16.5],[157.4,12.1],[161.8,9.1],[167,8.2],[172.1,9.1],[176.4,12],[179.2,16.5],[180.1,21.7],[180,23.8],[179.6,25.9],[178.9,27.8],[177.8,29.6],[176.4,31.2],[174.8,32.6],[172.9,33.7],[171,34.5],[168.9,35],[166.8,35.3],[166.8,35.3],[164.2,34.9],[161.7,34],[159.4,32.8],[157.3,31.2],[154.4,26.9],[153.5,21.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[90,123,144,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[214.46,64.05],[214.46,88.96],[209.31,88.96],[208.36,88.9],[207.44,88.7],[206.56,88.34],[205.75,87.85],[205.03,87.24],[204.42,86.52],[203.93,85.71],[203.57,84.83],[203.37,83.91],[203.31,82.96],[203.31,69.6],[203.33,68.85],[203.46,68.1],[203.7,67.39],[204.04,66.71],[204.48,66.1],[205,65.55],[205.75,65],[206.58,64.56],[207.46,64.25],[208.38,64.08],[209.31,64.05],[214.46,64.05]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[239,75,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.32,32.69],[8.5,32.78],[9.64,33.11],[10.69,33.66],[11.6,34.41],[12.35,35.32],[12.9,36.37],[13.23,37.51],[13.32,38.69],[13.32,46.43],[13.3,47.19],[13.16,47.94],[12.92,48.66],[12.58,49.34],[12.14,49.96],[11.61,50.51],[10.65,51.21],[9.6,51.78],[8.48,52.19],[7.31,52.44],[0,52.44],[0,32.69],[7.32,32.69]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,211,106,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[197.7,103.2],[199.9,104.1],[200.7,106.2],[200.7,132.8],[200.7,133.4],[200.7,133.7],[200.6,134],[200.5,134.3],[200.3,134.6],[200.2,134.9],[200,135.2],[199.7,135.4],[199.5,135.6],[199.2,135.8],[198.9,136],[198.6,136.1],[198.3,136.2],[198,136.2],[197.7,136.3],[176.7,136.3],[174.3,135.2],[173.2,132.8],[173.2,106.2],[174.3,104.1],[176.7,103.2],[197.7,103.2]],[[159,103.2],[161,104.2],[162,106.2],[162,132.8],[161,135.2],[159,136.3],[137.5,136.3],[135.5,135.2],[134.5,132.8],[134.5,106.2],[134.6,105.7],[134.7,105.2],[135,104.8],[135.3,104.3],[135.6,104],[136.1,103.7],[136.5,103.4],[137,103.3],[137.5,103.2],[159,103.2]],[[123.8,103.2],[126,104.1],[126.8,106.2],[126.8,132.8],[126.1,135],[124.1,136.2],[123.8,136.3],[102.7,136.3],[102.1,136.2],[101.4,135.9],[100.9,135.6],[100.4,135.2],[99.9,134.7],[99.6,134.1],[99.4,133.5],[99.3,132.8],[99.3,106.2],[100.4,104.1],[102.7,103.2],[123.8,103.2]],[[85.1,103.2],[85.6,103.3],[86.1,103.4],[86.5,103.7],[87,104],[87.3,104.3],[87.6,104.8],[87.9,105.2],[88,105.7],[88.1,106.2],[88.1,132.8],[87.1,135.2],[85.1,136.3],[63.6,136.3],[61.6,135.2],[60.6,132.8],[60.6,106.2],[61.6,104.2],[63.6,103.2],[85.1,103.2]],[[37.8,82.5],[41.8,83.5],[45.2,85.8],[46.3,87.1],[47.2,88.5],[47.9,90],[48.4,91.6],[48.6,93.3],[48.6,126],[47.6,130.2],[45.2,133.7],[41.9,135.9],[37.9,136.7],[3.9,136.7],[3.9,82.5],[37.8,82.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[68,170,223,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[214.5,0],[214.5,155.6],[0,155.6],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,size:10,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Bold",height:10,horizontalAlignment:"Center",offsetX:0,offsetY:0,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,0,0,255]}]},verticalAlignment:"Center"},textString:"B"}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetY:11}]}}}),"Terminal Penumpang Tipe C":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:214.5,ymax:155.6},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[207.6,22.3],[212.6,24.2],[214.5,29.2],[214.5,112.2],[213.5,121],[211.1,129.1],[207.3,136.4],[202,142.9],[195.6,148.3],[188.4,152.2],[180.4,154.6],[171.5,155.6],[18,155.6],[15.2,155.3],[12.4,154.5],[9.8,153.4],[7.4,151.9],[5.2,150],[1.3,144.1],[0,137.1],[0,29.2],[2,24.3],[6.9,22.4],[207.6,22.4],[207.6,22.3]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[228,226,222,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[209.3,21.5],[210.1,21.6],[210.9,21.8],[211.7,22.1],[212.4,22.5],[213,23],[213.6,23.9],[214.1,24.9],[214.4,26],[214.5,27.1],[214.5,57.6],[0,57.6],[0,27.1],[1.5,23],[2.2,22.4],[3,22],[3.8,21.7],[4.7,21.5],[5.6,21.5],[209.3,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[110,180,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[0,57.6],[214.5,57.6],[214.5,69.6],[0,69.6],[0,57.6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[194.7,21.5],[192.4,32.5],[186.5,41.3],[177.9,47.1],[167,49],[156.2,47.1],[147.2,41.3],[141.1,32.4],[138.8,21.5],[194.7,21.5]],[[79.9,21.5],[77.7,32.4],[71.6,41.3],[68.2,44.1],[64.5,46.2],[60.4,47.8],[56.1,48.7],[51.8,49],[40.9,47.1],[32.2,41.3],[26.3,32.4],[24.1,21.5],[79.9,21.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[78,130,60,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,0],[60.2,1.4],[67.3,6],[72.1,13.1],[73.9,21.5],[72.1,29.9],[67.3,37],[60.2,41.6],[51.8,43],[43.4,41.6],[36.3,37],[31.7,30.1],[30.1,21.5],[31.7,12.9],[36.3,6],[43.4,1.4],[51.8,0]],[[151.5,6],[158.6,1.4],[167,0],[170.4,.2],[173.6,.9],[176.8,2.1],[179.6,3.8],[182.2,6],[186.7,12.9],[188.2,21.5],[186.7,30.1],[182.2,37],[179.6,39.2],[176.7,41],[173.5,42.3],[170.2,43.1],[166.8,43.4],[166.8,43.4],[158.5,41.6],[151.5,37],[146.8,29.9],[145.3,21.5],[146.9,12.9],[151.5,6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[44,59,71,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[51.8,8.2],[53.9,8.3],[56,8.8],[58,9.5],[59.9,10.6],[61.5,12],[62.9,13.6],[64,15.4],[64.7,17.3],[65.2,19.4],[65.3,21.5],[64.4,26.8],[61.5,31.2],[59.8,32.5],[58,33.6],[56,34.3],[53.9,34.7],[51.8,34.8],[49.7,34.7],[47.6,34.3],[45.6,33.6],[43.8,32.5],[42.1,31.2],[40.7,29.6],[39.6,27.8],[38.8,25.9],[38.4,23.8],[38.3,21.7],[38.2,21.1],[38.3,20.5],[38.3,19.9],[38.4,19.2],[38.5,18.6],[38.7,18],[38.9,17.3],[39.1,16.7],[39.4,16.1],[39.7,15.4],[40,14.8],[40.4,14.2],[40.7,13.7],[41.2,13.1],[41.6,12.6],[42.1,12],[42.6,11.6],[43.2,11.1],[43.7,10.7],[44.3,10.3],[44.9,9.9],[45.5,9.6],[46.1,9.3],[46.8,9],[47.4,8.8],[48,8.6],[48.7,8.5],[49.3,8.3],[49.9,8.3],[50.6,8.2],[51.8,8.2]],[[153.5,21.7],[154.4,16.5],[157.4,12.1],[161.8,9.1],[167,8.2],[172.1,9.1],[176.4,12],[179.2,16.5],[180.1,21.7],[180,23.8],[179.6,25.9],[178.9,27.8],[177.8,29.6],[176.4,31.2],[174.8,32.6],[172.9,33.7],[171,34.5],[168.9,35],[166.8,35.3],[166.8,35.3],[164.2,34.9],[161.7,34],[159.4,32.8],[157.3,31.2],[154.4,26.9],[153.5,21.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[90,123,144,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[214.46,64.05],[214.46,88.96],[209.31,88.96],[208.36,88.9],[207.44,88.7],[206.56,88.34],[205.75,87.85],[205.03,87.24],[204.42,86.52],[203.93,85.71],[203.57,84.83],[203.37,83.91],[203.31,82.96],[203.31,69.6],[203.33,68.85],[203.46,68.1],[203.7,67.39],[204.04,66.71],[204.48,66.1],[205,65.55],[205.75,65],[206.58,64.56],[207.46,64.25],[208.38,64.08],[209.31,64.05],[214.46,64.05]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[239,75,68,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.32,32.69],[8.5,32.78],[9.64,33.11],[10.69,33.66],[11.6,34.41],[12.35,35.32],[12.9,36.37],[13.23,37.51],[13.32,38.69],[13.32,46.43],[13.3,47.19],[13.16,47.94],[12.92,48.66],[12.58,49.34],[12.14,49.96],[11.61,50.51],[10.65,51.21],[9.6,51.78],[8.48,52.19],[7.31,52.44],[0,52.44],[0,32.69],[7.32,32.69]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,211,106,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[197.7,103.2],[199.9,104.1],[200.7,106.2],[200.7,132.8],[200.7,133.4],[200.7,133.7],[200.6,134],[200.5,134.3],[200.3,134.6],[200.2,134.9],[200,135.2],[199.7,135.4],[199.5,135.6],[199.2,135.8],[198.9,136],[198.6,136.1],[198.3,136.2],[198,136.2],[197.7,136.3],[176.7,136.3],[174.3,135.2],[173.2,132.8],[173.2,106.2],[174.3,104.1],[176.7,103.2],[197.7,103.2]],[[159,103.2],[161,104.2],[162,106.2],[162,132.8],[161,135.2],[159,136.3],[137.5,136.3],[135.5,135.2],[134.5,132.8],[134.5,106.2],[134.6,105.7],[134.7,105.2],[135,104.8],[135.3,104.3],[135.6,104],[136.1,103.7],[136.5,103.4],[137,103.3],[137.5,103.2],[159,103.2]],[[123.8,103.2],[126,104.1],[126.8,106.2],[126.8,132.8],[126.1,135],[124.1,136.2],[123.8,136.3],[102.7,136.3],[102.1,136.2],[101.4,135.9],[100.9,135.6],[100.4,135.2],[99.9,134.7],[99.6,134.1],[99.4,133.5],[99.3,132.8],[99.3,106.2],[100.4,104.1],[102.7,103.2],[123.8,103.2]],[[85.1,103.2],[85.6,103.3],[86.1,103.4],[86.5,103.7],[87,104],[87.3,104.3],[87.6,104.8],[87.9,105.2],[88,105.7],[88.1,106.2],[88.1,132.8],[87.1,135.2],[85.1,136.3],[63.6,136.3],[61.6,135.2],[60.6,132.8],[60.6,106.2],[61.6,104.2],[63.6,103.2],[85.1,103.2]],[[37.8,82.5],[41.8,83.5],[45.2,85.8],[46.3,87.1],[47.2,88.5],[47.9,90],[48.4,91.6],[48.6,93.3],[48.6,126],[47.6,130.2],[45.2,133.7],[41.9,135.9],[37.9,136.7],[3.9,136.7],[3.9,82.5],[37.8,82.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[68,170,223,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[214.5,0],[214.5,155.6],[0,155.6],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,size:10,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Bold",height:10,horizontalAlignment:"Center",offsetX:0,offsetY:0,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[142,103,253,255]}]},verticalAlignment:"Center"},textString:"C"}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetY:11}]}}}),"Terminal Barang":new Sl({url:"./img/simbol/bus.png",width:"40px",height:"40px"}),"Jembatan Timbang":new Sl({url:"./img/simbol/JembatanTimbang.png",width:"10px",height:"10px"}),Jembatan:new Sl({url:"./img/simbol/jembatan.png",width:"10px",height:"10px"}),"Stasiun Penumpang":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:9.89,ymax:9.89},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.71,.18],[8.87,.19],[9.02,.23],[9.17,.29],[9.3,.37],[9.42,.47],[9.52,.59],[9.6,.72],[9.66,.87],[9.7,1.02],[9.71,1.18],[9.71,8.71],[9.7,8.87],[9.66,9.02],[9.6,9.17],[9.52,9.3],[9.42,9.42],[9.3,9.52],[9.17,9.6],[9.02,9.66],[8.87,9.7],[8.71,9.71],[1.18,9.69],[1.02,9.68],[.87,9.64],[.72,9.58],[.59,9.5],[.47,9.4],[.37,9.28],[.29,9.15],[.23,9],[.19,8.85],[.18,8.69],[.18,1.18],[.19,1.02],[.23,.87],[.29,.72],[.37,.59],[.47,.47],[.59,.37],[.72,.29],[.87,.23],[1.02,.19],[1.18,.18],[8.71,.18]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[4.77,6.7],[4.77,7.95],[3.83,7.95],[3.58,7.7],[3.58,6.95],[3.83,6.7],[4.77,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.06,6.7],[6.31,6.95],[6.31,7.7],[6.06,7.95],[5.12,7.95],[5.12,6.7],[6.06,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.24,3.2],[5.99,3.7],[3.9,3.7],[3.65,3.2],[6.24,3.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[5.57,4.57],[6.32,4.57],[6.32,5.32],[5.57,5.32],[5.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[3.57,4.57],[4.32,4.57],[4.32,5.32],[3.57,5.32],[3.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.74,2.2],[6.49,2.7],[3.4,2.7],[3.15,2.2],[6.74,2.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.24,1.2],[7,1.7],[2.91,1.7],[2.66,1.2],[2.08,1.2],[3.38,3.8],[3.11,4.14],[3,4.56],[3,8.02],[3.54,8.7],[4.54,8.7],[4.54,8.36],[5.54,8.36],[5.54,8.7],[6.54,8.7],[7.08,8.02],[7.08,4.56],[7.04,4.38],[6.98,4.22],[6.89,4.06],[6.78,3.92],[6.65,3.8],[7.95,1.2],[7.24,1.2]],[[8.71,0],[8.91,.02],[9.11,.07],[9.3,.16],[9.46,.28],[9.61,.43],[9.73,.59],[9.82,.78],[9.87,.98],[9.89,1.18],[9.89,8.71],[9.87,8.91],[9.82,9.11],[9.73,9.3],[9.61,9.46],[9.46,9.61],[9.3,9.73],[9.11,9.82],[8.91,9.87],[8.71,9.89],[1.18,9.89],[.73,9.8],[.35,9.54],[.09,9.16],[0,8.71],[0,1.18],[.09,.73],[.35,.35],[.73,.09],[1.18,0],[8.71,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,112,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[9.89,0],[9.89,9.89],[0,9.89],[0,0]]]}}}]}}}),"Stasiun Barang":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:9.89,ymax:9.89},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.71,.18],[8.87,.19],[9.02,.23],[9.17,.29],[9.3,.37],[9.42,.47],[9.52,.59],[9.6,.72],[9.66,.87],[9.7,1.02],[9.71,1.18],[9.71,8.71],[9.7,8.87],[9.66,9.02],[9.6,9.17],[9.52,9.3],[9.42,9.42],[9.3,9.52],[9.17,9.6],[9.02,9.66],[8.87,9.7],[8.71,9.71],[1.18,9.69],[1.02,9.68],[.87,9.64],[.72,9.58],[.59,9.5],[.47,9.4],[.37,9.28],[.29,9.15],[.23,9],[.19,8.85],[.18,8.69],[.18,1.18],[.19,1.02],[.23,.87],[.29,.72],[.37,.59],[.47,.47],[.59,.37],[.72,.29],[.87,.23],[1.02,.19],[1.18,.18],[8.71,.18]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[4.77,6.7],[4.77,7.95],[3.83,7.95],[3.58,7.7],[3.58,6.95],[3.83,6.7],[4.77,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.06,6.7],[6.31,6.95],[6.31,7.7],[6.06,7.95],[5.12,7.95],[5.12,6.7],[6.06,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.24,3.2],[5.99,3.7],[3.9,3.7],[3.65,3.2],[6.24,3.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[5.57,4.57],[6.32,4.57],[6.32,5.32],[5.57,5.32],[5.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[3.57,4.57],[4.32,4.57],[4.32,5.32],[3.57,5.32],[3.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.74,2.2],[6.49,2.7],[3.4,2.7],[3.15,2.2],[6.74,2.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.24,1.2],[7,1.7],[2.91,1.7],[2.66,1.2],[2.08,1.2],[3.38,3.8],[3.11,4.14],[3,4.56],[3,8.02],[3.54,8.7],[4.54,8.7],[4.54,8.36],[5.54,8.36],[5.54,8.7],[6.54,8.7],[7.08,8.02],[7.08,4.56],[7.04,4.38],[6.98,4.22],[6.89,4.06],[6.78,3.92],[6.65,3.8],[7.95,1.2],[7.24,1.2]],[[8.71,0],[8.91,.02],[9.11,.07],[9.3,.16],[9.46,.28],[9.61,.43],[9.73,.59],[9.82,.78],[9.87,.98],[9.89,1.18],[9.89,8.71],[9.87,8.91],[9.82,9.11],[9.73,9.3],[9.61,9.46],[9.46,9.61],[9.3,9.73],[9.11,9.82],[8.91,9.87],[8.71,9.89],[1.18,9.89],[.73,9.8],[.35,9.54],[.09,9.16],[0,8.71],[0,1.18],[.09,.73],[.35,.35],[.73,.09],[1.18,0],[8.71,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[9.89,0],[9.89,9.89],[0,9.89],[0,0]]]}}}]}}}),"Stasiun Operasi":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:9.89,ymax:9.89},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.71,.18],[8.87,.19],[9.02,.23],[9.17,.29],[9.3,.37],[9.42,.47],[9.52,.59],[9.6,.72],[9.66,.87],[9.7,1.02],[9.71,1.18],[9.71,8.71],[9.7,8.87],[9.66,9.02],[9.6,9.17],[9.52,9.3],[9.42,9.42],[9.3,9.52],[9.17,9.6],[9.02,9.66],[8.87,9.7],[8.71,9.71],[1.18,9.69],[1.02,9.68],[.87,9.64],[.72,9.58],[.59,9.5],[.47,9.4],[.37,9.28],[.29,9.15],[.23,9],[.19,8.85],[.18,8.69],[.18,1.18],[.19,1.02],[.23,.87],[.29,.72],[.37,.59],[.47,.47],[.59,.37],[.72,.29],[.87,.23],[1.02,.19],[1.18,.18],[8.71,.18]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[4.77,6.7],[4.77,7.95],[3.83,7.95],[3.58,7.7],[3.58,6.95],[3.83,6.7],[4.77,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.06,6.7],[6.31,6.95],[6.31,7.7],[6.06,7.95],[5.12,7.95],[5.12,6.7],[6.06,6.7]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.24,3.2],[5.99,3.7],[3.9,3.7],[3.65,3.2],[6.24,3.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[5.57,4.57],[6.32,4.57],[6.32,5.32],[5.57,5.32],[5.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[3.57,4.57],[4.32,4.57],[4.32,5.32],[3.57,5.32],[3.57,4.57]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[6.74,2.2],[6.49,2.7],[3.4,2.7],[3.15,2.2],[6.74,2.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}},{type:"CIMMarkerGraphic",geometry:{rings:[[[7.24,1.2],[7,1.7],[2.91,1.7],[2.66,1.2],[2.08,1.2],[3.38,3.8],[3.11,4.14],[3,4.56],[3,8.02],[3.54,8.7],[4.54,8.7],[4.54,8.36],[5.54,8.36],[5.54,8.7],[6.54,8.7],[7.08,8.02],[7.08,4.56],[7.04,4.38],[6.98,4.22],[6.89,4.06],[6.78,3.92],[6.65,3.8],[7.95,1.2],[7.24,1.2]],[[8.71,0],[8.91,.02],[9.11,.07],[9.3,.16],[9.46,.28],[9.61,.43],[9.73,.59],[9.82,.78],[9.87,.98],[9.89,1.18],[9.89,8.71],[9.87,8.91],[9.82,9.11],[9.73,9.3],[9.61,9.46],[9.46,9.61],[9.3,9.73],[9.11,9.82],[8.91,9.87],[8.71,9.89],[1.18,9.89],[.73,9.8],[.35,9.54],[.09,9.16],[0,8.71],[0,1.18],[.09,.73],[.35,.35],[.73,.09],[1.18,0],[8.71,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[245,50,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[9.89,0],[9.89,9.89],[0,9.89],[0,0]]]}}}]}}}),"Pelabuhan Sungai dan Danau Utama":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:11,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:212.6,ymax:218.4},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[106.1,161.1],[103.3,161.2],[100.6,161.8],[98.1,162.9],[95.7,164.3],[93.6,166.1],[89.8,171.7],[88.6,178.4],[89.8,185.3],[93.6,191.1],[95.7,192.9],[98.1,194.3],[100.7,195.3],[103.3,195.9],[106.1,196],[112.9,194.8],[118.8,191.1],[120.6,189],[122.1,186.7],[123.2,184.1],[123.8,181.4],[123.9,178.6],[123.8,175.8],[123.2,173.1],[122.1,170.5],[120.6,168.2],[118.8,166.1],[116.6,164.4],[114.2,163],[111.6,161.9],[108.9,161.3],[106.1,161.1]],[[106.3,0],[124.5,1.7],[142,6.9],[158.1,15.5],[172.1,27.1],[182,38.6],[189.8,51.7],[195.3,65.8],[202.6,65.8],[207.7,67.1],[211.2,70.5],[212.7,75.2],[211.6,80],[193.1,117.4],[189.4,121.5],[184.3,122.9],[179.2,121.5],[175.5,117.4],[157,80],[156.4,78.7],[156.1,77.3],[156,75.9],[156.1,74.5],[156.4,73.1],[156.9,71.7],[157.6,70.5],[161.2,67.1],[166,65.8],[171.6,65.8],[162.6,50.4],[150.1,37.6],[140.1,31],[129.1,26.1],[117.5,23.2],[117.5,106.2],[148.5,106.2],[152.9,107],[156.6,109.4],[159.1,113],[160,117.4],[159.1,121.8],[156.6,125.4],[152.9,127.8],[148.5,128.6],[117.5,128.6],[117.5,140.2],[123.5,142.5],[129,145.6],[134,149.6],[138.3,154.4],[144.4,165.7],[146.3,178.4],[143.2,194.1],[139.6,200.9],[134.7,207],[128.7,212],[122,215.5],[114.5,217.7],[106.3,218.4],[98.1,217.7],[90.5,215.6],[83.8,212],[77.7,207],[72.7,201],[69.1,194.2],[66.8,186.6],[65.9,178.4],[65.9,176.8],[66,175.3],[66.2,173.8],[66.4,172.2],[66.7,170.7],[67.1,169.1],[67.5,167.6],[68,166],[68.6,164.5],[69.2,163],[69.9,161.5],[70.6,160],[71.4,158.5],[72.3,157.1],[73.2,155.7],[74.2,154.4],[75.2,153.1],[76.3,151.8],[77.5,150.6],[78.7,149.5],[79.9,148.4],[81.2,147.3],[82.5,146.3],[83.8,145.4],[85.2,144.5],[86.6,143.7],[88,142.9],[89.4,142.3],[90.8,141.6],[92.3,141.1],[95.2,140.1],[95.2,128.6],[64.2,128.6],[63.7,128.6],[61.8,128.4],[59.9,127.8],[58.2,127],[56.6,125.9],[55.3,124.5],[54.2,122.9],[53.3,121.2],[52.8,119.3],[52.6,117.4],[53.5,113],[56,109.3],[59.8,106.9],[64.2,106.2],[95.2,106.2],[95.2,23.2],[83.5,26.1],[72.5,30.9],[62.5,37.6],[53.8,45.8],[46.6,55.3],[41,65.8],[46.5,65.8],[51.3,67.1],[54.9,70.5],[55.7,72],[56.2,73.5],[56.5,75.2],[56.5,76.8],[56.2,78.4],[55.6,80],[37.1,117.4],[33.1,121.5],[28.1,122.9],[23.1,121.5],[19.5,117.4],[1,80],[.4,78.5],[.1,76.8],[0,75.2],[.2,73.6],[.7,72],[1.4,70.5],[4.9,67.1],[9.6,65.8],[17.4,65.8],[22.9,51.6],[30.7,38.6],[40.6,27.1],[54.6,15.5],[70.7,6.9],[82.2,3.1],[94.2,.7],[106.3,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[105,145,253,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[212.6,0],[212.6,218.4],[0,218.4],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[105,145,253,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Pelabuhan Sungai dan Danau Pengumpul":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:11,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:212.6,ymax:218.4},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[106.1,161.1],[103.3,161.2],[100.6,161.8],[98.1,162.9],[95.7,164.3],[93.6,166.1],[89.8,171.7],[88.6,178.4],[89.8,185.3],[93.6,191.1],[95.7,192.9],[98.1,194.3],[100.7,195.3],[103.3,195.9],[106.1,196],[112.9,194.8],[118.8,191.1],[120.6,189],[122.1,186.7],[123.2,184.1],[123.8,181.4],[123.9,178.6],[123.8,175.8],[123.2,173.1],[122.1,170.5],[120.6,168.2],[118.8,166.1],[116.6,164.4],[114.2,163],[111.6,161.9],[108.9,161.3],[106.1,161.1]],[[106.3,0],[124.5,1.7],[142,6.9],[158.1,15.5],[172.1,27.1],[182,38.6],[189.8,51.7],[195.3,65.8],[202.6,65.8],[207.7,67.1],[211.2,70.5],[212.7,75.2],[211.6,80],[193.1,117.4],[189.4,121.5],[184.3,122.9],[179.2,121.5],[175.5,117.4],[157,80],[156.4,78.7],[156.1,77.3],[156,75.9],[156.1,74.5],[156.4,73.1],[156.9,71.7],[157.6,70.5],[161.2,67.1],[166,65.8],[171.6,65.8],[162.6,50.4],[150.1,37.6],[140.1,31],[129.1,26.1],[117.5,23.2],[117.5,106.2],[148.5,106.2],[152.9,107],[156.6,109.4],[159.1,113],[160,117.4],[159.1,121.8],[156.6,125.4],[152.9,127.8],[148.5,128.6],[117.5,128.6],[117.5,140.2],[123.5,142.5],[129,145.6],[134,149.6],[138.3,154.4],[144.4,165.7],[146.3,178.4],[143.2,194.1],[139.6,200.9],[134.7,207],[128.7,212],[122,215.5],[114.5,217.7],[106.3,218.4],[98.1,217.7],[90.5,215.6],[83.8,212],[77.7,207],[72.7,201],[69.1,194.2],[66.8,186.6],[65.9,178.4],[65.9,176.8],[66,175.3],[66.2,173.8],[66.4,172.2],[66.7,170.7],[67.1,169.1],[67.5,167.6],[68,166],[68.6,164.5],[69.2,163],[69.9,161.5],[70.6,160],[71.4,158.5],[72.3,157.1],[73.2,155.7],[74.2,154.4],[75.2,153.1],[76.3,151.8],[77.5,150.6],[78.7,149.5],[79.9,148.4],[81.2,147.3],[82.5,146.3],[83.8,145.4],[85.2,144.5],[86.6,143.7],[88,142.9],[89.4,142.3],[90.8,141.6],[92.3,141.1],[95.2,140.1],[95.2,128.6],[64.2,128.6],[63.7,128.6],[61.8,128.4],[59.9,127.8],[58.2,127],[56.6,125.9],[55.3,124.5],[54.2,122.9],[53.3,121.2],[52.8,119.3],[52.6,117.4],[53.5,113],[56,109.3],[59.8,106.9],[64.2,106.2],[95.2,106.2],[95.2,23.2],[83.5,26.1],[72.5,30.9],[62.5,37.6],[53.8,45.8],[46.6,55.3],[41,65.8],[46.5,65.8],[51.3,67.1],[54.9,70.5],[55.7,72],[56.2,73.5],[56.5,75.2],[56.5,76.8],[56.2,78.4],[55.6,80],[37.1,117.4],[33.1,121.5],[28.1,122.9],[23.1,121.5],[19.5,117.4],[1,80],[.4,78.5],[.1,76.8],[0,75.2],[.2,73.6],[.7,72],[1.4,70.5],[4.9,67.1],[9.6,65.8],[17.4,65.8],[22.9,51.6],[30.7,38.6],[40.6,27.1],[54.6,15.5],[70.7,6.9],[82.2,3.1],[94.2,.7],[106.3,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,0,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[212.6,0],[212.6,218.4],[0,218.4],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[255,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Pelabuhan Sungai dan Danau Pengumpan":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:11,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:212.6,ymax:218.4},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[106.1,161.1],[103.3,161.2],[100.6,161.8],[98.1,162.9],[95.7,164.3],[93.6,166.1],[89.8,171.7],[88.6,178.4],[89.8,185.3],[93.6,191.1],[95.7,192.9],[98.1,194.3],[100.7,195.3],[103.3,195.9],[106.1,196],[112.9,194.8],[118.8,191.1],[120.6,189],[122.1,186.7],[123.2,184.1],[123.8,181.4],[123.9,178.6],[123.8,175.8],[123.2,173.1],[122.1,170.5],[120.6,168.2],[118.8,166.1],[116.6,164.4],[114.2,163],[111.6,161.9],[108.9,161.3],[106.1,161.1]],[[106.3,0],[124.5,1.7],[142,6.9],[158.1,15.5],[172.1,27.1],[182,38.6],[189.8,51.7],[195.3,65.8],[202.6,65.8],[207.7,67.1],[211.2,70.5],[212.7,75.2],[211.6,80],[193.1,117.4],[189.4,121.5],[184.3,122.9],[179.2,121.5],[175.5,117.4],[157,80],[156.4,78.7],[156.1,77.3],[156,75.9],[156.1,74.5],[156.4,73.1],[156.9,71.7],[157.6,70.5],[161.2,67.1],[166,65.8],[171.6,65.8],[162.6,50.4],[150.1,37.6],[140.1,31],[129.1,26.1],[117.5,23.2],[117.5,106.2],[148.5,106.2],[152.9,107],[156.6,109.4],[159.1,113],[160,117.4],[159.1,121.8],[156.6,125.4],[152.9,127.8],[148.5,128.6],[117.5,128.6],[117.5,140.2],[123.5,142.5],[129,145.6],[134,149.6],[138.3,154.4],[144.4,165.7],[146.3,178.4],[143.2,194.1],[139.6,200.9],[134.7,207],[128.7,212],[122,215.5],[114.5,217.7],[106.3,218.4],[98.1,217.7],[90.5,215.6],[83.8,212],[77.7,207],[72.7,201],[69.1,194.2],[66.8,186.6],[65.9,178.4],[65.9,176.8],[66,175.3],[66.2,173.8],[66.4,172.2],[66.7,170.7],[67.1,169.1],[67.5,167.6],[68,166],[68.6,164.5],[69.2,163],[69.9,161.5],[70.6,160],[71.4,158.5],[72.3,157.1],[73.2,155.7],[74.2,154.4],[75.2,153.1],[76.3,151.8],[77.5,150.6],[78.7,149.5],[79.9,148.4],[81.2,147.3],[82.5,146.3],[83.8,145.4],[85.2,144.5],[86.6,143.7],[88,142.9],[89.4,142.3],[90.8,141.6],[92.3,141.1],[95.2,140.1],[95.2,128.6],[64.2,128.6],[63.7,128.6],[61.8,128.4],[59.9,127.8],[58.2,127],[56.6,125.9],[55.3,124.5],[54.2,122.9],[53.3,121.2],[52.8,119.3],[52.6,117.4],[53.5,113],[56,109.3],[59.8,106.9],[64.2,106.2],[95.2,106.2],[95.2,23.2],[83.5,26.1],[72.5,30.9],[62.5,37.6],[53.8,45.8],[46.6,55.3],[41,65.8],[46.5,65.8],[51.3,67.1],[54.9,70.5],[55.7,72],[56.2,73.5],[56.5,75.2],[56.5,76.8],[56.2,78.4],[55.6,80],[37.1,117.4],[33.1,121.5],[28.1,122.9],[23.1,121.5],[19.5,117.4],[1,80],[.4,78.5],[.1,76.8],[0,75.2],[.2,73.6],[.7,72],[1.4,70.5],[4.9,67.1],[9.6,65.8],[17.4,65.8],[22.9,51.6],[30.7,38.6],[40.6,27.1],[54.6,15.5],[70.7,6.9],[82.2,3.1],[94.2,.7],[106.3,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[142,103,253,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[212.6,0],[212.6,218.4],[0,218.4],[0,0]]]}}},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:13,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[142,103,253,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})},d8e={"Saluran Udara Tegangan Ultra Tinggi (SUTUT)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,150,0,255]}]}}}),"Saluran Udara Tegangan Ekstra Tinggi (SUTET)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[255,0,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,150,0,255]}]}}}),"Saluran Udara Tegangan Tinggi (SUTT)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[142,103,253,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,150,0,255]}]}}}),"Saluran Udara Tegangan Tinggi Arus Searah (SUTTAS)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[0,230,77,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,150,0,255]}]}}}),"Saluran Transmisi Lainnya":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[135,135,135,255]}]}}}),"Saluran Udara Tegangan Menengah (SUTM)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,210,30,255]}]}}}),"Saluran Udara Tegangan Rendah (SUTR)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[255,0,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,210,30,255]}]}}}),"Saluran Kabel Tegangan Menengah (SKTM)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[142,103,253,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[255,210,30,255]}]}}}),"Saluran Distribusi Lainnya":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[255,210,30,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[135,135,135,255]}]}}}),"Jaringan Pipa/Kabel Bawah Laut Penyaluran Tenaga Listrik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-2903178981104778e-21},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[209,178],[31,-1],[209,-179],[178,-209],[0,-32],[-178,-209],[-209,-179],[-31,-1],[-209,177],[-178,208],[0,30],[178,209],[209,178]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:4,width:0,color:[0,0,128,217]},{type:"CIMSolidFill",enable:!0,color:[255,150,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},rotateClockwise:!1},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:4,color:[130,70,0,255]}]}}})},p8e={"Pembangkit Listrik Tenaga Air (PLTA)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,70,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Uap (PLTU)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,180,250,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Gas (PLTG)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,255,190,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Diesel (PLTD)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[168,56,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Nuklir (PLTN)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Surya (PLTS)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Bayu (PLTB)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[195,0,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Panas Bumi (PLTP)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,0,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Tenaga Mikro Hidro (PLTMH)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[70,230,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Pembangkit Listrik Lainnya":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[177.2,111.2],[129.6,111.6],[185,169.4],[133,169.4],[181.1,227.7],[123.2,227.7],[65,155.3],[116.5,155.3],[65,87.4],[117.5,87.4],[67.5,12.1],[177.2,111.2]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[140,140,140,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}}),"Gardu Listrik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:250,ymax:250},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[197.4,26.6],[197.4,127.3],[220.8,127.3],[184.8,164.1],[184.8,211.1],[155.3,211.1],[155.3,191.5],[126.9,223.4],[29.3,128],[59,128],[58.3,26.6],[197.4,26.6]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,0,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[250,0],[250,250],[0,250],[0,0]]]}}}]}}})},f8e={"Jaringan Tetap":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:8,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]}},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:5,color:[60,170,0,255]}]}}}),"Infrastruktur Jaringan Tetap":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,colorLocked:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:21},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[11,13.01],[11,8.01],[13,8.01],[13,4.09],[10.41,4.09],[10.4,4.09],[10.32,4.09],[10.23,4.1],[10.15,4.11],[10.07,4.12],[9.99,4.14],[9.91,4.16],[9.83,4.18],[9.75,4.21],[9.67,4.25],[9.6,4.28],[9.52,4.32],[9.45,4.37],[9.38,4.41],[9.31,4.46],[9.25,4.52],[9.18,4.58],[9.13,4.63],[9.08,4.68],[9.04,4.74],[8.99,4.79],[8.96,4.84],[8.93,4.9],[8.9,4.95],[8.87,5.01],[8.81,5.15],[8.76,5.29],[8.71,5.43],[8.66,5.57],[8.62,5.71],[8.57,5.85],[8.53,6],[8.48,6.14],[8.44,6.28],[8.4,6.43],[8.37,6.57],[8.33,6.72],[8.3,6.86],[8.27,7.01],[8.24,7.15],[8.21,7.3],[8.18,7.44],[8.16,7.59],[8.14,7.73],[8.12,7.87],[8.1,8.02],[8.08,8.16],[8.06,8.31],[8.05,8.45],[8.04,8.59],[8.03,8.74],[8.02,8.88],[8.01,9.03],[8,9.18],[8,9.32],[8,9.47],[8,9.61],[8,9.79],[8,9.96],[8,10.16],[8,10.35],[8,10.53],[8.01,10.72],[8.01,10.91],[8.02,11.09],[8.03,11.28],[8.04,11.47],[8.05,11.65],[8.07,11.84],[8.09,12.02],[8.1,12.21],[8.12,12.4],[8.15,12.58],[8.17,12.77],[8.19,12.95],[8.22,13.14],[8.25,13.32],[8.28,13.5],[8.31,13.68],[8.34,13.86],[8.38,14.04],[8.41,14.22],[8.45,14.4],[8.49,14.58],[8.53,14.76],[8.58,14.94],[8.62,15.12],[8.67,15.3],[8.72,15.48],[8.76,15.65],[8.82,15.83],[8.87,16.01],[8.9,16.06],[8.93,16.11],[8.96,16.16],[8.99,16.21],[9.03,16.26],[9.07,16.3],[9.1,16.35],[9.14,16.39],[9.18,16.43],[9.23,16.47],[9.27,16.51],[9.31,16.55],[9.36,16.58],[9.41,16.62],[9.45,16.65],[9.5,16.68],[9.55,16.71],[9.6,16.74],[9.65,16.76],[9.71,16.79],[9.76,16.81],[9.81,16.83],[9.87,16.85],[9.92,16.86],[9.98,16.88],[10.04,16.89],[10.09,16.9],[10.15,16.91],[10.21,16.92],[10.27,16.92],[10.33,16.92],[10.39,16.93],[10.41,16.93],[13,16.93],[13,13.01],[11,13.01]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[60,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Jaringan Bergerak Terestrial":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-574937331829715e-20,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-146,74],[-143,72],[-47,-12],[-30,5],[-26,8],[-22,10],[-18,12],[-13,12],[-8,12],[-3,10],[1,8],[5,5],[8,1],[11,-3],[12,-8],[13,-13],[12,-18],[11,-22],[8,-27],[5,-30],[-10,-45],[-2,-52],[-1,-54],[0,-56],[0,-300],[-112,-300],[-112,-207],[-113,-203],[-114,-200],[-116,-196],[-118,-193],[-121,-191],[-125,-189],[-128,-188],[-132,-188],[-168,-188],[-172,-188],[-175,-189],[-178,-191],[-181,-193],[-184,-196],[-186,-200],[-187,-203],[-187,-207],[-187,-300],[-300,-300],[-300,-56],[-299,-54],[-298,-52],[-156,72],[-153,74],[-150,74],[-146,74]],[[-18,124],[-13,121],[-11,121],[9,108],[28,95],[47,80],[64,64],[80,46],[95,28],[109,8],[122,-13],[123,-15],[124,-18],[125,-25],[125,-30],[123,-34],[121,-39],[118,-42],[114,-46],[110,-48],[105,-49],[100,-50],[93,-49],[87,-47],[82,-43],[78,-38],[78,-36],[67,-18],[55,-2],[43,14],[29,29],[14,43],[-2,56],[-19,67],[-37,78],[-42,82],[-47,87],[-49,93],[-50,100],[-50,105],[-48,109],[-46,114],[-43,117],[-39,121],[-35,123],[-30,124],[-25,125],[-18,124]],[[18,212],[22,210],[24,209],[40,203],[55,195],[70,187],[84,178],[98,168],[111,158],[124,147],[136,135],[147,123],[158,110],[169,97],[178,83],[187,69],[196,53],[204,38],[211,22],[210,22],[212,17],[212,12],[212,7],[211,3],[208,-2],[205,-6],[201,-9],[197,-11],[192,-12],[187,-13],[183,-13],[180,-12],[177,-10],[173,-8],[171,-6],[168,-3],[166,0],[164,3],[164,5],[158,18],[151,31],[144,44],[137,56],[129,68],[120,79],[110,90],[100,100],[90,110],[79,120],[67,129],[55,137],[43,145],[30,152],[16,158],[3,164],[-3,168],[-8,173],[-10,176],[-12,180],[-12,183],[-13,187],[-12,192],[-11,197],[-8,201],[-5,205],[-1,208],[3,210],[8,212],[13,212],[18,212]],[[54,300],[58,299],[60,298],[81,290],[101,281],[120,271],[139,260],[157,248],[174,235],[191,221],[207,206],[221,190],[235,174],[248,156],[260,138],[272,119],[282,99],[291,78],[299,57],[299,54],[300,50],[299,45],[298,40],[296,36],[292,32],[289,29],[284,26],[280,25],[275,25],[271,25],[267,26],[263,27],[260,30],[257,32],[254,35],[253,39],[251,42],[250,45],[244,62],[236,80],[227,96],[218,112],[207,128],[196,143],[184,158],[171,171],[157,184],[143,197],[128,208],[112,219],[95,228],[78,237],[61,244],[42,251],[42,251],[39,253],[35,255],[33,257],[30,260],[28,263],[26,267],[25,271],[25,275],[25,280],[27,285],[29,289],[32,293],[36,296],[40,298],[45,300],[50,300],[54,300]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[60,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Jaringan Bergerak Seluler":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-11829839587352242e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:11,billboardMode3D:"FaceNearPlane",frame:{xmin:-146,ymin:-300,xmax:146,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-57,-151],[-60,-153],[-62,-156],[-62,-159],[-62,-216],[-62,-219],[-60,-222],[-57,-224],[-53,-225],[53,-225],[57,-224],[60,-222],[62,-219],[62,-216],[62,-159],[62,-156],[60,-153],[57,-151],[53,-150],[-53,-150],[-57,-151]],[[-67,-38],[-71,-41],[-73,-43],[-74,-45],[-75,-47],[-75,-50],[-75,-52],[-74,-55],[-71,-59],[-67,-62],[-65,-62],[-62,-63],[62,-63],[65,-62],[67,-62],[71,-59],[74,-55],[75,-52],[75,-50],[75,-47],[74,-45],[73,-43],[71,-41],[67,-38],[62,-38],[-62,-38],[-67,-38]],[[-67,11],[-71,9],[-73,7],[-74,5],[-75,3],[-75,0],[-75,-3],[-74,-5],[-73,-7],[-71,-9],[-67,-11],[-62,-12],[62,-12],[67,-11],[71,-9],[73,-7],[74,-5],[75,-3],[75,0],[75,3],[74,5],[73,7],[71,9],[67,11],[62,12],[-62,12],[-67,11]],[[-65,62],[-67,62],[-71,59],[-74,55],[-75,52],[-75,50],[-75,47],[-74,45],[-73,43],[-71,41],[-67,38],[-62,38],[62,38],[67,38],[71,41],[73,43],[74,45],[75,47],[75,50],[75,52],[74,55],[71,59],[67,62],[65,62],[62,63],[-62,63],[-65,62]],[[80,300],[85,298],[89,296],[93,293],[96,289],[98,285],[99,280],[100,275],[100,124],[100,124],[106,122],[110,120],[114,116],[118,112],[121,107],[123,102],[125,97],[125,91],[125,90],[125,90],[125,-52],[125,-53],[124,-61],[122,-68],[118,-75],[113,-80],[113,-261],[112,-269],[110,-276],[106,-283],[101,-289],[95,-294],[89,-297],[82,-299],[74,-300],[-73,-300],[-81,-299],[-88,-297],[-94,-294],[-100,-289],[-105,-283],[-109,-276],[-111,-269],[-112,-261],[-112,-81],[-115,-78],[-117,-75],[-120,-72],[-122,-69],[-124,-61],[-125,-53],[-125,-52],[-125,90],[-125,90],[-125,91],[-125,97],[-123,102],[-121,107],[-118,112],[-114,116],[-110,120],[-105,122],[-100,124],[-100,150],[-100,153],[-99,155],[-98,157],[-96,159],[-92,161],[-88,162],[-62,162],[-58,161],[-54,159],[-51,155],[-50,150],[-50,125],[50,125],[50,275],[51,280],[52,285],[54,289],[57,293],[61,296],[66,298],[70,300],[75,300],[80,300]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[60,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Jaringan Bergerak Satelit":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-574937331829715e-20,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:11,billboardMode3D:"FaceNearPlane",frame:{xmin:-300,ymin:-300,xmax:300,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-222,-200],[-219,-201],[-217,-203],[-215,-205],[-153,-280],[-151,-283],[-150,-288],[-150,-290],[-151,-293],[-152,-295],[-154,-296],[-158,-299],[-163,-300],[-287,-300],[-292,-299],[-296,-296],[-298,-295],[-299,-293],[-299,-290],[-300,-288],[-299,-283],[-298,-281],[-297,-280],[-235,-205],[-233,-203],[-230,-201],[-228,-200],[-225,-200],[-222,-200]],[[-7,12],[-3,10],[2,8],[5,5],[8,1],[11,-3],[12,-8],[13,-13],[12,-18],[11,-23],[8,-27],[5,-30],[-29,-64],[-66,-31],[-30,5],[-26,8],[-22,10],[-18,12],[-13,12],[-7,12]],[[-195,44],[-191,42],[52,-178],[55,-183],[56,-185],[57,-188],[56,-190],[55,-193],[54,-195],[52,-197],[52,-197],[40,-206],[27,-215],[14,-222],[0,-228],[-15,-233],[-30,-236],[-46,-238],[-62,-239],[-80,-238],[-98,-236],[-115,-231],[-131,-225],[-147,-218],[-161,-209],[-175,-199],[-187,-188],[-199,-175],[-209,-162],[-219,-148],[-226,-134],[-233,-119],[-238,-105],[-242,-90],[-244,-75],[-245,-60],[-245,-45],[-242,-30],[-239,-15],[-234,-1],[-227,13],[-219,27],[-209,40],[-207,42],[-204,43],[-202,44],[-199,45],[-195,44]],[[-18,124],[-13,121],[-11,121],[9,108],[28,95],[47,80],[64,64],[80,46],[95,28],[109,8],[122,-13],[124,-19],[125,-25],[125,-30],[123,-35],[121,-39],[118,-43],[114,-46],[110,-49],[105,-50],[100,-50],[93,-50],[87,-47],[82,-43],[78,-38],[78,-36],[67,-19],[55,-2],[43,14],[29,28],[14,42],[-2,55],[-19,67],[-37,78],[-42,82],[-47,87],[-49,93],[-50,100],[-50,105],[-48,109],[-46,114],[-43,117],[-39,121],[-35,123],[-30,124],[-25,125],[-18,124]],[[18,212],[22,210],[24,209],[40,203],[55,195],[70,187],[84,178],[98,168],[111,158],[124,147],[136,135],[147,123],[158,110],[169,97],[178,83],[188,68],[196,53],[204,38],[211,22],[212,17],[212,12],[212,7],[211,3],[208,-2],[205,-6],[201,-9],[197,-11],[192,-12],[187,-13],[183,-13],[180,-12],[177,-10],[173,-8],[171,-6],[168,-3],[166,0],[164,3],[164,5],[158,18],[152,31],[145,44],[137,56],[129,68],[120,79],[110,90],[100,100],[90,110],[79,120],[67,129],[55,137],[43,145],[30,152],[17,158],[3,164],[3,164],[-3,168],[-8,173],[-10,176],[-12,180],[-12,183],[-13,187],[-12,192],[-11,197],[-8,201],[-5,205],[-1,208],[3,210],[8,212],[13,212],[18,212]],[[54,300],[58,299],[61,298],[81,290],[101,281],[120,271],[139,260],[157,248],[174,235],[191,221],[207,206],[221,190],[235,174],[248,156],[260,138],[272,119],[282,99],[291,78],[299,57],[299,54],[300,50],[299,45],[298,40],[296,36],[292,32],[289,29],[284,26],[280,25],[275,25],[271,25],[267,26],[263,27],[260,30],[257,32],[254,35],[253,39],[251,42],[250,45],[244,62],[236,79],[227,96],[218,112],[207,128],[196,143],[184,158],[171,171],[157,184],[143,196],[128,208],[112,218],[95,228],[78,237],[61,244],[42,251],[42,251],[39,253],[35,255],[33,257],[30,260],[28,263],[26,267],[25,271],[25,275],[25,280],[27,285],[29,289],[32,293],[36,296],[40,298],[45,300],[50,300],[54,300]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[60,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})},m8e={"Jaringan Irigasi Primer":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:-2,endings:"NoConstraint",offsetAlongLine:7.25,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[0,76,168,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:2,endings:"NoConstraint",offsetAlongLine:14.75,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[0,76,168,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1.4,height3D:1,anchor3D:"Center",color:[0,76,168,255]}]}}}),"Jaringan Irigasi Sekunder":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:-2,endings:"NoConstraint",offsetAlongLine:7.25,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[255,0,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:2,endings:"NoConstraint",offsetAlongLine:14.75,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[255,0,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1.4,height3D:1,anchor3D:"Center",color:[255,0,0,255]}]}}}),"Jaringan Irigasi Tersier":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:-2,endings:"NoConstraint",offsetAlongLine:7.25,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[169,0,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:2,endings:"NoConstraint",offsetAlongLine:14.75,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[168,0,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1.4,height3D:1,anchor3D:"Center",color:[169,0,230,255]}]}}}),"Jaringan Irigasi Air Tanah":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:-2,endings:"NoConstraint",offsetAlongLine:7.25,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[0,168,132,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Z",rotation:90,size:4,billboardMode3D:"None",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,offset:2,endings:"NoConstraint",offsetAlongLine:14.75,placementTemplate:[15]},frame:{xmin:-1,ymin:-1,xmax:1,ymax:1},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[1,0],[-1,0]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:.5,height3D:1,anchor3D:"Center",color:[0,168,132,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1.4,height3D:1,anchor3D:"Center",color:[0,168,132,255]}]}}})},y8e={"Bangunan Pengendalian Banjir":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:5,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,.65],[8.5,16.35],[17,.65],[0,.65]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180,offsetX:4},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:5,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,.65],[8.5,16.35],[17,.65],[0,.65]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:5,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,.65],[8.5,16.35],[17,.65],[0,.65]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180,offsetX:-4},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:18,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[11.77,0],[5.23,0],[4.21,.1],[3.24,.4],[2.33,.88],[1.54,1.54],[.88,2.33],[.4,3.24],[.1,4.21],[0,5.23],[0,11.77],[.1,12.79],[.4,13.77],[.88,14.67],[1.54,15.46],[2.33,16.12],[3.23,16.6],[4.21,16.9],[5.23,17],[11.77,17],[12.79,16.9],[13.77,16.6],[14.67,16.12],[15.46,15.46],[16.12,14.67],[16.6,13.77],[16.9,12.79],[17,11.77],[17,5.23],[16.9,4.21],[16.6,3.24],[16.12,2.33],[15.46,1.54],[14.67,.88],[13.76,.4],[12.79,.1],[11.77,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,92,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})},g8e={"Jaringan Air Baku":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:3,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,77,168,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[0,77,168,255]},{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern",controlPointEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[0,77,168,255]}]}}}),"Jaringan Produksi":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:3,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,169,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[0,169,230,255]},{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern",controlPointEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[0,169,230,255]}]}}}),"Unit Distribusi":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:4,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[0,92,230,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[0,77,168,255]},{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[6,6],lineDashEnding:"HalfPattern",controlPointEnding:"HalfPattern"}],enable:!0,capStyle:"Butt",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[0,92,230,255]}]}}}),"Jaringan Sistem Pengelolaan Air Limbah Non Domestik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:4,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[156,156,156,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[0,0,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[168,112,0,255]}]}}}),"Jaringan Sistem Pengelolaan Air Limbah Domestik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:4,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[156,156,156,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",angleToLine:!0,offset:0,controlPointsPlacement:"NoConstraint",customEndingOffset:0,endings:"WithHalfGap",offsetAlongLine:0,placementTemplate:[30,30]},color:[0,0,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[156,156,156,255]}]}}}),"Jalur Evakuasi Bencana":new pi({color:[255,0,255],width:2,style:"short-dash"}),"Jaringan Drainase Primer":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectWave",amplitude:3,period:5,seed:1,waveform:"Sinus"}],enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[0,76,168,255]}]}}}),"Jaringan Drainase Sekunder":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectWave",amplitude:3,period:5,seed:1,waveform:"Sinus"}],enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[255,0,0,255]}]}}}),"Jaringan Drainase Tersier":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectWave",amplitude:3,period:5,seed:1,waveform:"Sinus"}],enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:2,color:[169,0,230,255]}]}}})},v8e={"Unit Air Baku":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,169,230,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[0,77,168,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetX:4,offsetY:3}]}}}),"Unit Produksi":new Sl({url:"./img/simbol/produksi.png",width:"30px",height:"20px"}),"Unit Pelayanan":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotateClockwise:!1,rotation:180}]}}}),"Sumur Dangkal":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:28,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[26,14.98],[28,8.5],[26,2.03],[14,0],[2,2.03],[0,8.5],[2,14.98],[13.92,17],[26,14.98]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Sumur Pompa":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:28,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[26,14.98],[28,8.5],[26,2.03],[14,0],[2,2.03],[0,8.5],[2,14.98],[13.92,17],[26,14.98]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[0,169,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Terminal Air":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:7,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[17,8.5],[8.5,0],[0,8.5],[8.5,17],[17,8.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Bangunan Penangkap Mata Air":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7738021542668865e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:8,billboardMode3D:"FaceNearPlane",frame:{xmin:-223,ymin:-300,xmax:223,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[128,-88],[124,-89],[121,-90],[118,-93],[116,-96],[114,-99],[113,-102],[113,-106],[113,-113],[112,-120],[110,-126],[109,-133],[106,-139],[103,-144],[100,-150],[96,-155],[92,-160],[87,-164],[83,-167],[78,-170],[73,-172],[68,-174],[62,-175],[57,-175],[53,-176],[49,-177],[46,-178],[43,-180],[41,-183],[39,-186],[38,-190],[38,-194],[38,-198],[39,-201],[41,-204],[43,-207],[46,-210],[49,-211],[53,-212],[57,-213],[66,-212],[75,-211],[84,-208],[92,-205],[101,-200],[108,-195],[116,-189],[123,-181],[129,-173],[135,-165],[140,-156],[143,-147],[146,-137],[149,-127],[150,-117],[150,-106],[150,-102],[149,-99],[147,-96],[145,-93],[142,-90],[139,-89],[135,-88],[132,-87],[128,-88]],[[3,299],[6,298],[52,236],[69,212],[86,187],[104,160],[122,132],[139,103],[155,75],[171,46],[185,16],[191,2],[197,-12],[202,-25],[206,-37],[209,-49],[211,-61],[212,-72],[212,-83],[212,-84],[212,-85],[212,-96],[211,-107],[210,-118],[208,-128],[206,-138],[203,-148],[200,-158],[196,-168],[187,-187],[176,-204],[164,-221],[150,-236],[135,-250],[119,-262],[102,-273],[83,-282],[73,-286],[63,-290],[53,-293],[43,-295],[33,-297],[22,-299],[11,-300],[0,-300],[0,-300],[-11,-300],[-22,-299],[-33,-297],[-43,-295],[-53,-293],[-63,-290],[-73,-286],[-83,-282],[-102,-273],[-119,-262],[-135,-250],[-150,-236],[-164,-221],[-176,-204],[-187,-187],[-196,-168],[-200,-158],[-203,-148],[-206,-138],[-208,-128],[-210,-118],[-211,-107],[-212,-96],[-212,-85],[-212,-84],[-212,-83],[-212,-72],[-211,-61],[-209,-49],[-206,-37],[-202,-25],[-197,-12],[-191,2],[-185,16],[-170,46],[-155,75],[-138,103],[-121,132],[-86,187],[-69,212],[-52,236],[-6,298],[-5,298],[-4,299],[-3,299],[0,300],[3,299]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Bak Penampungan Air Hujan":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:-7562465968919648e-21,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-228,ymin:-300,xmax:228,ymax:300},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-140,28],[-139,28],[-138,28],[-129,27],[-120,26],[-111,25],[-102,23],[-85,18],[-69,11],[-69,12],[-59,7],[-47,3],[-35,1],[-22,0],[-20,0],[-19,0],[-18,0],[-16,0],[-3,1],[9,3],[21,6],[31,11],[31,11],[47,18],[64,23],[73,25],[82,26],[91,27],[100,28],[102,28],[104,28],[105,28],[123,27],[131,26],[139,24],[160,246],[-160,246],[-140,28]],[[-205,300],[-204,300],[204,300],[205,300],[208,300],[210,299],[212,298],[214,296],[217,292],[218,290],[218,287],[218,287],[168,-265],[168,-266],[166,-273],[163,-279],[159,-285],[154,-290],[149,-294],[142,-298],[135,-299],[128,-300],[127,-300],[127,-300],[-127,-300],[-127,-300],[-128,-300],[-135,-299],[-142,-298],[-149,-294],[-154,-290],[-159,-285],[-163,-279],[-166,-272],[-168,-265],[-218,287],[-218,287],[-218,290],[-217,292],[-214,296],[-210,299],[-208,300],[-205,300],[-205,300]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,17],[17,17],[17,0],[0,0],[0,17]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[0,90,230,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Infrastruktur Sistem Pengelolaan Air Limbah Non Domestik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[135,135,135,255]}]},verticalAlignment:"Center"},textString:"IPAL"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[135,135,135,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Infrastruktur Sistem Pengelolaan Air Limbah Domestik":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]},verticalAlignment:"Center"},textString:"IPAL"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[255,255,255,255]},{type:"CIMSolidFill",enable:!0,color:[135,135,135,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Sistem Pengelolaan Limbah Bahan Berbahaya dan Beracun (B3)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:10,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Bold",height:10,horizontalAlignment:"Center",offsetX:0,offsetY:4.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]},verticalAlignment:"Center"},textString:"B3"}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetY:-5},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:17,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[8.5,0],[7.02,.13],[5.59,.51],[4.25,1.14],[3.04,1.99],[1.99,3.04],[1.14,4.25],[.51,5.59],[.13,7.02],[0,8.5],[.13,9.98],[.51,11.41],[1.14,12.75],[1.99,13.96],[3.04,15.01],[4.25,15.86],[5.59,16.49],[7.02,16.87],[8.5,17],[9.98,16.87],[11.41,16.49],[12.75,15.86],[13.96,15.01],[15.01,13.96],[15.86,12.75],[16.49,11.41],[16.87,9.98],[17,8.5],[16.87,7.02],[16.49,5.59],[15.86,4.25],[15.01,3.04],[13.96,1.99],[12.75,1.14],[11.41,.51],[9.98,.13],[8.5,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[0,0,0,255]},{type:"CIMSolidFill",enable:!0,color:[130,70,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),"Stasiun Peralihan Antara (SPA)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[170,110,0,255]}]},verticalAlignment:"Center"},textString:"SPA"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[170,110,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Tempat Pengelolaan Sampah Reuse, Reduce, Recycle (TPS3R)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,colorLocked:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:21},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[15.1,12.4],[10.07,12.1],[12.31,13.79],[10.65,16.4],[8.98,13.52],[6.22,15.11],[7.79,17.89],[8.13,18.35],[8.56,18.7],[9.07,18.92],[9.62,19],[12.83,19],[14.97,15.28],[16.81,16.85],[15.1,12.4]],[[7.23,9.97],[5.26,7],[8.93,7],[8.93,4.12],[5.8,4.12],[5.24,4.18],[4.71,4.39],[4.27,4.72],[3.93,5.15],[2.12,7.85],[4.47,11.56],[2.03,12.93],[7.53,12.93],[9.07,8.91],[7.23,9.97]],[[18.69,9.04],[18.92,8.52],[19,7.96],[18.94,7.41],[18.73,6.9],[17.13,4.03],[12.63,4.03],[12.63,2],[10.1,5.63],[12.63,9.34],[12.63,7],[15.97,7],[14.5,10.24],[17.26,11.83],[18.69,9.04]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,height3D:1,anchor3D:"Center",color:[110,110,110,255]},{type:"CIMSolidFill",enable:!0,color:[60,170,0,255]}],angleAlignment:"Map"}}],scaleSymbolsProportionally:!0,respectFrame:!0,offsetY:-1},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,110,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Tempat Penampungan Sementara (TPS)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[170,110,0,255]}]},verticalAlignment:"Center"},textString:"TPS"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[170,110,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Tempat Pemrosesan Akhir (TPA)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]},verticalAlignment:"Center"},textString:"TPA"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[170,110,0,255]},{type:"CIMSolidFill",enable:!0,color:[170,110,0,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Tempat Pengolahan Sampah Terpadu (TPST)":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:8,colorLocked:!0,anchorPointUnits:"Relative",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Regular",height:9,horizontalAlignment:"Center",offsetX:0,offsetY:-1.5,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]},verticalAlignment:"Center"},textString:"TPST"}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:0},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:14,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:17},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[21,13.94],[21,6.34],[20.78,4.38],[20.5,3.69],[20.09,3.16],[19.56,2.76],[18.85,2.42],[16.09,1.59],[12.04,.3],[10.5,0],[8.95,.31],[4.91,1.59],[2.16,2.42],[1.45,2.76],[.92,3.16],[.5,3.69],[.22,4.38],[0,6.34],[0,13.94],[.13,15.33],[.6,16.24],[1.45,16.8],[2.7,16.99],[18.3,16.99],[19.55,16.8],[20.4,16.25],[20.87,15.33],[21,13.94]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[170,110,0,255]},{type:"CIMSolidFill",enable:!0,color:[204,102,102,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:180}]}}}),"Tempat Evakuasi Bencana":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-.5},anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:12,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:21,ymax:21},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[15.09,21],[15.09,19.69],[13.78,18.37],[13.78,10.5],[15.09,9.19],[15.09,7.88],[11.16,7.88],[11.16,1.31],[10.5,0],[9.84,1.31],[9.84,7.88],[5.91,7.88],[5.91,9.19],[7.22,10.5],[7.22,18.38],[5.91,19.69],[5.91,21],[15.09,21]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:0,color:[110,110,110,255]},{type:"CIMSolidFill",enable:!0,color:[255,0,197,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})},b8e={"Jaringan Tetap":new Ee({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:5,billboardMode3D:"FaceNearPlane",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,controlPointPlacement:"WithMarkers",endings:"Custom",offsetAlongLine:15,placementTemplate:[60]},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-5,5],[5,5],[5,-5],[-5,-5],[-5,5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:5,billboardMode3D:"FaceNearPlane",markerPlacement:{type:"CIMMarkerPlacementAlongLineSameSize",placePerPart:!0,angleToLine:!0,controlPointPlacement:"WithMarkers",endings:"Custom",offsetAlongLine:45,placementTemplate:[60]},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-5,5],[5,5],[5,-5],[-5,-5],[-5,5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1,color:[60,170,0,255]},{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[20,10,20,10],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"},{type:"CIMGeometricEffectOffset",method:"Bevelled",offset:0,option:"Fast"}],enable:!0,colorLocked:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:1.4,color:[60,170,0,255]}]}}})},w8e={pola:u8e,permukiman:l8e,jaringanTransportasi:c8e,infrastrukturTransportasi:h8e,jaringanEnergi:d8e,infrastrukturEnergi:p8e,jaringanTelekomunikasi:b8e,infrastrukturTelekomunikasi:f8e,jaringanSumberDayaAir:m8e,infrastrukturSumberDayaAir:y8e,jaringanPrasaranaLain:g8e,infrastrukturPrasaranaLain:v8e};function _8e(e){return e!=null&&typeof e=="object"&&e.type==="2d"&&e.view2dType==="linkchart"}var yl;(function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"})(yl||(yl={}));function S8e(e){return Hte(e)||OR(e)||kR(e)}function Hte(e){return Kh(e)||HI(e)}const x8e=12;let Vu=class os{constructor(t){const i=os.checkUnsupported(t);if(i!=null)throw i;const r=t;this.spatialReference=r.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Ef(this.spatialReference),this.origin=[r.origin.x,r.origin.y],this.pixelSize=r.size[0],this.dpi=r.dpi;const n=r.lods.reduce((d,m)=>(m.level<d.minLod.level&&(d.minLod=m),d.max=Math.max(d.max,m.level),d),{minLod:r.lods[0],max:-1/0}),s=n.minLod,a=2**s.level;let l=s.resolution*a,u=s.scale*a;this.levels=new Array(n.max+1);for(let d=0;d<this.levels.length;d++)this.levels[d]={resolution:l,scale:u,tileSize:[l*r.size[0],l*r.size[1]]},l/=2,u/=2}clone(){return new os(this.toTileInfo())}toTileInfo(){return new Oo({dpi:this.dpi,origin:new Qe({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,i)=>new Zs({level:i,scale:t.scale,resolution:t.resolution}))})}getExtent(t,i,r,n){const s=this.levels[t],a=s.tileSize[0],l=s.tileSize[1];n[0]=this.origin[0]+r*a,n[2]=this.origin[0]+(r+1)*a,n[3]=this.origin[1]-i*l,n[1]=this.origin[1]-(i+1)*l}convertExtentToRadians(t,i){this._isWebMercator?(i[0]=dN(t[0]),i[1]=pN(t[1]),i[2]=dN(t[2]),i[3]=pN(t[3])):this._isGCS&&(i[0]=Oh(t[0]),i[1]=Oh(t[1]),i[2]=Oh(t[2]),i[3]=Oh(t[3]))}getExtentGeometry(t,i,r,n=new Lt){return this.getExtent(t,i,r,Yo),n.spatialReference=this.spatialReference,n.xmin=Yo[0],n.ymin=Yo[1],n.xmax=Yo[2],n.ymax=Yo[3],n.zmin=void 0,n.zmax=void 0,n}ensureMaxLod(t){if(t==null)return!1;let i=!1;for(;this.levels.length<=t;){const{resolution:r,scale:n}=this.levels[this.levels.length-1],s=r/2*this.pixelSize;this.levels.push({resolution:r/2,scale:n/2,tileSize:[s,s]}),i=!0}return i}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const i=this.levels[0].scale;return t>=i?0:Math.log(i/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,i=1/0){if(os.checkUnsupported(t))return!1;const r=new os(t);if(!r.spatialReference.equals(this.spatialReference)||r.pixelSize!==this.pixelSize)return!1;const n=Math.min(this.levels.length-1,r.levels.length-1,i),s=this.levels[n].resolution;let a=.5*s;return!fs(r.origin[0],this.origin[0],a)||!fs(r.origin[1],this.origin[1],a)?!1:(a=.5*s/2**n/this.pixelSize*x8e,fs(s,r.levels[n].resolution,a))}rootTilesInExtent(t,i=null,r=1/0){const n=new Array,s=this.levels[0].tileSize;if(t==null||s[0]===0||s[1]===0)return n;os.computeRowColExtent(t,s,this.origin,Yo);let a=Yo[1],l=Yo[3],u=Yo[0],d=Yo[2];const m=d-u,v=l-a;if(m*v>r){const b=Math.floor(Math.sqrt(r));v>b&&(a=a+Math.floor(.5*v)-Math.floor(.5*b),l=a+b),m>b&&(u=u+Math.floor(.5*m)-Math.floor(.5*b),d=u+b)}for(let b=a;b<l;b++)for(let _=u;_<d;_++)n.push([0,b,_]);return i!=null&&(i[0]=this.origin[0]+u*s[0],i[1]=this.origin[1]-l*s[1],i[2]=this.origin[0]+d*s[0],i[3]=this.origin[1]-a*s[1]),n}static computeRowColExtent(t,i,r,n){const s=.001*(t[2]-t[0]+(t[3]-t[1]));n[0]=Math.max(0,Math.floor((t[0]+s-r[0])/i[0])),n[2]=Math.max(0,Math.ceil((t[2]-s-r[0])/i[0])),n[1]=Math.max(0,Math.floor((r[1]-t[3]+s)/i[1])),n[3]=Math.max(0,Math.ceil((r[1]-t[1]-s)/i[1]))}static isPowerOfTwo(t){const i=t.lods,r=i[0].resolution*2**i[0].level;return!i.some(n=>!jle(n.resolution,r/2**n.level))}static hasGapInLevels(t){const i=t.lods.map(r=>r.level);i.sort((r,n)=>r-n);for(let r=1;r<i.length;r++)if(i[r]!==i[0]+r)return!0;return!1}static tileSizeSupported(t){const i=t.size[1];return i===t.size[0]&&!(i&i-1)&&i>=128&&i<=512}static hasOriginPerLODs(t){const i=t.origin;return t.lods.some(r=>r.origin!=null&&(r.origin[0]!==i.x||r.origin[1]!==i.y))}static getMissingTileInfoError(){return new z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?l9():t.lods.length<1?new z("tilingscheme:generic","Tiling scheme must have at least one level"):os.isPowerOfTwo(t)?os.hasGapInLevels(t)?new z("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):os.tileSizeSupported(t)?os.hasOriginPerLODs(t)?new z("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new z("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new z("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,i){const r=t[2]-t[0],n=t[3]-t[1],s=Ss(i),a=1.2*Math.max(r,n),l=256,u=a/l,d=u*s*(96/.0254),m=new os(new Oo({size:[l,l],origin:new Qe({x:t[0]-.5*(a-r),y:t[3]+.5*(a-n)}),lods:[new Zs({level:0,resolution:u,scale:d})],spatialReference:i}));return m.ensureMaxLod(20),m}static makeWebMercatorAuxiliarySphere(t){const i=new os(os.WebMercatorAuxiliarySphereTileInfo);return i.ensureMaxLod(t),i}static makeGCSWithTileSize(t,i=256,r=16){const n=256/i,s=new os(new Oo({size:[i,i],origin:new Qe({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new Zs({level:0,resolution:.703125*n,scale:295497598570834e-6*n})]}));return s.ensureMaxLod(r),s}get test(){}};function l9(){return new z("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}Vu.WebMercatorAuxiliarySphereTileInfo=new Oo({size:[256,256],origin:new Qe({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:it.WebMercator}),spatialReference:it.WebMercator,lods:[new Zs({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),Vu.WebMercatorAuxiliarySphere=Vu.makeWebMercatorAuxiliarySphere(19);const Yo=Or(),JG=64;Fle(TI/10);const M8e=Or();Vu.WebMercatorAuxiliarySphere.getExtent(0,0,0,M8e);Or([-180,-90,180,90]);function T8e(e,t,i,r){if(e==null)return l9();const n=e.spatialReference;if(n.isGeographic&&!Hte(n))return new z("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const s=Vu.checkUnsupported(e);return s??(i==null?new z("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):E8e(e,i)||(t==null||n.equals(t)||t.isWGS84&&n.isWebMercator?null:new z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function E8e(e,t){const i=e.lods,r=i[0].resolution*2**i[0].level,n=[r*e.size[0],r*e.size[1]],s=[e.origin.x,e.origin.y],a=vhe(t),l=Or();Vu.computeRowColExtent(a,n,s,l);const u=(l[2]-l[0])*(l[3]-l[1]);if(u>JG){const d=i[0].scale*2**i[0].level;let m=Math.max((a[3]-a[1])/e.size[1],(a[2]-a[0])/e.size[0])*d/r;const v=Math.floor(Math.log(m)/Math.log(10));return m=Math.ceil(m/10**v)*10**v,new z("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(d).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+m.toLocaleString()+".",{level0Scale:d,suggestedLevel0Scale:m,requiredNumRootTiles:u,allowedNumRootTiles:JG})}return null}const C8e=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:T8e},Symbol.toStringTag,{value:"Module"}));function I8e(e,t,i,r){if(e==null)return l9();const n=(e==null?void 0:e.lods.length)-1,s=e.spatialReference;if(s.isWebMercator){if(!Vu.makeWebMercatorAuxiliarySphere(n).compatibleWith(e,r))return new z("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!S8e(s))return new z("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!Vu.makeGCSWithTileSize(e.spatialReference,e.size[0],n).compatibleWith(e,r))return e.spatialReference.isWGS84?new z("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new z("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new z("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const $8e=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:I8e},Symbol.toStringTag,{value:"Module"})),A8e={[Ku.Global]:$8e,[Ku.Local]:C8e};function UA(e,t,i,r,n){return A8e[r].checkIfTileInfoSupportedForViewSR(e,i,t,n)}function R8e(e,t,i){const r=Lge(e);if(r!=null){if(!Ce.isCollection(r))return{tileInfo:r.tileInfo,fullExtent:r.fullExtent};{const n=r.find(s=>UA(s.tileInfo,s.fullExtent,t,i)==null);if(n)return{tileInfo:n.tileInfo,fullExtent:n.fullExtent}}}return{tileInfo:null,fullExtent:null}}yl.NORTH,yl.EAST,yl.SOUTH,yl.WEST;yl.NORTH_EAST,yl.SOUTH_EAST,yl.SOUTH_WEST,yl.NORTH_WEST;function P8e(e,t){return e!=null&&(t==null||(t===Ku.Local?!e.isGeographic||e.isWGS84||e.wkid===ka.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===ka.CGCS2000||e.wkid===ka.GCSMARS2000||e.wkid===ka.GCSMARS2000_SPHERE||e.wkid===ka.GCSMOON2000))}async function O8e(e,t={}){const{basemap:i,view:r}=e;await i.load(t),L8e(i),await D8e(i,r,t),ii(t)}async function k8e(e,t={}){var l,u;const{basemap:i,view:r}=e;ii(t);const n=(l=i.baseLayers.find(d=>d.type==="unknown"))==null?void 0:l.loadError;if(n!=null)throw n;if(!r||"spatialReferenceLocked"in r&&!r.spatialReferenceLocked||(await i.load(t),ii(t),i.baseLayers.length===0))return;const s=i.baseLayers.at(0);if(!kge(s))return;if(i.spatialReference){if(r.spatialReference.equals(i.spatialReference))return;XG()}await s.load(t),ii(t);const a=(("supportedSpatialReferences"in s?s.supportedSpatialReferences:null)||["tileInfo"in s?(u=s.tileInfo)==null?void 0:u.spatialReference:null]).filter(Fa);a.length!==0&&a.every(d=>!r.spatialReference.equals(d))&&XG()}function XG(){throw new z("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function L8e(e){if(e.baseLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(i=>!Rge(i)).map(i=>N8e(i));if(t.length)throw t[0]}function N8e(e){return new z("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function D8e(e,t,i){if(e.baseLayers.length===0)return;const r=e.baseLayers.at(0);if(EY(r)){try{await r.load(i)}catch(n){const s="basemap-compatibility:unknown-error",a="Unknown basemap compatibility error",{name:l=s,message:u=a,details:d}=n;throw new z(l,u,d)}j8e(r,t)}}function j8e(e,t){var l;const i=t.state.viewingMode;if(!i)return;let r,n;if((e==null?void 0:e.type)==="wmts"){const u=R8e(e,t.spatialReference,i);if(u.tileInfo==null)throw new z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");r=u.tileInfo,n=u.fullExtent}else r=e.tileInfo,n=e.fullExtent;if(r==null)return;if(!P8e(r.spatialReference,i))throw new z(`basemapgalleryitem:spatial-reference-unsupported-${Cj(i)}`,`Basemap spatial reference is unsupported in ${Cj(i)} mode`);const s=(e==null?void 0:e.type)==="vector-tile"?r.getCompatibleForVTL(256):null;if(i===Ku.Global){let u=UA(r,n,null,i);if(u&&(e==null?void 0:e.type)==="vector-tile"&&n!=null&&s&&!UA(s,n,null,i)&&(u=null),u){const d=r.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new z(`basemapgalleryitem:tiling-scheme-unsupported-${d}-global`,"Basemap tiling scheme is unsupported in global mode",{error:u})}}else if(Vu.checkUnsupported(r))throw new z("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const a=(l=t.basemapTerrain)==null?void 0:l.tilingScheme;if(a&&!a.compatibleWith(r)&&((e==null?void 0:e.type)!=="vector-tile"||!s||!a.compatibleWith(s)))throw new z("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let cl=class extends Rf.IdentifiableMixin(De){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const e=()=>this.refresh();this.addHandles([Ge(()=>{var t;return(t=this.basemap)==null?void 0:t.loadStatus},e),Ge(()=>this.compatibilityFunction,e),Ge(()=>{var t;return this.view&&"basemapTerrain"in this.view&&((t=this.view.basemapTerrain)==null?void 0:t.tilingScheme)},e),Ge(()=>{var t;return(t=this.view)==null?void 0:t.ready},e),Ge(()=>{var t;return(t=this.view)==null?void 0:t.spatialReference},e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return m1e(this.view,this.basemap)}set basemap(e){e&&e.load().catch(()=>{}),this._set("basemap",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var r;this._cancelRefresh(),this._set("state","loading");const e=(r=this.basemap)==null?void 0:r.loadStatus;if(e!=="loaded"&&e!=="failed")return;if(!this.compatibilityFunction)return void(e==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const t=new AbortController,{signal:i}=t;this.compatibilityFunction(this,{signal:i}).then(()=>gg(()=>!this._spatialReferenceTask.updating,i)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(n=>{Vi(n)||(this._set("state","error"),this._set("error",n))}),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};h([f({readOnly:!0})],cl.prototype,"_spatialReferenceTask",null),h([f()],cl.prototype,"basemap",null),h([f()],cl.prototype,"compatibilityFunction",void 0),h([f({readOnly:!0})],cl.prototype,"error",void 0),h([f({readOnly:!0})],cl.prototype,"spatialReference",null),h([f({readOnly:!0})],cl.prototype,"state",void 0),h([f()],cl.prototype,"view",void 0),cl=h([O("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],cl);const qte=cl,Wte=Ce.ofType(Vh);let Pv=class extends De{constructor(e){super(e),this.basemaps=new Wte}destroy(){this.basemaps.forEach(e=>e.destroy())}get state(){return"ready"}refresh(){}};h([f({type:Wte})],Pv.prototype,"basemaps",void 0),h([f({readOnly:!0})],Pv.prototype,"state",null),Pv=h([O("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],Pv);const Yte=Pv,Zte=Ce.ofType(Vh);let hl=class extends Ba.LoadableMixin(u2.EsriPromiseMixin(Yte)){constructor(e){super(e),this._lastPortalBasemapFetchController=null,this.basemaps=new Zte,this.filterFunction=null,this.portal=wr.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(Ge(()=>{var e,t,i;return[this.filterFunction,this.loadStatus,(e=this.portal)==null?void 0:e.basemapGalleryGroupQuery,(t=this.portal)==null?void 0:t.basemapGalleryGroupQuery3D,(i=this.portal)==null?void 0:i.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),ir))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(e=>e.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(e){return this.addResolvingPromise(this.portal.load(e)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const e=this.portal,t=new AbortController;this._lastPortalBasemapFetchController=t,this.notifyChange("state");try{const i=await e.fetchBasemaps(this._toQueryString(this.query),{signal:t.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(i)}catch(i){if(Vi(i))throw i;ce.getLogger(this).warn(new z("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:i})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(e){return e&&typeof e!="string"?Object.keys(e).map(t=>`${t}:${e[t]}`).join(" AND "):e}async _updateBasemaps(e=[]){let t=await this._filterBasemaps(e);t=this.updateBasemapsCallback?await this.updateBasemapsCallback(t):t,this.basemaps.removeAll(),this.basemaps.addMany(t)}async _filterBasemaps(e){if(!this.filterFunction)return e;const t=e.map(this.filterFunction),i=await Promise.all(t);return e.filter((r,n)=>i[n])}};h([f({readOnly:!0,type:Zte})],hl.prototype,"basemaps",void 0),h([f()],hl.prototype,"filterFunction",void 0),h([f({type:wr})],hl.prototype,"portal",void 0),h([f()],hl.prototype,"query",void 0),h([f({readOnly:!0})],hl.prototype,"state",null),h([f()],hl.prototype,"updateBasemapsCallback",void 0),h([f()],hl.prototype,"viewType",void 0),hl=h([O("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],hl);const Ov=hl,Kte=Ce.ofType(qte);function F8e(e){return e&&e.declaredClass==="esri.portal.Portal"}function z8e(e){return e&&!(e instanceof Ov)&&(!!e.portal||!!e.query)}function U8e(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let Bs=class extends Ba{constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new Kte,this.source=new Ov,this.view=null}initialize(){const e=()=>this._recreateItems();this.addHandles([Ge(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),Tl(()=>{var t;return(t=this.source)==null?void 0:t.basemaps},"change",e,{onListenerAdd:e}),Pn(()=>this.view,()=>{var t;this.source instanceof Ov&&(this.source.viewType=(t=this.view)==null?void 0:t.type)},{once:!0})])}destroy(){var t;const e=this.source.basemaps.find(i=>i===this.activeBasemap);e&&this.source.basemaps.remove(e),(t=this.source)==null||t.destroy()}get activeBasemap(){var e,t;return((t=(e=this.view)==null?void 0:e.map)==null?void 0:t.basemap)??null}set activeBasemap(e){var r,n;const t=this.view;if(!(t!=null&&t.map))return;if(!e||!t.ready)return t.map.basemap=e,void this._clearOverride("activeBasemap");const i=e.spatialReference||((n=(r=this.items)==null?void 0:r.find(s=>this.basemapEquals(e,s.basemap)))==null?void 0:n.spatialReference);if(i&&"spatialReferenceLocked"in t&&!t.spatialReferenceLocked){const s=t.spatialReference;if(i!=null&&!br(s,i)&&!Do(t.spatialReference,i)&&!ec())return this._override("activeBasemap",e),this._loadingProjectionEngine=!0,void qu().then(()=>{this._get("activeBasemap")===e&&(t.map.basemap=e,t.spatialReference=i,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});t.map.basemap=e,this._clearOverride("activeBasemap"),i==null||br(t.spatialReference,i)||(t.spatialReference=i)}else t.map.basemap=e,this._clearOverride("activeBasemap")}castActiveBasemap(e){return QY(e)}get activeBasemapIndex(){const{state:e,activeBasemap:t}=this;return e!=="ready"?-1:this._findBasemapIndex(t)}get compatibilityFunction(){var e;return((e=this.view)==null?void 0:e.type)==="3d"?O8e:k8e}set compatibilityFunction(e){this._overrideIfSome("compatibilityFunction",e)}castSource(e){return Array.isArray(e)||Ce.isCollection(e)?new Yte({basemaps:Array.isArray(e)?new Ce(e):e}):F8e(e)?new Ov({portal:e}):z8e(e)?new Ov(e):U8e(e)?e:null}get state(){var e;return(e=this.view)!=null&&e.ready&&this.source?_8e(this.view)&&!this.view.inGeographicLayout?"unsupported":this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(e,t){return f1e(e,t)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(e){return this.addResolvingPromise(Ba.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_findBasemapIndex(e){const{items:t}=this,i=t.findIndex(r=>r.basemap===e);return i===-1?t.findIndex(r=>this.basemapEquals(r.basemap,e)):i}_recreateItems(){var s;const e=((s=this.source)==null?void 0:s.basemaps)??[],{view:t,compatibilityFunction:i}=this,r=new Map(this.items.map(a=>[a.basemap,a])),n=e.map(a=>{const l=r.get(a);return l?(r.delete(a),l):new qte({basemap:a,compatibilityFunction:i,view:t})});this.items.removeAll(),this.items.addMany(n),r.forEach(a=>a.destroy())}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};h([f()],Bs.prototype,"_loadingProjectionEngine",void 0),h([f({type:Vh})],Bs.prototype,"activeBasemap",null),h([Gt("activeBasemap")],Bs.prototype,"castActiveBasemap",null),h([f({readOnly:!0})],Bs.prototype,"activeBasemapIndex",null),h([f()],Bs.prototype,"compatibilityFunction",null),h([f({readOnly:!0,type:Kte})],Bs.prototype,"items",void 0),h([f()],Bs.prototype,"source",void 0),h([Gt("source")],Bs.prototype,"castSource",null),h([f({readOnly:!0})],Bs.prototype,"state",null),h([f()],Bs.prototype,"view",void 0),Bs=h([O("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],Bs);const G8e=Bs,lo="esri-basemap-gallery",uo={base:lo,sourceLoading:`${lo}--source-loading`,loader:`${lo}__loader`,item:`${lo}__item`,itemContainer:`${lo}__item-container`,itemContent:`${lo}__item-content`,itemTitle:`${lo}__item-title`,itemTagsContainer:`${lo}__item-tags-container`,itemThumbnail:`${lo}__item-thumbnail`,selectedItem:`${lo}__item--selected`,itemError:`${lo}__item--error`};function QG({level:e,class:t,...i},r){const n=V8e(e);return Ie(`h${n}`,{...i,"aria-level":String(n),class:pY(Ii.heading,t),role:"heading"},r)}function V8e(e){return ia(Math.ceil(e),1,6)}let ls=class extends ic{constructor(e,t){super(e,t),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new G8e,this._focusBasemapItemEnabled=!1,SB(ce.getLogger(this),"Basemap Gallery","arcgis-basemap-gallery",{version:"4.32"})}initialize(){this.addHandles(Pn(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0}))}loadDependencies(){return Lf({scrim:()=>ve(()=>import("./index-tMDN6b3n.js"),__vite__mapDeps([298,262,263,264,268,267,266])),chip:()=>ve(()=>import("./index-CButFHXM.js"),__vite__mapDeps([301,265,266,263,267,268,273,271,280,264]))})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(e){this.viewModel.activeBasemap=e}get icon(){return"basemap"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get source(){return this.viewModel.source}set source(e){this.viewModel.source=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=this.source.state==="loading",t=this.disabled||this.viewModel.state==="disabled",i={[uo.sourceLoading]:e,[Ii.disabled]:t};return Ie("div",{class:this.classes(uo.base,Ii.widget,Ii.panel,i),key:"container"},this._getContext())}_getContext(){if(this.viewModel.state==="unsupported")return Ie("div",{class:Ii.empty,key:"empty-message"},Ie(QG,{level:this.headingLevel},this.messages.unsupported));if(this.source.state==="loading")return Ie("div",{class:uo.loader,key:"loader"});const e=this.viewModel.items;return e.length>0?Ie("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:uo.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},e.map((t,i)=>this._renderBasemapGalleryItem(t,i)).toArray()):Ie("div",{class:Ii.empty,key:"empty-message"},Ie(QG,{level:this.headingLevel},this.messages.noBasemaps))}_getRoundRobinIndex(e,t){return(e+t)%t}_handleKeyDown(e){const{key:t}=e;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t))return;e.preventDefault();const{items:i,activeBasemapIndex:r}=this.viewModel,n=t==="ArrowUp"||t==="ArrowLeft"?this._getRoundRobinIndex(Math.max(r-1,-1),i.length):this._getRoundRobinIndex(r+1,i.length),s=i.at(n);(s==null?void 0:s.state)==="ready"&&(this.viewModel.activeBasemap=s.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(e){this._focusBasemapItemEnabled&&e.tabIndex===0&&(e.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(e){const t=e.currentTarget["data-item"];t.state==="ready"&&(this.viewModel.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e,t){var S,M;const i=b1e(e.basemap)||ki("esri/themes/base/images/basemap-toggle-64.svg"),r=e.basemap.title,n=(S=e.basemap.portalItem)==null?void 0:S.snippet,s=((M=e.error)==null?void 0:M.message)||n||r,{viewModel:{state:a,activeBasemapIndex:l}}=this,u=this.disabled||a==="disabled",d=l===t,m=d||l===-1&&t===0?0:-1,v=a==="loading",b={[uo.selectedItem]:d,[uo.itemError]:e.state==="error"},_=`basemapgallery-item-${e.uid}`;return Ie("li",{afterUpdate:this._focusBasemapItem,"aria-checked":d.toString(),"aria-disabled":u.toString(),"aria-labelledby":_,bind:this,class:this.classes(uo.item,b),"data-item":e,key:e.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:m,title:s},Ie("img",{alt:"",class:uo.itemThumbnail,src:i}),Ie("div",{class:uo.itemContent,key:"content"},Ie("div",{class:uo.itemTitle,key:"title"},Ie("span",{id:_},r)),h1e(e.basemap)?this._renderTags(e.basemap):null),e.state==="loading"||d&&v?Ie("calcite-scrim",null,Ie("span",{"aria-hidden":"true",class:Ii.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(e){return Ie("div",{class:uo.itemTagsContainer,key:"tag"},this._render3DTag(),d1e(e)?this._renderBetaTag():null)}_render3DTag(){const{messages:e}=this;return Ie("calcite-chip",{key:"tag-3d",label:e.tag3D,scale:"s"},this.messages.tag3D)}_renderBetaTag(){const{messages:e}=this;return Ie("calcite-chip",{appearance:"outline-fill",key:"tag-beta",label:e.tagBeta,scale:"s"},this.messages.tagBeta)}};h([f()],ls.prototype,"activeBasemap",null),h([f()],ls.prototype,"disabled",void 0),h([f()],ls.prototype,"headingLevel",void 0),h([f()],ls.prototype,"icon",null),h([f()],ls.prototype,"label",null),h([f(),qa("esri/widgets/BasemapGallery/t9n/BasemapGallery")],ls.prototype,"messages",void 0),h([f()],ls.prototype,"source",null),h([f()],ls.prototype,"view",null),h([f()],ls.prototype,"viewModel",void 0),h([f()],ls.prototype,"_focusBasemapItemEnabled",void 0),h([Tx()],ls.prototype,"_handleClick",null),ls=h([O("esri.widgets.BasemapGallery")],ls);const B8e=ls;function H8e(){const e=se.useRef(null),[t,i]=se.useState(Object.fromEntries(Vm.map(r=>[r.id,r.id==="pola"])));return se.useEffect(()=>{const r=new nZ({basemap:"topo-vector"}),n=new Bte({style:"https://www.arcgis.com/sharing/rest/content/items/5caa08e28c3940e1a6f04aab9e4889cd/resources/styles/root.json"});r.add(n),Vm.forEach(T=>{if(!t[T.id])return;const E=w8e[T.id],A=E?Object.entries(E).map(([N,D])=>({value:N,label:N,symbol:D})):null;console.log("ini",T.defaultSymbol.toJSON());const P=new Lee({url:T.url,outFields:["*"],title:T.title,popupTemplate:{title:"{NAMOBJ}",content:[{type:"fields",fieldInfos:[{fieldName:"NAMOBJ",label:"Nama"},{fieldName:"WADMPR",label:"Provinsi"},{fieldName:"WADMKK",label:"Kabupaten"},{fieldName:"WADMKC",label:"Kecamatan"},{fieldName:"LUASHA",label:"Luas (ha)"},{fieldName:"REMARK",label:"Deskripsi"}]}]},renderer:A?{type:"unique-value",field:"NAMOBJ",uniqueValueInfos:A,defaultSymbol:T.defaultSymbol}:{type:"simple",symbol:T.defaultSymbol},labelsVisible:!!T.labelField,labelingInfo:T.labelField?[{labelExpressionInfo:{expression:`$feature.${T.labelField}`},symbol:{type:"text",color:"black",haloColor:"white",haloSize:"1px",font:{size:10,family:"Arial",weight:"bold"}},labelPlacement:"center-center"}]:void 0});r.add(P)});const s=new IEe({container:e.current,map:r,center:[98.4,3.1],zoom:11}),a=new I4e({view:s});s.ui.add(a,"top-left");const l=new RAe({view:s}),u=new XC({view:s,content:l,expandTooltip:"Cari Lokasi",expandIcon:"search",expanded:!1});s.ui.add(u,"top-right");const d=document.createElement("div");d.className="esri-widget p-2 bg-white",d.style.maxHeight="70vh",d.style.overflowY="auto";const m=document.createElement("div");m.className="form-check mb-2";const v=document.createElement("input");v.type="checkbox",v.className="form-check-input",v.id="showAllLayers",v.checked=Object.values(t).every(T=>T);const b=document.createElement("label");b.className="form-check-label fw-bold",b.htmlFor="showAllLayers",b.innerText="Tampilkan Semua Layer",v.onchange=T=>{const E=T.target.checked,A=Object.fromEntries(Vm.map(P=>[P.id,E]));i(A),Vm.forEach(P=>{const N=document.getElementById(P.id);N&&(N.checked=E)})},m.appendChild(v),m.appendChild(b),d.appendChild(m),Vm.forEach(T=>{const E=document.createElement("div");E.className="form-check";const A=document.createElement("input");A.type="checkbox",A.className="form-check-input",A.id=T.id,A.checked=t[T.id],A.onchange=N=>{const D=N.target.checked,k={...t,[T.id]:D};i(k);const q=Vm.every(re=>k[re.id]),X=document.getElementById("showAllLayers");X&&(X.checked=q)};const P=document.createElement("label");P.className="form-check-label",P.htmlFor=T.id,P.innerText=`Tampilkan ${T.title}`,E.appendChild(A),E.appendChild(P),d.appendChild(E)});const _=new XC({view:s,content:d,expandIcon:"layers",expandTooltip:"Pilih Layer"});s.ui.add(_,"top-left");const S=document.createElement("div");S.style.maxHeight="70vh",S.style.overflowY="auto",new B8e({view:s,container:S});const M=new XC({view:s,content:S,expandIcon:"basemap",expandTooltip:"Pilih Basemap"});return s.ui.add(M,"top-left"),()=>{s.destroy()}},[t]),R.jsxs(R.Fragment,{children:[R.jsx(Bx,{title:"TATA RUANG"}),R.jsxs("div",{className:"container",children:[R.jsx("h2",{className:"text-center fw-bold m-4",children:"Tata Ruang Kabupaten Karo"}),R.jsxs("ol",{className:"container list-group-numbered",children:[R.jsx("h4",{className:"fw-bold",children:"Petunjuk"}),R.jsx("li",{className:"list-group-item",children:"Pilih Beranda"}),R.jsxs("li",{className:"list-group-item",children:["Pilih Basemap Pada Tools"," ",R.jsx("img",{src:"./img/simbol/basemap.png",width:"24px",alt:""})]}),R.jsxs("li",{className:"list-group-item",children:["Pilih Tampilan Layer Pada Tools"," ",R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"currentColor",d:"m21.484 7.125l-9.022-5a1 1 0 0 0-.968 0l-8.978 4.96a1 1 0 0 0-.003 1.748l9.022 5.04a1 1 0 0 0 .973.001l8.978-5a1 1 0 0 0-.002-1.749"}),R.jsx("path",{fill:"currentColor",d:"m12 15.856l-8.515-4.73l-.971 1.748l9 5a1 1 0 0 0 .971 0l9-5l-.971-1.748z"}),R.jsx("path",{fill:"currentColor",d:"m12 19.856l-8.515-4.73l-.971 1.748l9 5a1 1 0 0 0 .971 0l9-5l-.971-1.748z"})]})]}),R.jsxs("li",{className:"list-group-item",children:["Masukkan Koordinat Pada Tools"," ",R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:R.jsx("path",{fill:"currentColor",d:"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"})})]}),R.jsx("li",{className:"list-group-item",children:"Klik Peta Pola Ruang Untuk Melihat Peruntukan Ruang"}),R.jsxs("li",{className:"list-group-item",children:["Untuk Melihat Struktur Ruang, Aktifkan Layer Pada Tools"," ",R.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[R.jsx("path",{fill:"currentColor",d:"m21.484 7.125l-9.022-5a1 1 0 0 0-.968 0l-8.978 4.96a1 1 0 0 0-.003 1.748l9.022 5.04a1 1 0 0 0 .973.001l8.978-5a1 1 0 0 0-.002-1.749"}),R.jsx("path",{fill:"currentColor",d:"m12 15.856l-8.515-4.73l-.971 1.748l9 5a1 1 0 0 0 .971 0l9-5l-.971-1.748z"}),R.jsx("path",{fill:"currentColor",d:"m12 19.856l-8.515-4.73l-.971 1.748l9 5a1 1 0 0 0 .971 0l9-5l-.971-1.748z"})]})]})]})]}),R.jsx("div",{className:"container position-relative",children:R.jsx("div",{className:"viewDiv",ref:e})}),R.jsx("br",{})]})}const q8e=()=>{const[e,t]=se.useState({name:"",nik:"",alamat:"",desa:"",kecamatan:"",phone:"",email:"",comment:""}),i=s=>{const{name:a,value:l}=s.target;t(u=>({...u,[a]:l}))},r=s=>{s.preventDefault();const{name:a,nik:l,alamat:u,desa:d,kecamatan:m,phone:v,email:b,comment:_}=e,S=`Pesan dari ${a}`,M=[`Nama: ${a}`,`NIK: ${l}`,`Alamat: ${u}`,`Desa: ${d}`,`Kecamatan: ${m}`,`Nomor HP: ${v}`,`Email: ${b}`,`Komentar: ${_}`].join(`
`);window.location.href=`mailto:dinasputrkabkaro@gmail.com?subject=${encodeURIComponent(S)}&body=${encodeURIComponent(M)}`},n=()=>{t({name:"",nik:"",alamat:"",desa:"",kecamatan:"",phone:"",email:"",comment:""})};return R.jsxs("div",{className:"container my-5 form-container shadow p-4 rounded",children:[R.jsx("h3",{className:"mb-4 text-center text-primary",children:"Form Pengaduan"}),R.jsxs("form",{onSubmit:r,children:[R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"name",className:"form-label",children:"Nama"}),R.jsx("input",{type:"text",name:"name",id:"name",className:"form-control",required:!0,value:e.name,onChange:i,placeholder:"Masukkan nama lengkap"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"nik",className:"form-label",children:"NIK"}),R.jsx("input",{type:"number",min:0,name:"nik",id:"nik",className:"form-control",required:!0,maxLength:16,value:e.nik,onChange:i,placeholder:"Contoh: 1234567890123456"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"name",className:"form-label",children:"Alamat"}),R.jsx("input",{type:"text",name:"alamat",id:"alamat",className:"form-control",required:!0,value:e.alamat,onChange:i,placeholder:"Masukkan Alamat Lengkap"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"name",className:"form-label",children:"Desa"}),R.jsx("input",{type:"text",name:"desa",id:"desa",className:"form-control",required:!0,value:e.desa,onChange:i,placeholder:"Masukkan Desa"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"name",className:"form-label",children:"Kecamatan"}),R.jsx("input",{type:"text",name:"kecamatan",id:"kecamatan",className:"form-control",required:!0,value:e.kecamatan,onChange:i,placeholder:"Masukkan Kecamatan"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"phone",className:"form-label",children:"Nomor HP"}),R.jsx("input",{type:"text",name:"phone",id:"phone",className:"form-control",required:!0,maxLength:15,value:e.phone,onChange:i,placeholder:"Contoh: 081234567890"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"name",className:"form-label",children:"Email"}),R.jsx("input",{type:"email",name:"email",id:"email",className:"form-control",required:!0,value:e.email,onChange:i,placeholder:"Masukkan email"})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"comment",className:"form-label",children:"Komentar"}),R.jsx("textarea",{name:"comment",id:"comment",className:"form-control",rows:4,value:e.comment,onChange:i,placeholder:"Tuliskan pesan atau komentar Anda..."})]}),R.jsxs("div",{className:"d-flex justify-content-between",children:[R.jsx("button",{type:"submit",className:"btn btn-primary",children:"Kirim"}),R.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:n,children:"Reset"})]})]})]})};function W8e(){return R.jsxs("div",{className:"container my-5",children:[R.jsxs("div",{className:"text-center mb-5",children:[R.jsx("h2",{className:"fw-bold",children:"Dokumentasi Kegiatan"}),R.jsx("hr",{className:"w-25 mx-auto"})]}),R.jsxs("div",{className:"row g-4",children:[R.jsx("div",{className:"col-md-4",children:R.jsx(Fh,{to:"/dokumentasi-kegiatan",className:"text-decoration-none text-dark",children:R.jsxs("div",{className:"card h-100 shadow-lg border-0",style:{borderRadius:"15px",overflow:"hidden"},children:[R.jsx("div",{className:"position-relative",children:R.jsx("img",{src:"/img/galeri/image1.png",className:"card-img-top",alt:"DOKUMENTASI KEGIATAN TA.2023",style:{height:"220px",objectFit:"cover",transition:"transform 0.3s ease"}})}),R.jsx("div",{className:"card-body d-flex flex-column",children:R.jsx("h5",{className:"card-title fw-bold",children:"Penggantian Jembatan pada Ruas Jalan Bintang Meriah - Perbesi Kec. Kutabuluh (DAU SG)"})})]})})}),QA.map(e=>{const t=e.media[0];return R.jsx("div",{className:"col-md-4",children:R.jsx("div",{className:"card h-100 shadow-sm border-0",style:{borderRadius:"12px",overflow:"hidden"},children:R.jsxs(Fh,{to:`/galeri-kegiatan/${e.id}`,className:"text-decoration-none text-dark",children:[t.type==="image"?R.jsx("img",{src:t.src,alt:e.title,className:"card-img-top",style:{height:"200px",objectFit:"cover",transition:"transform 0.3s ease"}}):R.jsx("video",{src:t.src,className:"card-img-top",style:{height:"200px",objectFit:"cover"},muted:!0,autoPlay:!0,loop:!0}),R.jsx("div",{className:"card-body",children:R.jsx("h5",{className:"card-title fw-bold",children:e.title})})]})})},e.id)})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Y8e(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eh=function(){return Eh=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Eh.apply(this,arguments)};function Z8e(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var r=Array(e),n=0,t=0;t<i;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,n++)r[n]=s[a];return r}var Si={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},K8e={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function J8e(){(function(){if(typeof window.CustomEvent=="function")return!1;function e(t,i){i=i||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),r}window.CustomEvent=e})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var Jte=function(){function e(t){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=Math.random()*16|0,r=t=="x"?i:i&3|8;return r.toString(16)})},e.prototype._getSelector=function(t,i){if(i===void 0&&(i=document),typeof t!="string")return t;i=i||document;var r=t.substring(0,1);return r==="#"?i.querySelector(t):i.querySelectorAll(t)},e.prototype._each=function(t){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,t):t(this.selector,0),this):this},e.prototype._setCssVendorPrefix=function(t,i,r){var n=i.replace(/-([a-z])/gi,function(s,a){return a.toUpperCase()});this.cssVenderPrefixes.indexOf(n)!==-1?(t.style[n.charAt(0).toLowerCase()+n.slice(1)]=r,t.style["webkit"+n]=r,t.style["moz"+n]=r,t.style["ms"+n]=r,t.style["o"+n]=r):t.style[n]=r},e.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},e.prototype.isEventMatched=function(t,i){var r=i.split(".");return t.split(".").filter(function(n){return n}).every(function(n){return r.indexOf(n)!==-1})},e.prototype.attr=function(t,i){return i===void 0?this.firstElement?this.firstElement.getAttribute(t):"":(this._each(function(r){r.setAttribute(t,i)}),this)},e.prototype.find=function(t){return ot(this._getSelector(t,this.selector))},e.prototype.first=function(){return this.selector&&this.selector.length!==void 0?ot(this.selector[0]):ot(this.selector)},e.prototype.eq=function(t){return ot(this.selector[t])},e.prototype.parent=function(){return ot(this.selector.parentElement)},e.prototype.get=function(){return this._getFirstEl()},e.prototype.removeAttr=function(t){var i=t.split(" ");return this._each(function(r){i.forEach(function(n){return r.removeAttribute(n)})}),this},e.prototype.wrap=function(t){if(!this.firstElement)return this;var i=document.createElement("div");return i.className=t,this.firstElement.parentNode.insertBefore(i,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),i.appendChild(this.firstElement),this},e.prototype.addClass=function(t){return t===void 0&&(t=""),this._each(function(i){t.split(" ").forEach(function(r){r&&i.classList.add(r)})}),this},e.prototype.removeClass=function(t){return this._each(function(i){t.split(" ").forEach(function(r){r&&i.classList.remove(r)})}),this},e.prototype.hasClass=function(t){return this.firstElement?this.firstElement.classList.contains(t):!1},e.prototype.hasAttribute=function(t){return this.firstElement?this.firstElement.hasAttribute(t):!1},e.prototype.toggleClass=function(t){return this.firstElement?(this.hasClass(t)?this.removeClass(t):this.addClass(t),this):this},e.prototype.css=function(t,i){var r=this;return this._each(function(n){r._setCssVendorPrefix(n,t,i)}),this},e.prototype.on=function(t,i){var r=this;return this.selector?(t.split(" ").forEach(function(n){Array.isArray(e.eventListeners[n])||(e.eventListeners[n]=[]),e.eventListeners[n].push(i),r.selector.addEventListener(n.split(".")[0],i)}),this):this},e.prototype.once=function(t,i){var r=this;return this.on(t,function(){r.off(t),i(t)}),this},e.prototype.off=function(t){var i=this;return this.selector?(Object.keys(e.eventListeners).forEach(function(r){i.isEventMatched(t,r)&&(e.eventListeners[r].forEach(function(n){i.selector.removeEventListener(r.split(".")[0],n)}),e.eventListeners[r]=[])}),this):this},e.prototype.trigger=function(t,i){if(!this.firstElement)return this;var r=new CustomEvent(t.split(".")[0],{detail:i||null});return this.firstElement.dispatchEvent(r),this},e.prototype.load=function(t){var i=this;return fetch(t).then(function(r){return r.text()}).then(function(r){i.selector.innerHTML=r}),this},e.prototype.html=function(t){return t===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(i){i.innerHTML=t}),this)},e.prototype.append=function(t){return this._each(function(i){typeof t=="string"?i.insertAdjacentHTML("beforeend",t):i.appendChild(t)}),this},e.prototype.prepend=function(t){return this._each(function(i){typeof t=="string"?i.insertAdjacentHTML("afterbegin",t):t instanceof HTMLElement&&i.insertBefore(t.cloneNode(!0),i.firstChild)}),this},e.prototype.remove=function(){return this._each(function(t){t.parentNode.removeChild(t)}),this},e.prototype.empty=function(){return this._each(function(t){t.innerHTML=""}),this},e.prototype.scrollTop=function(t){return t!==void 0?(document.body.scrollTop=t,document.documentElement.scrollTop=t,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},e.prototype.scrollLeft=function(t){return t!==void 0?(document.body.scrollLeft=t,document.documentElement.scrollLeft=t,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},e.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var t=this.firstElement.getBoundingClientRect(),i=ot("body").style().marginLeft;return{left:t.left-parseFloat(i)+this.scrollLeft(),top:t.top+this.scrollTop()}},e.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},e.prototype.width=function(){var t=this.style();return this.firstElement.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},e.prototype.height=function(){var t=this.style();return this.firstElement.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},e.eventListeners={},e}();function ot(e){return J8e(),new Jte(e)}var X8e=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function Q8e(e){return e==="href"?"src":(e=e.replace("data-",""),e=e.charAt(0).toLowerCase()+e.slice(1),e=e.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()}),e)}var Er={fetchCaptionFromUrl:function(e,t,i){fetch(e).then(function(r){return r.text()}).then(function(r){if(i==="append"){var n='<div class="lg-sub-html">'+r+"</div>";t.append(n)}else t.html(r)})},getSize:function(e,t,i,r){i===void 0&&(i=0);var n=ot(e),s=n.attr("data-lg-size")||r;if(s){var a=s.split(",");if(a[1])for(var l=window.innerWidth,u=0;u<a.length;u++){var d=a[u],m=parseInt(d.split("-")[2],10);if(m>l){s=d;break}u===a.length-1&&(s=d)}var v=s.split("-"),b=parseInt(v[0],10),_=parseInt(v[1],10),S=t.width(),M=t.height()-i,T=Math.min(S,b),E=Math.min(M,_),A=Math.min(T/b,E/_);return{width:b*A,height:_*A}}},getTransform:function(e,t,i,r,n){if(n){var s=ot(e).find("img").first();if(s.get()){var a=t.get().getBoundingClientRect(),l=a.width,u=t.height()-(i+r),d=s.width(),m=s.height(),v=s.style(),b=(l-d)/2-s.offset().left+(parseFloat(v.paddingLeft)||0)+(parseFloat(v.borderLeft)||0)+ot(window).scrollLeft()+a.left,_=(u-m)/2-s.offset().top+(parseFloat(v.paddingTop)||0)+(parseFloat(v.borderTop)||0)+ot(window).scrollTop()+i,S=d/n.width,M=m/n.height,T="translate3d("+(b*=-1)+"px, "+(_*=-1)+"px, 0) scale3d("+S+", "+M+", 1)";return T}}},getIframeMarkup:function(e,t,i,r,n,s){var a=s?'title="'+s+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+e+"; max-width:"+i+"; height: "+t+"; max-height:"+r+`">
                    <iframe class="lg-object" frameborder="0" `+a+' src="'+n+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(e,t,i,r,n,s){var a=r?'srcset="'+r+'"':"",l=n?'sizes="'+n+'"':"",u="<img "+i+" "+a+"  "+l+' class="lg-object lg-image" data-index="'+e+'" src="'+t+'" />',d="";if(s){var m=typeof s=="string"?JSON.parse(s):s;d=m.map(function(v){var b="";return Object.keys(v).forEach(function(_){b+=" "+_+'="'+v[_]+'"'}),"<source "+b+"></source>"})}return""+d+u},getResponsiveSrc:function(e){for(var t=[],i=[],r="",n=0;n<e.length;n++){var s=e[n].split(" ");s[0]===""&&s.splice(0,1),i.push(s[0]),t.push(s[1])}for(var a=window.innerWidth,l=0;l<t.length;l++)if(parseInt(t[l],10)>a){r=i[l];break}return r},isImageLoaded:function(e){return!(!e||!e.complete||e.naturalWidth===0)},getVideoPosterMarkup:function(e,t,i,r,n){var s="";n&&n.youtube?s="lg-has-youtube":n&&n.vimeo?s="lg-has-vimeo":s="lg-has-html5";var a=t;return typeof t!="string"&&(a=t.outerHTML),'<div class="lg-video-cont '+s+'" style="'+i+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+r+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+r+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+a+`
            <img class="lg-object lg-video-poster" src="`+e+`" />
        </div>`},getFocusableElements:function(e){var t=e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=[].filter.call(t,function(r){var n=window.getComputedStyle(r);return n.display!=="none"&&n.visibility!=="hidden"});return i},getDynamicOptions:function(e,t,i,r){var n=[],s=Z8e(X8e,t);return[].forEach.call(e,function(a){for(var l={},u=0;u<a.attributes.length;u++){var d=a.attributes[u];if(d.specified){var m=Q8e(d.name),v="";s.indexOf(m)>-1&&(v=m),v&&(l[v]=d.value)}}var b=ot(a),_=b.find("img").first().attr("alt"),S=b.attr("title"),M=r?b.attr(r):b.find("img").first().attr("src");l.thumb=M,i&&!l.subHtml&&(l.subHtml=S||_||""),l.alt=_||S||"",n.push(l)}),n},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(e,t,i){if(!e){if(t)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(i+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var r=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=e.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),s=e.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(r)return{youtube:r};if(n)return{vimeo:n};if(s)return{wistia:s}}},eV=0,ePe=function(){function e(t,i){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!t)return this;if(eV++,this.lgId=eV,this.el=t,this.LGel=ot(t),this.generateSettings(i),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return e.prototype.generateSettings=function(t){if(this.settings=Eh(Eh({},K8e),t),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():Er.isMobile()){var i=Eh(Eh({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=Eh(Eh({},this.settings),i)}},e.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var t=this.settings.container;if(typeof t=="function")this.settings.container=t();else if(typeof t=="string"){var i=document.querySelector(t);this.settings.container=i??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},e.prototype.init=function(){var t=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(Si.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){t.enableDrag(),t.enableSwipe(),t.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},e.prototype.openGalleryOnItemClick=function(){for(var t=this,i=function(s){var a=r.items[s],l=ot(a),u=Jte.generateUUID();l.attr("data-lg-id",u).on("click.lgcustom-item-"+u,function(d){d.preventDefault();var m=t.settings.index||s;t.openGallery(m,a)})},r=this,n=0;n<this.items.length;n++)i(n)},e.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach(function(i){t.plugins.push(new i(t,ot))})},e.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},e.prototype.getSlideItem=function(t){return ot(this.getSlideItemId(t))},e.prototype.getSlideItemId=function(t){return"#lg-item-"+this.lgId+"-"+t},e.prototype.getIdName=function(t){return t+"-"+this.lgId},e.prototype.getElementById=function(t){return ot("#"+this.getIdName(t))},e.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},e.prototype.buildStructure=function(){var t=this,i=this.$container&&this.$container.get();if(!i){var r="",n="";this.settings.controls&&(r='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(n='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var s="";this.settings.allowMediaOverlap&&(s+="lg-media-overlap ");var a=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",l=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",u="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),d=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",m=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",v=`
        <div class="`+u+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+a+" "+l+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+s+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+r+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+m+`
                    `+d+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?n:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?n:"")+`
                </div>
            </div>
        </div>
        `;ot(this.settings.container).append(v),document.body!==this.settings.container&&ot(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var b=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(b+="lg-grab "),this.outer.addClass(b),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),ot(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){t.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},e.prototype.refreshOnResize=function(){if(this.lgOpened){var t=this.galleryItems[this.index],i=t.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var r=this.mediaContainerPosition,n=r.top,s=r.bottom;if(this.currentImageSize=Er.getSize(this.items[this.index],this.outer,n+s,i&&this.settings.videoMaxSize),i&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var a=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",a)}this.LGel.trigger(Si.containerResize)}},e.prototype.resizeVideoSlide=function(t,i){var r=this.getVideoContStyle(i),n=this.getSlideItem(t);n.find(".lg-video-cont").attr("style",r)},e.prototype.updateSlides=function(t,i){if(this.index>t.length-1&&(this.index=t.length-1),t.length===1&&(this.index=0),!t.length){this.closeGallery();return}var r=this.galleryItems[i].src;this.galleryItems=t,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some(function(s,a){return s.src===r?(n=a,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(Si.updateSlides)},e.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var t=ot(this.settings.selectWithin);this.items=t.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return Er.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},e.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},e.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(ot("body").style().paddingRight);var t=document.documentElement.getBoundingClientRect(),i=window.innerWidth-t.width;ot(document.body).css("padding-right",i+this.bodyPaddingRight+"px"),ot(document.body).addClass("lg-overlay-open")}},e.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(ot(document.body).css("padding-right",this.bodyPaddingRight+"px"),ot(document.body).removeClass("lg-overlay-open"))},e.prototype.openGallery=function(t,i){var r=this;if(t===void 0&&(t=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var n=this.getItemsToBeInsertedToDom(t,t);this.currentItemsInDom=n;var s="";n.forEach(function(b){s=s+('<div id="'+b+'" class="lg-item"></div>')}),this.$inner.append(s),this.addHtml(t);var a="";this.mediaContainerPosition=this.getMediaContainerPosition();var l=this.mediaContainerPosition,u=l.top,d=l.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(u,d);var m=this.galleryItems[t].__slideVideoInfo;this.zoomFromOrigin&&i&&(this.currentImageSize=Er.getSize(i,this.outer,u+d,m&&this.settings.videoMaxSize),a=Er.getTransform(i,this.outer,u,d,this.currentImageSize)),(!this.zoomFromOrigin||!a)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete"));var v=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){r.outer.addClass("lg-components-open")},v),this.index=t,this.LGel.trigger(Si.beforeOpen),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=ot(window).scrollTop(),setTimeout(function(){if(r.zoomFromOrigin&&a){var b=r.getSlideItem(t);b.css("transform",a),setTimeout(function(){b.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",r.settings.startAnimationDuration+"ms"),r.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){b.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){r.$backdrop.addClass("in"),r.$container.addClass("lg-show-in")},10),setTimeout(function(){r.settings.trapFocus&&document.body===r.settings.container&&r.trapFocus()},r.settings.backdropDuration+50),(!r.zoomFromOrigin||!a)&&setTimeout(function(){r.outer.addClass("lg-visible")},r.settings.backdropDuration),r.slide(t,!1,!1,!1),r.LGel.trigger(Si.afterOpen)}),document.body===this.settings.container&&ot("html").addClass("lg-on")}},e.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var t=this.$toolbar.get().clientHeight||0,i=this.outer.find(".lg-components .lg-sub-html").get(),r=this.settings.defaultCaptionHeight||i&&i.clientHeight||0,n=this.outer.find(".lg-thumb-outer").get(),s=n?n.clientHeight:0,a=s+r;return{top:t,bottom:a}},e.prototype.setMediaContainerPosition=function(t,i){t===void 0&&(t=0),i===void 0&&(i=0),this.$content.css("top",t+"px").css("bottom",i+"px")},e.prototype.hideBars=function(){var t=this;setTimeout(function(){t.outer.removeClass("lg-hide-items"),t.settings.hideBarsDelay>0&&(t.outer.on("mousemove.lg click.lg touchstart.lg",function(){t.outer.removeClass("lg-hide-items"),clearTimeout(t.hideBarTimeout),t.hideBarTimeout=setTimeout(function(){t.outer.addClass("lg-hide-items")},t.settings.hideBarsDelay)}),t.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},e.prototype.initPictureFill=function(t){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[t.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},e.prototype.counter=function(){if(this.settings.counter){var t=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(t)}},e.prototype.addHtml=function(t){var i,r;if(this.galleryItems[t].subHtmlUrl?r=this.galleryItems[t].subHtmlUrl:i=this.galleryItems[t].subHtml,!r)if(i){var n=i.substring(0,1);if(n==="."||n==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?i=ot(this.items).eq(t).find(i).first().html():i=ot(i).first().html()}catch{console.warn('Error processing subHtml selector "'+i+'"'),i=""}}else i="";if(this.settings.appendSubHtmlTo!==".lg-item")r?Er.fetchCaptionFromUrl(r,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(i);else{var s=ot(this.getSlideItemId(t));r?Er.fetchCaptionFromUrl(r,s,"append"):s.append('<div class="lg-sub-html">'+i+"</div>")}typeof i<"u"&&i!==null&&(i===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(Si.afterAppendSubHtml,{index:t})},e.prototype.preload=function(t){for(var i=1;i<=this.settings.preload&&!(i>=this.galleryItems.length-t);i++)this.loadContent(t+i,!1);for(var r=1;r<=this.settings.preload&&!(t-r<0);r++)this.loadContent(t-r,!1)},e.prototype.getDummyImgStyles=function(t){return t?"width:"+t.width+`px;
                margin-left: -`+t.width/2+`px;
                margin-top: -`+t.height/2+`px;
                height:`+t.height+"px":""},e.prototype.getVideoContStyle=function(t){return t?"width:"+t.width+`px;
                height:`+t.height+"px":""},e.prototype.getDummyImageContent=function(t,i,r){var n;if(this.settings.dynamic||(n=ot(this.items).eq(i)),n){var s=void 0;if(this.settings.exThumbImage?s=n.attr(this.settings.exThumbImage):s=n.find("img").first().attr("src"),!s)return"";var a=this.getDummyImgStyles(this.currentImageSize),l=document.createElement("img");return l.alt=r||"",l.src=s,l.className="lg-dummy-img",l.style.cssText=a,t.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),l}return""},e.prototype.setImgMarkup=function(t,i,r){var n=this.galleryItems[r],s=n.alt,a=n.srcset,l=n.sizes,u=n.sources,d="",m=s?'alt="'+s+'"':"";this.isFirstSlideWithZoomAnimation()?d=this.getDummyImageContent(i,r,m):d=Er.getImgMarkup(r,t,m,a,l,u);var v=document.createElement("picture");v.className="lg-img-wrap",ot(v).append(d),i.prepend(v)},e.prototype.onSlideObjectLoad=function(t,i,r,n){var s=t.find(".lg-object").first();Er.isImageLoaded(s.get())||i?r():(s.on("load.lg error.lg",function(){r&&r()}),s.on("error.lg",function(){n&&n()}))},e.prototype.onLgObjectLoad=function(t,i,r,n,s,a){var l=this;this.onSlideObjectLoad(t,a,function(){l.triggerSlideItemLoad(t,i,r,n,s)},function(){t.addClass("lg-complete lg-complete_"),t.html('<span class="lg-error-msg">'+l.settings.strings.mediaLoadingFailed+"</span>")})},e.prototype.triggerSlideItemLoad=function(t,i,r,n,s){var a=this,l=this.galleryItems[i],u=s&&this.getSlideType(l)==="video"&&!l.poster?n:0;setTimeout(function(){t.addClass("lg-complete lg-complete_"),a.LGel.trigger(Si.slideItemLoad,{index:i,delay:r||0,isFirstSlide:s})},u)},e.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},e.prototype.addSlideVideoInfo=function(t){var i=this;t.forEach(function(r,n){r.__slideVideoInfo=Er.isVideo(r.src,!!r.video,n),r.__slideVideoInfo&&i.settings.loadYouTubePoster&&!r.poster&&r.__slideVideoInfo.youtube&&(r.poster="//img.youtube.com/vi/"+r.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},e.prototype.loadContent=function(t,i){var r=this,n=this.galleryItems[t],s=ot(this.getSlideItemId(t)),a=n.poster,l=n.srcset,u=n.sizes,d=n.sources,m=n.src,v=n.video,b=v&&typeof v=="string"?JSON.parse(v):v;if(n.responsive){var _=n.responsive.split(",");m=Er.getResponsiveSrc(_)||m}var S=n.__slideVideoInfo,M="",T=!!n.iframe,E=!this.lGalleryOn,A=0;if(E&&(this.zoomFromOrigin&&this.currentImageSize?A=this.settings.startAnimationDuration+10:A=this.settings.backdropDuration+10),!s.hasClass("lg-loaded")){if(S){var P=this.mediaContainerPosition,N=P.top,D=P.bottom,k=Er.getSize(this.items[t],this.outer,N+D,S&&this.settings.videoMaxSize);M=this.getVideoContStyle(k)}if(T){var q=Er.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,m,n.iframeTitle);s.prepend(q)}else if(a){var X="",re=E&&this.zoomFromOrigin&&this.currentImageSize;re&&(X=this.getDummyImageContent(s,t,""));var q=Er.getVideoPosterMarkup(a,X||"",M,this.settings.strings.playVideo,S);s.prepend(q)}else if(S){var q='<div class="lg-video-cont " style="'+M+'"></div>';s.prepend(q)}else if(this.setImgMarkup(m,s,t),l||d){var W=s.find(".lg-object");this.initPictureFill(W)}(a||S)&&this.LGel.trigger(Si.hasVideo,{index:t,src:m,html5Video:b,hasPoster:!!a}),this.LGel.trigger(Si.afterAppendSlide,{index:t}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(t)}var be=0;A&&!ot(document.body).hasClass("lg-from-hash")&&(be=A),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){s.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),s.hasClass("lg-loaded")||setTimeout(function(){if(r.getSlideType(n)==="image"){var ae=n.alt,$e=ae?'alt="'+ae+'"':"";if(s.find(".lg-img-wrap").append(Er.getImgMarkup(t,m,$e,l,u,n.sources)),l||d){var Me=s.find(".lg-object");r.initPictureFill(Me)}}(r.getSlideType(n)==="image"||r.getSlideType(n)==="video"&&a)&&(r.onLgObjectLoad(s,t,A,be,!0,!1),r.onSlideObjectLoad(s,!!(S&&S.html5&&!a),function(){r.loadContentOnFirstSlideLoad(t,s,be)},function(){r.loadContentOnFirstSlideLoad(t,s,be)}))},this.settings.startAnimationDuration+100)),s.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(n)==="video"&&!a)&&this.onLgObjectLoad(s,t,A,be,E,!!(S&&S.html5&&!a)),(!this.zoomFromOrigin||!this.currentImageSize)&&s.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){s.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,i===!0&&(s.hasClass("lg-complete_")?this.preload(t):s.find(".lg-object").first().on("load.lg error.lg",function(){r.preload(t)}))},e.prototype.loadContentOnFirstSlideLoad=function(t,i,r){var n=this;setTimeout(function(){i.find(".lg-dummy-img").remove(),i.removeClass("lg-first-slide"),n.outer.removeClass("lg-first-slide-loading"),n.isDummyImageRemoved=!0,n.preload(t)},r+300)},e.prototype.getItemsToBeInsertedToDom=function(t,i,r){var n=this;r===void 0&&(r=0);var s=[],a=Math.max(r,3);a=Math.min(a,this.galleryItems.length);var l="lg-item-"+this.lgId+"-"+i;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(m,v){s.push("lg-item-"+n.lgId+"-"+v)}),s;if(t<(this.galleryItems.length-1)/2){for(var u=t;u>t-a/2&&u>=0;u--)s.push("lg-item-"+this.lgId+"-"+u);for(var d=s.length,u=0;u<a-d;u++)s.push("lg-item-"+this.lgId+"-"+(t+u+1))}else{for(var u=t;u<=this.galleryItems.length-1&&u<t+a/2;u++)s.push("lg-item-"+this.lgId+"-"+u);for(var d=s.length,u=0;u<a-d;u++)s.push("lg-item-"+this.lgId+"-"+(t-u-1))}return this.settings.loop&&(t===this.galleryItems.length-1?s.push("lg-item-"+this.lgId+"-0"):t===0&&s.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),s.indexOf(l)===-1&&s.push("lg-item-"+this.lgId+"-"+i),s},e.prototype.organizeSlideItems=function(t,i){var r=this,n=this.getItemsToBeInsertedToDom(t,i,this.settings.numberOfSlideItemsInDom);return n.forEach(function(s){r.currentItemsInDom.indexOf(s)===-1&&r.$inner.append('<div id="'+s+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(s){n.indexOf(s)===-1&&ot("#"+s).remove()}),n},e.prototype.getPreviousSlideIndex=function(){var t=0;try{var i=this.outer.find(".lg-current").first().attr("id");t=parseInt(i.split("-")[3])||0}catch{t=0}return t},e.prototype.setDownloadValue=function(t){if(this.settings.download){var i=this.galleryItems[t],r=i.downloadUrl===!1||i.downloadUrl==="false";if(r)this.outer.addClass("lg-hide-download");else{var n=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),n.attr("href",i.downloadUrl||i.src),i.download&&n.attr("download",i.download)}}},e.prototype.makeSlideAnimation=function(t,i,r){var n=this;this.lGalleryOn&&r.addClass("lg-slide-progress"),setTimeout(function(){n.outer.addClass("lg-no-trans"),n.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),t==="prev"?(i.addClass("lg-prev-slide"),r.addClass("lg-next-slide")):(i.addClass("lg-next-slide"),r.addClass("lg-prev-slide")),setTimeout(function(){n.outer.find(".lg-item").removeClass("lg-current"),i.addClass("lg-current"),n.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},e.prototype.slide=function(t,i,r,n){var s=this,a=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(t,a),!(this.lGalleryOn&&a===t)){var l=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(t);var u=this.getSlideItem(t),d=this.getSlideItem(a),m=this.galleryItems[t],v=m.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(m)),this.setDownloadValue(t),v){var b=this.mediaContainerPosition,_=b.top,S=b.bottom,M=Er.getSize(this.items[t],this.outer,_+S,v&&this.settings.videoMaxSize);this.resizeVideoSlide(t,M)}if(this.LGel.trigger(Si.beforeSlide,{prevIndex:a,index:t,fromTouch:!!i,fromThumb:!!r}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(t),n||(t<a?n="prev":t>a&&(n="next")),!i)this.makeSlideAnimation(n,u,d);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var T=void 0,E=void 0;l>2?(T=t-1,E=t+1,(t===0&&a===l-1||t===l-1&&a===0)&&(E=0,T=l-1)):(T=0,E=1),n==="prev"?this.getSlideItem(E).addClass("lg-next-slide"):this.getSlideItem(T).addClass("lg-prev-slide"),u.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){s.loadContent(t,!0),s.settings.appendSubHtmlTo!==".lg-item"&&s.addHtml(t)},this.settings.speed+50+(i?0:this.settings.slideDelay)):this.loadContent(t,!0),setTimeout(function(){s.lgBusy=!1,d.removeClass("lg-slide-progress"),s.LGel.trigger(Si.afterSlide,{prevIndex:a,index:t,fromTouch:i,fromThumb:r})},(this.lGalleryOn?this.settings.speed+100:100)+(i?0:this.settings.slideDelay))}this.index=t}},e.prototype.updateCurrentCounter=function(t){this.getElementById("lg-counter-current").html(t+1+"")},e.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},e.prototype.getSlideType=function(t){return t.__slideVideoInfo?"video":t.iframe?"iframe":"image"},e.prototype.touchMove=function(t,i,r){var n=i.pageX-t.pageX,s=i.pageY-t.pageY,a=!1;if(this.swipeDirection?a=!0:Math.abs(n)>15?(this.swipeDirection="horizontal",a=!0):Math.abs(s)>15&&(this.swipeDirection="vertical",a=!0),!!a){var l=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){r==null||r.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(l,n,0);var u=l.get().offsetWidth,d=u*15/100,m=d-Math.abs(n*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-u+n-m,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),u+n+m,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){r==null||r.preventDefault(),this.$container.addClass("lg-dragging-vertical");var v=1-Math.abs(s)/window.innerHeight;this.$backdrop.css("opacity",v);var b=1-Math.abs(s)/(window.innerWidth*2);this.setTranslate(l,0,s,b,b),Math.abs(s)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},e.prototype.touchEnd=function(t,i,r){var n=this,s;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){n.$container.removeClass("lg-dragging-vertical"),n.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var a=!0;if(n.swipeDirection==="horizontal"){s=t.pageX-i.pageX;var l=Math.abs(t.pageX-i.pageX);s<0&&l>n.settings.swipeThreshold?(n.goToNextSlide(!0),a=!1):s>0&&l>n.settings.swipeThreshold&&(n.goToPrevSlide(!0),a=!1)}else if(n.swipeDirection==="vertical")if(s=Math.abs(t.pageY-i.pageY),n.settings.closable&&n.settings.swipeToClose&&s>100){n.closeGallery();return}else n.$backdrop.css("opacity",1);if(n.outer.find(".lg-item").removeAttr("style"),a&&Math.abs(t.pageX-i.pageX)<5){var u=ot(r.target);n.isPosterElement(u)&&n.LGel.trigger(Si.posterClick)}n.swipeDirection=void 0}),setTimeout(function(){!n.outer.hasClass("lg-dragging")&&n.settings.mode!=="lg-slide"&&n.outer.removeClass("lg-slide")},this.settings.speed+100)},e.prototype.enableSwipe=function(){var t=this,i={},r={},n=!1,s=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(a){t.dragOrSwipeEnabled=!0;var l=t.getSlideItem(t.index);(ot(a.target).hasClass("lg-item")||l.get().contains(a.target))&&!t.outer.hasClass("lg-zoomed")&&!t.lgBusy&&a.touches.length===1&&(s=!0,t.touchAction="swipe",t.manageSwipeClass(),i={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(a){s&&t.touchAction==="swipe"&&a.touches.length===1&&(r={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},t.touchMove(i,r,a),n=!0)}),this.$inner.on("touchend.lg",function(a){if(t.touchAction==="swipe"){if(n)n=!1,t.touchEnd(r,i,a);else if(s){var l=ot(a.target);t.isPosterElement(l)&&t.LGel.trigger(Si.posterClick)}t.touchAction=void 0,s=!1}}))},e.prototype.enableDrag=function(){var t=this,i={},r={},n=!1,s=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(a){t.dragOrSwipeEnabled=!0;var l=t.getSlideItem(t.index);(ot(a.target).hasClass("lg-item")||l.get().contains(a.target))&&!t.outer.hasClass("lg-zoomed")&&!t.lgBusy&&(a.preventDefault(),t.lgBusy||(t.manageSwipeClass(),i={pageX:a.pageX,pageY:a.pageY},n=!0,t.outer.get().scrollLeft+=1,t.outer.get().scrollLeft-=1,t.outer.removeClass("lg-grab").addClass("lg-grabbing"),t.LGel.trigger(Si.dragStart)))}),ot(window).on("mousemove.lg.global"+this.lgId,function(a){n&&t.lgOpened&&(s=!0,r={pageX:a.pageX,pageY:a.pageY},t.touchMove(i,r),t.LGel.trigger(Si.dragMove))}),ot(window).on("mouseup.lg.global"+this.lgId,function(a){if(t.lgOpened){var l=ot(a.target);s?(s=!1,t.touchEnd(r,i,a),t.LGel.trigger(Si.dragEnd)):t.isPosterElement(l)&&t.LGel.trigger(Si.posterClick),n&&(n=!1,t.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},e.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",function(i){!t.dragOrSwipeEnabled&&t.isPosterElement(ot(i.target))&&t.LGel.trigger(Si.posterClick)})},e.prototype.manageSwipeClass=function(){var t=this.index+1,i=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?i=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(t=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),i>-1&&this.getSlideItem(i).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-next-slide")},e.prototype.goToNextSlide=function(t){var i=this,r=this.settings.loop;t&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(Si.beforeNextSlide,{index:this.index}),this.slide(this.index,!!t,!1,"next")):r?(this.index=0,this.LGel.trigger(Si.beforeNextSlide,{index:this.index}),this.slide(this.index,!!t,!1,"next")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-right-end"),setTimeout(function(){i.outer.removeClass("lg-right-end")},400)))},e.prototype.goToPrevSlide=function(t){var i=this,r=this.settings.loop;t&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(Si.beforePrevSlide,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):r?(this.index=this.galleryItems.length-1,this.LGel.trigger(Si.beforePrevSlide,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-left-end"),setTimeout(function(){i.outer.removeClass("lg-left-end")},400)))},e.prototype.keyPress=function(){var t=this;ot(window).on("keydown.lg.global"+this.lgId,function(i){t.lgOpened&&t.settings.escKey===!0&&i.keyCode===27&&(i.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&t.galleryItems.length>1&&(i.keyCode===37&&(i.preventDefault(),t.goToPrevSlide()),i.keyCode===39&&(i.preventDefault(),t.goToNextSlide()))})},e.prototype.arrow=function(){var t=this;this.getElementById("lg-prev").on("click.lg",function(){t.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){t.goToNextSlide()})},e.prototype.arrowDisable=function(t){if(!this.settings.loop&&this.settings.hideControlOnEnd){var i=this.getElementById("lg-prev"),r=this.getElementById("lg-next");t+1===this.galleryItems.length?r.attr("disabled","disabled").addClass("disabled"):r.removeAttr("disabled").removeClass("disabled"),t===0?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled")}},e.prototype.setTranslate=function(t,i,r,n,s){n===void 0&&(n=1),s===void 0&&(s=1),t.css("transform","translate3d("+i+"px, "+r+"px, 0px) scale3d("+n+", "+s+", 1)")},e.prototype.mousewheel=function(){var t=this,i=0;this.outer.on("wheel.lg",function(r){if(!(!r.deltaY||t.galleryItems.length<2)){r.preventDefault();var n=new Date().getTime();n-i<1e3||(i=n,r.deltaY>0?t.goToNextSlide():r.deltaY<0&&t.goToPrevSlide())}})},e.prototype.isSlideElement=function(t){return t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap")||t.hasClass("lg-img-rotate")},e.prototype.isPosterElement=function(t){var i=this.getSlideItem(this.index).find(".lg-video-play-button").get();return t.hasClass("lg-video-poster")||t.hasClass("lg-video-play-button")||i&&i.contains(t.get())},e.prototype.toggleMaximize=function(){var t=this;this.getElementById("lg-maximize").on("click.lg",function(){t.$container.toggleClass("lg-inline"),t.refreshOnResize()})},e.prototype.invalidateItems=function(){for(var t=0;t<this.items.length;t++){var i=this.items[t],r=ot(i);r.off("click.lgcustom-item-"+r.attr("data-lg-id"))}},e.prototype.trapFocus=function(){var t=this;this.$container.get().focus({preventScroll:!0}),ot(window).on("keydown.lg.global"+this.lgId,function(i){if(t.lgOpened){var r=i.key==="Tab"||i.keyCode===9;if(r){var n=Er.getFocusableElements(t.$container.get()),s=n[0],a=n[n.length-1];i.shiftKey?document.activeElement===s&&(a.focus(),i.preventDefault()):document.activeElement===a&&(s.focus(),i.preventDefault())}}})},e.prototype.manageCloseGallery=function(){var t=this;if(this.settings.closable){var i=!1;this.getElementById("lg-close").on("click.lg",function(){t.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(r){var n=ot(r.target);t.isSlideElement(n)?i=!0:i=!1}),this.outer.on("mousemove.lg",function(){i=!1}),this.outer.on("mouseup.lg",function(r){var n=ot(r.target);t.isSlideElement(n)&&i&&(t.outer.hasClass("lg-dragging")||t.closeGallery())}))}},e.prototype.closeGallery=function(t){var i=this;if(!this.lgOpened||!this.settings.closable&&!t)return 0;this.LGel.trigger(Si.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&ot(window).scrollTop(this.prevScrollTop);var r=this.items[this.index],n;if(this.zoomFromOrigin&&r){var s=this.mediaContainerPosition,a=s.top,l=s.bottom,u=this.galleryItems[this.index],d=u.__slideVideoInfo,m=u.poster,v=Er.getSize(r,this.outer,a+l,d&&m&&this.settings.videoMaxSize);n=Er.getTransform(r,this.outer,a,l,v)}this.zoomFromOrigin&&n?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",n)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,ot("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var b=this.zoomFromOrigin&&n?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){i.zoomFromOrigin&&n&&i.outer.removeClass("lg-zoom-from-image"),i.$container.removeClass("lg-show"),i.resetScrollBar(),i.$backdrop.removeAttr("style").css("transition-duration",i.settings.backdropDuration+"ms"),i.outer.removeClass("lg-closing "+i.settings.startClass),i.getSlideItem(i.index).removeClass("lg-start-end-progress"),i.$inner.empty(),i.lgOpened&&i.LGel.trigger(Si.afterClose,{instance:i}),i.$container.get()&&i.$container.get().blur(),i.lgOpened=!1},b+100),b+100},e.prototype.initModules=function(){this.plugins.forEach(function(t){try{t.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},e.prototype.destroyModules=function(t){this.plugins.forEach(function(i){try{t?i.destroy():i.closeGallery&&i.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},e.prototype.refresh=function(t){this.settings.dynamic||this.invalidateItems(),t?this.galleryItems=t:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(Si.updateSlides)},e.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},e.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),ot(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},e.prototype.destroy=function(){var t=this.closeGallery(!0);return t?setTimeout(this.destroyGallery.bind(this),t):this.destroyGallery(),t},e}();function tPe(e,t){return new ePe(e,t)}var Yi={onAfterAppendSlide:"lgAfterAppendSlide",onInit:"lgInit",onHasVideo:"lgHasVideo",onContainerResize:"lgContainerResize",onAfterAppendSubHtml:"lgAfterAppendSubHtml",onBeforeOpen:"lgBeforeOpen",onAfterOpen:"lgAfterOpen",onSlideItemLoad:"lgSlideItemLoad",onBeforeSlide:"lgBeforeSlide",onAfterSlide:"lgAfterSlide",onPosterClick:"lgPosterClick",onDragStart:"lgDragStart",onDragMove:"lgDragMove",onDragEnd:"lgDragEnd",onBeforeNextSlide:"lgBeforeNextSlide",onBeforePrevSlide:"lgBeforePrevSlide",onBeforeClose:"lgBeforeClose",onAfterClose:"lgAfterClose",onRotateLeft:"lgRotateLeft",onRotateRight:"lgRotateRight",onFlipHorizontal:"lgFlipHorizontal",onFlipVertical:"lgFlipVertical"},iPe=function(e){var t=e.children,i=e.elementClassNames,r=e.onAfterAppendSlide,n=e.onInit,s=e.onHasVideo,a=e.onContainerResize,l=e.onAfterAppendSubHtml,u=e.onBeforeOpen,d=e.onAfterOpen,m=e.onSlideItemLoad,v=e.onBeforeSlide,b=e.onAfterSlide,_=e.onPosterClick,S=e.onDragStart,M=e.onDragMove,T=e.onDragEnd,E=e.onBeforeNextSlide,A=e.onBeforePrevSlide,P=e.onBeforeClose,N=e.onAfterClose,D=e.onRotateLeft,k=e.onRotateRight,q=e.onFlipHorizontal,X=e.onFlipVertical,re=Y8e(e,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),W=se.useRef(null),be=se.useCallback(function(){r&&W&&W.current&&W.current.addEventListener(Yi.onAfterAppendSlide,function(ae){r(ae.detail)}),n&&W&&W.current&&W.current.addEventListener(Yi.onInit,function(ae){n(ae.detail)}),s&&W&&W.current&&W.current.addEventListener(Yi.onHasVideo,function(ae){s(ae.detail)}),a&&W&&W.current&&W.current.addEventListener(Yi.onContainerResize,function(ae){a(ae.detail)}),l&&W&&W.current&&W.current.addEventListener(Yi.onAfterAppendSubHtml,function(ae){l(ae.detail)}),u&&W&&W.current&&W.current.addEventListener(Yi.onBeforeOpen,function(ae){u(ae.detail)}),d&&W&&W.current&&W.current.addEventListener(Yi.onAfterOpen,function(ae){d(ae.detail)}),m&&W&&W.current&&W.current.addEventListener(Yi.onSlideItemLoad,function(ae){m(ae.detail)}),v&&W&&W.current&&W.current.addEventListener(Yi.onBeforeSlide,function(ae){v(ae.detail)}),b&&W&&W.current&&W.current.addEventListener(Yi.onAfterSlide,function(ae){b(ae.detail)}),_&&W&&W.current&&W.current.addEventListener(Yi.onPosterClick,function(ae){_(ae.detail)}),S&&W&&W.current&&W.current.addEventListener(Yi.onDragStart,function(ae){S(ae.detail)}),M&&W&&W.current&&W.current.addEventListener(Yi.onDragMove,function(ae){M(ae.detail)}),T&&W&&W.current&&W.current.addEventListener(Yi.onDragEnd,function(ae){T(ae.detail)}),E&&W&&W.current&&W.current.addEventListener(Yi.onBeforeNextSlide,function(ae){E(ae.detail)}),A&&W&&W.current&&W.current.addEventListener(Yi.onBeforePrevSlide,function(ae){A(ae.detail)}),P&&W&&W.current&&W.current.addEventListener(Yi.onBeforeClose,function(ae){P(ae.detail)}),N&&W&&W.current&&W.current.addEventListener(Yi.onAfterClose,function(ae){N(ae.detail)}),D&&W&&W.current&&W.current.addEventListener(Yi.onRotateLeft,function(ae){D(ae.detail)}),k&&W&&W.current&&W.current.addEventListener(Yi.onRotateRight,function(ae){k(ae.detail)}),q&&W&&W.current&&W.current.addEventListener(Yi.onFlipHorizontal,function(ae){q(ae.detail)}),X&&W&&W.current&&W.current.addEventListener(Yi.onFlipVertical,function(ae){X(ae.detail)})},[r,l,N,D,k,q,X,d,b,P,E,u,A,v,a,T,M,S,s,n,_,m]);return se.useEffect(function(){be();var ae=tPe(W.current,re);return function(){ae.destroy()}},[be,re]),se.createElement("div",{className:"lg-react-element "+(i||""),ref:W},t)};/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sf=function(){return sf=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},sf.apply(this,arguments)},rPe={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},S1={hasVideo:"lgHasVideo",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick"},u9=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},nPe=function(e){var t=e.slice(1).split("&").map(function(i){return i.split("=")}).reduce(function(i,r){var n=r.map(decodeURIComponent),s=n[0],a=n[1];return i[s]=a,i},{});return t},sPe=function(e,t){if(!e.youtube)return"";var i=e.youtube[2]?nPe(e.youtube[2]):"",r={wmode:"opaque",autoplay:0,mute:1,enablejsapi:1},n=t||{},s=sf(sf(sf({},r),n),i),a="?"+u9(s);return a},aPe=function(e){return e.includes("youtube-nocookie.com")},oPe=function(e,t){if(!t||!t.vimeo)return"";var i=t.vimeo[2]||"",r=Object.assign({},{autoplay:0,muted:1},e),n=r&&Object.keys(r).length!==0?u9(r):"",s=t.vimeo[0].split("/").pop()||"",a=s.split("?")[0]||"",l=a.split("#")[0],u=t.vimeo[1]!==l;u&&(i=i.replace("/"+l,"")),i=i[0]=="?"?"&"+i.slice(1):i||"";var d=u?"h="+l:"";n=d?"&"+n:n;var m="?"+d+n+i;return m},lPe=function(){function e(t){return this.core=t,this.settings=sf(sf({},rPe),this.core.settings),this}return e.prototype.init=function(){var t=this;this.core.LGel.on(S1.hasVideo+".video",this.onHasVideo.bind(this)),this.core.LGel.on(S1.posterClick+".video",function(){var i=t.core.getSlideItem(t.core.index);t.loadVideoOnPosterClick(i)}),this.core.LGel.on(S1.slideItemLoad+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(S1.beforeSlide+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(S1.afterSlide+".video",this.onAfterSlide.bind(this))},e.prototype.onSlideItemLoad=function(t){var i=this,r=t.detail,n=r.isFirstSlide,s=r.index;this.settings.autoplayFirstVideo&&n&&s===this.core.index&&setTimeout(function(){i.loadAndPlayVideo(s)},200),!n&&this.settings.autoplayVideoOnSlide&&s===this.core.index&&this.loadAndPlayVideo(s)},e.prototype.onHasVideo=function(t){var i=t.detail,r=i.index,n=i.src,s=i.html5Video,a=i.hasPoster;a||(this.appendVideos(this.core.getSlideItem(r),{src:n,addClass:"lg-object",index:r,html5Video:s}),this.gotoNextSlideOnVideoEnd(n,r))},e.prototype.onBeforeSlide=function(t){if(this.core.lGalleryOn){var i=t.detail.prevIndex;this.pauseVideo(i)}},e.prototype.onAfterSlide=function(t){var i=this,r=t.detail,n=r.index,s=r.prevIndex,a=this.core.getSlideItem(n);this.settings.autoplayVideoOnSlide&&n!==s&&a.hasClass("lg-complete")&&setTimeout(function(){i.loadAndPlayVideo(n)},100)},e.prototype.loadAndPlayVideo=function(t){var i=this.core.getSlideItem(t),r=this.core.galleryItems[t];r.poster?this.loadVideoOnPosterClick(i,!0):this.playVideo(t)},e.prototype.playVideo=function(t){this.controlVideo(t,"play")},e.prototype.pauseVideo=function(t){this.controlVideo(t,"pause")},e.prototype.getVideoHtml=function(t,i,r,n){var s="",a=this.core.galleryItems[r].__slideVideoInfo||{},l=this.core.galleryItems[r],u=l.title||l.alt;u=u?'title="'+u+'"':"";var d=`allowtransparency="true"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            mozallowfullscreen
            webkitallowfullscreen
            oallowfullscreen
            msallowfullscreen`;if(a.youtube){var m="lg-youtube"+r,v=sPe(a,this.settings.youTubePlayerParams),b=aPe(t),_=b?"//www.youtube-nocookie.com/":"//www.youtube.com/";s='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-youtube '+i+'" '+u+' src="'+_+"embed/"+(a.youtube[1]+v)+'" '+d+"></iframe>"}else if(a.vimeo){var m="lg-vimeo"+r,S=oPe(this.settings.vimeoPlayerParams,a);s='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-vimeo '+i+'" '+u+' src="//player.vimeo.com/video/'+(a.vimeo[1]+S)+'" '+d+"></iframe>"}else if(a.wistia){var M="lg-wistia"+r,S=u9(this.settings.wistiaPlayerParams);S=S?"?"+S:"",s='<iframe allow="autoplay" id="'+M+'" src="//fast.wistia.net/embed/iframe/'+(a.wistia[4]+S)+'" '+u+' class="wistia_embed lg-video-object lg-wistia '+i+'" name="wistia_embed" '+d+"></iframe>"}else if(a.html5){for(var T="",E=0;E<n.source.length;E++){var A=n.source[E].type,P=A?'type="'+A+'"':"";T+='<source src="'+n.source[E].src+'" '+P+">"}if(n.tracks)for(var N=function(q){var X="",re=n.tracks[q];Object.keys(re||{}).forEach(function(W){X+=W+'="'+re[W]+'" '}),T+="<track "+X+">"},E=0;E<n.tracks.length;E++)N(E);var D="",k=n.attributes||{};Object.keys(k||{}).forEach(function(q){D+=q+'="'+k[q]+'" '}),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+D+`>
                `+T+`
                Your browser does not support HTML5 video.
            </video>`}return s},e.prototype.appendVideos=function(t,i){var r,n=this.getVideoHtml(i.src,i.addClass,i.index,i.html5Video);t.find(".lg-video-cont").append(n);var s=t.find(".lg-video-object").first();if(i.html5Video&&s.on("mousedown.lg.video",function(a){a.stopPropagation()}),this.settings.videojs&&(!((r=this.core.galleryItems[i.index].__slideVideoInfo)===null||r===void 0)&&r.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch{console.error("lightGallery:- Make sure you have included videojs")}},e.prototype.gotoNextSlideOnVideoEnd=function(t,i){var r=this,n=this.core.getSlideItem(i).find(".lg-video-object").first(),s=this.core.galleryItems[i].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd){if(s.html5)n.on("ended",function(){r.core.goToNextSlide()});else if(s.vimeo)try{new Vimeo.Player(n.get()).on("ended",function(){r.core.goToNextSlide()})}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:n.attr("id"),onReady:function(a){a.bind("end",function(){r.core.goToNextSlide()})}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},e.prototype.controlVideo=function(t,i){var r=this.core.getSlideItem(t).find(".lg-video-object").first(),n=this.core.galleryItems[t].__slideVideoInfo||{};if(r.get()){if(n.youtube)try{r.get().contentWindow.postMessage('{"event":"command","func":"'+i+'Video","args":""}',"*")}catch(s){console.error("lightGallery:- "+s)}else if(n.vimeo)try{new Vimeo.Player(r.get())[i]()}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(n.html5)if(this.settings.videojs)try{videojs(r.get())[i]()}catch{console.error("lightGallery:- Make sure you have included videojs")}else r.get()[i]();else if(n.wistia)try{window._wq=window._wq||[],window._wq.push({id:r.attr("id"),onReady:function(s){s[i]()}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},e.prototype.loadVideoOnPosterClick=function(t,i){var r=this;if(t.hasClass("lg-video-loaded"))i&&this.playVideo(this.core.index);else if(t.hasClass("lg-has-video"))this.playVideo(this.core.index);else{t.addClass("lg-has-video");var n=void 0,s=this.core.galleryItems[this.core.index].src,a=this.core.galleryItems[this.core.index].video;a&&(n=typeof a=="string"?JSON.parse(a):a);var l=this.appendVideos(t,{src:s,addClass:"",index:this.core.index,html5Video:n});this.gotoNextSlideOnVideoEnd(s,this.core.index);var u=t.find(".lg-object").first().get();t.find(".lg-video-cont").first().append(u),t.addClass("lg-video-loading"),l&&l.ready(function(){l.on("loadedmetadata",function(){r.onVideoLoadAfterPosterClick(t,r.core.index)})}),t.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){r.onVideoLoadAfterPosterClick(t,r.core.index)},50)})}},e.prototype.onVideoLoadAfterPosterClick=function(t,i){t.addClass("lg-video-loaded"),this.playVideo(i)},e.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},e}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zx=function(){return zx=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},zx.apply(this,arguments)},uPe={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},x1={containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",beforeOpen:"lgBeforeOpen",beforeSlide:"lgBeforeSlide"},cPe=function(){function e(t,i){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=t,this.$LG=i,this}return e.prototype.init=function(){this.settings=zx(zx({},uPe),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},e.prototype.build=function(){var t=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(i){var r=t.$LG(i.target);r.hasAttribute("data-lg-item-id")&&setTimeout(function(){if(t.thumbClickable&&!t.core.lgBusy){var n=parseInt(r.attr("data-lg-item-id"));t.core.slide(n,!1,!0,!1)}},50)}),this.core.LGel.on(x1.beforeSlide+".thumb",function(i){var r=i.detail.index;t.animateThumb(r)}),this.core.LGel.on(x1.beforeOpen+".thumb",function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth}),this.core.LGel.on(x1.updateSlides+".thumb",function(){t.rebuildThumbnails()}),this.core.LGel.on(x1.containerResize+".thumb",function(){t.core.lgOpened&&setTimeout(function(){t.thumbOuterWidth=t.core.outer.get().offsetWidth,t.animateThumb(t.core.index),t.thumbOuterWidth=t.core.outer.get().offsetWidth},50)})},e.prototype.setThumbMarkup=function(){var t="lg-thumb-outer ";this.settings.alignThumbnails&&(t+="lg-thumb-align-"+this.settings.alignThumbnails);var i='<div class="'+t+`">
        <div class="lg-thumb lg-group">
        </div>
        </div>`;this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(i):this.core.outer.append(i),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},e.prototype.enableThumbDrag=function(){var t=this,i={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},r=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(n){t.thumbTotalWidth>t.thumbOuterWidth&&(n.preventDefault(),i.cords.startX=n.pageX,i.startTime=new Date,t.thumbClickable=!1,r=!0,t.core.outer.get().scrollLeft+=1,t.core.outer.get().scrollLeft-=1,t.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(n){t.core.lgOpened&&r&&(i.cords.endX=n.pageX,i=t.onThumbTouchMove(i))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){t.core.lgOpened&&(i.isMoved?i=t.onThumbTouchEnd(i):t.thumbClickable=!0,r&&(r=!1,t.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")))})},e.prototype.enableThumbSwipe=function(){var t=this,i={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(r){t.thumbTotalWidth>t.thumbOuterWidth&&(r.preventDefault(),i.cords.startX=r.targetTouches[0].pageX,t.thumbClickable=!1,i.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(r){t.thumbTotalWidth>t.thumbOuterWidth&&(r.preventDefault(),i.cords.endX=r.targetTouches[0].pageX,i=t.onThumbTouchMove(i))}),this.$lgThumb.on("touchend.lg",function(){i.isMoved?i=t.onThumbTouchEnd(i):t.thumbClickable=!0})},e.prototype.rebuildThumbnails=function(){var t=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){t.thumbTotalWidth=t.core.galleryItems.length*(t.settings.thumbWidth+t.settings.thumbMargin),t.$lgThumb.css("width",t.thumbTotalWidth+"px"),t.$lgThumb.empty(),t.setThumbItemHtml(t.core.galleryItems),t.animateThumb(t.core.index)},50),setTimeout(function(){t.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},e.prototype.setTranslate=function(t){this.$lgThumb.css("transform","translate3d(-"+t+"px, 0px, 0px)")},e.prototype.getPossibleTransformX=function(t){return t>this.thumbTotalWidth-this.thumbOuterWidth&&(t=this.thumbTotalWidth-this.thumbOuterWidth),t<0&&(t=0),t},e.prototype.animateThumb=function(t){if(this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms"),this.settings.animateThumb){var i=0;switch(this.settings.currentPagerPosition){case"left":i=0;break;case"middle":i=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":i=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*t-1-i,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},e.prototype.onThumbTouchMove=function(t){return t.newTranslateX=this.translateX,t.isMoved=!0,t.touchMoveTime=new Date().valueOf(),t.newTranslateX-=t.cords.endX-t.cords.startX,t.newTranslateX=this.getPossibleTransformX(t.newTranslateX),this.setTranslate(t.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),t},e.prototype.onThumbTouchEnd=function(t){t.isMoved=!1,t.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var i=t.endTime.valueOf()-t.startTime.valueOf(),r=t.cords.endX-t.cords.startX,n=Math.abs(r)/i;return n>.15&&t.endTime.valueOf()-t.touchMoveTime<30?(n+=1,n>2&&(n+=1),n=n+n*(Math.abs(r)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(n-1,2)+"settings"),r=r*n,this.translateX=this.getPossibleTransformX(this.translateX-r),this.setTranslate(this.translateX)):this.translateX=t.newTranslateX,Math.abs(t.cords.endX-t.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),t},e.prototype.getThumbHtml=function(t,i,r){var n=this.core.galleryItems[i].__slideVideoInfo||{},s;n.youtube&&this.settings.loadYouTubeThumbnail?s="//img.youtube.com/vi/"+n.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":s=t;var a=document.createElement("div");a.setAttribute("data-lg-item-id",i+""),a.className="lg-thumb-item "+(i===this.core.index?"active":""),a.style.cssText="width: "+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+"; margin-right: "+this.settings.thumbMargin+"px;";var l=document.createElement("img");return l.alt=r||"",l.setAttribute("data-lg-item-id",i+""),l.src=s,a.appendChild(l),a},e.prototype.setThumbItemHtml=function(t){for(var i=0;i<t.length;i++){var r=this.getThumbHtml(t[i].thumb,i,t[i].alt);this.$lgThumb.append(r)}},e.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},e.prototype.manageActiveClassOnSlideChange=function(){var t=this;this.core.LGel.on(x1.beforeSlide+".thumb",function(i){var r=t.core.outer.find(".lg-thumb-item"),n=i.detail.index;r.removeClass("active"),r.eq(n).addClass("active")})},e.prototype.toggleThumbBar=function(){var t=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){t.core.outer.toggleClass("lg-components-open")}))},e.prototype.thumbKeyPress=function(){var t=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(i){!t.core.lgOpened||!t.settings.toggleThumb||(i.keyCode===38?(i.preventDefault(),t.core.outer.addClass("lg-components-open")):i.keyCode===40&&(i.preventDefault(),t.core.outer.removeClass("lg-components-open")))})},e.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},e}();/*!
 * lightgallery | 2.9.0-beta.1 | June 15th 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ux=function(){return Ux=Object.assign||function(t){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Ux.apply(this,arguments)},hPe={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},lu={containerResize:"lgContainerResize",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",afterSlide:"lgAfterSlide",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical"},eI=500,dPe=function(){function e(t,i){return this.core=t,this.$LG=i,this.settings=Ux(Ux({},hPe),this.core.settings),this}return e.prototype.buildTemplates=function(){var t=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(t+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(t)},e.prototype.enableZoom=function(t){var i=this,r=this.settings.enableZoomAfter+t.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&t.detail.delay?r=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){i.isImageSlide(i.core.index)&&(i.core.getSlideItem(t.detail.index).addClass("lg-zoomable"),t.detail.index===i.core.index&&i.setZoomEssentials())},r+30)},e.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(lu.slideItemLoad+".zoom",this.enableZoom.bind(this))},e.prototype.getDragCords=function(t){return{x:t.pageX,y:t.pageY}},e.prototype.getSwipeCords=function(t){var i=t.touches[0].pageX,r=t.touches[0].pageY;return{x:i,y:r}},e.prototype.getDragAllowedAxises=function(t,i){if(!this.containerRect)return{allowX:!1,allowY:!1};var r=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),n=0,s=0,a=r.getBoundingClientRect();t?(n=r.offsetHeight*t,s=r.offsetWidth*t):i?(n=a.height+i*a.height,s=a.width+i*a.width):(n=a.height,s=a.width);var l=n>this.containerRect.height,u=s>this.containerRect.width;return{allowX:u,allowY:l}},e.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},e.prototype.zoomImage=function(t,i,r,n){if(!(!this.containerRect||Math.abs(i)<=0)){var s=this.containerRect.width/2+this.containerRect.left,a=this.containerRect.height/2+this.containerRect.top+this.scrollTop,l,u;t===1&&(this.positionChanged=!1);var d=this.getDragAllowedAxises(0,i),m=d.allowY,v=d.allowX;this.positionChanged&&(l=this.left/(this.scale-i),u=this.top/(this.scale-i),this.pageX=s-l,this.pageY=a-u,this.positionChanged=!1);var b=this.getPossibleSwipeDragCords(i),_,S,M=s-this.pageX,T=a-this.pageY;if(t-i>1){var E=(t-i)/Math.abs(i);M=(i<0?-M:M)+this.left*(E+(i<0?-1:1)),T=(i<0?-T:T)+this.top*(E+(i<0?-1:1)),_=M/E,S=T/E}else{var E=(t-i)*i;_=M*E,S=T*E}r&&(v?this.isBeyondPossibleLeft(_,b.minX)?_=b.minX:this.isBeyondPossibleRight(_,b.maxX)&&(_=b.maxX):t>1&&(_<b.minX?_=b.minX:_>b.maxX&&(_=b.maxX)),m?this.isBeyondPossibleTop(S,b.minY)?S=b.minY:this.isBeyondPossibleBottom(S,b.maxY)&&(S=b.maxY):t>1&&(S<b.minY?S=b.minY:S>b.maxY&&(S=b.maxY))),this.setZoomStyles({x:_,y:S,scale:t}),this.left=_,this.top=S,n&&this.setZoomImageSize()}},e.prototype.resetImageTranslate=function(t){if(this.isImageSlide(t)){var i=this.core.getSlideItem(t).find(".lg-image").first();this.imageReset=!1,i.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),i.css("width","auto").css("height","auto"),setTimeout(function(){i.removeClass("no-transition")},10)}},e.prototype.setZoomImageSize=function(){var t=this,i=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var r=t.getCurrentImageActualSizeScale();t.scale>=r&&(i.addClass("no-transition"),t.imageReset=!0)},eI),setTimeout(function(){var r=t.getCurrentImageActualSizeScale();if(t.scale>=r){var n=t.getDragAllowedAxises(t.scale);i.css("width",i.get().naturalWidth+"px").css("height",i.get().naturalHeight+"px"),t.core.outer.addClass("lg-actual-size"),n.allowX&&n.allowY?i.addClass("reset-transition"):n.allowX&&!n.allowY?i.addClass("reset-transition-x"):!n.allowX&&n.allowY&&i.addClass("reset-transition-y")}},eI+50)},e.prototype.setZoomStyles=function(t){var i=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),r=this.core.getSlideItem(this.core.index).find(".lg-image").first(),n=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=t.scale,r.css("transform","scale3d("+t.scale+", "+t.scale+", 1)"),n.css("transform","scale3d("+t.scale+", "+t.scale+", 1)");var s="translate3d("+t.x+"px, "+t.y+"px, 0)";i.css("transform",s)},e.prototype.setActualSize=function(t,i){var r=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var n=this.core.galleryItems[this.core.index];this.resetImageTranslate(t),setTimeout(function(){if(!(!n.src||r.core.outer.hasClass("lg-first-slide-loading"))){var s=r.getCurrentImageActualSizeScale(),a=r.scale;r.core.outer.hasClass("lg-zoomed")?r.scale=1:r.scale=r.getScale(s),r.setPageCords(i),r.beginZoom(r.scale),r.zoomImage(r.scale,r.scale-a,!0,!0)}},50),setTimeout(function(){r.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){r.zoomInProgress=!1},eI+110)}},e.prototype.getNaturalWidth=function(t){var i=this.core.getSlideItem(t).find(".lg-image").first(),r=this.core.galleryItems[t].width;return r?parseFloat(r):i.get().naturalWidth},e.prototype.getActualSizeScale=function(t,i){var r,n;return t>=i?(r=t/i,n=r||2):n=1,n},e.prototype.getCurrentImageActualSizeScale=function(){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=t.get().offsetWidth,r=this.getNaturalWidth(this.core.index)||i;return this.getActualSizeScale(r,i)},e.prototype.getPageCords=function(t){var i={};if(t)i.x=t.pageX||t.touches[0].pageX,i.y=t.pageY||t.touches[0].pageY;else{var r=this.core.$content.get().getBoundingClientRect();i.x=r.width/2+r.left,i.y=r.height/2+this.scrollTop+r.top}return i},e.prototype.setPageCords=function(t){var i=this.getPageCords(t);this.pageX=i.x,this.pageY=i.y},e.prototype.manageActualPixelClassNames=function(){var t=this.core.getElementById("lg-actual-size");t.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},e.prototype.beginZoom=function(t){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),t>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),t>1},e.prototype.getScale=function(t){var i=this.getCurrentImageActualSizeScale();return t<1?t=1:t>i&&(t=i),t},e.prototype.init=function(){var t=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var i=null;this.core.outer.on("dblclick.lg",function(r){t.$LG(r.target).hasClass("lg-image")&&t.setActualSize(t.core.index,r)}),this.core.outer.on("touchstart.lg",function(r){var n=t.$LG(r.target);r.touches.length===1&&n.hasClass("lg-image")&&(i?(clearTimeout(i),i=null,r.preventDefault(),t.setActualSize(t.core.index,r)):i=setTimeout(function(){i=null},300))}),this.core.LGel.on(lu.containerResize+".zoom "+lu.rotateRight+".zoom "+lu.rotateLeft+".zoom "+lu.flipHorizontal+".zoom "+lu.flipVertical+".zoom",function(){if(!(!t.core.lgOpened||!t.isImageSlide(t.core.index)||t.core.touchAction)){var r=t.core.getSlideItem(t.core.index).find(".lg-img-wrap").first();t.top=0,t.left=0,t.setZoomEssentials(),t.setZoomSwipeStyles(r,{x:0,y:0}),t.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){t.core.lgOpened&&(t.scrollTop=t.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(t.isImageSlide(t.core.index)){var r=0;t.imageReset&&(t.resetImageTranslate(t.core.index),r=50),setTimeout(function(){var n=t.scale-t.settings.scale;n<1&&(n=1),t.beginZoom(n),t.zoomImage(n,-t.settings.scale,!0,!t.settings.infiniteZoom)},r)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){t.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){t.setActualSize(t.core.index)}),this.core.LGel.on(lu.beforeOpen+".zoom",function(){t.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(lu.afterOpen+".zoom",function(){t.scrollTop=t.$LG(window).scrollTop(),t.pageX=t.core.outer.width()/2,t.pageY=t.core.outer.height()/2+t.scrollTop,t.scale=1}),this.core.LGel.on(lu.afterSlide+".zoom",function(r){var n=r.detail.prevIndex;t.scale=1,t.positionChanged=!1,t.zoomInProgress=!1,t.resetZoom(n),t.resetImageTranslate(n),t.isImageSlide(t.core.index)&&t.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},e.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var t=this.scale+this.settings.scale;this.settings.infiniteZoom||(t=this.getScale(t)),this.beginZoom(t),this.zoomImage(t,Math.min(this.settings.scale,t-this.scale),!0,!this.settings.infiniteZoom)}},e.prototype.resetZoom=function(t){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var i=this.core.getElementById("lg-actual-size"),r=this.core.getSlideItem(t!==void 0?t:this.core.index);i.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),r.find(".lg-img-wrap").first().removeAttr("style"),r.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},e.prototype.getTouchDistance=function(t){return Math.sqrt((t.touches[0].pageX-t.touches[1].pageX)*(t.touches[0].pageX-t.touches[1].pageX)+(t.touches[0].pageY-t.touches[1].pageY)*(t.touches[0].pageY-t.touches[1].pageY))},e.prototype.pinchZoom=function(){var t=this,i=0,r=!1,n=1,s=0,a=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(l){if(a=t.core.getSlideItem(t.core.index),!!t.isImageSlide(t.core.index)&&l.touches.length===2){if(l.preventDefault(),t.core.outer.hasClass("lg-first-slide-loading"))return;n=t.scale||1,t.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),t.setPageCords(l),t.resetImageTranslate(t.core.index),t.core.touchAction="pinch",i=t.getTouchDistance(l)}}),this.core.$inner.on("touchmove.lg",function(l){if(l.touches.length===2&&t.core.touchAction==="pinch"&&(t.$LG(l.target).hasClass("lg-item")||a.get().contains(l.target))){l.preventDefault();var u=t.getTouchDistance(l),d=i-u;if(!r&&Math.abs(d)>5&&(r=!0),r){s=t.scale;var m=Math.max(1,n+-d*.02);t.scale=Math.round((m+Number.EPSILON)*100)/100;var v=t.scale-s;t.zoomImage(t.scale,Math.round((v+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(l){if(t.core.touchAction==="pinch"&&(t.$LG(l.target).hasClass("lg-item")||a.get().contains(l.target))){if(r=!1,i=0,t.scale<=1)t.resetZoom();else{var u=t.getCurrentImageActualSizeScale();if(t.scale>=u){var d=u-t.scale;d===0&&(d=.01),t.zoomImage(u,d,!1,!0)}t.manageActualPixelClassNames(),t.core.outer.addClass("lg-zoomed")}t.core.touchAction=void 0}})},e.prototype.touchendZoom=function(t,i,r,n,s){var a=i.x-t.x,l=i.y-t.y,u=Math.abs(a)/s+1,d=Math.abs(l)/s+1;u>2&&(u+=1),d>2&&(d+=1),a=a*u,l=l*d;var m=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v={};v.x=this.left+a,v.y=this.top+l;var b=this.getPossibleSwipeDragCords();(Math.abs(a)>15||Math.abs(l)>15)&&(n&&(this.isBeyondPossibleTop(v.y,b.minY)?v.y=b.minY:this.isBeyondPossibleBottom(v.y,b.maxY)&&(v.y=b.maxY)),r&&(this.isBeyondPossibleLeft(v.x,b.minX)?v.x=b.minX:this.isBeyondPossibleRight(v.x,b.maxX)&&(v.x=b.maxX)),n?this.top=v.y:v.y=this.top,r?this.left=v.x:v.x=this.left,this.setZoomSwipeStyles(m,v),this.positionChanged=!0)},e.prototype.getZoomSwipeCords=function(t,i,r,n,s){var a={};if(n){if(a.y=this.top+(i.y-t.y),this.isBeyondPossibleTop(a.y,s.minY)){var l=s.minY-a.y;a.y=s.minY-l/6}else if(this.isBeyondPossibleBottom(a.y,s.maxY)){var u=a.y-s.maxY;a.y=s.maxY+u/6}}else a.y=this.top;if(r){if(a.x=this.left+(i.x-t.x),this.isBeyondPossibleLeft(a.x,s.minX)){var d=s.minX-a.x;a.x=s.minX-d/6}else if(this.isBeyondPossibleRight(a.x,s.maxX)){var m=a.x-s.maxX;a.x=s.maxX+m/6}}else a.x=this.left;return a},e.prototype.isBeyondPossibleLeft=function(t,i){return t>=i},e.prototype.isBeyondPossibleRight=function(t,i){return t<=i},e.prototype.isBeyondPossibleTop=function(t,i){return t>=i},e.prototype.isBeyondPossibleBottom=function(t,i){return t<=i},e.prototype.isImageSlide=function(t){var i=this.core.galleryItems[t];return this.core.getSlideType(i)==="image"},e.prototype.getPossibleSwipeDragCords=function(t){var i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.mediaContainerPosition.bottom,n=i.get().getBoundingClientRect(),s=n.height,a=n.width;t&&(s=s+t*s,a=a+t*a);var l=(s-this.containerRect.height)/2,u=(this.containerRect.height-s)/2+r,d=(a-this.containerRect.width)/2,m=(this.containerRect.width-a)/2,v={minY:l,maxY:u,minX:d,maxX:m};return v},e.prototype.setZoomSwipeStyles=function(t,i){t.css("transform","translate3d("+i.x+"px, "+i.y+"px, 0)")},e.prototype.zoomSwipe=function(){var t=this,i={},r={},n=!1,s=!1,a=!1,l=new Date,u=new Date,d,m,v=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(b){if(t.isImageSlide(t.core.index)&&(v=t.core.getSlideItem(t.core.index),(t.$LG(b.target).hasClass("lg-item")||v.get().contains(b.target))&&b.touches.length===1&&t.core.outer.hasClass("lg-zoomed"))){b.preventDefault(),l=new Date,t.core.touchAction="zoomSwipe",m=t.core.getSlideItem(t.core.index).find(".lg-img-wrap").first();var _=t.getDragAllowedAxises(0);a=_.allowY,s=_.allowX,(s||a)&&(i=t.getSwipeCords(b)),d=t.getPossibleSwipeDragCords(),t.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(b){if(b.touches.length===1&&t.core.touchAction==="zoomSwipe"&&(t.$LG(b.target).hasClass("lg-item")||v.get().contains(b.target))){b.preventDefault(),t.core.touchAction="zoomSwipe",r=t.getSwipeCords(b);var _=t.getZoomSwipeCords(i,r,s,a,d);(Math.abs(r.x-i.x)>15||Math.abs(r.y-i.y)>15)&&(n=!0,t.setZoomSwipeStyles(m,_))}}),this.core.$inner.on("touchend.lg",function(b){if(t.core.touchAction==="zoomSwipe"&&(t.$LG(b.target).hasClass("lg-item")||v.get().contains(b.target))){if(b.preventDefault(),t.core.touchAction=void 0,t.core.outer.removeClass("lg-zoom-dragging"),!n)return;n=!1,u=new Date;var _=u.valueOf()-l.valueOf();t.touchendZoom(i,r,s,a,_)}})},e.prototype.zoomDrag=function(){var t=this,i={},r={},n=!1,s=!1,a=!1,l=!1,u,d,m,v;this.core.outer.on("mousedown.lg.zoom",function(b){if(t.isImageSlide(t.core.index)){var _=t.core.getSlideItem(t.core.index);if(t.$LG(b.target).hasClass("lg-item")||_.get().contains(b.target)){u=new Date,v=t.core.getSlideItem(t.core.index).find(".lg-img-wrap").first();var S=t.getDragAllowedAxises(0);l=S.allowY,a=S.allowX,t.core.outer.hasClass("lg-zoomed")&&t.$LG(b.target).hasClass("lg-object")&&(a||l)&&(b.preventDefault(),i=t.getDragCords(b),m=t.getPossibleSwipeDragCords(),n=!0,t.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(b){if(n){s=!0,r=t.getDragCords(b);var _=t.getZoomSwipeCords(i,r,a,l,m);t.setZoomSwipeStyles(v,_)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(b){if(n){if(d=new Date,n=!1,t.core.outer.removeClass("lg-zoom-dragging"),s&&(i.x!==r.x||i.y!==r.y)){r=t.getDragCords(b);var _=d.valueOf()-u.valueOf();t.touchendZoom(i,r,a,l,_)}s=!1}t.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},e.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},e.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},e}();function pPe(){const{id:e}=vse(),t=QA.find(i=>i.id===Number(e));return t?R.jsxs("div",{className:"container my-5",children:[R.jsx(Fh,{to:"/galeri-kegiatan",className:"btn btn-outline-primary mb-4",children:" Kembali ke Galeri"}),R.jsxs("div",{className:"text-center mb-5",children:[R.jsx("h2",{className:"fw-bold",children:t.title}),R.jsx("hr",{className:"w-25 mx-auto"})]}),R.jsx(iPe,{speed:500,plugins:[lPe,cPe,dPe],selector:".gallery-item",thumbnail:!0,zoom:!0,children:R.jsx("div",{className:"row g-4",children:t.media.map((i,r)=>i.type==="image"?R.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 col-6",children:R.jsx("a",{className:"gallery-item d-block","data-src":i.src,"data-sub-html":`<h4>${t.title}</h4>`,children:R.jsx("img",{src:i.src,alt:`Media ${r+1}`,className:"img-fluid rounded shadow-sm gallery-img"})})},r):i.type==="video"?R.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 col-6",children:R.jsx("a",{className:"gallery-item d-block","data-lg-size":"1280-720","data-video":`{"source": [{"src":"${i.src}","type":"video/mp4"}], "attributes": {"preload": false, "controls": true}}`,children:R.jsx("video",{src:i.src,className:"img-fluid rounded shadow-sm gallery-img",muted:!0,loop:!0})})},r):null)})}),R.jsx("style",{children:`
          .gallery-img {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
          }
          .gallery-img:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
          }
          .lg-backdrop {
            background: rgba(0, 0, 0, 0.95) !important;
          }
          .lg-sub-html {
            text-align: center;
            font-size: 14px;
            color: #f1f1f1;
          }
          .lg-thumb-outer {
            background: #111;
          }
          .lg-thumb-item.active,
          .lg-thumb-item:hover {
            border-color: #0d6efd;
          }
        `})]}):R.jsx("p",{className:"text-center mt-5",children:"Data tidak ditemukan"})}const fPe=lae([{path:"/",element:R.jsx(Mae,{}),children:[{path:"/",element:R.jsx(Tae,{})},{path:"/bina-marga",element:R.jsx(Eae,{})},{path:"/tata-ruang",element:R.jsx(H8e,{})},{path:"/galeri-kegiatan",element:R.jsx(W8e,{})},{path:"/galeri-kegiatan/:id",element:R.jsx(pPe,{})},{path:"/dokumentasi-kegiatan",element:R.jsx(Cae,{})},{path:"/pengaduan",element:R.jsx(q8e,{})},{path:"*",element:R.jsx("h1",{className:"text-center",children:"No Pages Found"})}]}],{basename:"/"});function mPe(){return R.jsx(R.Fragment,{children:R.jsx(_ae,{router:fPe})})}cne.createRoot(document.getElementById("root")).render(R.jsx(se.StrictMode,{children:R.jsx(mPe,{})}));export{Pr as $,ce as A,h as B,wr as C,E3 as D,f as E,O as F,Ua as G,H,Ai as I,Zu as J,jge as K,zTe as L,jje as M,cg as N,Nge as O,Vke as P,Ef as Q,r_e as R,pFe as S,Kh as T,Ml as U,Ce as V,Gje as W,fFe as X,DX as Y,jX as Z,ve as _,nFe as a,Lt as a$,Wje as a0,AF as a1,vx as a2,$je as a3,lq as a4,YDe as a5,s5e as a6,mF as a7,fF as a8,pF as a9,ra as aA,ia as aB,Pje as aC,ct as aD,yF as aE,un as aF,hF as aG,ZV as aH,Bn as aI,ue as aJ,h_ as aK,Y7e as aL,WK as aM,Or as aN,Zp as aO,she as aP,J as aQ,ute as aR,Mf as aS,hA as aT,u9e as aU,Bv as aV,KR as aW,ii as aX,Lo as aY,Ys as aZ,pt as a_,dF as aa,cq as ab,Qp as ac,qR as ad,uq as ae,uj as af,RLe as ag,ghe as ah,xB as ai,OS as aj,_g as ak,q3 as al,$i as am,ps as an,pR as ao,li as ap,Xb as aq,Pl as ar,Ct as as,er as at,xOe as au,_Oe as av,SOe as aw,it as ax,qb as ay,$o as az,z as b,o2e as b$,u5 as b0,Qe as b1,r2 as b2,Xe as b3,hOe as b4,dOe as b5,ed as b6,zve as b7,J3 as b8,yOe as b9,c7e as bA,u7e as bB,h7e as bC,d7e as bD,p7e as bE,Xt as bF,i2e as bG,He as bH,Re as bI,h4e as bJ,De as bK,n2 as bL,Uve as bM,tN as bN,qI as bO,lN as bP,gme as bQ,It as bR,Tl as bS,Dke as bT,C5 as bU,wt as bV,gfe as bW,qe as bX,yf as bY,i2 as bZ,l2e as b_,qke as ba,Bb as bb,Rve as bc,vf as bd,me as be,iUe as bf,nUe as bg,rUe as bh,C$e as bi,E$e as bj,L5 as bk,We as bl,l_ as bm,mOe as bn,fOe as bo,pOe as bp,Ave as bq,Uke as br,Gke as bs,Qh as bt,UEe as bu,w2 as bv,Ks as bw,IA as bx,zle as by,l7e as bz,rFe as c,cH as c$,Yu as c0,Gi as c1,ki as c2,Ge as c3,ir as c4,Il as c5,LUe as c6,Uu as c7,Pn as c8,vi as c9,pLe as cA,OLe as cB,Wu as cC,_Y as cD,vke as cE,FFe as cF,vb as cG,cs as cH,Kr as cI,zh as cJ,sI as cK,SPe as cL,Wxe as cM,LV as cN,gQ as cO,Oee as cP,T5 as cQ,PCe as cR,JD as cS,Hfe as cT,jV as cU,cf as cV,H9e as cW,iee as cX,gs as cY,OPe as cZ,Dg as c_,Fa as ca,ad as cb,ec as cc,qu as cd,Do as ce,Ss as cf,NI as cg,Ci as ch,F3 as ci,LI as cj,jI as ck,BW as cl,KJ as cm,Ue as cn,Pb as co,Ar as cp,yx as cq,p4 as cr,Iwe as cs,gi as ct,_F as cu,wl as cv,Dt as cw,h2 as cx,s6 as cy,K7e as cz,n5 as d,o3e as d$,FIe as d0,vze as d1,dze as d2,lK as d3,Jv as d4,w6 as d5,jIe as d6,bze as d7,wze as d8,dce as d9,r2e as dA,bve as dB,zke as dC,NFe as dD,LFe as dE,kFe as dF,t2 as dG,sve as dH,SZ as dI,Pve as dJ,Hke as dK,Js as dL,Bke as dM,xZ as dN,Fle as dO,MH as dP,PR as dQ,oce as dR,Oa as dS,o5 as dT,Hn as dU,F$e as dV,i6e as dW,RJ as dX,K$e as dY,FSe as dZ,Gg as d_,PUe as da,YD as db,RUe as dc,r0e as dd,Jb as de,Va as df,ALe as dg,q7e as dh,x9e as di,sR as dj,GV as dk,mce as dl,s5 as dm,a5 as dn,NR as dp,DR as dq,fce as dr,sd as ds,l2 as dt,Sb as du,y8 as dv,QSe as dw,ike as dx,U3 as dy,ree as dz,rRe as e,vP as e$,l4 as e0,fee as e1,q$e as e2,mee as e3,pee as e4,r6e as e5,J$e as e6,D$e as e7,z$e as e8,x5 as e9,H3 as eA,qx as eB,Wx as eC,ste as eD,gAe as eE,F5 as eF,z5 as eG,y7e as eH,WFe as eI,H5 as eJ,o9e as eK,Vp as eL,Hx as eM,Wfe as eN,O0e as eO,W0e as eP,BB as eQ,Oh as eR,P0e as eS,Jfe as eT,Xfe as eU,Qfe as eV,JSe as eW,Rf as eX,Pee as eY,Cee as eZ,Aee as e_,d8 as ea,TSe as eb,MJ as ec,AJ as ed,CSe as ee,CJ as ef,$J as eg,rR as eh,nR as ei,wke as ej,Foe as ek,YPe as el,Sue as em,ug as en,CR as eo,K9e as ep,WR as eq,xJ as er,LY as es,ld as et,HSe as eu,M0e as ev,ESe as ew,IJ as ex,t3e as ey,C9e as ez,$ee as f,mR as f$,FCe as f0,DCe as f1,pi as f2,hn as f3,$n as f4,Sl as f5,Ae as f6,NCe as f7,BAe as f8,vQ as f9,zt as fA,kf as fB,N7e as fC,Mme as fD,bhe as fE,W7e as fF,bs as fG,gN as fH,Oo as fI,Zs as fJ,VAe as fK,uf as fL,Gt as fM,vPe as fN,wLe as fO,LLe as fP,of as fQ,jUe as fR,gGe as fS,DUe as fT,X6e as fU,Q6e as fV,vL as fW,tke as fX,J6e as fY,pg as fZ,tf as f_,kAe as fa,PSe as fb,OSe as fc,i3e as fd,jCe as fe,lB as ff,Z9e as fg,Kx as fh,Qb as fi,mb as fj,Ph as fk,Vn as fl,Lue as fm,t5 as fn,$R as fo,Nue as fp,Eee as fq,U9e as fr,El as fs,M3 as ft,Pg as fu,l4e as fv,jFe as fw,z3 as fx,MY as fy,_W as fz,QOe as g,M9e as g$,eoe as g0,Gh as g1,BPe as g2,j1e as g3,c2 as g4,Ske as g5,Qu as g6,xke as g7,Ey as g8,Mke as g9,id as gA,uFe as gB,Fje as gC,c4 as gD,gx as gE,km as gF,FV as gG,zV as gH,UV as gI,EPe as gJ,FAe as gK,KPe as gL,vje as gM,SUe as gN,TUe as gO,MUe as gP,vUe as gQ,$ke as gR,vRe as gS,Qze as gT,eUe as gU,FP as gV,t_e as gW,n5e as gX,uA as gY,cA as gZ,pA as g_,_l as ga,bPe as gb,wPe as gc,n7e as gd,s7e as ge,F9e as gf,Y9e as gg,oFe as gh,$b as gi,Ui as gj,jK as gk,Ee as gl,Ha as gm,jU as gn,kU as go,E7e as gp,yg as gq,GW as gr,Y8 as gs,pCe as gt,KSe as gu,rle as gv,nle as gw,Rae as gx,wUe as gy,NX as gz,Fue as h,hS as h$,XDe as h0,J_ as h1,u$ as h2,Ty as h3,l5 as h4,J7e as h5,Cf as h6,qP as h7,DAe as h8,ILe as h9,DSe as hA,NY as hB,f7e as hC,cce as hD,ime as hE,Z as hF,S0e as hG,tme as hH,M5 as hI,_Pe as hJ,W_ as hK,Oae as hL,WSe as hM,NSe as hN,Ice as hO,wce as hP,DH as hQ,JW as hR,E5 as hS,J9e as hT,bH as hU,X9e as hV,Q9e as hW,Ba as hX,zEe as hY,hf as hZ,$me as h_,yLe as ha,D7e as hb,YLe as hc,Xs as hd,iOe as he,Kfe as hf,eC as hg,Wb as hh,og as hi,ECe as hj,on as hk,kg as hl,Kb as hm,Zr as hn,qSe as ho,pN as hp,z_e as hq,$9e as hr,E_e as hs,HI as ht,OR as hu,kR as hv,Ni as hw,I9e as hx,g0e as hy,kY as hz,Bje as i,DS as i$,q9e as i0,Vze as i1,fR as i2,R1e as i3,$1e as i4,x1e as i5,UD as i6,ws as i7,gg as i8,kPe as i9,XFe as iA,KFe as iB,cFe as iC,uLe as iD,lLe as iE,fbe as iF,HH as iG,kP as iH,oze as iI,uke as iJ,cx as iK,nke as iL,Oge as iM,R4e as iN,XOe as iO,nOe as iP,eFe as iQ,zje as iR,hFe as iS,d5e as iT,d4 as iU,bF as iV,yje as iW,vF as iX,La as iY,ZJ as iZ,Au as i_,X7e as ia,xCe as ib,B6e as ic,$Ce as id,Z6e as ie,c4e as ig,ij as ih,g4e as ii,fZ as ij,d4e as ik,f4e as il,S2 as im,X5 as io,J5 as ip,E6e as iq,x2 as ir,LCe as is,Fy as it,Cue as iu,Ga as iv,ms as iw,Ox as ix,ZQ as iy,QFe as iz,Xv as j,Og as j$,xNe as j0,uJ as j1,Q8 as j2,e4 as j3,Tg as j4,P_e as j5,cJ as j6,LF as j7,cF as j8,hGe as j9,hce as jA,vce as jB,Ku as jC,RSe as jD,TJ as jE,X3 as jF,Nf as jG,USe as jH,Hr as jI,Iee as jJ,Uae as jK,Cx as jL,UCe as jM,Eze as jN,KIe as jO,Nze as jP,tH as jQ,lH as jR,Ome as jS,iQ as jT,NUe as jU,lR as jV,iy as jW,VIe as jX,BUe as jY,q6e as jZ,pl as j_,Ld as ja,Yr as jb,UPe as jc,Yh as jd,SR as je,Oue as jf,vhe as jg,qr as jh,I_e as ji,A_e as jj,lJ as jk,gPe as jl,eb as jm,h4 as jn,iJ as jo,C8 as jp,JPe as jq,Zfe as jr,qfe as js,ASe as jt,a3e as ju,l3e as jv,j_e as jw,nM as jx,Q$e as jy,FW as jz,Vxe as k,T8 as k$,tee as k0,OP as k1,rc as k2,UGe as k3,Dze as k4,HIe as k5,UQ as k6,$P as k7,Ix as k8,kCe as k9,al as kA,Whe as kB,$7e as kC,BH as kD,whe as kE,_he as kF,mQ as kG,o1e as kH,l1e as kI,uF as kJ,kDe as kK,ODe as kL,PDe as kM,RDe as kN,NDe as kO,LDe as kP,ADe as kQ,$De as kR,u2 as kS,dq as kT,jze as kU,Fze as kV,Cze as kW,Uze as kX,Wze as kY,Wp as kZ,xze as k_,ur as ka,Hze as kb,Mze as kc,Tze as kd,Ize as ke,$ze as kf,BIe as kg,Aze as kh,Rze as ki,Pze as kj,Oze as kk,kze as kl,Lze as km,a4e as kn,zoe as ko,Un as kp,VW as kq,fz as kr,e7e as ks,Kle as kt,RPe as ku,PPe as kv,APe as kw,wue as kx,Tf as ky,A4e as kz,yt as l,FZ as l$,zCe as l0,zR as l1,Yce as l2,I as l3,T3 as l4,kle as l5,zue as l6,L8 as l7,mLe as l8,dLe as l9,p6e as lA,TPe as lB,Ot as lC,r7e as lD,Vb as lE,LAe as lF,ic as lG,Lf as lH,Ie as lI,IW as lJ,qa as lK,gFe as lL,Ii as lM,HUe as lN,Rje as lO,uMe as lP,Nye as lQ,kae as lR,z9e as lS,sue as lT,e5 as lU,W9e as lV,V_ as lW,aq as lX,uhe as lY,P7e as lZ,REe as l_,ale as la,c9e as lb,rSe as lc,nSe as ld,EJ as le,$we as lf,Rn as lg,gF as lh,gje as li,Hce as lj,Xce as lk,e2 as ll,M7e as lm,Mb as ln,O_e as lo,qL as lp,IDe as lq,Hhe as lr,V7e as ls,gR as lt,g9e as lu,y9e as lv,yMe as lw,gle as lx,yle as ly,F7e as lz,WTe as m,v2 as m$,vJ as m0,t7e as m1,Noe as m2,_ke as m3,D5 as m4,O9e as m5,P9e as m6,DK as m7,LK as m8,swe as m9,Jve as mA,Fb as mB,Ake as mC,ZIe as mD,mG as mE,qh as mF,xb as mG,o4e as mH,T0e as mI,y0e as mJ,v0e as mK,I1 as mL,Nu as mM,ZZ as mN,z8 as mO,Bg as mP,Lbe as mQ,cSe as mR,QDe as mS,jPe as mT,BK as mU,aJ as mV,Ab as mW,fl as mX,B8 as mY,X6 as mZ,PK as m_,owe as ma,Bh as mb,R5e as mc,KUe as md,O5e as me,k5e as mf,_8e as mg,JUe as mh,_ze as mi,lF as mj,che as mk,R_e as ml,fs as mm,UR as mn,GR as mo,mx as mp,YH as mq,VDe as mr,UDe as ms,GDe as mt,r5e as mu,uze as mv,cze as mw,lze as mx,dJ as my,c5e as mz,aFe as n,CGe as n$,Ike as n0,Cke as n1,$f as n2,Eo as n3,J1e as n4,A9e as n5,Ame as n6,I7e as n7,C7e as n8,d2 as n9,cOe as nA,i7e as nB,Ia as nC,aZ as nD,JQ as nE,Xh as nF,hCe as nG,MCe as nH,TCe as nI,dCe as nJ,ICe as nK,P6e as nL,Y6e as nM,zm as nN,wF as nO,eMe as nP,mje as nQ,h5e as nR,TF as nS,MF as nT,k_e as nU,xl as nV,EGe as nW,WP as nX,Lx as nY,MGe as nZ,mte as n_,p2 as na,f2 as nb,h6e as nc,y6e as nd,_0e as ne,b0e as nf,w0e as ng,$_e as nh,b2 as ni,dwe as nj,T9e as nk,G9e as nl,IB as nm,hLe as nn,cLe as no,TR as np,k0e as nq,R0e as nr,jSe as ns,A0e as nt,vbe as nu,Xye as nv,kGe as nw,Awe as nx,PP as ny,QCe as nz,Aje as o,tJ as o$,TGe as o0,yRe as o1,UG as o2,Gn as o3,PA as o4,AA as o5,XGe as o6,QGe as o7,OA as o8,RA as o9,iM as oA,PQ as oB,fIe as oC,jQ as oD,Rx as oE,$Q as oF,nb as oG,Rb as oH,RGe as oI,X_e as oJ,Fp as oK,jp as oL,qGe as oM,OIe as oN,PIe as oO,ZLe as oP,KLe as oQ,JLe as oR,i5 as oS,vl as oT,BP as oU,Yp as oV,k5 as oW,u8 as oX,l9e as oY,mK as oZ,IPe as o_,Pa as oa,$Ge as ob,Fn as oc,AGe as od,wGe as oe,SGe as of,Qi as og,GG as oh,Ly as oi,N0e as oj,Y0e as ok,Zy as ol,mwe as om,dee as on,ske as oo,z0e as op,d6e as oq,m6e as or,ZFe as os,bge as ot,OZ as ou,JFe as ov,Yg as ow,EP as ox,ZCe as oy,YCe as oz,yDe as p,aje as p$,zDe as p0,RF as p1,TDe as p2,yEe as p3,ys as p4,G5 as p5,eJ as p6,rJ as p7,l_e as p8,MNe as p9,Cl as pA,gf as pB,lje as pC,WJ as pD,T7e as pE,IGe as pF,Px as pG,_Ue as pH,cje as pI,uje as pJ,xDe as pK,MDe as pL,tU as pM,Owe as pN,j5 as pO,FH as pP,g7e as pQ,Ewe as pR,ywe as pS,gwe as pT,R7e as pU,kwe as pV,VK as pW,NF as pX,tX as pY,nje as pZ,sje as p_,g_e as pa,TNe as pb,h0e as pc,dke as pd,vR as pe,pwe as pf,Rwe as pg,DC as ph,pke as pi,hx as pj,e3e as pk,ARe as pl,DA as pm,BG as pn,_f as po,y2 as pp,Pf as pq,eke as pr,GPe as ps,lte as pt,hte as pu,z7e as pv,kLe as pw,od as px,Tke as py,r$e as pz,V9e as q,bke as q$,oje as q0,HDe as q1,WDe as q2,qDe as q3,P5e as q4,Cce as q5,ju as q6,Hwe as q7,H8 as q8,ohe as q9,ta as qA,m9e as qB,WL as qC,b7e as qD,w7e as qE,Zz as qF,qze as qG,JIe as qH,zze as qI,m4 as qJ,Ije as qK,Rr as qL,K5 as qM,AUe as qN,SDe as qO,rU as qP,CCe as qQ,UFe as qR,Gze as qS,Fke as qT,Pke as qU,Lke as qV,Oke as qW,Nke as qX,kke as qY,jke as qZ,k1e as q_,A7e as qa,m7e as qb,Ib as qc,DB as qd,Fj as qe,iwe as qf,rwe as qg,UI as qh,gOe as qi,v7e as qj,o7e as qk,a7e as ql,Ece as qm,pY as qn,MK as qo,OB as qp,ple as qq,Rye as qr,cMe as qs,rke as qt,V3 as qu,Bu as qv,t2e as qw,AZ as qx,Yve as qy,Wn as qz,vDe as r,rhe as r$,Cje as r0,Bze as r1,_L as r2,Rke as r3,EUe as r4,dA as r5,oUe as r6,xUe as r7,Xze as r8,uUe as r9,dje as rA,DDe as rB,pje as rC,fje as rD,i5e as rE,o5e as rF,BDe as rG,pX as rH,lg as rI,rje as rJ,B9e as rK,L_e as rL,_7e as rM,Hae as rN,SU as rO,gU as rP,the as rQ,vU as rR,LU as rS,bU as rT,Z7e as rU,TU as rV,VU as rW,BU as rX,HU as rY,xhe as rZ,O7e as r_,aUe as ra,$$e as rb,lUe as rc,lG as rd,aG as re,oG as rf,mUe as rg,fUe as rh,gUe as ri,yUe as rj,JDe as rk,I$e as rl,eje as rm,q8 as rn,Ju as ro,R$e as rp,KDe as rq,tUe as rr,b5e as rs,ZDe as rt,OF as ru,EDe as rv,CDe as rw,tje as rx,ije as ry,hje as rz,lFe as s,pze as s$,YI as s0,qU as s1,k7e as s2,FLe as s3,T_e as s4,sUe as s5,bUe as s6,L7e as s7,CUe as s8,U7e as s9,JC as sA,$8 as sB,r3 as sC,Hve as sD,lMe as sE,Tb as sF,Cb as sG,Mg as sH,Bve as sI,LPe as sJ,Kd as sK,PAe as sL,Qve as sM,ebe as sN,P8 as sO,PD as sP,gP as sQ,EG as sR,Dee as sS,TI as sT,oOe as sU,Xxe as sV,AH as sW,B7e as sX,GFe as sY,sde as sZ,fze as s_,pUe as sa,dUe as sb,eG as sc,fU as sd,iG as se,QU as sf,EU as sg,oU as sh,aU as si,sU as sj,pU as sk,R5 as sl,cUe as sm,hUe as sn,H7e as so,dNe as sp,NK as sq,LW as sr,kB as ss,F0e as st,sme as su,_we as sv,Gve as sw,$Oe as sx,AOe as sy,QG as sz,jt as t,ybe as t$,oF as t0,Tje as t1,Mje as t2,xje as t3,$5e as t4,eX as t5,FDe as t6,jDe as t7,E5e as t8,Eje as t9,$Pe as tA,gLe as tB,j7e as tC,$Le as tD,oge as tE,uSe as tF,gJ as tG,DPe as tH,$_ as tI,_D as tJ,cke as tK,P5 as tL,hze as tM,ko as tN,lA as tO,MPe as tP,Aae as tQ,xPe as tR,vLe as tS,bje as tT,kSe as tU,SLe as tV,p0e as tW,fLe as tX,Jze as tY,Iy as tZ,NLe as t_,_De as ta,D1e as tb,kW as tc,F_e as td,Vue as te,ELe as tf,CLe as tg,K0e as th,Z0e as ti,s3e as tj,sFe as tk,dFe as tl,qFe as tm,q2e as tn,bNe as to,pIe as tp,jm as tq,IIe as tr,jLe as ts,PLe as tt,bLe as tu,xLe as tv,_Le as tw,NPe as tx,BLe as ty,VLe as tz,Uje as u,Mwe as u0,E9e as u1,uwe as u2,mbe as u3,h9e as u4,QR as u5,NGe as u6,jA as u7,h8 as u8,lke as u9,DGe as ua,jGe as ub,MLe as uc,oke as ud,_j as ue,ake as uf,G7e as ug,wj as uh,f8 as ui,tB as uj,VPe as uk,TLe as ul,C0e as um,x0e as un,FGe as uo,LGe as up,bj as uq,zGe as ur,L0e as us,MOe as ut,EOe as uu,Oje as uv,sze as uw,Sze as ux,WUe as uy,eVe as uz,xK as v,br as w,qje as x,Vi as y,Al as z};
